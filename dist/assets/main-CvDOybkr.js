(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function vw(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var rm={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function _w(){if(N_)return Ol;N_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:u}}return Ol.Fragment=e,Ol.jsx=n,Ol.jsxs=n,Ol}var D_;function Ew(){return D_||(D_=1,rm.exports=_w()),rm.exports}var C=Ew(),sm={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function Aw(){if(k_)return Ne;k_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.iterator;function T(I){return I===null||typeof I!="object"?null:(I=S&&I[S]||I["@@iterator"],typeof I=="function"?I:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,Y={};function K(I,Q,ue){this.props=I,this.context=Q,this.refs=Y,this.updater=ue||P}K.prototype.isReactComponent={},K.prototype.setState=function(I,Q){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Q,"setState")},K.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function W(){}W.prototype=K.prototype;function F(I,Q,ue){this.props=I,this.context=Q,this.refs=Y,this.updater=ue||P}var Z=F.prototype=new W;Z.constructor=F,L(Z,K.prototype),Z.isPureReactComponent=!0;var ce=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},re=Object.prototype.hasOwnProperty;function D(I,Q,ue,le,ye,we){return ue=we.ref,{$$typeof:a,type:I,key:Q,ref:ue!==void 0?ue:null,props:we}}function b(I,Q){return D(I.type,Q,void 0,void 0,void 0,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function N(I){var Q={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ue){return Q[ue]})}var x=/\/+/g;function V(I,Q){return typeof I=="object"&&I!==null&&I.key!=null?N(""+I.key):Q.toString(36)}function M(){}function Be(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(M,M):(I.status="pending",I.then(function(Q){I.status==="pending"&&(I.status="fulfilled",I.value=Q)},function(Q){I.status==="pending"&&(I.status="rejected",I.reason=Q)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ve(I,Q,ue,le,ye){var we=typeof I;(we==="undefined"||we==="boolean")&&(I=null);var fe=!1;if(I===null)fe=!0;else switch(we){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(I.$$typeof){case a:case e:fe=!0;break;case _:return fe=I._init,ve(fe(I._payload),Q,ue,le,ye)}}if(fe)return ye=ye(I),fe=le===""?"."+V(I,0):le,ce(ye)?(ue="",fe!=null&&(ue=fe.replace(x,"$&/")+"/"),ve(ye,Q,ue,"",function(rt){return rt})):ye!=null&&(R(ye)&&(ye=b(ye,ue+(ye.key==null||I&&I.key===ye.key?"":(""+ye.key).replace(x,"$&/")+"/")+fe)),Q.push(ye)),1;fe=0;var De=le===""?".":le+":";if(ce(I))for(var Le=0;Le<I.length;Le++)le=I[Le],we=De+V(le,Le),fe+=ve(le,Q,ue,we,ye);else if(Le=T(I),typeof Le=="function")for(I=Le.call(I),Le=0;!(le=I.next()).done;)le=le.value,we=De+V(le,Le++),fe+=ve(le,Q,ue,we,ye);else if(we==="object"){if(typeof I.then=="function")return ve(Be(I),Q,ue,le,ye);throw Q=String(I),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return fe}function H(I,Q,ue){if(I==null)return I;var le=[],ye=0;return ve(I,le,"","",function(we){return Q.call(ue,we,ye++)}),le}function $(I){if(I._status===-1){var Q=I._result;Q=Q(),Q.then(function(ue){(I._status===0||I._status===-1)&&(I._status=1,I._result=ue)},function(ue){(I._status===0||I._status===-1)&&(I._status=2,I._result=ue)}),I._status===-1&&(I._status=0,I._result=Q)}if(I._status===1)return I._result.default;throw I._result}var oe=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function he(){}return Ne.Children={map:H,forEach:function(I,Q,ue){H(I,function(){Q.apply(this,arguments)},ue)},count:function(I){var Q=0;return H(I,function(){Q++}),Q},toArray:function(I){return H(I,function(Q){return Q})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Ne.Component=K,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=F,Ne.StrictMode=r,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(I){return ee.H.useMemoCache(I)}},Ne.cache=function(I){return function(){return I.apply(null,arguments)}},Ne.cloneElement=function(I,Q,ue){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var le=L({},I.props),ye=I.key,we=void 0;if(Q!=null)for(fe in Q.ref!==void 0&&(we=void 0),Q.key!==void 0&&(ye=""+Q.key),Q)!re.call(Q,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&Q.ref===void 0||(le[fe]=Q[fe]);var fe=arguments.length-2;if(fe===1)le.children=ue;else if(1<fe){for(var De=Array(fe),Le=0;Le<fe;Le++)De[Le]=arguments[Le+2];le.children=De}return D(I.type,ye,void 0,void 0,we,le)},Ne.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},Ne.createElement=function(I,Q,ue){var le,ye={},we=null;if(Q!=null)for(le in Q.key!==void 0&&(we=""+Q.key),Q)re.call(Q,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ye[le]=Q[le]);var fe=arguments.length-2;if(fe===1)ye.children=ue;else if(1<fe){for(var De=Array(fe),Le=0;Le<fe;Le++)De[Le]=arguments[Le+2];ye.children=De}if(I&&I.defaultProps)for(le in fe=I.defaultProps,fe)ye[le]===void 0&&(ye[le]=fe[le]);return D(I,we,void 0,void 0,null,ye)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(I){return{$$typeof:m,render:I}},Ne.isValidElement=R,Ne.lazy=function(I){return{$$typeof:_,_payload:{_status:-1,_result:I},_init:$}},Ne.memo=function(I,Q){return{$$typeof:p,type:I,compare:Q===void 0?null:Q}},Ne.startTransition=function(I){var Q=ee.T,ue={};ee.T=ue;try{var le=I(),ye=ee.S;ye!==null&&ye(ue,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(he,oe)}catch(we){oe(we)}finally{ee.T=Q}},Ne.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Ne.use=function(I){return ee.H.use(I)},Ne.useActionState=function(I,Q,ue){return ee.H.useActionState(I,Q,ue)},Ne.useCallback=function(I,Q){return ee.H.useCallback(I,Q)},Ne.useContext=function(I){return ee.H.useContext(I)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(I,Q){return ee.H.useDeferredValue(I,Q)},Ne.useEffect=function(I,Q,ue){var le=ee.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(I,Q)},Ne.useId=function(){return ee.H.useId()},Ne.useImperativeHandle=function(I,Q,ue){return ee.H.useImperativeHandle(I,Q,ue)},Ne.useInsertionEffect=function(I,Q){return ee.H.useInsertionEffect(I,Q)},Ne.useLayoutEffect=function(I,Q){return ee.H.useLayoutEffect(I,Q)},Ne.useMemo=function(I,Q){return ee.H.useMemo(I,Q)},Ne.useOptimistic=function(I,Q){return ee.H.useOptimistic(I,Q)},Ne.useReducer=function(I,Q,ue){return ee.H.useReducer(I,Q,ue)},Ne.useRef=function(I){return ee.H.useRef(I)},Ne.useState=function(I){return ee.H.useState(I)},Ne.useSyncExternalStore=function(I,Q,ue){return ee.H.useSyncExternalStore(I,Q,ue)},Ne.useTransition=function(){return ee.H.useTransition()},Ne.version="19.1.0",Ne}var x_;function rg(){return x_||(x_=1,sm.exports=Aw()),sm.exports}var z=rg();const ii=vw(z);var om={exports:{}},Pl={},lm={exports:{}},um={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function Tw(){return L_||(L_=1,function(a){function e(H,$){var oe=H.length;H.push($);e:for(;0<oe;){var he=oe-1>>>1,I=H[he];if(0<o(I,$))H[he]=$,H[oe]=I,oe=he;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var $=H[0],oe=H.pop();if(oe!==$){H[0]=oe;e:for(var he=0,I=H.length,Q=I>>>1;he<Q;){var ue=2*(he+1)-1,le=H[ue],ye=ue+1,we=H[ye];if(0>o(le,oe))ye<I&&0>o(we,le)?(H[he]=we,H[ye]=oe,he=ye):(H[he]=le,H[ue]=oe,he=ue);else if(ye<I&&0>o(we,oe))H[he]=we,H[ye]=oe,he=ye;else break e}}return $}function o(H,$){var oe=H.sortIndex-$.sortIndex;return oe!==0?oe:H.id-$.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();a.unstable_now=function(){return d.now()-m}}var g=[],p=[],_=1,S=null,T=3,P=!1,L=!1,Y=!1,K=!1,W=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function ce(H){for(var $=n(p);$!==null;){if($.callback===null)r(p);else if($.startTime<=H)r(p),$.sortIndex=$.expirationTime,e(g,$);else break;$=n(p)}}function ee(H){if(Y=!1,ce(H),!L)if(n(g)!==null)L=!0,re||(re=!0,V());else{var $=n(p);$!==null&&ve(ee,$.startTime-H)}}var re=!1,D=-1,b=5,R=-1;function N(){return K?!0:!(a.unstable_now()-R<b)}function x(){if(K=!1,re){var H=a.unstable_now();R=H;var $=!0;try{e:{L=!1,Y&&(Y=!1,F(D),D=-1),P=!0;var oe=T;try{t:{for(ce(H),S=n(g);S!==null&&!(S.expirationTime>H&&N());){var he=S.callback;if(typeof he=="function"){S.callback=null,T=S.priorityLevel;var I=he(S.expirationTime<=H);if(H=a.unstable_now(),typeof I=="function"){S.callback=I,ce(H),$=!0;break t}S===n(g)&&r(g),ce(H)}else r(g);S=n(g)}if(S!==null)$=!0;else{var Q=n(p);Q!==null&&ve(ee,Q.startTime-H),$=!1}}break e}finally{S=null,T=oe,P=!1}$=void 0}}finally{$?V():re=!1}}}var V;if(typeof Z=="function")V=function(){Z(x)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Be=M.port2;M.port1.onmessage=x,V=function(){Be.postMessage(null)}}else V=function(){W(x,0)};function ve(H,$){D=W(function(){H(a.unstable_now())},$)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return T},a.unstable_next=function(H){switch(T){case 1:case 2:case 3:var $=3;break;default:$=T}var oe=T;T=$;try{return H()}finally{T=oe}},a.unstable_requestPaint=function(){K=!0},a.unstable_runWithPriority=function(H,$){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var oe=T;T=H;try{return $()}finally{T=oe}},a.unstable_scheduleCallback=function(H,$,oe){var he=a.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?he+oe:he):oe=he,H){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=oe+I,H={id:_++,callback:$,priorityLevel:H,startTime:oe,expirationTime:I,sortIndex:-1},oe>he?(H.sortIndex=oe,e(p,H),n(g)===null&&H===n(p)&&(Y?(F(D),D=-1):Y=!0,ve(ee,oe-he))):(H.sortIndex=I,e(g,H),L||P||(L=!0,re||(re=!0,V()))),H},a.unstable_shouldYield=N,a.unstable_wrapCallback=function(H){var $=T;return function(){var oe=T;T=$;try{return H.apply(this,arguments)}finally{T=oe}}}}(um)),um}var O_;function Sw(){return O_||(O_=1,lm.exports=Tw()),lm.exports}var cm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function bw(){if(P_)return Xt;P_=1;var a=rg();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,_){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:p,implementation:_}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(g,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,_)},Xt.flushSync=function(g){var p=d.T,_=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=p,r.p=_,r.d.f()}},Xt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},Xt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Xt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var _=p.as,S=m(_,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,P=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:T,fetchPriority:P}):_==="script"&&r.d.X(g,{crossOrigin:S,integrity:T,fetchPriority:P,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Xt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=m(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},Xt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,S=m(_,p.crossOrigin);r.d.L(g,_,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Xt.preloadModule=function(g,p){if(typeof g=="string")if(p){var _=m(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},Xt.requestFormReset=function(g){r.d.r(g)},Xt.unstable_batchedUpdates=function(g,p){return g(p)},Xt.useFormState=function(g,p,_){return d.H.useFormState(g,p,_)},Xt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xt.version="19.1.0",Xt}var V_;function ww(){if(V_)return cm.exports;V_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),cm.exports=bw(),cm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function Rw(){if(U_)return Pl;U_=1;var a=Sw(),e=rg(),n=ww();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(r(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return m(h),t;if(f===l)return m(h),i;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=h,l=f;else{for(var E=!1,A=h.child;A;){if(A===s){E=!0,s=h,l=f;break}if(A===l){E=!0,l=h,s=f;break}A=A.sibling}if(!E){for(A=f.child;A;){if(A===s){E=!0,s=f,l=h;break}if(A===l){E=!0,l=f,s=h;break}A=A.sibling}if(!E)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function Be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case K:return"Profiler";case Y:return"StrictMode";case ee:return"Suspense";case re:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case Z:return(t.displayName||"Context")+".Provider";case F:return(t._context.displayName||"Context")+".Consumer";case ce:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:Be(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return Be(t(i))}catch{}}return null}var ve=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},he=[],I=-1;function Q(t){return{current:t}}function ue(t){0>I||(t.current=he[I],he[I]=null,I--)}function le(t,i){I++,he[I]=t.current,t.current=i}var ye=Q(null),we=Q(null),fe=Q(null),De=Q(null);function Le(t,i){switch(le(fe,i),le(we,t),le(ye,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?i_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=i_(i),t=r_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ue(ye),le(ye,t)}function rt(){ue(ye),ue(we),ue(fe)}function Bt(t){t.memoizedState!==null&&le(De,t);var i=ye.current,s=r_(i,t.type);i!==s&&(le(we,t),le(ye,s))}function rn(t){we.current===t&&(ue(ye),ue(we)),De.current===t&&(ue(De),Nl._currentValue=oe)}var Gn=Object.prototype.hasOwnProperty,Kn=a.unstable_scheduleCallback,sa=a.unstable_cancelCallback,yi=a.unstable_shouldYield,ls=a.unstable_requestPaint,hn=a.unstable_now,dr=a.unstable_getCurrentPriorityLevel,Ae=a.unstable_ImmediatePriority,st=a.unstable_UserBlockingPriority,gt=a.unstable_NormalPriority,vi=a.unstable_LowPriority,sn=a.unstable_IdlePriority,Mo=a.log,Tu=a.unstable_setDisableYieldValue,dt=null,$e=null;function vn(t){if(typeof Mo=="function"&&Tu(t),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(dt,t)}catch{}}var Qt=Math.clz32?Math.clz32:fr,Su=Math.log,sd=Math.LN2;function fr(t){return t>>>=0,t===0?32:31-(Su(t)/sd|0)|0}var mr=256,gr=4194304;function Fn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function us(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~f,l!==0?h=Fn(l):(E&=A,E!==0?h=Fn(E):s||(s=A&~t,s!==0&&(h=Fn(s))))):(A=l&~f,A!==0?h=Fn(A):E!==0?h=Fn(E):s||(s=l&~t,s!==0&&(h=Fn(s)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,s=i&-i,f>=s||f===32&&(s&4194048)!==0)?i:h}function pr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function No(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Do(){var t=mr;return mr<<=1,(mr&4194048)===0&&(mr=256),t}function ko(){var t=gr;return gr<<=1,(gr&62914560)===0&&(gr=4194304),t}function ka(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function xa(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xo(t,i,s,l,h,f){var E=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var A=t.entanglements,k=t.expirationTimes,G=t.hiddenUpdates;for(s=E&~s;0<s;){var te=31-Qt(s),ae=1<<te;A[te]=0,k[te]=-1;var q=G[te];if(q!==null)for(G[te]=null,te=0;te<q.length;te++){var J=q[te];J!==null&&(J.lane&=-536870913)}s&=~ae}l!==0&&oa(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(E&~i))}function oa(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Qt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Lo(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-Qt(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function _i(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function cs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ei(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:b_(t.type))}function bu(t,i){var s=$.p;try{return $.p=t,i()}finally{$.p=s}}var ot=Math.random().toString(36).slice(2),Ct="__reactFiber$"+ot,Et="__reactProps$"+ot,Mn="__reactContainer$"+ot,Oo="__reactEvents$"+ot,od="__reactListeners$"+ot,Ai="__reactHandles$"+ot,wu="__reactResources$"+ot,yr="__reactMarker$"+ot;function Ti(t){delete t[Ct],delete t[Et],delete t[Oo],delete t[od],delete t[Ai]}function La(t){var i=t[Ct];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Mn]||s[Ct]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=u_(t);t!==null;){if(s=t[Ct])return s;t=u_(t)}return i}t=s,s=t.parentNode}return null}function la(t){if(t=t[Ct]||t[Mn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ua(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function on(t){var i=t[wu];return i||(i=t[wu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function pt(t){t[yr]=!0}var Po=new Set,hs={};function qn(t,i){Oa(t,i),Oa(t+"Capture",i)}function Oa(t,i){for(hs[t]=i,t=0;t<i.length;t++)Po.add(i[t])}var Ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cu={},vr={};function Iu(t){return Gn.call(vr,t)?!0:Gn.call(Cu,t)?!1:Ru.test(t)?vr[t]=!0:(Cu[t]=!0,!1)}function Si(t,i,s){if(Iu(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function ca(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function jt(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var _r,Mu;function Pa(t){if(_r===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);_r=i&&i[1]||"",Mu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_r+t+Mu}var ds=!1;function fs(t,i){if(!t||ds)return"";ds=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var q=J}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(J){q=J}t.call(ae.prototype)}}else{try{throw Error()}catch(J){q=J}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&q&&typeof J.stack=="string")return[J.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),E=f[0],A=f[1];if(E&&A){var k=E.split(`
`),G=A.split(`
`);for(h=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===k.length||h===G.length)for(l=k.length-1,h=G.length-1;1<=l&&0<=h&&k[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(k[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||k[l]!==G[h]){var te=`
`+k[l].replace(" at new "," at ");return t.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",t.displayName)),te}while(1<=l&&0<=h);break}}}finally{ds=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Pa(s):""}function Vo(t){switch(t.tag){case 26:case 27:case 5:return Pa(t.type);case 16:return Pa("Lazy");case 13:return Pa("Suspense");case 19:return Pa("SuspenseList");case 0:case 15:return fs(t.type,!1);case 11:return fs(t.type.render,!1);case 1:return fs(t.type,!0);case 31:return Pa("Activity");default:return""}}function ms(t){try{var i="";do i+=Vo(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ld(t){var i=Uo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,f=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,f.call(this,E)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function gs(t){t._valueTracker||(t._valueTracker=ld(t))}function zo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=Uo(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function Er(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ud=/[\n"\\]/g;function At(t){return t.replace(ud,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _n(t,i,s,l,h,f,E,A){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+ln(i)):t.value!==""+ln(i)&&(t.value=""+ln(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?bi(t,E,ln(i)):s!=null?bi(t,E,ln(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+ln(A):t.removeAttribute("name")}function Ar(t,i,s,l,h,f,E,A){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;s=s!=null?""+ln(s):"",i=i!=null?""+ln(i):s,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function bi(t,i,s){i==="number"&&Er(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Va(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+ln(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Xe(t,i,s){if(i!=null&&(i=""+ln(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+ln(s):""}function Tr(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(r(92));if(ve(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=ln(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function Nn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Sr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nu(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||Sr.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Bo(t,i,s){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Nu(t,h,l)}else for(var f in i)i.hasOwnProperty(f)&&Nu(t,f,i[f])}function jo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ps(t){return hd.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ua=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var za=null,Ba=null;function Ho(t){var i=la(t);if(i&&(t=i.stateNode)){var s=t[Et]||null;e:switch(t=i.stateNode,i.type){case"input":if(_n(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+At(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[Et]||null;if(!h)throw Error(r(90));_n(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&zo(l)}break e;case"textarea":Xe(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Va(t,!!s.multiple,i,!1)}}}var ha=!1;function Du(t,i,s){if(ha)return t(i,s);ha=!0;try{var l=t(i);return l}finally{if(ha=!1,(za!==null||Ba!==null)&&(bc(),za&&(i=za,t=Ba,Ba=za=null,Ho(i),t)))for(i=0;i<t.length;i++)Ho(t[i])}}function br(t,i){var s=t.stateNode;if(s===null)return null;var l=s[Et]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,i,typeof s));return s}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kn=!1;if(Jn)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){kn=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{kn=!1}var da=null,wi=null,ja=null;function Go(){if(ja)return ja;var t,i=wi,s=i.length,l,h="value"in da?da.value:da.textContent,f=h.length;for(t=0;t<s&&i[t]===h[t];t++);var E=s-t;for(l=1;l<=E&&i[s-l]===h[f-l];l++);return ja=h.slice(t,1<l?1-l:void 0)}function fa(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ma(){return!0}function Ko(){return!1}function Lt(t){function i(s,l,h,f,E){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=E,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(s=t[A],this[A]=s?s(f):f[A]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ma:Ko,this.isPropagationStopped=Ko,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ma)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ma)},persist:function(){},isPersistent:ma}),i}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ys=Lt(Je),Rr=_({},Je,{view:0,detail:0}),ku=Lt(Rr),vs,_s,ga,Cr=_({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ga&&(ga&&t.type==="mousemove"?(vs=t.screenX-ga.screenX,_s=t.screenY-ga.screenY):_s=vs=0,ga=t),vs)},movementY:function(t){return"movementY"in t?t.movementY:_s}}),xn=Lt(Cr),xu=_({},Cr,{dataTransfer:0}),dd=Lt(xu),Ir=_({},Rr,{relatedTarget:0}),Es=Lt(Ir),Fo=_({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),As=Lt(Fo),Lu=_({},Je,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ts=Lt(Lu),fd=_({},Je,{data:0}),qo=Lt(fd),Mr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Pu[t])?!!i[t]:!1}function Nr(){return Jo}var Vu=_({},Rr,{key:function(t){if(t.key){var i=Mr[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=fa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(t){return t.type==="keypress"?fa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ss=Lt(Vu),Uu=_({},Cr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yo=Lt(Uu),Ha=_({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr}),zu=Lt(Ha),Bu=_({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),ju=Lt(Bu),Hu=_({},Cr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bs=Lt(Hu),un=_({},Je,{newState:0,oldState:0}),Gu=Lt(un),Ku=[9,13,27,32],pa=Jn&&"CompositionEvent"in window,c=null;Jn&&"documentMode"in document&&(c=document.documentMode);var y=Jn&&"TextEvent"in window&&!c,v=Jn&&(!pa||c&&8<c&&11>=c),w=" ",B=!1;function X(t,i){switch(t){case"keyup":return Ku.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var je=!1;function It(t,i){switch(t){case"compositionend":return de(i);case"keypress":return i.which!==32?null:(B=!0,w);case"textInput":return t=i.data,t===w&&B?null:t;default:return null}}function He(t,i){if(je)return t==="compositionend"||!pa&&X(t,i)?(t=Go(),ja=wi=da=null,je=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Ot={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ot[t.type]:i==="textarea"}function Ga(t,i,s,l){za?Ba?Ba.push(l):Ba=[l]:za=l,i=Nc(i,"onChange"),0<i.length&&(s=new ys("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var Ht=null,ya=null;function $o(t){Zv(t,0)}function Fu(t){var i=ua(t);if(zo(i))return t}function Ep(t,i){if(t==="change")return i}var Ap=!1;if(Jn){var md;if(Jn){var gd="oninput"in document;if(!gd){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),gd=typeof Tp.oninput=="function"}md=gd}else md=!1;Ap=md&&(!document.documentMode||9<document.documentMode)}function Sp(){Ht&&(Ht.detachEvent("onpropertychange",bp),ya=Ht=null)}function bp(t){if(t.propertyName==="value"&&Fu(ya)){var i=[];Ga(i,ya,t,Dn(t)),Du($o,i)}}function Y0(t,i,s){t==="focusin"?(Sp(),Ht=i,ya=s,Ht.attachEvent("onpropertychange",bp)):t==="focusout"&&Sp()}function $0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(ya)}function Q0(t,i){if(t==="click")return Fu(i)}function W0(t,i){if(t==="input"||t==="change")return Fu(i)}function X0(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var En=typeof Object.is=="function"?Object.is:X0;function Qo(t,i){if(En(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Gn.call(i,h)||!En(t[h],i[h]))return!1}return!0}function wp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rp(t,i){var s=wp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=wp(s)}}function Cp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Cp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ip(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Er(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Er(t.document)}return i}function pd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Z0=Jn&&"documentMode"in document&&11>=document.documentMode,ws=null,yd=null,Wo=null,vd=!1;function Mp(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;vd||ws==null||ws!==Er(l)||(l=ws,"selectionStart"in l&&pd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wo&&Qo(Wo,l)||(Wo=l,l=Nc(yd,"onSelect"),0<l.length&&(i=new ys("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=ws)))}function Dr(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Rs={animationend:Dr("Animation","AnimationEnd"),animationiteration:Dr("Animation","AnimationIteration"),animationstart:Dr("Animation","AnimationStart"),transitionrun:Dr("Transition","TransitionRun"),transitionstart:Dr("Transition","TransitionStart"),transitioncancel:Dr("Transition","TransitionCancel"),transitionend:Dr("Transition","TransitionEnd")},_d={},Np={};Jn&&(Np=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function kr(t){if(_d[t])return _d[t];if(!Rs[t])return t;var i=Rs[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Np)return _d[t]=i[s];return t}var Dp=kr("animationend"),kp=kr("animationiteration"),xp=kr("animationstart"),eb=kr("transitionrun"),tb=kr("transitionstart"),nb=kr("transitioncancel"),Lp=kr("transitionend"),Op=new Map,Ed="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ed.push("scrollEnd");function Yn(t,i){Op.set(t,i),qn(i,[t])}var Pp=new WeakMap;function Ln(t,i){if(typeof t=="object"&&t!==null){var s=Pp.get(t);return s!==void 0?s:(i={value:t,source:i,stack:ms(i)},Pp.set(t,i),i)}return{value:t,source:i,stack:ms(i)}}var On=[],Cs=0,Ad=0;function qu(){for(var t=Cs,i=Ad=Cs=0;i<t;){var s=On[i];On[i++]=null;var l=On[i];On[i++]=null;var h=On[i];On[i++]=null;var f=On[i];if(On[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}f!==0&&Vp(s,h,f)}}function Ju(t,i,s,l){On[Cs++]=t,On[Cs++]=i,On[Cs++]=s,On[Cs++]=l,Ad|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Td(t,i,s,l){return Ju(t,i,s,l),Yu(t)}function Is(t,i){return Ju(t,null,null,i),Yu(t)}function Vp(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-Qt(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),f):null}function Yu(t){if(50<Tl)throw Tl=0,Mf=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ms={};function ab(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,i,s,l){return new ab(t,i,s,l)}function Sd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ka(t,i){var s=t.alternate;return s===null?(s=An(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Up(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function $u(t,i,s,l,h,f){var E=0;if(l=t,typeof t=="function")Sd(t)&&(E=1);else if(typeof t=="string")E=rw(t,s,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=An(31,s,i,h),t.elementType=R,t.lanes=f,t;case L:return xr(s.children,h,f,i);case Y:E=8,h|=24;break;case K:return t=An(12,s,i,h|2),t.elementType=K,t.lanes=f,t;case ee:return t=An(13,s,i,h),t.elementType=ee,t.lanes=f,t;case re:return t=An(19,s,i,h),t.elementType=re,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:case Z:E=10;break e;case F:E=9;break e;case ce:E=11;break e;case D:E=14;break e;case b:E=16,l=null;break e}E=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=An(E,s,i,h),i.elementType=t,i.type=l,i.lanes=f,i}function xr(t,i,s,l){return t=An(7,t,l,i),t.lanes=s,t}function bd(t,i,s){return t=An(6,t,null,i),t.lanes=s,t}function wd(t,i,s){return i=An(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ns=[],Ds=0,Qu=null,Wu=0,Pn=[],Vn=0,Lr=null,Fa=1,qa="";function Or(t,i){Ns[Ds++]=Wu,Ns[Ds++]=Qu,Qu=t,Wu=i}function zp(t,i,s){Pn[Vn++]=Fa,Pn[Vn++]=qa,Pn[Vn++]=Lr,Lr=t;var l=Fa;t=qa;var h=32-Qt(l)-1;l&=~(1<<h),s+=1;var f=32-Qt(i)+h;if(30<f){var E=h-h%5;f=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Fa=1<<32-Qt(i)+h|s<<h|l,qa=f+t}else Fa=1<<f|s<<h|l,qa=t}function Rd(t){t.return!==null&&(Or(t,1),zp(t,1,0))}function Cd(t){for(;t===Qu;)Qu=Ns[--Ds],Ns[Ds]=null,Wu=Ns[--Ds],Ns[Ds]=null;for(;t===Lr;)Lr=Pn[--Vn],Pn[Vn]=null,qa=Pn[--Vn],Pn[Vn]=null,Fa=Pn[--Vn],Pn[Vn]=null}var cn=null,ft=null,qe=!1,Pr=null,va=!1,Id=Error(r(519));function Vr(t){var i=Error(r(418,""));throw el(Ln(i,t)),Id}function Bp(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[Ct]=t,i[Et]=l,s){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(s=0;s<bl.length;s++)Ve(bl[s],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),Ar(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),gs(i);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),Tr(i,l.value,l.defaultValue,l.children),gs(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||a_(i.textContent,s)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=Dc),i=!0):i=!1,i||Vr(t)}function jp(t){for(cn=t.return;cn;)switch(cn.tag){case 5:case 13:va=!1;return;case 27:case 3:va=!0;return;default:cn=cn.return}}function Xo(t){if(t!==cn)return!1;if(!qe)return jp(t),qe=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Ff(t.type,t.memoizedProps)),s=!s),s&&ft&&Vr(t),jp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){ft=Qn(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}ft=null}}else i===27?(i=ft,ji(t.type)?(t=$f,$f=null,ft=t):ft=i):ft=cn?Qn(t.stateNode.nextSibling):null;return!0}function Zo(){ft=cn=null,qe=!1}function Hp(){var t=Pr;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Pr=null),t}function el(t){Pr===null?Pr=[t]:Pr.push(t)}var Md=Q(null),Ur=null,Ja=null;function Ri(t,i,s){le(Md,i._currentValue),i._currentValue=s}function Ya(t){t._currentValue=Md.current,ue(Md)}function Nd(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function Dd(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var E=h.child;f=f.firstContext;e:for(;f!==null;){var A=f;f=h;for(var k=0;k<i.length;k++)if(A.context===i[k]){f.lanes|=s,A=f.alternate,A!==null&&(A.lanes|=s),Nd(f.return,s,t),l||(E=null);break e}f=A.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(r(341));E.lanes|=s,f=E.alternate,f!==null&&(f.lanes|=s),Nd(E,s,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function tl(t,i,s,l){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var A=h.type;En(h.pendingProps.value,E.value)||(t!==null?t.push(A):t=[A])}}else if(h===De.current){if(E=h.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&Dd(i,t,s,l),i.flags|=262144}function Xu(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zr(t){Ur=t,Ja=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return Gp(Ur,t)}function Zu(t,i){return Ur===null&&zr(t),Gp(t,i)}function Gp(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Ja===null){if(t===null)throw Error(r(308));Ja=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ja=Ja.next=i;return s}var ib=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},rb=a.unstable_scheduleCallback,sb=a.unstable_NormalPriority,Nt={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kd(){return{controller:new ib,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&rb(sb,function(){t.controller.abort()})}var al=null,xd=0,ks=0,xs=null;function ob(t,i){if(al===null){var s=al=[];xd=0,ks=Pf(),xs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return xd++,i.then(Kp,Kp),i}function Kp(){if(--xd===0&&al!==null){xs!==null&&(xs.status="fulfilled");var t=al;al=null,ks=0,xs=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function lb(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Fp=H.S;H.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ob(t,i),Fp!==null&&Fp(t,i)};var Br=Q(null);function Ld(){var t=Br.current;return t!==null?t:at.pooledCache}function ec(t,i){i===null?le(Br,Br.current):le(Br,i.pool)}function qp(){var t=Ld();return t===null?null:{parent:Nt._currentValue,pool:t}}var il=Error(r(460)),Jp=Error(r(474)),tc=Error(r(542)),Od={then:function(){}};function Yp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function nc(){}function $p(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(nc,nc),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Wp(t),t;default:if(typeof i.status=="string")i.then(nc,nc);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Wp(t),t}throw rl=i,il}}var rl=null;function Qp(){if(rl===null)throw Error(r(459));var t=rl;return rl=null,t}function Wp(t){if(t===il||t===tc)throw Error(r(483))}var Ci=!1;function Pd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ii(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mi(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Yu(t),Vp(t,null,s),i}return Ju(t,l,i,s),Yu(t)}function sl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Lo(t,s)}}function Ud(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=E:f=f.next=E,s=s.next}while(s!==null);f===null?h=f=i:f=f.next=i}else h=f=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var zd=!1;function ol(){if(zd){var t=xs;if(t!==null)throw t}}function ll(t,i,s,l){zd=!1;var h=t.updateQueue;Ci=!1;var f=h.firstBaseUpdate,E=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var k=A,G=k.next;k.next=null,E===null?f=G:E.next=G,E=k;var te=t.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==E&&(A===null?te.firstBaseUpdate=G:A.next=G,te.lastBaseUpdate=k))}if(f!==null){var ae=h.baseState;E=0,te=G=k=null,A=f;do{var q=A.lane&-536870913,J=q!==A.lane;if(J?(Ge&q)===q:(l&q)===q){q!==0&&q===ks&&(zd=!0),te!==null&&(te=te.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Re=t,Te=A;q=i;var tt=s;switch(Te.tag){case 1:if(Re=Te.payload,typeof Re=="function"){ae=Re.call(tt,ae,q);break e}ae=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Te.payload,q=typeof Re=="function"?Re.call(tt,ae,q):Re,q==null)break e;ae=_({},ae,q);break e;case 2:Ci=!0}}q=A.callback,q!==null&&(t.flags|=64,J&&(t.flags|=8192),J=h.callbacks,J===null?h.callbacks=[q]:J.push(q))}else J={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(G=te=J,k=ae):te=te.next=J,E|=q;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;J=A,A=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);te===null&&(k=ae),h.baseState=k,h.firstBaseUpdate=G,h.lastBaseUpdate=te,f===null&&(h.shared.lanes=0),Vi|=E,t.lanes=E,t.memoizedState=ae}}function Xp(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Zp(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Xp(s[t],i)}var Ls=Q(null),ac=Q(0);function ey(t,i){t=ti,le(ac,t),le(Ls,i),ti=t|i.baseLanes}function Bd(){le(ac,ti),le(Ls,Ls.current)}function jd(){ti=ac.current,ue(Ls),ue(ac)}var Ni=0,ke=null,Ze=null,Tt=null,ic=!1,Os=!1,jr=!1,rc=0,ul=0,Ps=null,ub=0;function yt(){throw Error(r(321))}function Hd(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!En(t[s],i[s]))return!1;return!0}function Gd(t,i,s,l,h,f){return Ni=f,ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=t===null||t.memoizedState===null?Vy:Uy,jr=!1,f=s(l,h),jr=!1,Os&&(f=ny(i,s,l,h)),ty(t),f}function ty(t){H.H=hc;var i=Ze!==null&&Ze.next!==null;if(Ni=0,Tt=Ze=ke=null,ic=!1,ul=0,Ps=null,i)throw Error(r(300));t===null||Pt||(t=t.dependencies,t!==null&&Xu(t)&&(Pt=!0))}function ny(t,i,s,l){ke=t;var h=0;do{if(Os&&(Ps=null),ul=0,Os=!1,25<=h)throw Error(r(301));if(h+=1,Tt=Ze=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=pb,f=i(s,l)}while(Os);return f}function cb(){var t=H.H,i=t.useState()[0];return i=typeof i.then=="function"?cl(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(ke.flags|=1024),i}function Kd(){var t=rc!==0;return rc=0,t}function Fd(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function qd(t){if(ic){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ic=!1}Ni=0,Tt=Ze=ke=null,Os=!1,ul=rc=0,Ps=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?ke.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function St(){if(Ze===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=Tt===null?ke.memoizedState:Tt.next;if(i!==null)Tt=i,Ze=t;else{if(t===null)throw ke.alternate===null?Error(r(467)):Error(r(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Tt===null?ke.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Jd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var i=ul;return ul+=1,Ps===null&&(Ps=[]),t=$p(Ps,t,i),i=ke,(Tt===null?i.memoizedState:Tt.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?Vy:Uy),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===Z)return Wt(t)}throw Error(r(438,String(t)))}function Yd(t){var i=null,s=ke.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Jd(),ke.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=N;return i.index++,s}function $a(t,i){return typeof i=="function"?i(t):i}function oc(t){var i=St();return $d(i,Ze,t)}function $d(t,i,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var E=h.next;h.next=f.next,f.next=E}i.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var A=E=null,k=null,G=i,te=!1;do{var ae=G.lane&-536870913;if(ae!==G.lane?(Ge&ae)===ae:(Ni&ae)===ae){var q=G.revertLane;if(q===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ae===ks&&(te=!0);else if((Ni&q)===q){G=G.next,q===ks&&(te=!0);continue}else ae={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},k===null?(A=k=ae,E=f):k=k.next=ae,ke.lanes|=q,Vi|=q;ae=G.action,jr&&s(f,ae),f=G.hasEagerState?G.eagerState:s(f,ae)}else q={lane:ae,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},k===null?(A=k=q,E=f):k=k.next=q,ke.lanes|=ae,Vi|=ae;G=G.next}while(G!==null&&G!==i);if(k===null?E=f:k.next=A,!En(f,t.memoizedState)&&(Pt=!0,te&&(s=xs,s!==null)))throw s;t.memoizedState=f,t.baseState=E,t.baseQueue=k,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qd(t){var i=St(),s=i.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=i.memoizedState;if(h!==null){s.pending=null;var E=h=h.next;do f=t(f,E.action),E=E.next;while(E!==h);En(f,i.memoizedState)||(Pt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),s.lastRenderedState=f}return[f,l]}function ay(t,i,s){var l=ke,h=St(),f=qe;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=i();var E=!En((Ze||h).memoizedState,s);E&&(h.memoizedState=s,Pt=!0),h=h.queue;var A=sy.bind(null,l,h,t);if(hl(2048,8,A,[t]),h.getSnapshot!==i||E||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,Vs(9,lc(),ry.bind(null,l,h,s,i),null),at===null)throw Error(r(349));f||(Ni&124)!==0||iy(l,i,s)}return s}function iy(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=ke.updateQueue,i===null?(i=Jd(),ke.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function ry(t,i,s,l){i.value=s,i.getSnapshot=l,oy(i)&&ly(t)}function sy(t,i,s){return s(function(){oy(i)&&ly(t)})}function oy(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!En(t,s)}catch{return!0}}function ly(t){var i=Is(t,2);i!==null&&Rn(i,t,2)}function Wd(t){var i=dn();if(typeof t=="function"){var s=t;if(t=s(),jr){vn(!0);try{s()}finally{vn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:t},i}function uy(t,i,s,l){return t.baseState=s,$d(t,Ze,typeof l=="function"?l:$a)}function hb(t,i,s,l,h){if(cc(t))throw Error(r(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){f.listeners.push(E)}};H.T!==null?s(!0):f.isTransition=!1,l(f),s=i.pending,s===null?(f.next=i.pending=f,cy(i,f)):(f.next=s.next,i.pending=s.next=f)}}function cy(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var f=H.T,E={};H.T=E;try{var A=s(h,l),k=H.S;k!==null&&k(E,A),hy(t,i,A)}catch(G){Xd(t,i,G)}finally{H.T=f}}else try{f=s(h,l),hy(t,i,f)}catch(G){Xd(t,i,G)}}function hy(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){dy(t,i,l)},function(l){return Xd(t,i,l)}):dy(t,i,s)}function dy(t,i,s){i.status="fulfilled",i.value=s,fy(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,cy(t,s)))}function Xd(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,fy(i),i=i.next;while(i!==l)}t.action=null}function fy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function my(t,i){return i}function gy(t,i){if(qe){var s=at.formState;if(s!==null){e:{var l=ke;if(qe){if(ft){t:{for(var h=ft,f=va;h.nodeType!==8;){if(!f){h=null;break t}if(h=Qn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ft=Qn(h.nextSibling),l=h.data==="F!";break e}}Vr(l)}l=!1}l&&(i=s[0])}}return s=dn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:my,lastRenderedState:i},s.queue=l,s=Ly.bind(null,ke,l),l.dispatch=s,l=Wd(!1),f=af.bind(null,ke,!1,l.queue),l=dn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=hb.bind(null,ke,h,f,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function py(t){var i=St();return yy(i,Ze,t)}function yy(t,i,s){if(i=$d(t,i,my)[0],t=oc($a)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=cl(i)}catch(E){throw E===il?tc:E}else l=i;i=St();var h=i.queue,f=h.dispatch;return s!==i.memoizedState&&(ke.flags|=2048,Vs(9,lc(),db.bind(null,h,s),null)),[l,f,t]}function db(t,i){t.action=i}function vy(t){var i=St(),s=Ze;if(s!==null)return yy(i,s,t);St(),i=i.memoizedState,s=St();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function Vs(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=ke.updateQueue,i===null&&(i=Jd(),ke.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function lc(){return{destroy:void 0,resource:void 0}}function _y(){return St().memoizedState}function uc(t,i,s,l){var h=dn();l=l===void 0?null:l,ke.flags|=t,h.memoizedState=Vs(1|i,lc(),s,l)}function hl(t,i,s,l){var h=St();l=l===void 0?null:l;var f=h.memoizedState.inst;Ze!==null&&l!==null&&Hd(l,Ze.memoizedState.deps)?h.memoizedState=Vs(i,f,s,l):(ke.flags|=t,h.memoizedState=Vs(1|i,f,s,l))}function Ey(t,i){uc(8390656,8,t,i)}function Ay(t,i){hl(2048,8,t,i)}function Ty(t,i){return hl(4,2,t,i)}function Sy(t,i){return hl(4,4,t,i)}function by(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function wy(t,i,s){s=s!=null?s.concat([t]):null,hl(4,4,by.bind(null,i,t),s)}function Zd(){}function Ry(t,i){var s=St();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Hd(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function Cy(t,i){var s=St();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Hd(i,l[1]))return l[0];if(l=t(),jr){vn(!0);try{t()}finally{vn(!1)}}return s.memoizedState=[l,i],l}function ef(t,i,s){return s===void 0||(Ni&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=Nv(),ke.lanes|=t,Vi|=t,s)}function Iy(t,i,s,l){return En(s,i)?s:Ls.current!==null?(t=ef(t,s,l),En(t,i)||(Pt=!0),t):(Ni&42)===0?(Pt=!0,t.memoizedState=s):(t=Nv(),ke.lanes|=t,Vi|=t,i)}function My(t,i,s,l,h){var f=$.p;$.p=f!==0&&8>f?f:8;var E=H.T,A={};H.T=A,af(t,!1,i,s);try{var k=h(),G=H.S;if(G!==null&&G(A,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var te=lb(k,l);dl(t,i,te,wn(t))}else dl(t,i,l,wn(t))}catch(ae){dl(t,i,{then:function(){},status:"rejected",reason:ae},wn())}finally{$.p=f,H.T=E}}function fb(){}function tf(t,i,s,l){if(t.tag!==5)throw Error(r(476));var h=Ny(t).queue;My(t,h,i,oe,s===null?fb:function(){return Dy(t),s(l)})}function Ny(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:oe},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Dy(t){var i=Ny(t).next.queue;dl(t,i,{},wn())}function nf(){return Wt(Nl)}function ky(){return St().memoizedState}function xy(){return St().memoizedState}function mb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=wn();t=Ii(s);var l=Mi(i,t,s);l!==null&&(Rn(l,i,s),sl(l,i,s)),i={cache:kd()},t.payload=i;return}i=i.return}}function gb(t,i,s){var l=wn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},cc(t)?Oy(i,s):(s=Td(t,i,s,l),s!==null&&(Rn(s,t,l),Py(s,i,l)))}function Ly(t,i,s){var l=wn();dl(t,i,s,l)}function dl(t,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(cc(t))Oy(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var E=i.lastRenderedState,A=f(E,s);if(h.hasEagerState=!0,h.eagerState=A,En(A,E))return Ju(t,i,h,0),at===null&&qu(),!1}catch{}finally{}if(s=Td(t,i,h,l),s!==null)return Rn(s,t,l),Py(s,i,l),!0}return!1}function af(t,i,s,l){if(l={lane:2,revertLane:Pf(),action:l,hasEagerState:!1,eagerState:null,next:null},cc(t)){if(i)throw Error(r(479))}else i=Td(t,s,l,2),i!==null&&Rn(i,t,2)}function cc(t){var i=t.alternate;return t===ke||i!==null&&i===ke}function Oy(t,i){Os=ic=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Py(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Lo(t,s)}}var hc={readContext:Wt,use:sc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt},Vy={readContext:Wt,use:sc,useCallback:function(t,i){return dn().memoizedState=[t,i===void 0?null:i],t},useContext:Wt,useEffect:Ey,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,uc(4194308,4,by.bind(null,i,t),s)},useLayoutEffect:function(t,i){return uc(4194308,4,t,i)},useInsertionEffect:function(t,i){uc(4,2,t,i)},useMemo:function(t,i){var s=dn();i=i===void 0?null:i;var l=t();if(jr){vn(!0);try{t()}finally{vn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=dn();if(s!==void 0){var h=s(i);if(jr){vn(!0);try{s(i)}finally{vn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=gb.bind(null,ke,t),[l.memoizedState,t]},useRef:function(t){var i=dn();return t={current:t},i.memoizedState=t},useState:function(t){t=Wd(t);var i=t.queue,s=Ly.bind(null,ke,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Zd,useDeferredValue:function(t,i){var s=dn();return ef(s,t,i)},useTransition:function(){var t=Wd(!1);return t=My.bind(null,ke,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=ke,h=dn();if(qe){if(s===void 0)throw Error(r(407));s=s()}else{if(s=i(),at===null)throw Error(r(349));(Ge&124)!==0||iy(l,i,s)}h.memoizedState=s;var f={value:s,getSnapshot:i};return h.queue=f,Ey(sy.bind(null,l,f,t),[t]),l.flags|=2048,Vs(9,lc(),ry.bind(null,l,f,s,i),null),s},useId:function(){var t=dn(),i=at.identifierPrefix;if(qe){var s=qa,l=Fa;s=(l&~(1<<32-Qt(l)-1)).toString(32)+s,i="«"+i+"R"+s,s=rc++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=ub++,i="«"+i+"r"+s.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:nf,useFormState:gy,useActionState:gy,useOptimistic:function(t){var i=dn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=af.bind(null,ke,!0,s),s.dispatch=i,[t,i]},useMemoCache:Yd,useCacheRefresh:function(){return dn().memoizedState=mb.bind(null,ke)}},Uy={readContext:Wt,use:sc,useCallback:Ry,useContext:Wt,useEffect:Ay,useImperativeHandle:wy,useInsertionEffect:Ty,useLayoutEffect:Sy,useMemo:Cy,useReducer:oc,useRef:_y,useState:function(){return oc($a)},useDebugValue:Zd,useDeferredValue:function(t,i){var s=St();return Iy(s,Ze.memoizedState,t,i)},useTransition:function(){var t=oc($a)[0],i=St().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:ay,useId:ky,useHostTransitionStatus:nf,useFormState:py,useActionState:py,useOptimistic:function(t,i){var s=St();return uy(s,Ze,t,i)},useMemoCache:Yd,useCacheRefresh:xy},pb={readContext:Wt,use:sc,useCallback:Ry,useContext:Wt,useEffect:Ay,useImperativeHandle:wy,useInsertionEffect:Ty,useLayoutEffect:Sy,useMemo:Cy,useReducer:Qd,useRef:_y,useState:function(){return Qd($a)},useDebugValue:Zd,useDeferredValue:function(t,i){var s=St();return Ze===null?ef(s,t,i):Iy(s,Ze.memoizedState,t,i)},useTransition:function(){var t=Qd($a)[0],i=St().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:ay,useId:ky,useHostTransitionStatus:nf,useFormState:vy,useActionState:vy,useOptimistic:function(t,i){var s=St();return Ze!==null?uy(s,Ze,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Yd,useCacheRefresh:xy},Us=null,fl=0;function dc(t){var i=fl;return fl+=1,Us===null&&(Us=[]),$p(Us,t,i)}function ml(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function fc(t,i){throw i.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function zy(t){var i=t._init;return i(t._payload)}function By(t){function i(U,O){if(t){var j=U.deletions;j===null?(U.deletions=[O],U.flags|=16):j.push(O)}}function s(U,O){if(!t)return null;for(;O!==null;)i(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=Ka(U,O),U.index=0,U.sibling=null,U}function f(U,O,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<O?(U.flags|=67108866,O):j):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function E(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function A(U,O,j,ne){return O===null||O.tag!==6?(O=bd(j,U.mode,ne),O.return=U,O):(O=h(O,j),O.return=U,O)}function k(U,O,j,ne){var pe=j.type;return pe===L?te(U,O,j.props.children,ne,j.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===b&&zy(pe)===O.type)?(O=h(O,j.props),ml(O,j),O.return=U,O):(O=$u(j.type,j.key,j.props,null,U.mode,ne),ml(O,j),O.return=U,O)}function G(U,O,j,ne){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=wd(j,U.mode,ne),O.return=U,O):(O=h(O,j.children||[]),O.return=U,O)}function te(U,O,j,ne,pe){return O===null||O.tag!==7?(O=xr(j,U.mode,ne,pe),O.return=U,O):(O=h(O,j),O.return=U,O)}function ae(U,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=bd(""+O,U.mode,j),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case T:return j=$u(O.type,O.key,O.props,null,U.mode,j),ml(j,O),j.return=U,j;case P:return O=wd(O,U.mode,j),O.return=U,O;case b:var ne=O._init;return O=ne(O._payload),ae(U,O,j)}if(ve(O)||V(O))return O=xr(O,U.mode,j,null),O.return=U,O;if(typeof O.then=="function")return ae(U,dc(O),j);if(O.$$typeof===Z)return ae(U,Zu(U,O),j);fc(U,O)}return null}function q(U,O,j,ne){var pe=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return pe!==null?null:A(U,O,""+j,ne);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case T:return j.key===pe?k(U,O,j,ne):null;case P:return j.key===pe?G(U,O,j,ne):null;case b:return pe=j._init,j=pe(j._payload),q(U,O,j,ne)}if(ve(j)||V(j))return pe!==null?null:te(U,O,j,ne,null);if(typeof j.then=="function")return q(U,O,dc(j),ne);if(j.$$typeof===Z)return q(U,O,Zu(U,j),ne);fc(U,j)}return null}function J(U,O,j,ne,pe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return U=U.get(j)||null,A(O,U,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:return U=U.get(ne.key===null?j:ne.key)||null,k(O,U,ne,pe);case P:return U=U.get(ne.key===null?j:ne.key)||null,G(O,U,ne,pe);case b:var Oe=ne._init;return ne=Oe(ne._payload),J(U,O,j,ne,pe)}if(ve(ne)||V(ne))return U=U.get(j)||null,te(O,U,ne,pe,null);if(typeof ne.then=="function")return J(U,O,j,dc(ne),pe);if(ne.$$typeof===Z)return J(U,O,j,Zu(O,ne),pe);fc(O,ne)}return null}function Re(U,O,j,ne){for(var pe=null,Oe=null,_e=O,Se=O=0,Ut=null;_e!==null&&Se<j.length;Se++){_e.index>Se?(Ut=_e,_e=null):Ut=_e.sibling;var Fe=q(U,_e,j[Se],ne);if(Fe===null){_e===null&&(_e=Ut);break}t&&_e&&Fe.alternate===null&&i(U,_e),O=f(Fe,O,Se),Oe===null?pe=Fe:Oe.sibling=Fe,Oe=Fe,_e=Ut}if(Se===j.length)return s(U,_e),qe&&Or(U,Se),pe;if(_e===null){for(;Se<j.length;Se++)_e=ae(U,j[Se],ne),_e!==null&&(O=f(_e,O,Se),Oe===null?pe=_e:Oe.sibling=_e,Oe=_e);return qe&&Or(U,Se),pe}for(_e=l(_e);Se<j.length;Se++)Ut=J(_e,U,Se,j[Se],ne),Ut!==null&&(t&&Ut.alternate!==null&&_e.delete(Ut.key===null?Se:Ut.key),O=f(Ut,O,Se),Oe===null?pe=Ut:Oe.sibling=Ut,Oe=Ut);return t&&_e.forEach(function(qi){return i(U,qi)}),qe&&Or(U,Se),pe}function Te(U,O,j,ne){if(j==null)throw Error(r(151));for(var pe=null,Oe=null,_e=O,Se=O=0,Ut=null,Fe=j.next();_e!==null&&!Fe.done;Se++,Fe=j.next()){_e.index>Se?(Ut=_e,_e=null):Ut=_e.sibling;var qi=q(U,_e,Fe.value,ne);if(qi===null){_e===null&&(_e=Ut);break}t&&_e&&qi.alternate===null&&i(U,_e),O=f(qi,O,Se),Oe===null?pe=qi:Oe.sibling=qi,Oe=qi,_e=Ut}if(Fe.done)return s(U,_e),qe&&Or(U,Se),pe;if(_e===null){for(;!Fe.done;Se++,Fe=j.next())Fe=ae(U,Fe.value,ne),Fe!==null&&(O=f(Fe,O,Se),Oe===null?pe=Fe:Oe.sibling=Fe,Oe=Fe);return qe&&Or(U,Se),pe}for(_e=l(_e);!Fe.done;Se++,Fe=j.next())Fe=J(_e,U,Se,Fe.value,ne),Fe!==null&&(t&&Fe.alternate!==null&&_e.delete(Fe.key===null?Se:Fe.key),O=f(Fe,O,Se),Oe===null?pe=Fe:Oe.sibling=Fe,Oe=Fe);return t&&_e.forEach(function(yw){return i(U,yw)}),qe&&Or(U,Se),pe}function tt(U,O,j,ne){if(typeof j=="object"&&j!==null&&j.type===L&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case T:e:{for(var pe=j.key;O!==null;){if(O.key===pe){if(pe=j.type,pe===L){if(O.tag===7){s(U,O.sibling),ne=h(O,j.props.children),ne.return=U,U=ne;break e}}else if(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===b&&zy(pe)===O.type){s(U,O.sibling),ne=h(O,j.props),ml(ne,j),ne.return=U,U=ne;break e}s(U,O);break}else i(U,O);O=O.sibling}j.type===L?(ne=xr(j.props.children,U.mode,ne,j.key),ne.return=U,U=ne):(ne=$u(j.type,j.key,j.props,null,U.mode,ne),ml(ne,j),ne.return=U,U=ne)}return E(U);case P:e:{for(pe=j.key;O!==null;){if(O.key===pe)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){s(U,O.sibling),ne=h(O,j.children||[]),ne.return=U,U=ne;break e}else{s(U,O);break}else i(U,O);O=O.sibling}ne=wd(j,U.mode,ne),ne.return=U,U=ne}return E(U);case b:return pe=j._init,j=pe(j._payload),tt(U,O,j,ne)}if(ve(j))return Re(U,O,j,ne);if(V(j)){if(pe=V(j),typeof pe!="function")throw Error(r(150));return j=pe.call(j),Te(U,O,j,ne)}if(typeof j.then=="function")return tt(U,O,dc(j),ne);if(j.$$typeof===Z)return tt(U,O,Zu(U,j),ne);fc(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(s(U,O.sibling),ne=h(O,j),ne.return=U,U=ne):(s(U,O),ne=bd(j,U.mode,ne),ne.return=U,U=ne),E(U)):s(U,O)}return function(U,O,j,ne){try{fl=0;var pe=tt(U,O,j,ne);return Us=null,pe}catch(_e){if(_e===il||_e===tc)throw _e;var Oe=An(29,_e,null,U.mode);return Oe.lanes=ne,Oe.return=U,Oe}finally{}}}var zs=By(!0),jy=By(!1),Un=Q(null),_a=null;function Di(t){var i=t.alternate;le(Dt,Dt.current&1),le(Un,t),_a===null&&(i===null||Ls.current!==null||i.memoizedState!==null)&&(_a=t)}function Hy(t){if(t.tag===22){if(le(Dt,Dt.current),le(Un,t),_a===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(_a=t)}}else ki()}function ki(){le(Dt,Dt.current),le(Un,Un.current)}function Qa(t){ue(Un),_a===t&&(_a=null),ue(Dt)}var Dt=Q(0);function mc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Yf(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function rf(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:_({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var sf={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=wn(),h=Ii(l);h.payload=i,s!=null&&(h.callback=s),i=Mi(t,h,l),i!==null&&(Rn(i,t,l),sl(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=wn(),h=Ii(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Mi(t,h,l),i!==null&&(Rn(i,t,l),sl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=wn(),l=Ii(s);l.tag=2,i!=null&&(l.callback=i),i=Mi(t,l,s),i!==null&&(Rn(i,t,s),sl(i,t,s))}};function Gy(t,i,s,l,h,f,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,E):i.prototype&&i.prototype.isPureReactComponent?!Qo(s,l)||!Qo(h,f):!0}function Ky(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&sf.enqueueReplaceState(i,i.state,null)}function Hr(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=_({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var gc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Fy(t){gc(t)}function qy(t){console.error(t)}function Jy(t){gc(t)}function pc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Yy(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function of(t,i,s){return s=Ii(s),s.tag=3,s.payload={element:null},s.callback=function(){pc(t,i)},s}function $y(t){return t=Ii(t),t.tag=3,t}function Qy(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Yy(i,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Yy(i,s,l),typeof h!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function yb(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&tl(i,s,h,!0),s=Un.current,s!==null){switch(s.tag){case 13:return _a===null?Df():s.alternate===null&&mt===0&&(mt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Od?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),xf(t,l,h)),!1;case 22:return s.flags|=65536,l===Od?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),xf(t,l,h)),!1}throw Error(r(435,s.tag))}return xf(t,l,h),Df(),!1}if(qe)return i=Un.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Id&&(t=Error(r(422),{cause:l}),el(Ln(t,s)))):(l!==Id&&(i=Error(r(423),{cause:l}),el(Ln(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Ln(l,s),h=of(t.stateNode,l,h),Ud(t,h),mt!==4&&(mt=2)),!1;var f=Error(r(520),{cause:l});if(f=Ln(f,s),Al===null?Al=[f]:Al.push(f),mt!==4&&(mt=2),i===null)return!0;l=Ln(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=of(s.stateNode,l,t),Ud(s,t),!1;case 1:if(i=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ui===null||!Ui.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=$y(h),Qy(h,t,s,l),Ud(s,h),!1}s=s.return}while(s!==null);return!1}var Wy=Error(r(461)),Pt=!1;function Gt(t,i,s,l){i.child=t===null?jy(i,null,s,l):zs(i,t.child,s,l)}function Xy(t,i,s,l,h){s=s.render;var f=i.ref;if("ref"in l){var E={};for(var A in l)A!=="ref"&&(E[A]=l[A])}else E=l;return zr(i),l=Gd(t,i,s,E,f,h),A=Kd(),t!==null&&!Pt?(Fd(t,i,h),Wa(t,i,h)):(qe&&A&&Rd(i),i.flags|=1,Gt(t,i,l,h),i.child)}function Zy(t,i,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!Sd(f)&&f.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=f,ev(t,i,f,l,h)):(t=$u(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!gf(t,h)){var E=f.memoizedProps;if(s=s.compare,s=s!==null?s:Qo,s(E,l)&&t.ref===i.ref)return Wa(t,i,h)}return i.flags|=1,t=Ka(f,l),t.ref=i.ref,t.return=i,i.child=t}function ev(t,i,s,l,h){if(t!==null){var f=t.memoizedProps;if(Qo(f,l)&&t.ref===i.ref)if(Pt=!1,i.pendingProps=l=f,gf(t,h))(t.flags&131072)!==0&&(Pt=!0);else return i.lanes=t.lanes,Wa(t,i,h)}return lf(t,i,s,l,h)}function tv(t,i,s){var l=i.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=f!==null?f.baseLanes|s:s,t!==null){for(h=i.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~l}else i.childLanes=0,i.child=null;return nv(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ec(i,f!==null?f.cachePool:null),f!==null?ey(i,f):Bd(),Hy(i);else return i.lanes=i.childLanes=536870912,nv(t,i,f!==null?f.baseLanes|s:s,s)}else f!==null?(ec(i,f.cachePool),ey(i,f),ki(),i.memoizedState=null):(t!==null&&ec(i,null),Bd(),ki());return Gt(t,i,h,s),i.child}function nv(t,i,s,l){var h=Ld();return h=h===null?null:{parent:Nt._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},t!==null&&ec(i,null),Bd(),Hy(i),t!==null&&tl(t,i,l,!0),null}function yc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function lf(t,i,s,l,h){return zr(i),s=Gd(t,i,s,l,void 0,h),l=Kd(),t!==null&&!Pt?(Fd(t,i,h),Wa(t,i,h)):(qe&&l&&Rd(i),i.flags|=1,Gt(t,i,s,h),i.child)}function av(t,i,s,l,h,f){return zr(i),i.updateQueue=null,s=ny(i,l,s,h),ty(t),l=Kd(),t!==null&&!Pt?(Fd(t,i,f),Wa(t,i,f)):(qe&&l&&Rd(i),i.flags|=1,Gt(t,i,s,f),i.child)}function iv(t,i,s,l,h){if(zr(i),i.stateNode===null){var f=Ms,E=s.contextType;typeof E=="object"&&E!==null&&(f=Wt(E)),f=new s(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=sf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},Pd(i),E=s.contextType,f.context=typeof E=="object"&&E!==null?Wt(E):Ms,f.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(rf(i,s,E,l),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(E=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),E!==f.state&&sf.enqueueReplaceState(f,f.state,null),ll(i,l,f,h),ol(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var A=i.memoizedProps,k=Hr(s,A);f.props=k;var G=f.context,te=s.contextType;E=Ms,typeof te=="object"&&te!==null&&(E=Wt(te));var ae=s.getDerivedStateFromProps;te=typeof ae=="function"||typeof f.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,te||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(A||G!==E)&&Ky(i,f,l,E),Ci=!1;var q=i.memoizedState;f.state=q,ll(i,l,f,h),ol(),G=i.memoizedState,A||q!==G||Ci?(typeof ae=="function"&&(rf(i,s,ae,l),G=i.memoizedState),(k=Ci||Gy(i,s,k,l,q,G,E))?(te||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=G),f.props=l,f.state=G,f.context=E,l=k):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,Vd(t,i),E=i.memoizedProps,te=Hr(s,E),f.props=te,ae=i.pendingProps,q=f.context,G=s.contextType,k=Ms,typeof G=="object"&&G!==null&&(k=Wt(G)),A=s.getDerivedStateFromProps,(G=typeof A=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E!==ae||q!==k)&&Ky(i,f,l,k),Ci=!1,q=i.memoizedState,f.state=q,ll(i,l,f,h),ol();var J=i.memoizedState;E!==ae||q!==J||Ci||t!==null&&t.dependencies!==null&&Xu(t.dependencies)?(typeof A=="function"&&(rf(i,s,A,l),J=i.memoizedState),(te=Ci||Gy(i,s,te,l,q,J,k)||t!==null&&t.dependencies!==null&&Xu(t.dependencies))?(G||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,J,k),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,J,k)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=J),f.props=l,f.state=J,f.context=k,l=te):(typeof f.componentDidUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,yc(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=zs(i,t.child,null,h),i.child=zs(i,null,s,h)):Gt(t,i,s,h),i.memoizedState=f.state,t=i.child):t=Wa(t,i,h),t}function rv(t,i,s,l){return Zo(),i.flags|=256,Gt(t,i,s,l),i.child}var uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cf(t){return{baseLanes:t,cachePool:qp()}}function hf(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=zn),t}function sv(t,i,s){var l=i.pendingProps,h=!1,f=(i.flags&128)!==0,E;if((E=f)||(E=t!==null&&t.memoizedState===null?!1:(Dt.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?Di(i):ki(),qe){var A=ft,k;if(k=A){e:{for(k=A,A=va;k.nodeType!==8;){if(!A){A=null;break e}if(k=Qn(k.nextSibling),k===null){A=null;break e}}A=k}A!==null?(i.memoizedState={dehydrated:A,treeContext:Lr!==null?{id:Fa,overflow:qa}:null,retryLane:536870912,hydrationErrors:null},k=An(18,null,null,0),k.stateNode=A,k.return=i,i.child=k,cn=i,ft=null,k=!0):k=!1}k||Vr(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Yf(A)?i.lanes=32:i.lanes=536870912,null;Qa(i)}return A=l.children,l=l.fallback,h?(ki(),h=i.mode,A=vc({mode:"hidden",children:A},h),l=xr(l,h,s,null),A.return=i,l.return=i,A.sibling=l,i.child=A,h=i.child,h.memoizedState=cf(s),h.childLanes=hf(t,E,s),i.memoizedState=uf,l):(Di(i),df(i,A))}if(k=t.memoizedState,k!==null&&(A=k.dehydrated,A!==null)){if(f)i.flags&256?(Di(i),i.flags&=-257,i=ff(t,i,s)):i.memoizedState!==null?(ki(),i.child=t.child,i.flags|=128,i=null):(ki(),h=l.fallback,A=i.mode,l=vc({mode:"visible",children:l.children},A),h=xr(h,A,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,zs(i,t.child,null,s),l=i.child,l.memoizedState=cf(s),l.childLanes=hf(t,E,s),i.memoizedState=uf,i=h);else if(Di(i),Yf(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var G=E.dgst;E=G,l=Error(r(419)),l.stack="",l.digest=E,el({value:l,source:null,stack:null}),i=ff(t,i,s)}else if(Pt||tl(t,i,s,!1),E=(s&t.childLanes)!==0,Pt||E){if(E=at,E!==null&&(l=s&-s,l=(l&42)!==0?1:_i(l),l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==k.retryLane))throw k.retryLane=l,Is(t,l),Rn(E,t,l),Wy;A.data==="$?"||Df(),i=ff(t,i,s)}else A.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=k.treeContext,ft=Qn(A.nextSibling),cn=i,qe=!0,Pr=null,va=!1,t!==null&&(Pn[Vn++]=Fa,Pn[Vn++]=qa,Pn[Vn++]=Lr,Fa=t.id,qa=t.overflow,Lr=i),i=df(i,l.children),i.flags|=4096);return i}return h?(ki(),h=l.fallback,A=i.mode,k=t.child,G=k.sibling,l=Ka(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,G!==null?h=Ka(G,h):(h=xr(h,A,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,A=t.child.memoizedState,A===null?A=cf(s):(k=A.cachePool,k!==null?(G=Nt._currentValue,k=k.parent!==G?{parent:G,pool:G}:k):k=qp(),A={baseLanes:A.baseLanes|s,cachePool:k}),h.memoizedState=A,h.childLanes=hf(t,E,s),i.memoizedState=uf,l):(Di(i),s=t.child,t=s.sibling,s=Ka(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=s,i.memoizedState=null,s)}function df(t,i){return i=vc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function vc(t,i){return t=An(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ff(t,i,s){return zs(i,t.child,null,s),t=df(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function ov(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Nd(t.return,i,s)}function mf(t,i,s,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=h)}function lv(t,i,s){var l=i.pendingProps,h=l.revealOrder,f=l.tail;if(Gt(t,i,l.children,s),l=Dt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ov(t,s,i);else if(t.tag===19)ov(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(le(Dt,l),h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&mc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),mf(i,!1,h,s,f);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&mc(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}mf(i,!0,s,null,f);break;case"together":mf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Wa(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Vi|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(tl(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,s=Ka(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Ka(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function gf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Xu(t)))}function vb(t,i,s){switch(i.tag){case 3:Le(i,i.stateNode.containerInfo),Ri(i,Nt,t.memoizedState.cache),Zo();break;case 27:case 5:Bt(i);break;case 4:Le(i,i.stateNode.containerInfo);break;case 10:Ri(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Di(i),i.flags|=128,null):(s&i.child.childLanes)!==0?sv(t,i,s):(Di(i),t=Wa(t,i,s),t!==null?t.sibling:null);Di(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(tl(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return lv(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(Dt,Dt.current),l)break;return null;case 22:case 23:return i.lanes=0,tv(t,i,s);case 24:Ri(i,Nt,t.memoizedState.cache)}return Wa(t,i,s)}function uv(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Pt=!0;else{if(!gf(t,s)&&(i.flags&128)===0)return Pt=!1,vb(t,i,s);Pt=(t.flags&131072)!==0}else Pt=!1,qe&&(i.flags&1048576)!==0&&zp(i,Wu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Sd(l)?(t=Hr(l,t),i.tag=1,i=iv(null,i,l,t,s)):(i.tag=0,i=lf(null,i,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===ce){i.tag=11,i=Xy(null,i,l,t,s);break e}else if(h===D){i.tag=14,i=Zy(null,i,l,t,s);break e}}throw i=Be(l)||l,Error(r(306,i,""))}}return i;case 0:return lf(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=Hr(l,i.pendingProps),iv(t,i,l,h,s);case 3:e:{if(Le(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var f=i.memoizedState;h=f.element,Vd(t,i),ll(i,l,null,s);var E=i.memoizedState;if(l=E.cache,Ri(i,Nt,l),l!==f.cache&&Dd(i,[Nt],s,!0),ol(),l=E.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=rv(t,i,l,s);break e}else if(l!==h){h=Ln(Error(r(424)),i),el(h),i=rv(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ft=Qn(t.firstChild),cn=i,qe=!0,Pr=null,va=!0,s=jy(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Zo(),l===h){i=Wa(t,i,s);break e}Gt(t,i,l,s)}i=i.child}return i;case 26:return yc(t,i),t===null?(s=f_(i.type,null,i.pendingProps,null))?i.memoizedState=s:qe||(s=i.type,t=i.pendingProps,l=kc(fe.current).createElement(s),l[Ct]=i,l[Et]=t,Ft(l,s,t),pt(l),i.stateNode=l):i.memoizedState=f_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Bt(i),t===null&&qe&&(l=i.stateNode=c_(i.type,i.pendingProps,fe.current),cn=i,va=!0,h=ft,ji(i.type)?($f=h,ft=Qn(l.firstChild)):ft=h),Gt(t,i,i.pendingProps.children,s),yc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&qe&&((h=l=ft)&&(l=qb(l,i.type,i.pendingProps,va),l!==null?(i.stateNode=l,cn=i,ft=Qn(l.firstChild),va=!1,h=!0):h=!1),h||Vr(i)),Bt(i),h=i.type,f=i.pendingProps,E=t!==null?t.memoizedProps:null,l=f.children,Ff(h,f)?l=null:E!==null&&Ff(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=Gd(t,i,cb,null,null,s),Nl._currentValue=h),yc(t,i),Gt(t,i,l,s),i.child;case 6:return t===null&&qe&&((t=s=ft)&&(s=Jb(s,i.pendingProps,va),s!==null?(i.stateNode=s,cn=i,ft=null,t=!0):t=!1),t||Vr(i)),null;case 13:return sv(t,i,s);case 4:return Le(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=zs(i,null,l,s):Gt(t,i,l,s),i.child;case 11:return Xy(t,i,i.type,i.pendingProps,s);case 7:return Gt(t,i,i.pendingProps,s),i.child;case 8:return Gt(t,i,i.pendingProps.children,s),i.child;case 12:return Gt(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Ri(i,i.type,l.value),Gt(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,zr(i),h=Wt(h),l=l(h),i.flags|=1,Gt(t,i,l,s),i.child;case 14:return Zy(t,i,i.type,i.pendingProps,s);case 15:return ev(t,i,i.type,i.pendingProps,s);case 19:return lv(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=vc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Ka(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return tv(t,i,s);case 24:return zr(i),l=Wt(Nt),t===null?(h=Ld(),h===null&&(h=at,f=kd(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),i.memoizedState={parent:l,cache:h},Pd(i),Ri(i,Nt,h)):((t.lanes&s)!==0&&(Vd(t,i),ll(i,null,null,s),ol()),h=t.memoizedState,f=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ri(i,Nt,l)):(l=f.cache,Ri(i,Nt,l),l!==h.cache&&Dd(i,[Nt],s,!0))),Gt(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Xa(t){t.flags|=4}function cv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!v_(i)){if(i=Un.current,i!==null&&((Ge&4194048)===Ge?_a!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||i!==_a))throw rl=Od,Jp;t.flags|=8192}}function _c(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ko():536870912,t.lanes|=i,Gs|=i)}function gl(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function _b(t,i,s){var l=i.pendingProps;switch(Cd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(i),null;case 1:return ct(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ya(Nt),rt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Xo(i)?Xa(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Hp())),ct(i),null;case 26:return s=i.memoizedState,t===null?(Xa(i),s!==null?(ct(i),cv(i,s)):(ct(i),i.flags&=-16777217)):s?s!==t.memoizedState?(Xa(i),ct(i),cv(i,s)):(ct(i),i.flags&=-16777217):(t.memoizedProps!==l&&Xa(i),ct(i),i.flags&=-16777217),null;case 27:rn(i),s=fe.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xa(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ct(i),null}t=ye.current,Xo(i)?Bp(i):(t=c_(h,l,s),i.stateNode=t,Xa(i))}return ct(i),null;case 5:if(rn(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xa(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ct(i),null}if(t=ye.current,Xo(i))Bp(i);else{switch(h=kc(fe.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[Ct]=i,t[Et]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Ft(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Xa(i)}}return ct(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Xa(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=fe.current,Xo(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=cn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ct]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||a_(t.nodeValue,s)),t||Vr(i)}else t=kc(t).createTextNode(l),t[Ct]=i,i.stateNode=t}return ct(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Xo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ct]=i}else Zo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ct(i),h=!1}else h=Hp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Qa(i),i):(Qa(i),null)}if(Qa(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),_c(i,i.updateQueue),ct(i),null;case 4:return rt(),t===null&&Bf(i.stateNode.containerInfo),ct(i),null;case 10:return Ya(i.type),ct(i),null;case 19:if(ue(Dt),h=i.memoizedState,h===null)return ct(i),null;if(l=(i.flags&128)!==0,f=h.rendering,f===null)if(l)gl(h,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=mc(t),f!==null){for(i.flags|=128,gl(h,!1),t=f.updateQueue,i.updateQueue=t,_c(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Up(s,t),s=s.sibling;return le(Dt,Dt.current&1|2),i.child}t=t.sibling}h.tail!==null&&hn()>Tc&&(i.flags|=128,l=!0,gl(h,!1),i.lanes=4194304)}else{if(!l)if(t=mc(f),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,_c(i,t),gl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!qe)return ct(i),null}else 2*hn()-h.renderingStartTime>Tc&&s!==536870912&&(i.flags|=128,l=!0,gl(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(t=h.last,t!==null?t.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=hn(),i.sibling=null,t=Dt.current,le(Dt,l?t&1|2:t&1),i):(ct(i),null);case 22:case 23:return Qa(i),jd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(ct(i),i.subtreeFlags&6&&(i.flags|=8192)):ct(i),s=i.updateQueue,s!==null&&_c(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&ue(Br),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Ya(Nt),ct(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function Eb(t,i){switch(Cd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ya(Nt),rt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return rn(i),null;case 13:if(Qa(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Zo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ue(Dt),null;case 4:return rt(),null;case 10:return Ya(i.type),null;case 22:case 23:return Qa(i),jd(),t!==null&&ue(Br),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ya(Nt),null;case 25:return null;default:return null}}function hv(t,i){switch(Cd(i),i.tag){case 3:Ya(Nt),rt();break;case 26:case 27:case 5:rn(i);break;case 4:rt();break;case 13:Qa(i);break;case 19:ue(Dt);break;case 10:Ya(i.type);break;case 22:case 23:Qa(i),jd(),t!==null&&ue(Br);break;case 24:Ya(Nt)}}function pl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,E=s.inst;l=f(),E.destroy=l}s=s.next}while(s!==h)}}catch(A){nt(i,i.return,A)}}function xi(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var E=l.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,h=i;var k=s,G=A;try{G()}catch(te){nt(h,k,te)}}}l=l.next}while(l!==f)}}catch(te){nt(i,i.return,te)}}function dv(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Zp(i,s)}catch(l){nt(t,t.return,l)}}}function fv(t,i,s){s.props=Hr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){nt(t,i,l)}}function yl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){nt(t,i,h)}}function Ea(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){nt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){nt(t,i,h)}else s.current=null}function mv(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){nt(t,t.return,h)}}function pf(t,i,s){try{var l=t.stateNode;jb(l,t.type,s,i),l[Et]=i}catch(h){nt(t,t.return,h)}}function gv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ji(t.type)||t.tag===4}function yf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ji(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vf(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Dc));else if(l!==4&&(l===27&&ji(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(vf(t,i,s),t=t.sibling;t!==null;)vf(t,i,s),t=t.sibling}function Ec(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&ji(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ec(t,i,s),t=t.sibling;t!==null;)Ec(t,i,s),t=t.sibling}function pv(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ft(i,l,s),i[Ct]=t,i[Et]=s}catch(f){nt(t,t.return,f)}}var Za=!1,vt=!1,_f=!1,yv=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function Ab(t,i){if(t=t.containerInfo,Gf=Uc,t=Ip(t),pd(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var E=0,A=-1,k=-1,G=0,te=0,ae=t,q=null;t:for(;;){for(var J;ae!==s||h!==0&&ae.nodeType!==3||(A=E+h),ae!==f||l!==0&&ae.nodeType!==3||(k=E+l),ae.nodeType===3&&(E+=ae.nodeValue.length),(J=ae.firstChild)!==null;)q=ae,ae=J;for(;;){if(ae===t)break t;if(q===s&&++G===h&&(A=E),q===f&&++te===l&&(k=E),(J=ae.nextSibling)!==null)break;ae=q,q=ae.parentNode}ae=J}s=A===-1||k===-1?null:{start:A,end:k}}else s=null}s=s||{start:0,end:0}}else s=null;for(Kf={focusedElem:t,selectionRange:s},Uc=!1,Vt=i;Vt!==null;)if(i=Vt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Vt=t;else for(;Vt!==null;){switch(i=Vt,f=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=i,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var Re=Hr(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Re,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){nt(s,s.return,Te)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Jf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Vt=t;break}Vt=i.return}}function vv(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Li(t,s),l&4&&pl(5,s);break;case 1:if(Li(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(E){nt(s,s.return,E)}else{var h=Hr(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){nt(s,s.return,E)}}l&64&&dv(s),l&512&&yl(s,s.return);break;case 3:if(Li(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Zp(t,i)}catch(E){nt(s,s.return,E)}}break;case 27:i===null&&l&4&&pv(s);case 26:case 5:Li(t,s),i===null&&l&4&&mv(s),l&512&&yl(s,s.return);break;case 12:Li(t,s);break;case 13:Li(t,s),l&4&&Av(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Nb.bind(null,s),Yb(t,s))));break;case 22:if(l=s.memoizedState!==null||Za,!l){i=i!==null&&i.memoizedState!==null||vt,h=Za;var f=vt;Za=l,(vt=i)&&!f?Oi(t,s,(s.subtreeFlags&8772)!==0):Li(t,s),Za=h,vt=f}break;case 30:break;default:Li(t,s)}}function _v(t){var i=t.alternate;i!==null&&(t.alternate=null,_v(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ti(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,fn=!1;function ei(t,i,s){for(s=s.child;s!==null;)Ev(t,i,s),s=s.sibling}function Ev(t,i,s){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(dt,s)}catch{}switch(s.tag){case 26:vt||Ea(s,i),ei(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:vt||Ea(s,i);var l=lt,h=fn;ji(s.type)&&(lt=s.stateNode,fn=!1),ei(t,i,s),Rl(s.stateNode),lt=l,fn=h;break;case 5:vt||Ea(s,i);case 6:if(l=lt,h=fn,lt=null,ei(t,i,s),lt=l,fn=h,lt!==null)if(fn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(s.stateNode)}catch(f){nt(s,i,f)}else try{lt.removeChild(s.stateNode)}catch(f){nt(s,i,f)}break;case 18:lt!==null&&(fn?(t=lt,l_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ll(t)):l_(lt,s.stateNode));break;case 4:l=lt,h=fn,lt=s.stateNode.containerInfo,fn=!0,ei(t,i,s),lt=l,fn=h;break;case 0:case 11:case 14:case 15:vt||xi(2,s,i),vt||xi(4,s,i),ei(t,i,s);break;case 1:vt||(Ea(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&fv(s,i,l)),ei(t,i,s);break;case 21:ei(t,i,s);break;case 22:vt=(l=vt)||s.memoizedState!==null,ei(t,i,s),vt=l;break;default:ei(t,i,s)}}function Av(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ll(t)}catch(s){nt(i,i.return,s)}}function Tb(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new yv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new yv),i;default:throw Error(r(435,t.tag))}}function Ef(t,i){var s=Tb(t);i.forEach(function(l){var h=Db.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function Tn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,E=i,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(ji(A.type)){lt=A.stateNode,fn=!1;break e}break;case 5:lt=A.stateNode,fn=!1;break e;case 3:case 4:lt=A.stateNode.containerInfo,fn=!0;break e}A=A.return}if(lt===null)throw Error(r(160));Ev(f,E,h),lt=null,fn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Tv(i,t),i=i.sibling}var $n=null;function Tv(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(i,t),Sn(t),l&4&&(xi(3,t,t.return),pl(3,t),xi(5,t,t.return));break;case 1:Tn(i,t),Sn(t),l&512&&(vt||s===null||Ea(s,s.return)),l&64&&Za&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=$n;if(Tn(i,t),Sn(t),l&512&&(vt||s===null||Ea(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[yr]||f[Ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ft(f,l,s),f[Ct]=t,pt(f),l=f;break e;case"link":var E=p_("link","href",h).get(l+(s.href||""));if(E){for(var A=0;A<E.length;A++)if(f=E[A],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(A,1);break t}}f=h.createElement(l),Ft(f,l,s),h.head.appendChild(f);break;case"meta":if(E=p_("meta","content",h).get(l+(s.content||""))){for(A=0;A<E.length;A++)if(f=E[A],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(A,1);break t}}f=h.createElement(l),Ft(f,l,s),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[Ct]=t,pt(f),l=f}t.stateNode=l}else y_(h,t.type,t.stateNode);else t.stateNode=g_(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?y_(h,t.type,t.stateNode):g_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&pf(t,t.memoizedProps,s.memoizedProps)}break;case 27:Tn(i,t),Sn(t),l&512&&(vt||s===null||Ea(s,s.return)),s!==null&&l&4&&pf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Tn(i,t),Sn(t),l&512&&(vt||s===null||Ea(s,s.return)),t.flags&32){h=t.stateNode;try{Nn(h,"")}catch(J){nt(t,t.return,J)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,pf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(_f=!0);break;case 6:if(Tn(i,t),Sn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(J){nt(t,t.return,J)}}break;case 3:if(Oc=null,h=$n,$n=xc(i.containerInfo),Tn(i,t),$n=h,Sn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ll(i.containerInfo)}catch(J){nt(t,t.return,J)}_f&&(_f=!1,Sv(t));break;case 4:l=$n,$n=xc(t.stateNode.containerInfo),Tn(i,t),Sn(t),$n=l;break;case 12:Tn(i,t),Sn(t);break;case 13:Tn(i,t),Sn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Rf=hn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ef(t,l)));break;case 22:h=t.memoizedState!==null;var k=s!==null&&s.memoizedState!==null,G=Za,te=vt;if(Za=G||h,vt=te||k,Tn(i,t),vt=te,Za=G,Sn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||k||Za||vt||Gr(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){k=s=i;try{if(f=k.stateNode,h)E=f.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=k.stateNode;var ae=k.memoizedProps.style,q=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(J){nt(k,k.return,J)}}}else if(i.tag===6){if(s===null){k=i;try{k.stateNode.nodeValue=h?"":k.memoizedProps}catch(J){nt(k,k.return,J)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ef(t,s))));break;case 19:Tn(i,t),Sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ef(t,l)));break;case 30:break;case 21:break;default:Tn(i,t),Sn(t)}}function Sn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(gv(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,f=yf(t);Ec(t,f,h);break;case 5:var E=s.stateNode;s.flags&32&&(Nn(E,""),s.flags&=-33);var A=yf(t);Ec(t,A,E);break;case 3:case 4:var k=s.stateNode.containerInfo,G=yf(t);vf(t,G,k);break;default:throw Error(r(161))}}catch(te){nt(t,t.return,te)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Sv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Sv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Li(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)vv(t,i.alternate,i),i=i.sibling}function Gr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:xi(4,i,i.return),Gr(i);break;case 1:Ea(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&fv(i,i.return,s),Gr(i);break;case 27:Rl(i.stateNode);case 26:case 5:Ea(i,i.return),Gr(i);break;case 22:i.memoizedState===null&&Gr(i);break;case 30:Gr(i);break;default:Gr(i)}t=t.sibling}}function Oi(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,f=i,E=f.flags;switch(f.tag){case 0:case 11:case 15:Oi(h,f,s),pl(4,f);break;case 1:if(Oi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){nt(l,l.return,G)}if(l=f,h=l.updateQueue,h!==null){var A=l.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)Xp(k[h],A)}catch(G){nt(l,l.return,G)}}s&&E&64&&dv(f),yl(f,f.return);break;case 27:pv(f);case 26:case 5:Oi(h,f,s),s&&l===null&&E&4&&mv(f),yl(f,f.return);break;case 12:Oi(h,f,s);break;case 13:Oi(h,f,s),s&&E&4&&Av(h,f);break;case 22:f.memoizedState===null&&Oi(h,f,s),yl(f,f.return);break;case 30:break;default:Oi(h,f,s)}i=i.sibling}}function Af(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&nl(s))}function Tf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t))}function Aa(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)bv(t,i,s,l),i=i.sibling}function bv(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Aa(t,i,s,l),h&2048&&pl(9,i);break;case 1:Aa(t,i,s,l);break;case 3:Aa(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t)));break;case 12:if(h&2048){Aa(t,i,s,l),t=i.stateNode;try{var f=i.memoizedProps,E=f.id,A=f.onPostCommit;typeof A=="function"&&A(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){nt(i,i.return,k)}}else Aa(t,i,s,l);break;case 13:Aa(t,i,s,l);break;case 23:break;case 22:f=i.stateNode,E=i.alternate,i.memoizedState!==null?f._visibility&2?Aa(t,i,s,l):vl(t,i):f._visibility&2?Aa(t,i,s,l):(f._visibility|=2,Bs(t,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&Af(E,i);break;case 24:Aa(t,i,s,l),h&2048&&Tf(i.alternate,i);break;default:Aa(t,i,s,l)}}function Bs(t,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=t,E=i,A=s,k=l,G=E.flags;switch(E.tag){case 0:case 11:case 15:Bs(f,E,A,k,h),pl(8,E);break;case 23:break;case 22:var te=E.stateNode;E.memoizedState!==null?te._visibility&2?Bs(f,E,A,k,h):vl(f,E):(te._visibility|=2,Bs(f,E,A,k,h)),h&&G&2048&&Af(E.alternate,E);break;case 24:Bs(f,E,A,k,h),h&&G&2048&&Tf(E.alternate,E);break;default:Bs(f,E,A,k,h)}i=i.sibling}}function vl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:vl(s,l),h&2048&&Af(l.alternate,l);break;case 24:vl(s,l),h&2048&&Tf(l.alternate,l);break;default:vl(s,l)}i=i.sibling}}var _l=8192;function js(t){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)wv(t),t=t.sibling}function wv(t){switch(t.tag){case 26:js(t),t.flags&_l&&t.memoizedState!==null&&ow($n,t.memoizedState,t.memoizedProps);break;case 5:js(t);break;case 3:case 4:var i=$n;$n=xc(t.stateNode.containerInfo),js(t),$n=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=_l,_l=16777216,js(t),_l=i):js(t));break;default:js(t)}}function Rv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function El(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Vt=l,Iv(l,t)}Rv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cv(t),t=t.sibling}function Cv(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&xi(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ac(t)):El(t);break;default:El(t)}}function Ac(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Vt=l,Iv(l,t)}Rv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:xi(8,i,i.return),Ac(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Ac(i));break;default:Ac(i)}t=t.sibling}}function Iv(t,i){for(;Vt!==null;){var s=Vt;switch(s.tag){case 0:case 11:case 15:xi(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Vt=l;else e:for(s=t;Vt!==null;){l=Vt;var h=l.sibling,f=l.return;if(_v(l),l===s){Vt=null;break e}if(h!==null){h.return=f,Vt=h;break e}Vt=f}}}var Sb={getCacheForType:function(t){var i=Wt(Nt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},bb=typeof WeakMap=="function"?WeakMap:Map,Qe=0,at=null,Pe=null,Ge=0,We=0,bn=null,Pi=!1,Hs=!1,Sf=!1,ti=0,mt=0,Vi=0,Kr=0,bf=0,zn=0,Gs=0,Al=null,mn=null,wf=!1,Rf=0,Tc=1/0,Sc=null,Ui=null,Kt=0,zi=null,Ks=null,Fs=0,Cf=0,If=null,Mv=null,Tl=0,Mf=null;function wn(){if((Qe&2)!==0&&Ge!==0)return Ge&-Ge;if(H.T!==null){var t=ks;return t!==0?t:Pf()}return Ei()}function Nv(){zn===0&&(zn=(Ge&536870912)===0||qe?Do():536870912);var t=Un.current;return t!==null&&(t.flags|=32),zn}function Rn(t,i,s){(t===at&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(qs(t,0),Bi(t,Ge,zn,!1)),xa(t,s),((Qe&2)===0||t!==at)&&(t===at&&((Qe&2)===0&&(Kr|=s),mt===4&&Bi(t,Ge,zn,!1)),Ta(t))}function Dv(t,i,s){if((Qe&6)!==0)throw Error(r(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||pr(t,i),h=l?Cb(t,i):kf(t,i,!0),f=l;do{if(h===0){Hs&&!l&&Bi(t,i,0,!1);break}else{if(s=t.current.alternate,f&&!wb(s)){h=kf(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var A=t;h=Al;var k=A.current.memoizedState.isDehydrated;if(k&&(qs(A,E).flags|=256),E=kf(A,E,!1),E!==2){if(Sf&&!k){A.errorRecoveryDisabledLanes|=f,Kr|=f,h=4;break e}f=mn,mn=h,f!==null&&(mn===null?mn=f:mn.push.apply(mn,f))}h=E}if(f=!1,h!==2)continue}}if(h===1){qs(t,0),Bi(t,i,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Bi(l,i,zn,!Pi);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Rf+300-hn(),10<h)){if(Bi(l,i,zn,!Pi),us(l,0,!0)!==0)break e;l.timeoutHandle=s_(kv.bind(null,l,s,mn,Sc,wf,i,zn,Kr,Gs,Pi,f,2,-0,0),h);break e}kv(l,s,mn,Sc,wf,i,zn,Kr,Gs,Pi,f,0,-0,0)}}break}while(!0);Ta(t)}function kv(t,i,s,l,h,f,E,A,k,G,te,ae,q,J){if(t.timeoutHandle=-1,ae=i.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(Ml={stylesheets:null,count:0,unsuspend:sw},wv(i),ae=lw(),ae!==null)){t.cancelPendingCommit=ae(zv.bind(null,t,i,f,s,l,h,E,A,k,te,1,q,J)),Bi(t,f,E,!G);return}zv(t,i,f,s,l,h,E,A,k)}function wb(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!En(f(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Bi(t,i,s,l){i&=~bf,i&=~Kr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var f=31-Qt(h),E=1<<f;l[f]=-1,h&=~E}s!==0&&oa(t,s,i)}function bc(){return(Qe&6)===0?(Sl(0),!1):!0}function Nf(){if(Pe!==null){if(We===0)var t=Pe.return;else t=Pe,Ja=Ur=null,qd(t),Us=null,fl=0,t=Pe;for(;t!==null;)hv(t.alternate,t),t=t.return;Pe=null}}function qs(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Gb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Nf(),at=t,Pe=s=Ka(t.current,null),Ge=i,We=0,bn=null,Pi=!1,Hs=pr(t,i),Sf=!1,Gs=zn=bf=Kr=Vi=mt=0,mn=Al=null,wf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Qt(l),f=1<<h;i|=t[h],l&=~f}return ti=i,qu(),s}function xv(t,i){ke=null,H.H=hc,i===il||i===tc?(i=Qp(),We=3):i===Jp?(i=Qp(),We=4):We=i===Wy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Pe===null&&(mt=1,pc(t,Ln(i,t.current)))}function Lv(){var t=H.H;return H.H=hc,t===null?hc:t}function Ov(){var t=H.A;return H.A=Sb,t}function Df(){mt=4,Pi||(Ge&4194048)!==Ge&&Un.current!==null||(Hs=!0),(Vi&134217727)===0&&(Kr&134217727)===0||at===null||Bi(at,Ge,zn,!1)}function kf(t,i,s){var l=Qe;Qe|=2;var h=Lv(),f=Ov();(at!==t||Ge!==i)&&(Sc=null,qs(t,i)),i=!1;var E=mt;e:do try{if(We!==0&&Pe!==null){var A=Pe,k=bn;switch(We){case 8:Nf(),E=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(i=!0);var G=We;if(We=0,bn=null,Js(t,A,k,G),s&&Hs){E=0;break e}break;default:G=We,We=0,bn=null,Js(t,A,k,G)}}Rb(),E=mt;break}catch(te){xv(t,te)}while(!0);return i&&t.shellSuspendCounter++,Ja=Ur=null,Qe=l,H.H=h,H.A=f,Pe===null&&(at=null,Ge=0,qu()),E}function Rb(){for(;Pe!==null;)Pv(Pe)}function Cb(t,i){var s=Qe;Qe|=2;var l=Lv(),h=Ov();at!==t||Ge!==i?(Sc=null,Tc=hn()+500,qs(t,i)):Hs=pr(t,i);e:do try{if(We!==0&&Pe!==null){i=Pe;var f=bn;t:switch(We){case 1:We=0,bn=null,Js(t,i,f,1);break;case 2:case 9:if(Yp(f)){We=0,bn=null,Vv(i);break}i=function(){We!==2&&We!==9||at!==t||(We=7),Ta(t)},f.then(i,i);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Yp(f)?(We=0,bn=null,Vv(i)):(We=0,bn=null,Js(t,i,f,7));break;case 5:var E=null;switch(Pe.tag){case 26:E=Pe.memoizedState;case 5:case 27:var A=Pe;if(!E||v_(E)){We=0,bn=null;var k=A.sibling;if(k!==null)Pe=k;else{var G=A.return;G!==null?(Pe=G,wc(G)):Pe=null}break t}}We=0,bn=null,Js(t,i,f,5);break;case 6:We=0,bn=null,Js(t,i,f,6);break;case 8:Nf(),mt=6;break e;default:throw Error(r(462))}}Ib();break}catch(te){xv(t,te)}while(!0);return Ja=Ur=null,H.H=l,H.A=h,Qe=s,Pe!==null?0:(at=null,Ge=0,qu(),mt)}function Ib(){for(;Pe!==null&&!yi();)Pv(Pe)}function Pv(t){var i=uv(t.alternate,t,ti);t.memoizedProps=t.pendingProps,i===null?wc(t):Pe=i}function Vv(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=av(s,i,i.pendingProps,i.type,void 0,Ge);break;case 11:i=av(s,i,i.pendingProps,i.type.render,i.ref,Ge);break;case 5:qd(i);default:hv(s,i),i=Pe=Up(i,ti),i=uv(s,i,ti)}t.memoizedProps=t.pendingProps,i===null?wc(t):Pe=i}function Js(t,i,s,l){Ja=Ur=null,qd(i),Us=null,fl=0;var h=i.return;try{if(yb(t,h,i,s,Ge)){mt=1,pc(t,Ln(s,t.current)),Pe=null;return}}catch(f){if(h!==null)throw Pe=h,f;mt=1,pc(t,Ln(s,t.current)),Pe=null;return}i.flags&32768?(qe||l===1?t=!0:Hs||(Ge&536870912)!==0?t=!1:(Pi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),Uv(i,t)):wc(i)}function wc(t){var i=t;do{if((i.flags&32768)!==0){Uv(i,Pi);return}t=i.return;var s=_b(i.alternate,i,ti);if(s!==null){Pe=s;return}if(i=i.sibling,i!==null){Pe=i;return}Pe=i=t}while(i!==null);mt===0&&(mt=5)}function Uv(t,i){do{var s=Eb(t.alternate,t);if(s!==null){s.flags&=32767,Pe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=s}while(t!==null);mt=6,Pe=null}function zv(t,i,s,l,h,f,E,A,k){t.cancelPendingCommit=null;do Rc();while(Kt!==0);if((Qe&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=Ad,xo(t,s,f,E,A,k),t===at&&(Pe=at=null,Ge=0),Ks=i,zi=t,Fs=s,Cf=f,If=h,Mv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,kb(gt,function(){return Kv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=$.p,$.p=2,E=Qe,Qe|=4;try{Ab(t,i,s)}finally{Qe=E,$.p=h,H.T=l}}Kt=1,Bv(),jv(),Hv()}}function Bv(){if(Kt===1){Kt=0;var t=zi,i=Ks,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=$.p;$.p=2;var h=Qe;Qe|=4;try{Tv(i,t);var f=Kf,E=Ip(t.containerInfo),A=f.focusedElem,k=f.selectionRange;if(E!==A&&A&&A.ownerDocument&&Cp(A.ownerDocument.documentElement,A)){if(k!==null&&pd(A)){var G=k.start,te=k.end;if(te===void 0&&(te=G),"selectionStart"in A)A.selectionStart=G,A.selectionEnd=Math.min(te,A.value.length);else{var ae=A.ownerDocument||document,q=ae&&ae.defaultView||window;if(q.getSelection){var J=q.getSelection(),Re=A.textContent.length,Te=Math.min(k.start,Re),tt=k.end===void 0?Te:Math.min(k.end,Re);!J.extend&&Te>tt&&(E=tt,tt=Te,Te=E);var U=Rp(A,Te),O=Rp(A,tt);if(U&&O&&(J.rangeCount!==1||J.anchorNode!==U.node||J.anchorOffset!==U.offset||J.focusNode!==O.node||J.focusOffset!==O.offset)){var j=ae.createRange();j.setStart(U.node,U.offset),J.removeAllRanges(),Te>tt?(J.addRange(j),J.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),J.addRange(j))}}}}for(ae=[],J=A;J=J.parentNode;)J.nodeType===1&&ae.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ae.length;A++){var ne=ae[A];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Uc=!!Gf,Kf=Gf=null}finally{Qe=h,$.p=l,H.T=s}}t.current=i,Kt=2}}function jv(){if(Kt===2){Kt=0;var t=zi,i=Ks,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=$.p;$.p=2;var h=Qe;Qe|=4;try{vv(t,i.alternate,i)}finally{Qe=h,$.p=l,H.T=s}}Kt=3}}function Hv(){if(Kt===4||Kt===3){Kt=0,ls();var t=zi,i=Ks,s=Fs,l=Mv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Kt=5:(Kt=0,Ks=zi=null,Gv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ui=null),cs(s),i=i.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(dt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=H.T,h=$.p,$.p=2,H.T=null;try{for(var f=t.onRecoverableError,E=0;E<l.length;E++){var A=l[E];f(A.value,{componentStack:A.stack})}}finally{H.T=i,$.p=h}}(Fs&3)!==0&&Rc(),Ta(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===Mf?Tl++:(Tl=0,Mf=t):Tl=0,Sl(0)}}function Gv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,nl(i)))}function Rc(t){return Bv(),jv(),Hv(),Kv()}function Kv(){if(Kt!==5)return!1;var t=zi,i=Cf;Cf=0;var s=cs(Fs),l=H.T,h=$.p;try{$.p=32>s?32:s,H.T=null,s=If,If=null;var f=zi,E=Fs;if(Kt=0,Ks=zi=null,Fs=0,(Qe&6)!==0)throw Error(r(331));var A=Qe;if(Qe|=4,Cv(f.current),bv(f,f.current,E,s),Qe=A,Sl(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(dt,f)}catch{}return!0}finally{$.p=h,H.T=l,Gv(t,i)}}function Fv(t,i,s){i=Ln(s,i),i=of(t.stateNode,i,2),t=Mi(t,i,2),t!==null&&(xa(t,2),Ta(t))}function nt(t,i,s){if(t.tag===3)Fv(t,t,s);else for(;i!==null;){if(i.tag===3){Fv(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ui===null||!Ui.has(l))){t=Ln(s,t),s=$y(2),l=Mi(i,s,2),l!==null&&(Qy(s,l,i,t),xa(l,2),Ta(l));break}}i=i.return}}function xf(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new bb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(Sf=!0,h.add(s),t=Mb.bind(null,t,i,s),i.then(t,t))}function Mb(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,at===t&&(Ge&s)===s&&(mt===4||mt===3&&(Ge&62914560)===Ge&&300>hn()-Rf?(Qe&2)===0&&qs(t,0):bf|=s,Gs===Ge&&(Gs=0)),Ta(t)}function qv(t,i){i===0&&(i=ko()),t=Is(t,i),t!==null&&(xa(t,i),Ta(t))}function Nb(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),qv(t,s)}function Db(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),qv(t,s)}function kb(t,i){return Kn(t,i)}var Cc=null,Ys=null,Lf=!1,Ic=!1,Of=!1,Fr=0;function Ta(t){t!==Ys&&t.next===null&&(Ys===null?Cc=Ys=t:Ys=Ys.next=t),Ic=!0,Lf||(Lf=!0,Lb())}function Sl(t,i){if(!Of&&Ic){Of=!0;do for(var s=!1,l=Cc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var E=l.suspendedLanes,A=l.pingedLanes;f=(1<<31-Qt(42|t)+1)-1,f&=h&~(E&~A),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Qv(l,f))}else f=Ge,f=us(l,l===at?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||pr(l,f)||(s=!0,Qv(l,f));l=l.next}while(s);Of=!1}}function xb(){Jv()}function Jv(){Ic=Lf=!1;var t=0;Fr!==0&&(Hb()&&(t=Fr),Fr=0);for(var i=hn(),s=null,l=Cc;l!==null;){var h=l.next,f=Yv(l,i);f===0?(l.next=null,s===null?Cc=h:s.next=h,h===null&&(Ys=s)):(s=l,(t!==0||(f&3)!==0)&&(Ic=!0)),l=h}Sl(t)}function Yv(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var E=31-Qt(f),A=1<<E,k=h[E];k===-1?((A&s)===0||(A&l)!==0)&&(h[E]=No(A,i)):k<=i&&(t.expiredLanes|=A),f&=~A}if(i=at,s=Ge,s=us(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&sa(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||pr(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&sa(l),cs(s)){case 2:case 8:s=st;break;case 32:s=gt;break;case 268435456:s=sn;break;default:s=gt}return l=$v.bind(null,t),s=Kn(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&sa(l),t.callbackPriority=2,t.callbackNode=null,2}function $v(t,i){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Rc()&&t.callbackNode!==s)return null;var l=Ge;return l=us(t,t===at?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Dv(t,l,i),Yv(t,hn()),t.callbackNode!=null&&t.callbackNode===s?$v.bind(null,t):null)}function Qv(t,i){if(Rc())return null;Dv(t,i,!0)}function Lb(){Kb(function(){(Qe&6)!==0?Kn(Ae,xb):Jv()})}function Pf(){return Fr===0&&(Fr=Do()),Fr}function Wv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ps(""+t)}function Xv(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function Ob(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var f=Wv((h[Et]||null).action),E=l.submitter;E&&(i=(i=E[Et]||null)?Wv(i.formAction):E.getAttribute("formAction"),i!==null&&(f=i,E=null));var A=new ys("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fr!==0){var k=E?Xv(h,E):new FormData(h);tf(s,{pending:!0,data:k,method:h.method,action:f},null,k)}}else typeof f=="function"&&(A.preventDefault(),k=E?Xv(h,E):new FormData(h),tf(s,{pending:!0,data:k,method:h.method,action:f},f,k))},currentTarget:h}]})}}for(var Vf=0;Vf<Ed.length;Vf++){var Uf=Ed[Vf],Pb=Uf.toLowerCase(),Vb=Uf[0].toUpperCase()+Uf.slice(1);Yn(Pb,"on"+Vb)}Yn(Dp,"onAnimationEnd"),Yn(kp,"onAnimationIteration"),Yn(xp,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(eb,"onTransitionRun"),Yn(tb,"onTransitionStart"),Yn(nb,"onTransitionCancel"),Yn(Lp,"onTransitionEnd"),Oa("onMouseEnter",["mouseout","mouseover"]),Oa("onMouseLeave",["mouseout","mouseover"]),Oa("onPointerEnter",["pointerout","pointerover"]),Oa("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ub=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function Zv(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var E=l.length-1;0<=E;E--){var A=l[E],k=A.instance,G=A.currentTarget;if(A=A.listener,k!==f&&h.isPropagationStopped())break e;f=A,h.currentTarget=G;try{f(h)}catch(te){gc(te)}h.currentTarget=null,f=k}else for(E=0;E<l.length;E++){if(A=l[E],k=A.instance,G=A.currentTarget,A=A.listener,k!==f&&h.isPropagationStopped())break e;f=A,h.currentTarget=G;try{f(h)}catch(te){gc(te)}h.currentTarget=null,f=k}}}}function Ve(t,i){var s=i[Oo];s===void 0&&(s=i[Oo]=new Set);var l=t+"__bubble";s.has(l)||(e_(i,t,2,!1),s.add(l))}function zf(t,i,s){var l=0;i&&(l|=4),e_(s,t,l,i)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function Bf(t){if(!t[Mc]){t[Mc]=!0,Po.forEach(function(s){s!=="selectionchange"&&(Ub.has(s)||zf(s,!1,t),zf(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Mc]||(i[Mc]=!0,zf("selectionchange",!1,i))}}function e_(t,i,s,l){switch(b_(i)){case 2:var h=hw;break;case 8:h=dw;break;default:h=em}s=h.bind(null,i,s,t),h=void 0,!kn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function jf(t,i,s,l,h){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var A=l.stateNode.containerInfo;if(A===h)break;if(E===4)for(E=l.return;E!==null;){var k=E.tag;if((k===3||k===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;A!==null;){if(E=La(A),E===null)return;if(k=E.tag,k===5||k===6||k===26||k===27){l=f=E;continue e}A=A.parentNode}}l=l.return}Du(function(){var G=f,te=Dn(s),ae=[];e:{var q=Op.get(t);if(q!==void 0){var J=ys,Re=t;switch(t){case"keypress":if(fa(s)===0)break e;case"keydown":case"keyup":J=Ss;break;case"focusin":Re="focus",J=Es;break;case"focusout":Re="blur",J=Es;break;case"beforeblur":case"afterblur":J=Es;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=zu;break;case Dp:case kp:case xp:J=As;break;case Lp:J=ju;break;case"scroll":case"scrollend":J=ku;break;case"wheel":J=bs;break;case"copy":case"cut":case"paste":J=Ts;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Yo;break;case"toggle":case"beforetoggle":J=Gu}var Te=(i&4)!==0,tt=!Te&&(t==="scroll"||t==="scrollend"),U=Te?q!==null?q+"Capture":null:q;Te=[];for(var O=G,j;O!==null;){var ne=O;if(j=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||j===null||U===null||(ne=br(O,U),ne!=null&&Te.push(wl(O,ne,j))),tt)break;O=O.return}0<Te.length&&(q=new J(q,Re,null,s,te),ae.push({event:q,listeners:Te}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",q&&s!==Ua&&(Re=s.relatedTarget||s.fromElement)&&(La(Re)||Re[Mn]))break e;if((J||q)&&(q=te.window===te?te:(q=te.ownerDocument)?q.defaultView||q.parentWindow:window,J?(Re=s.relatedTarget||s.toElement,J=G,Re=Re?La(Re):null,Re!==null&&(tt=u(Re),Te=Re.tag,Re!==tt||Te!==5&&Te!==27&&Te!==6)&&(Re=null)):(J=null,Re=G),J!==Re)){if(Te=xn,ne="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Te=Yo,ne="onPointerLeave",U="onPointerEnter",O="pointer"),tt=J==null?q:ua(J),j=Re==null?q:ua(Re),q=new Te(ne,O+"leave",J,s,te),q.target=tt,q.relatedTarget=j,ne=null,La(te)===G&&(Te=new Te(U,O+"enter",Re,s,te),Te.target=j,Te.relatedTarget=tt,ne=Te),tt=ne,J&&Re)t:{for(Te=J,U=Re,O=0,j=Te;j;j=$s(j))O++;for(j=0,ne=U;ne;ne=$s(ne))j++;for(;0<O-j;)Te=$s(Te),O--;for(;0<j-O;)U=$s(U),j--;for(;O--;){if(Te===U||U!==null&&Te===U.alternate)break t;Te=$s(Te),U=$s(U)}Te=null}else Te=null;J!==null&&t_(ae,q,J,Te,!1),Re!==null&&tt!==null&&t_(ae,tt,Re,Te,!0)}}e:{if(q=G?ua(G):window,J=q.nodeName&&q.nodeName.toLowerCase(),J==="select"||J==="input"&&q.type==="file")var pe=Ep;else if(Mt(q))if(Ap)pe=W0;else{pe=$0;var Oe=Y0}else J=q.nodeName,!J||J.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?G&&jo(G.elementType)&&(pe=Ep):pe=Q0;if(pe&&(pe=pe(t,G))){Ga(ae,pe,s,te);break e}Oe&&Oe(t,q,G),t==="focusout"&&G&&q.type==="number"&&G.memoizedProps.value!=null&&bi(q,"number",q.value)}switch(Oe=G?ua(G):window,t){case"focusin":(Mt(Oe)||Oe.contentEditable==="true")&&(ws=Oe,yd=G,Wo=null);break;case"focusout":Wo=yd=ws=null;break;case"mousedown":vd=!0;break;case"contextmenu":case"mouseup":case"dragend":vd=!1,Mp(ae,s,te);break;case"selectionchange":if(Z0)break;case"keydown":case"keyup":Mp(ae,s,te)}var _e;if(pa)e:{switch(t){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else je?X(t,s)&&(Se="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Se="onCompositionStart");Se&&(v&&s.locale!=="ko"&&(je||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&je&&(_e=Go()):(da=te,wi="value"in da?da.value:da.textContent,je=!0)),Oe=Nc(G,Se),0<Oe.length&&(Se=new qo(Se,t,null,s,te),ae.push({event:Se,listeners:Oe}),_e?Se.data=_e:(_e=de(s),_e!==null&&(Se.data=_e)))),(_e=y?It(t,s):He(t,s))&&(Se=Nc(G,"onBeforeInput"),0<Se.length&&(Oe=new qo("onBeforeInput","beforeinput",null,s,te),ae.push({event:Oe,listeners:Se}),Oe.data=_e)),Ob(ae,t,G,s,te)}Zv(ae,i)})}function wl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Nc(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=br(t,s),h!=null&&l.unshift(wl(t,h,f)),h=br(t,i),h!=null&&l.push(wl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function $s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function t_(t,i,s,l,h){for(var f=i._reactName,E=[];s!==null&&s!==l;){var A=s,k=A.alternate,G=A.stateNode;if(A=A.tag,k!==null&&k===l)break;A!==5&&A!==26&&A!==27||G===null||(k=G,h?(G=br(s,f),G!=null&&E.unshift(wl(s,G,k))):h||(G=br(s,f),G!=null&&E.push(wl(s,G,k)))),s=s.return}E.length!==0&&t.push({event:i,listeners:E})}var zb=/\r\n?/g,Bb=/\u0000|\uFFFD/g;function n_(t){return(typeof t=="string"?t:""+t).replace(zb,`
`).replace(Bb,"")}function a_(t,i){return i=n_(i),n_(t)===i}function Dc(){}function et(t,i,s,l,h,f){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Nn(t,""+l);break;case"className":ca(t,"class",l);break;case"tabIndex":ca(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ca(t,s,l);break;case"style":Bo(t,l,f);break;case"data":if(i!=="object"){ca(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ps(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(i!=="input"&&et(t,i,"name",h.name,h,null),et(t,i,"formEncType",h.formEncType,h,null),et(t,i,"formMethod",h.formMethod,h,null),et(t,i,"formTarget",h.formTarget,h,null)):(et(t,i,"encType",h.encType,h,null),et(t,i,"method",h.method,h,null),et(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ps(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Dc);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=ps(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),Si(t,"popover",l);break;case"xlinkActuate":jt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Si(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=cd.get(s)||s,Si(t,s,l))}}function Hf(t,i,s,l,h,f){switch(s){case"style":Bo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&Nn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Dc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hs.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),f=t[Et]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Si(t,s,l)}}}function Ft(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var E=s[f];if(E!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:et(t,i,f,E,s,null)}}h&&et(t,i,"srcSet",s.srcSet,s,null),l&&et(t,i,"src",s.src,s,null);return;case"input":Ve("invalid",t);var A=f=E=h=null,k=null,G=null;for(l in s)if(s.hasOwnProperty(l)){var te=s[l];if(te!=null)switch(l){case"name":h=te;break;case"type":E=te;break;case"checked":k=te;break;case"defaultChecked":G=te;break;case"value":f=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,i));break;default:et(t,i,l,te,s,null)}}Ar(t,f,A,k,G,E,h,!1),gs(t);return;case"select":Ve("invalid",t),l=E=f=null;for(h in s)if(s.hasOwnProperty(h)&&(A=s[h],A!=null))switch(h){case"value":f=A;break;case"defaultValue":E=A;break;case"multiple":l=A;default:et(t,i,h,A,s,null)}i=f,s=E,t.multiple=!!l,i!=null?Va(t,!!l,i,!1):s!=null&&Va(t,!!l,s,!0);return;case"textarea":Ve("invalid",t),f=h=l=null;for(E in s)if(s.hasOwnProperty(E)&&(A=s[E],A!=null))switch(E){case"value":l=A;break;case"defaultValue":h=A;break;case"children":f=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:et(t,i,E,A,s,null)}Tr(t,l,h,f),gs(t);return;case"option":for(k in s)if(s.hasOwnProperty(k)&&(l=s[k],l!=null))switch(k){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,i,k,l,s,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<bl.length;l++)Ve(bl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in s)if(s.hasOwnProperty(G)&&(l=s[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:et(t,i,G,l,s,null)}return;default:if(jo(i)){for(te in s)s.hasOwnProperty(te)&&(l=s[te],l!==void 0&&Hf(t,i,te,l,s,void 0));return}}for(A in s)s.hasOwnProperty(A)&&(l=s[A],l!=null&&et(t,i,A,l,s,null))}function jb(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,E=null,A=null,k=null,G=null,te=null;for(J in s){var ae=s[J];if(s.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":k=ae;default:l.hasOwnProperty(J)||et(t,i,J,null,l,ae)}}for(var q in l){var J=l[q];if(ae=s[q],l.hasOwnProperty(q)&&(J!=null||ae!=null))switch(q){case"type":f=J;break;case"name":h=J;break;case"checked":G=J;break;case"defaultChecked":te=J;break;case"value":E=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,i));break;default:J!==ae&&et(t,i,q,J,l,ae)}}_n(t,E,A,k,G,te,f,h);return;case"select":J=E=A=q=null;for(f in s)if(k=s[f],s.hasOwnProperty(f)&&k!=null)switch(f){case"value":break;case"multiple":J=k;default:l.hasOwnProperty(f)||et(t,i,f,null,l,k)}for(h in l)if(f=l[h],k=s[h],l.hasOwnProperty(h)&&(f!=null||k!=null))switch(h){case"value":q=f;break;case"defaultValue":A=f;break;case"multiple":E=f;default:f!==k&&et(t,i,h,f,l,k)}i=A,s=E,l=J,q!=null?Va(t,!!s,q,!1):!!l!=!!s&&(i!=null?Va(t,!!s,i,!0):Va(t,!!s,s?[]:"",!1));return;case"textarea":J=q=null;for(A in s)if(h=s[A],s.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:et(t,i,A,null,l,h)}for(E in l)if(h=l[E],f=s[E],l.hasOwnProperty(E)&&(h!=null||f!=null))switch(E){case"value":q=h;break;case"defaultValue":J=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&et(t,i,E,h,l,f)}Xe(t,q,J);return;case"option":for(var Re in s)if(q=s[Re],s.hasOwnProperty(Re)&&q!=null&&!l.hasOwnProperty(Re))switch(Re){case"selected":t.selected=!1;break;default:et(t,i,Re,null,l,q)}for(k in l)if(q=l[k],J=s[k],l.hasOwnProperty(k)&&q!==J&&(q!=null||J!=null))switch(k){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:et(t,i,k,q,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in s)q=s[Te],s.hasOwnProperty(Te)&&q!=null&&!l.hasOwnProperty(Te)&&et(t,i,Te,null,l,q);for(G in l)if(q=l[G],J=s[G],l.hasOwnProperty(G)&&q!==J&&(q!=null||J!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:et(t,i,G,q,l,J)}return;default:if(jo(i)){for(var tt in s)q=s[tt],s.hasOwnProperty(tt)&&q!==void 0&&!l.hasOwnProperty(tt)&&Hf(t,i,tt,void 0,l,q);for(te in l)q=l[te],J=s[te],!l.hasOwnProperty(te)||q===J||q===void 0&&J===void 0||Hf(t,i,te,q,l,J);return}}for(var U in s)q=s[U],s.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&et(t,i,U,null,l,q);for(ae in l)q=l[ae],J=s[ae],!l.hasOwnProperty(ae)||q===J||q==null&&J==null||et(t,i,ae,q,l,J)}var Gf=null,Kf=null;function kc(t){return t.nodeType===9?t:t.ownerDocument}function i_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ff(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var qf=null;function Hb(){var t=window.event;return t&&t.type==="popstate"?t===qf?!1:(qf=t,!0):(qf=null,!1)}var s_=typeof setTimeout=="function"?setTimeout:void 0,Gb=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,Kb=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(t){return o_.resolve(null).then(t).catch(Fb)}:s_;function Fb(t){setTimeout(function(){throw t})}function ji(t){return t==="head"}function l_(t,i){var s=i,l=0,h=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<l&&8>l){s=l;var E=t.ownerDocument;if(s&1&&Rl(E.documentElement),s&2&&Rl(E.body),s&4)for(s=E.head,Rl(s),E=s.firstChild;E;){var A=E.nextSibling,k=E.nodeName;E[yr]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=A}}if(h===0){t.removeChild(f),Ll(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=f}while(s);Ll(i)}function Jf(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Jf(s),Ti(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function qb(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function Jb(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Qn(t.nextSibling),t===null))return null;return t}function Yf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Yb(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Qn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var $f=null;function u_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function c_(t,i,s){switch(i=kc(s),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Rl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ti(t)}var Bn=new Map,h_=new Set;function xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ni=$.d;$.d={f:$b,r:Qb,D:Wb,C:Xb,L:Zb,m:ew,X:nw,S:tw,M:aw};function $b(){var t=ni.f(),i=bc();return t||i}function Qb(t){var i=la(t);i!==null&&i.tag===5&&i.type==="form"?Dy(i):ni.r(t)}var Qs=typeof document>"u"?null:document;function d_(t,i,s){var l=Qs;if(l&&typeof i=="string"&&i){var h=At(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),h_.has(h)||(h_.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",t),pt(i),l.head.appendChild(i)))}}function Wb(t){ni.D(t),d_("dns-prefetch",t,null)}function Xb(t,i){ni.C(t,i),d_("preconnect",t,i)}function Zb(t,i,s){ni.L(t,i,s);var l=Qs;if(l&&t&&i){var h='link[rel="preload"][as="'+At(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+At(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+At(s.imageSizes)+'"]')):h+='[href="'+At(t)+'"]';var f=h;switch(i){case"style":f=Ws(t);break;case"script":f=Xs(t)}Bn.has(f)||(t=_({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Bn.set(f,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Cl(f))||i==="script"&&l.querySelector(Il(f))||(i=l.createElement("link"),Ft(i,"link",t),pt(i),l.head.appendChild(i)))}}function ew(t,i){ni.m(t,i);var s=Qs;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+At(l)+'"][href="'+At(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Xs(t)}if(!Bn.has(f)&&(t=_({rel:"modulepreload",href:t},i),Bn.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Il(f)))return}l=s.createElement("link"),Ft(l,"link",t),pt(l),s.head.appendChild(l)}}}function tw(t,i,s){ni.S(t,i,s);var l=Qs;if(l&&t){var h=on(l).hoistableStyles,f=Ws(t);i=i||"default";var E=h.get(f);if(!E){var A={loading:0,preload:null};if(E=l.querySelector(Cl(f)))A.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Bn.get(f))&&Qf(t,s);var k=E=l.createElement("link");pt(k),Ft(k,"link",t),k._p=new Promise(function(G,te){k.onload=G,k.onerror=te}),k.addEventListener("load",function(){A.loading|=1}),k.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Lc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:A},h.set(f,E)}}}function nw(t,i){ni.X(t,i);var s=Qs;if(s&&t){var l=on(s).hoistableScripts,h=Xs(t),f=l.get(h);f||(f=s.querySelector(Il(h)),f||(t=_({src:t,async:!0},i),(i=Bn.get(h))&&Wf(t,i),f=s.createElement("script"),pt(f),Ft(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function aw(t,i){ni.M(t,i);var s=Qs;if(s&&t){var l=on(s).hoistableScripts,h=Xs(t),f=l.get(h);f||(f=s.querySelector(Il(h)),f||(t=_({src:t,async:!0,type:"module"},i),(i=Bn.get(h))&&Wf(t,i),f=s.createElement("script"),pt(f),Ft(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function f_(t,i,s,l){var h=(h=fe.current)?xc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Ws(s.href),s=on(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ws(s.href);var f=on(h).hoistableStyles,E=f.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,E),(f=h.querySelector(Cl(t)))&&!f._p&&(E.instance=f,E.state.loading=5),Bn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Bn.set(t,s),f||iw(h,t,s,E.state))),i&&l===null)throw Error(r(528,""));return E}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xs(s),s=on(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ws(t){return'href="'+At(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function m_(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function iw(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",s),pt(i),t.head.appendChild(i))}function Xs(t){return'[src="'+At(t)+'"]'}function Il(t){return"script[async]"+t}function g_(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+At(s.href)+'"]');if(l)return i.instance=l,pt(l),l;var h=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),pt(l),Ft(l,"style",h),Lc(l,s.precedence,t),i.instance=l;case"stylesheet":h=Ws(s.href);var f=t.querySelector(Cl(h));if(f)return i.state.loading|=4,i.instance=f,pt(f),f;l=m_(s),(h=Bn.get(h))&&Qf(l,h),f=(t.ownerDocument||t).createElement("link"),pt(f);var E=f;return E._p=new Promise(function(A,k){E.onload=A,E.onerror=k}),Ft(f,"link",l),i.state.loading|=4,Lc(f,s.precedence,t),i.instance=f;case"script":return f=Xs(s.src),(h=t.querySelector(Il(f)))?(i.instance=h,pt(h),h):(l=s,(h=Bn.get(f))&&(l=_({},s),Wf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),pt(h),Ft(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Lc(l,s.precedence,t));return i.instance}function Lc(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,E=0;E<l.length;E++){var A=l[E];if(A.dataset.precedence===i)f=A;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Qf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Wf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Oc=null;function p_(t,i,s){if(Oc===null){var l=new Map,h=Oc=new Map;h.set(s,l)}else h=Oc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[yr]||f[Ct]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var E=f.getAttribute(i)||"";E=t+E;var A=l.get(E);A?A.push(f):l.set(E,[f])}}return l}function y_(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function rw(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function v_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ml=null;function sw(){}function ow(t,i,s){if(Ml===null)throw Error(r(475));var l=Ml;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ws(s.href),f=t.querySelector(Cl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Pc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=f,pt(f);return}f=t.ownerDocument||t,s=m_(s),(h=Bn.get(h))&&Qf(s,h),f=f.createElement("link"),pt(f);var E=f;E._p=new Promise(function(A,k){E.onload=A,E.onerror=k}),Ft(f,"link",s),i.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Pc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function lw(){if(Ml===null)throw Error(r(475));var t=Ml;return t.stylesheets&&t.count===0&&Xf(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&Xf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Pc(){if(this.count--,this.count===0){if(this.stylesheets)Xf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vc=null;function Xf(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vc=new Map,i.forEach(uw,t),Vc=null,Pc.call(t))}function uw(t,i){if(!(i.state.loading&4)){var s=Vc.get(t);if(s)var l=s.get(null);else{s=new Map,Vc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var E=h[f];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),f=s.get(E)||l,f===l&&s.set(null,h),s.set(E,h),this.count++,l=Pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Nl={$$typeof:Z,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function cw(t,i,s,l,h,f,E,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ka(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ka(0),this.hiddenUpdates=ka(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function __(t,i,s,l,h,f,E,A,k,G,te,ae){return t=new cw(t,i,s,E,A,k,G,ae),i=1,f===!0&&(i|=24),f=An(3,null,null,i),t.current=f,f.stateNode=t,i=kd(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:i},Pd(f),t}function E_(t){return t?(t=Ms,t):Ms}function A_(t,i,s,l,h,f){h=E_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ii(i),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Mi(t,l,i),s!==null&&(Rn(s,t,i),sl(s,t,i))}function T_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Zf(t,i){T_(t,i),(t=t.alternate)&&T_(t,i)}function S_(t){if(t.tag===13){var i=Is(t,67108864);i!==null&&Rn(i,t,67108864),Zf(t,67108864)}}var Uc=!0;function hw(t,i,s,l){var h=H.T;H.T=null;var f=$.p;try{$.p=2,em(t,i,s,l)}finally{$.p=f,H.T=h}}function dw(t,i,s,l){var h=H.T;H.T=null;var f=$.p;try{$.p=8,em(t,i,s,l)}finally{$.p=f,H.T=h}}function em(t,i,s,l){if(Uc){var h=tm(l);if(h===null)jf(t,i,l,zc,s),w_(t,l);else if(mw(h,t,i,s,l))l.stopPropagation();else if(w_(t,l),i&4&&-1<fw.indexOf(t)){for(;h!==null;){var f=la(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var E=Fn(f.pendingLanes);if(E!==0){var A=f;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var k=1<<31-Qt(E);A.entanglements[1]|=k,E&=~k}Ta(f),(Qe&6)===0&&(Tc=hn()+500,Sl(0))}}break;case 13:A=Is(f,2),A!==null&&Rn(A,f,2),bc(),Zf(f,2)}if(f=tm(l),f===null&&jf(t,i,l,zc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else jf(t,i,l,null,s)}}function tm(t){return t=Dn(t),nm(t)}var zc=null;function nm(t){if(zc=null,t=La(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=d(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return zc=t,null}function b_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dr()){case Ae:return 2;case st:return 8;case gt:case vi:return 32;case sn:return 268435456;default:return 32}default:return 32}}var am=!1,Hi=null,Gi=null,Ki=null,Dl=new Map,kl=new Map,Fi=[],fw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w_(t,i){switch(t){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(i.pointerId)}}function xl(t,i,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},i!==null&&(i=la(i),i!==null&&S_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function mw(t,i,s,l,h){switch(i){case"focusin":return Hi=xl(Hi,t,i,s,l,h),!0;case"dragenter":return Gi=xl(Gi,t,i,s,l,h),!0;case"mouseover":return Ki=xl(Ki,t,i,s,l,h),!0;case"pointerover":var f=h.pointerId;return Dl.set(f,xl(Dl.get(f)||null,t,i,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,kl.set(f,xl(kl.get(f)||null,t,i,s,l,h)),!0}return!1}function R_(t){var i=La(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=d(s),i!==null){t.blockedOn=i,bu(t.priority,function(){if(s.tag===13){var l=wn();l=_i(l);var h=Is(s,l);h!==null&&Rn(h,s,l),Zf(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=tm(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Ua=l,s.target.dispatchEvent(l),Ua=null}else return i=la(s),i!==null&&S_(i),t.blockedOn=s,!1;i.shift()}return!0}function C_(t,i,s){Bc(t)&&s.delete(i)}function gw(){am=!1,Hi!==null&&Bc(Hi)&&(Hi=null),Gi!==null&&Bc(Gi)&&(Gi=null),Ki!==null&&Bc(Ki)&&(Ki=null),Dl.forEach(C_),kl.forEach(C_)}function jc(t,i){t.blockedOn===i&&(t.blockedOn=null,am||(am=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,gw)))}var Hc=null;function I_(t){Hc!==t&&(Hc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Hc===t&&(Hc=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(nm(l||s)===null)continue;break}var f=la(s);f!==null&&(t.splice(i,3),i-=3,tf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Ll(t){function i(k){return jc(k,t)}Hi!==null&&jc(Hi,t),Gi!==null&&jc(Gi,t),Ki!==null&&jc(Ki,t),Dl.forEach(i),kl.forEach(i);for(var s=0;s<Fi.length;s++){var l=Fi[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Fi.length&&(s=Fi[0],s.blockedOn===null);)R_(s),s.blockedOn===null&&Fi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],E=h[Et]||null;if(typeof f=="function")E||I_(s);else if(E){var A=null;if(f&&f.hasAttribute("formAction")){if(h=f,E=f[Et]||null)A=E.formAction;else if(nm(h)!==null)continue}else A=E.action;typeof A=="function"?s[l+1]=A:(s.splice(l,3),l-=3),I_(s)}}}function im(t){this._internalRoot=t}Gc.prototype.render=im.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var s=i.current,l=wn();A_(s,l,t,i,null,null)},Gc.prototype.unmount=im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;A_(t.current,2,null,t,null,null),bc(),i[Mn]=null}};function Gc(t){this._internalRoot=t}Gc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ei();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Fi.length&&i!==0&&i<Fi[s].priority;s++);Fi.splice(s,0,t),s===0&&R_(t)}};var M_=e.version;if(M_!=="19.1.0")throw Error(r(527,M_,"19.1.0"));$.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var pw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{dt=Kc.inject(pw),$e=Kc}catch{}}return Pl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var s=!1,l="",h=Fy,f=qy,E=Jy,A=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=__(t,1,!1,null,null,s,l,h,f,E,A,null),t[Mn]=i.current,Bf(t),new im(i)},Pl.hydrateRoot=function(t,i,s){if(!o(t))throw Error(r(299));var l=!1,h="",f=Fy,E=qy,A=Jy,k=null,G=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(k=s.unstable_transitionCallbacks),s.formState!==void 0&&(G=s.formState)),i=__(t,1,!0,i,s??null,l,h,f,E,A,k,G),i.context=E_(null),s=i.current,l=wn(),l=_i(l),h=Ii(l),h.callback=null,Mi(s,h,l),s=l,i.current.lanes=s,xa(i,s),Ta(i),t[Mn]=i.current,Bf(t),new Gc(i)},Pl.version="19.1.0",Pl}var z_;function Cw(){if(z_)return om.exports;z_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),om.exports=Rw(),om.exports}var Iw=Cw(),Vl={},B_;function Mw(){if(B_)return Vl;B_=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.parse=d,Vl.serialize=p;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function d(T,P){const L=new u,Y=T.length;if(Y<2)return L;const K=(P==null?void 0:P.decode)||_;let W=0;do{const F=T.indexOf("=",W);if(F===-1)break;const Z=T.indexOf(";",W),ce=Z===-1?Y:Z;if(F>ce){W=T.lastIndexOf(";",F-1)+1;continue}const ee=m(T,W,F),re=g(T,F,ee),D=T.slice(ee,re);if(L[D]===void 0){let b=m(T,F+1,ce),R=g(T,ce,b);const N=K(T.slice(b,R));L[D]=N}W=ce+1}while(W<Y);return L}function m(T,P,L){do{const Y=T.charCodeAt(P);if(Y!==32&&Y!==9)return P}while(++P<L);return L}function g(T,P,L){for(;P>L;){const Y=T.charCodeAt(--P);if(Y!==32&&Y!==9)return P+1}return L}function p(T,P,L){const Y=(L==null?void 0:L.encode)||encodeURIComponent;if(!a.test(T))throw new TypeError(`argument name is invalid: ${T}`);const K=Y(P);if(!e.test(K))throw new TypeError(`argument val is invalid: ${P}`);let W=T+"="+K;if(!L)return W;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);W+="; Max-Age="+L.maxAge}if(L.domain){if(!n.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);W+="; Domain="+L.domain}if(L.path){if(!r.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);W+="; Path="+L.path}if(L.expires){if(!S(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);W+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(W+="; HttpOnly"),L.secure&&(W+="; Secure"),L.partitioned&&(W+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return W}function _(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function S(T){return o.call(T)==="[object Date]"}return Vl}Mw();var j_="popstate";function Nw(a={}){function e(r,o){let{pathname:u,search:d,hash:m}=r.location;return Mm("",{pathname:u,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Wl(o)}return kw(e,n,null,a)}function ut(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function ta(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Dw(){return Math.random().toString(36).substring(2,10)}function H_(a,e){return{usr:a.state,key:a.key,idx:e}}function Mm(a,e,n=null,r){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?vo(e):e,state:n,key:e&&e.key||r||Dw()}}function Wl({pathname:a="/",search:e="",hash:n=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(a+=n.charAt(0)==="#"?n:"#"+n),a}function vo(a){let e={};if(a){let n=a.indexOf("#");n>=0&&(e.hash=a.substring(n),a=a.substring(0,n));let r=a.indexOf("?");r>=0&&(e.search=a.substring(r),a=a.substring(0,r)),a&&(e.pathname=a)}return e}function kw(a,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,d=o.history,m="POP",g=null,p=_();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function _(){return(d.state||{idx:null}).idx}function S(){m="POP";let K=_(),W=K==null?null:K-p;p=K,g&&g({action:m,location:Y.location,delta:W})}function T(K,W){m="PUSH";let F=Mm(Y.location,K,W);p=_()+1;let Z=H_(F,p),ce=Y.createHref(F);try{d.pushState(Z,"",ce)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;o.location.assign(ce)}u&&g&&g({action:m,location:Y.location,delta:1})}function P(K,W){m="REPLACE";let F=Mm(Y.location,K,W);p=_();let Z=H_(F,p),ce=Y.createHref(F);d.replaceState(Z,"",ce),u&&g&&g({action:m,location:Y.location,delta:0})}function L(K){return xw(K)}let Y={get action(){return m},get location(){return a(o,d)},listen(K){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(j_,S),g=K,()=>{o.removeEventListener(j_,S),g=null}},createHref(K){return e(o,K)},createURL:L,encodeLocation(K){let W=L(K);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:T,replace:P,go(K){return d.go(K)}};return Y}function xw(a,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let r=typeof a=="string"?a:Wl(a);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function PA(a,e,n="/"){return Lw(a,e,n,!1)}function Lw(a,e,n,r){let o=typeof e=="string"?vo(e):e,u=hi(o.pathname||"/",n);if(u==null)return null;let d=VA(a);Ow(d);let m=null;for(let g=0;m==null&&g<d.length;++g){let p=qw(u);m=Kw(d[g],p,r)}return m}function VA(a,e=[],n=[],r=""){let o=(u,d,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};g.relativePath.startsWith("/")&&(ut(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length));let p=ui([r,g.relativePath]),_=n.concat(g);u.children&&u.children.length>0&&(ut(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),VA(u.children,e,_,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:Hw(p,u.index),routesMeta:_})};return a.forEach((u,d)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,d);else for(let g of UA(u.path))o(u,d,g)}),e}function UA(a){let e=a.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let d=UA(r.join("/")),m=[];return m.push(...d.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...d),m.map(g=>a.startsWith("/")&&g===""?"/":g)}function Ow(a){a.sort((e,n)=>e.score!==n.score?n.score-e.score:Gw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Pw=/^:[\w-]+$/,Vw=3,Uw=2,zw=1,Bw=10,jw=-2,G_=a=>a==="*";function Hw(a,e){let n=a.split("/"),r=n.length;return n.some(G_)&&(r+=jw),e&&(r+=Uw),n.filter(o=>!G_(o)).reduce((o,u)=>o+(Pw.test(u)?Vw:u===""?zw:Bw),r)}function Gw(a,e){return a.length===e.length&&a.slice(0,-1).every((r,o)=>r===e[o])?a[a.length-1]-e[e.length-1]:0}function Kw(a,e,n=!1){let{routesMeta:r}=a,o={},u="/",d=[];for(let m=0;m<r.length;++m){let g=r[m],p=m===r.length-1,_=u==="/"?e:e.slice(u.length)||"/",S=ch({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},_),T=g.route;if(!S&&p&&n&&!r[r.length-1].route.index&&(S=ch({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!S)return null;Object.assign(o,S.params),d.push({params:o,pathname:ui([u,S.pathname]),pathnameBase:Qw(ui([u,S.pathnameBase])),route:T}),S.pathnameBase!=="/"&&(u=ui([u,S.pathnameBase]))}return d}function ch(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[n,r]=Fw(a.path,a.caseSensitive,a.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((p,{paramName:_,isOptional:S},T)=>{if(_==="*"){let L=m[T]||"";d=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const P=m[T];return S&&!P?p[_]=void 0:p[_]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:a}}function Fw(a,e=!1,n=!0){ta(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let r=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,g)=>(r.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(r.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function qw(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ta(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function hi(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=a.charAt(n);return r&&r!=="/"?null:a.slice(n)||"/"}function Jw(a,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof a=="string"?vo(a):a;return{pathname:n?n.startsWith("/")?n:Yw(n,e):e,search:Ww(r),hash:Xw(o)}}function Yw(a,e){let n=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function hm(a,e,n,r){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $w(a){return a.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sg(a){let e=$w(a);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function og(a,e,n,r=!1){let o;typeof a=="string"?o=vo(a):(o={...a},ut(!o.pathname||!o.pathname.includes("?"),hm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),hm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),hm("#","search","hash",o)));let u=a===""||o.pathname==="",d=u?"/":o.pathname,m;if(d==null)m=n;else{let S=e.length-1;if(!r&&d.startsWith("..")){let T=d.split("/");for(;T[0]==="..";)T.shift(),S-=1;o.pathname=T.join("/")}m=S>=0?e[S]:"/"}let g=Jw(o,m),p=d&&d!=="/"&&d.endsWith("/"),_=(u||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||_)&&(g.pathname+="/"),g}var ui=a=>a.join("/").replace(/\/\/+/g,"/"),Qw=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),Ww=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,Xw=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function Zw(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var zA=["POST","PUT","PATCH","DELETE"];new Set(zA);var eR=["GET",...zA];new Set(eR);var _o=z.createContext(null);_o.displayName="DataRouter";var xh=z.createContext(null);xh.displayName="DataRouterState";var BA=z.createContext({isTransitioning:!1});BA.displayName="ViewTransition";var tR=z.createContext(new Map);tR.displayName="Fetchers";var nR=z.createContext(null);nR.displayName="Await";var ia=z.createContext(null);ia.displayName="Navigation";var cu=z.createContext(null);cu.displayName="Location";var Da=z.createContext({outlet:null,matches:[],isDataRoute:!1});Da.displayName="Route";var lg=z.createContext(null);lg.displayName="RouteError";function aR(a,{relative:e}={}){ut(Eo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=z.useContext(ia),{hash:o,pathname:u,search:d}=hu(a,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ui([n,u])),r.createHref({pathname:m,search:d,hash:o})}function Eo(){return z.useContext(cu)!=null}function ur(){return ut(Eo(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(cu).location}var jA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function HA(a){z.useContext(ia).static||z.useLayoutEffect(a)}function GA(){let{isDataRoute:a}=z.useContext(Da);return a?pR():iR()}function iR(){ut(Eo(),"useNavigate() may be used only in the context of a <Router> component.");let a=z.useContext(_o),{basename:e,navigator:n}=z.useContext(ia),{matches:r}=z.useContext(Da),{pathname:o}=ur(),u=JSON.stringify(sg(r)),d=z.useRef(!1);return HA(()=>{d.current=!0}),z.useCallback((g,p={})=>{if(ta(d.current,jA),!d.current)return;if(typeof g=="number"){n.go(g);return}let _=og(g,JSON.parse(u),o,p.relative==="path");a==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ui([e,_.pathname])),(p.replace?n.replace:n.push)(_,p.state,p)},[e,n,u,o,a])}z.createContext(null);function hu(a,{relative:e}={}){let{matches:n}=z.useContext(Da),{pathname:r}=ur(),o=JSON.stringify(sg(n));return z.useMemo(()=>og(a,JSON.parse(o),r,e==="path"),[a,o,r,e])}function rR(a,e){return KA(a,e)}function KA(a,e,n,r){var W;ut(Eo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(ia),{matches:u}=z.useContext(Da),d=u[u.length-1],m=d?d.params:{},g=d?d.pathname:"/",p=d?d.pathnameBase:"/",_=d&&d.route;{let F=_&&_.path||"";FA(g,!_||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let S=ur(),T;if(e){let F=typeof e=="string"?vo(e):e;ut(p==="/"||((W=F.pathname)==null?void 0:W.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${F.pathname}" was given in the \`location\` prop.`),T=F}else T=S;let P=T.pathname||"/",L=P;if(p!=="/"){let F=p.replace(/^\//,"").split("/");L="/"+P.replace(/^\//,"").split("/").slice(F.length).join("/")}let Y=PA(a,{pathname:L});ta(_||Y!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),ta(Y==null||Y[Y.length-1].route.element!==void 0||Y[Y.length-1].route.Component!==void 0||Y[Y.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=cR(Y&&Y.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:ui([p,o.encodeLocation?o.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?p:ui([p,o.encodeLocation?o.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),u,n,r);return e&&K?z.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},K):K}function sR(){let a=gR(),e=Zw(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),n=a instanceof Error?a.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,d)}var oR=z.createElement(sR,null),lR=class extends z.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?z.createElement(Da.Provider,{value:this.props.routeContext},z.createElement(lg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uR({routeContext:a,match:e,children:n}){let r=z.useContext(_o);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Da.Provider,{value:a},n)}function cR(a,e=[],n=null,r=null){if(a==null){if(!n)return null;if(n.errors)a=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)a=n.matches;else return null}let o=a,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);ut(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let d=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:_,errors:S}=n,T=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!S||S[p.route.id]===void 0);if(p.route.lazy||T){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,_)=>{let S,T=!1,P=null,L=null;n&&(S=u&&p.route.id?u[p.route.id]:void 0,P=p.route.errorElement||oR,d&&(m<0&&_===0?(FA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,L=null):m===_&&(T=!0,L=p.route.hydrateFallbackElement||null)));let Y=e.concat(o.slice(0,_+1)),K=()=>{let W;return S?W=P:T?W=L:p.route.Component?W=z.createElement(p.route.Component,null):p.route.element?W=p.route.element:W=g,z.createElement(uR,{match:p,routeContext:{outlet:g,matches:Y,isDataRoute:n!=null},children:W})};return n&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?z.createElement(lR,{location:n.location,revalidation:n.revalidation,component:P,error:S,children:K(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):K()},null)}function ug(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hR(a){let e=z.useContext(_o);return ut(e,ug(a)),e}function dR(a){let e=z.useContext(xh);return ut(e,ug(a)),e}function fR(a){let e=z.useContext(Da);return ut(e,ug(a)),e}function cg(a){let e=fR(a),n=e.matches[e.matches.length-1];return ut(n.route.id,`${a} can only be used on routes that contain a unique "id"`),n.route.id}function mR(){return cg("useRouteId")}function gR(){var r;let a=z.useContext(lg),e=dR("useRouteError"),n=cg("useRouteError");return a!==void 0?a:(r=e.errors)==null?void 0:r[n]}function pR(){let{router:a}=hR("useNavigate"),e=cg("useNavigate"),n=z.useRef(!1);return HA(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{ta(n.current,jA),n.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...u}))},[a,e])}var K_={};function FA(a,e,n){!e&&!K_[a]&&(K_[a]=!0,ta(!1,n))}z.memo(yR);function yR({routes:a,future:e,state:n}){return KA(a,void 0,n,e)}function qA({to:a,replace:e,state:n,relative:r}){ut(Eo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(ia);ta(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(Da),{pathname:d}=ur(),m=GA(),g=og(a,sg(u),d,r==="path"),p=JSON.stringify(g);return z.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:r})},[m,p,r,e,n]),null}function Nm(a){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vR({basename:a="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1}){ut(!Eo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:d,navigator:o,static:u,future:{}}),[d,o,u]);typeof n=="string"&&(n=vo(n));let{pathname:g="/",search:p="",hash:_="",state:S=null,key:T="default"}=n,P=z.useMemo(()=>{let L=hi(g,d);return L==null?null:{location:{pathname:L,search:p,hash:_,state:S,key:T},navigationType:r}},[d,g,p,_,S,T,r]);return ta(P!=null,`<Router basename="${d}"> is not able to match the URL "${g}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:z.createElement(ia.Provider,{value:m},z.createElement(cu.Provider,{children:e,value:P}))}function _R({children:a,location:e}){return rR(Dm(a),e)}function Dm(a,e=[]){let n=[];return z.Children.forEach(a,(r,o)=>{if(!z.isValidElement(r))return;let u=[...e,o];if(r.type===z.Fragment){n.push.apply(n,Dm(r.props.children,u));return}ut(r.type===Nm,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Dm(r.props.children,u)),n.push(d)}),n}var Xc="get",Zc="application/x-www-form-urlencoded";function Lh(a){return a!=null&&typeof a.tagName=="string"}function ER(a){return Lh(a)&&a.tagName.toLowerCase()==="button"}function AR(a){return Lh(a)&&a.tagName.toLowerCase()==="form"}function TR(a){return Lh(a)&&a.tagName.toLowerCase()==="input"}function SR(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function bR(a,e){return a.button===0&&(!e||e==="_self")&&!SR(a)}var Fc=null;function wR(){if(Fc===null)try{new FormData(document.createElement("form"),0),Fc=!1}catch{Fc=!0}return Fc}var RR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dm(a){return a!=null&&!RR.has(a)?(ta(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zc}"`),null):a}function CR(a,e){let n,r,o,u,d;if(AR(a)){let m=a.getAttribute("action");r=m?hi(m,e):null,n=a.getAttribute("method")||Xc,o=dm(a.getAttribute("enctype"))||Zc,u=new FormData(a)}else if(ER(a)||TR(a)&&(a.type==="submit"||a.type==="image")){let m=a.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=a.getAttribute("formaction")||m.getAttribute("action");if(r=g?hi(g,e):null,n=a.getAttribute("formmethod")||m.getAttribute("method")||Xc,o=dm(a.getAttribute("formenctype"))||dm(m.getAttribute("enctype"))||Zc,u=new FormData(m,a),!wR()){let{name:p,type:_,value:S}=a;if(_==="image"){let T=p?`${p}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else p&&u.append(p,S)}}else{if(Lh(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xc,r=null,o=Zc,d=a}return u&&o==="text/plain"&&(d=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:d}}function hg(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function IR(a,e){if(a.id in e)return e[a.id];try{let n=await import(a.module);return e[a.id]=n,n}catch(n){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MR(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function NR(a,e,n){let r=await Promise.all(a.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await IR(u,n);return d.links?d.links():[]}return[]}));return LR(r.flat(1).filter(MR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function F_(a,e,n,r,o,u){let d=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>{var _;return n[p].pathname!==g.pathname||((_=n[p].route.path)==null?void 0:_.endsWith("*"))&&n[p].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,p)=>d(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{var S;let _=r.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(d(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(a,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function DR(a,e,{includeHydrateFallback:n}={}){return kR(a.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function kR(a){return[...new Set(a)]}function xR(a){let e={},n=Object.keys(a).sort();for(let r of n)e[r]=a[r];return e}function LR(a,e){let n=new Set;return new Set(e),a.reduce((r,o)=>{let u=JSON.stringify(xR(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var OR=new Set([100,101,204,205]);function PR(a,e){let n=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return n.pathname==="/"?n.pathname="_root.data":e&&hi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function JA(){let a=z.useContext(_o);return hg(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function VR(){let a=z.useContext(xh);return hg(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var dg=z.createContext(void 0);dg.displayName="FrameworkContext";function YA(){let a=z.useContext(dg);return hg(a,"You must render this element inside a <HydratedRouter> element"),a}function UR(a,e){let n=z.useContext(dg),[r,o]=z.useState(!1),[u,d]=z.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:_,onTouchStart:S}=e,T=z.useRef(null);z.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let Y=W=>{W.forEach(F=>{d(F.isIntersecting)})},K=new IntersectionObserver(Y,{threshold:.5});return T.current&&K.observe(T.current),()=>{K.disconnect()}}},[a]),z.useEffect(()=>{if(r){let Y=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(Y)}}},[r]);let P=()=>{o(!0)},L=()=>{o(!1),d(!1)};return n?a!=="intent"?[u,T,{}]:[u,T,{onFocus:Ul(m,P),onBlur:Ul(g,L),onMouseEnter:Ul(p,P),onMouseLeave:Ul(_,L),onTouchStart:Ul(S,P)}]:[!1,T,{}]}function Ul(a,e){return n=>{a&&a(n),n.defaultPrevented||e(n)}}function zR({page:a,...e}){let{router:n}=JA(),r=z.useMemo(()=>PA(n.routes,a,n.basename),[n.routes,a,n.basename]);return r?z.createElement(jR,{page:a,matches:r,...e}):null}function BR(a){let{manifest:e,routeModules:n}=YA(),[r,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return NR(a,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[a,e,n]),r}function jR({page:a,matches:e,...n}){let r=ur(),{manifest:o,routeModules:u}=YA(),{basename:d}=JA(),{loaderData:m,matches:g}=VR(),p=z.useMemo(()=>F_(a,e,g,o,r,"data"),[a,e,g,o,r]),_=z.useMemo(()=>F_(a,e,g,o,r,"assets"),[a,e,g,o,r]),S=z.useMemo(()=>{if(a===r.pathname+r.search+r.hash)return[];let L=new Set,Y=!1;if(e.forEach(W=>{var Z;let F=o.routes[W.route.id];!F||!F.hasLoader||(!p.some(ce=>ce.route.id===W.route.id)&&W.route.id in m&&((Z=u[W.route.id])!=null&&Z.shouldRevalidate)||F.hasClientLoader?Y=!0:L.add(W.route.id))}),L.size===0)return[];let K=PR(a,d);return Y&&L.size>0&&K.searchParams.set("_routes",e.filter(W=>L.has(W.route.id)).map(W=>W.route.id).join(",")),[K.pathname+K.search]},[d,m,r,o,p,e,a,u]),T=z.useMemo(()=>DR(_,o),[_,o]),P=BR(_);return z.createElement(z.Fragment,null,S.map(L=>z.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),T.map(L=>z.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),P.map(({key:L,link:Y})=>z.createElement("link",{key:L,...Y})))}function HR(...a){return e=>{a.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var $A=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$A&&(window.__reactRouterVersion="7.6.2")}catch{}function GR({basename:a,children:e,window:n}){let r=z.useRef();r.current==null&&(r.current=Nw({window:n,v5Compat:!0}));let o=r.current,[u,d]=z.useState({action:o.action,location:o.location}),m=z.useCallback(g=>{z.startTransition(()=>d(g))},[d]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(vR,{basename:a,children:e,location:u.location,navigationType:u.action,navigator:o})}var QA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WA=z.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:d,state:m,target:g,to:p,preventScrollReset:_,viewTransition:S,...T},P){let{basename:L}=z.useContext(ia),Y=typeof p=="string"&&QA.test(p),K,W=!1;if(typeof p=="string"&&Y&&(K=p,$A))try{let R=new URL(window.location.href),N=p.startsWith("//")?new URL(R.protocol+p):new URL(p),x=hi(N.pathname,L);N.origin===R.origin&&x!=null?p=x+N.search+N.hash:W=!0}catch{ta(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=aR(p,{relative:o}),[Z,ce,ee]=UR(r,T),re=JR(p,{replace:d,state:m,target:g,preventScrollReset:_,relative:o,viewTransition:S});function D(R){e&&e(R),R.defaultPrevented||re(R)}let b=z.createElement("a",{...T,...ee,href:K||F,onClick:W||u?e:D,ref:HR(P,ce),target:g,"data-discover":!Y&&n==="render"?"true":void 0});return Z&&!Y?z.createElement(z.Fragment,null,b,z.createElement(zR,{page:F})):b});WA.displayName="Link";var KR=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:d,viewTransition:m,children:g,...p},_){let S=hu(d,{relative:p.relative}),T=ur(),P=z.useContext(xh),{navigator:L,basename:Y}=z.useContext(ia),K=P!=null&&XR(S)&&m===!0,W=L.encodeLocation?L.encodeLocation(S).pathname:S.pathname,F=T.pathname,Z=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(F=F.toLowerCase(),Z=Z?Z.toLowerCase():null,W=W.toLowerCase()),Z&&Y&&(Z=hi(Z,Y)||Z);const ce=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let ee=F===W||!o&&F.startsWith(W)&&F.charAt(ce)==="/",re=Z!=null&&(Z===W||!o&&Z.startsWith(W)&&Z.charAt(W.length)==="/"),D={isActive:ee,isPending:re,isTransitioning:K},b=ee?e:void 0,R;typeof r=="function"?R=r(D):R=[r,ee?"active":null,re?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(D):u;return z.createElement(WA,{...p,"aria-current":b,className:R,ref:_,style:N,to:d,viewTransition:m},typeof g=="function"?g(D):g)});KR.displayName="NavLink";var FR=z.forwardRef(({discover:a="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:d=Xc,action:m,onSubmit:g,relative:p,preventScrollReset:_,viewTransition:S,...T},P)=>{let L=QR(),Y=WR(m,{relative:p}),K=d.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&QA.test(m),F=Z=>{if(g&&g(Z),Z.defaultPrevented)return;Z.preventDefault();let ce=Z.nativeEvent.submitter,ee=(ce==null?void 0:ce.getAttribute("formmethod"))||d;L(ce||Z.currentTarget,{fetcherKey:e,method:ee,navigate:n,replace:o,state:u,relative:p,preventScrollReset:_,viewTransition:S})};return z.createElement("form",{ref:P,method:K,action:Y,onSubmit:r?g:F,...T,"data-discover":!W&&a==="render"?"true":void 0})});FR.displayName="Form";function qR(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XA(a){let e=z.useContext(_o);return ut(e,qR(a)),e}function JR(a,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:d}={}){let m=GA(),g=ur(),p=hu(a,{relative:u});return z.useCallback(_=>{if(bR(_,e)){_.preventDefault();let S=n!==void 0?n:Wl(g)===Wl(p);m(a,{replace:S,state:r,preventScrollReset:o,relative:u,viewTransition:d})}},[g,m,p,n,r,e,a,o,u,d])}var YR=0,$R=()=>`__${String(++YR)}__`;function QR(){let{router:a}=XA("useSubmit"),{basename:e}=z.useContext(ia),n=mR();return z.useCallback(async(r,o={})=>{let{action:u,method:d,encType:m,formData:g,body:p}=CR(r,e);if(o.navigate===!1){let _=o.fetcherKey||$R();await a.fetch(_,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await a.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,n])}function WR(a,{relative:e}={}){let{basename:n}=z.useContext(ia),r=z.useContext(Da);ut(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...hu(a||".",{relative:e})},d=ur();if(a==null){u.search=d.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(_=>_==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let _=m.toString();u.search=_?`?${_}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ui([n,u.pathname])),Wl(u)}function XR(a,e={}){let n=z.useContext(BA);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=XA("useViewTransitionState"),o=hu(a,{relative:e.relative});if(!n.isTransitioning)return!1;let u=hi(n.currentLocation.pathname,r)||n.currentLocation.pathname,d=hi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ch(o.pathname,d)!=null||ch(o.pathname,u)!=null}[...OR];const ZR=()=>{};var q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=function(a){const e=[];let n=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},eC=function(a){const e=[];let n=0,r=0;for(;n<a.length;){const o=a[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[n++],d=a[n++],m=a[n++],g=((o&7)<<18|(u&63)<<12|(d&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=a[n++],d=a[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},eT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const u=a[o],d=o+1<a.length,m=d?a[o+1]:0,g=o+2<a.length,p=g?a[o+2]:0,_=u>>2,S=(u&3)<<4|m>>4;let T=(m&15)<<2|p>>6,P=p&63;g||(P=64,d||(T=64)),r.push(n[_],n[S],n[T],n[P])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(ZA(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):eC(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const u=n[a.charAt(o++)],m=o<a.length?n[a.charAt(o)]:0;++o;const p=o<a.length?n[a.charAt(o)]:64;++o;const S=o<a.length?n[a.charAt(o)]:64;if(++o,u==null||m==null||p==null||S==null)throw new tC;const T=u<<2|m>>4;if(r.push(T),p!==64){const P=m<<4&240|p>>2;if(r.push(P),S!==64){const L=p<<6&192|S;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class tC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nC=function(a){const e=ZA(a);return eT.encodeByteArray(e,!0)},hh=function(a){return nC(a).replace(/\./g,"")},tT=function(a){try{return eT.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=()=>aC().__FIREBASE_DEFAULTS__,rC=()=>{if(typeof process>"u"||typeof q_>"u")return;const a=q_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},sC=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&tT(a[1]);return e&&JSON.parse(e)},Oh=()=>{try{return ZR()||iC()||rC()||sC()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},nT=a=>{var e,n;return(n=(e=Oh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[a]},oC=a=>{const e=nT(a);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},aT=()=>{var a;return(a=Oh())===null||a===void 0?void 0:a.config},iT=a=>{var e;return(e=Oh())===null||e===void 0?void 0:e[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(a){return a.endsWith(".cloudworkstations.dev")}async function rT(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},a);return[hh(JSON.stringify(n)),hh(JSON.stringify(d)),""].join(".")}const Kl={};function cC(){const a={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?a.emulator.push(e):a.prod.push(e);return a}function hC(a){let e=document.getElementById(a),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),n=!0),{created:n,element:e}}let J_=!1;function sT(a,e){if(typeof window>"u"||typeof document>"u"||!Ao(window.location.host)||Kl[a]===e||Kl[a]||J_)return;Kl[a]=e;function n(T){return`__firebase__banner__${T}`}const r="__firebase__banner",u=cC().prod.length>0;function d(){const T=document.getElementById(r);T&&T.remove()}function m(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,P){T.setAttribute("width","24"),T.setAttribute("id",P),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{J_=!0,d()},T}function _(T,P){T.setAttribute("id",P),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function S(){const T=hC(r),P=n("text"),L=document.getElementById(P)||document.createElement("span"),Y=n("learnmore"),K=document.getElementById(Y)||document.createElement("a"),W=n("preprendIcon"),F=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Z=T.element;m(Z),_(K,Y);const ce=p();g(F,W),Z.append(F,L,K,ce),document.body.appendChild(Z)}u?(L.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function fC(){var a;const e=(a=Oh())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oT(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function gC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pC(){const a=an();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function yC(){return!fC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lT(){try{return typeof indexedDB=="object"}catch{return!1}}function uT(){return new Promise((a,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}function vC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="FirebaseError";class ra extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_C,Object.setPrototypeOf(this,ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,is.prototype.create)}}class is{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?EC(u,r):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new ra(o,m,r)}}function EC(a,e){return a.replace(AC,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const AC=/\{\$([^}]+)}/g;function TC(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function nr(a,e){if(a===e)return!0;const n=Object.keys(a),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=a[o],d=e[o];if(Y_(u)&&Y_(d)){if(!nr(u,d))return!1}else if(u!==d)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Y_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(a){const e=[];for(const[n,r]of Object.entries(a))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function SC(a,e){const n=new bC(a,e);return n.subscribe.bind(n)}class bC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=fm),o.error===void 0&&(o.error=fm),o.complete===void 0&&(o.complete=fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wC(a,e){if(typeof a!="object"||a===null)return!1;for(const n of e)if(n in a&&typeof a[n]=="function")return!0;return!1}function fm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=1e3,CC=2,IC=4*60*60*1e3,MC=.5;function $_(a,e=RC,n=CC){const r=e*Math.pow(n,a),o=Math.round(MC*r*(Math.random()-.5)*2);return Math.min(IC,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(a){return a&&a._delegate?a._delegate:a}class na{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kC(e))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jr){return this.instances.has(e)}getOptions(e=Jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&d.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(o,u);const d=this.instances.get(o);return d&&e(d,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jr){return this.component?this.component.multipleInstances?e:Jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DC(a){return a===Jr?void 0:a}function kC(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ue||(Ue={}));const LC={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},OC=Ue.INFO,PC={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},VC=(a,e,...n)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=PC[e];if(o)console[o](`[${r}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ph{constructor(e){this.name=e,this._logLevel=OC,this._logHandler=VC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const UC=(a,e)=>e.some(n=>a instanceof n);let Q_,W_;function zC(){return Q_||(Q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BC(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cT=new WeakMap,km=new WeakMap,hT=new WeakMap,mm=new WeakMap,fg=new WeakMap;function jC(a){const e=new Promise((n,r)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",d)},u=()=>{n(Xi(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&cT.set(n,a)}).catch(()=>{}),fg.set(e,a),e}function HC(a){if(km.has(a))return;const e=new Promise((n,r)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",d),a.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",d),a.addEventListener("abort",d)});km.set(a,e)}let xm={get(a,e,n){if(a instanceof IDBTransaction){if(e==="done")return km.get(a);if(e==="objectStoreNames")return a.objectStoreNames||hT.get(a);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xi(a[e])},set(a,e,n){return a[e]=n,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function GC(a){xm=a(xm)}function KC(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=a.call(gm(this),e,...n);return hT.set(r,e.sort?e.sort():[e]),Xi(r)}:BC().includes(a)?function(...e){return a.apply(gm(this),e),Xi(cT.get(this))}:function(...e){return Xi(a.apply(gm(this),e))}}function FC(a){return typeof a=="function"?KC(a):(a instanceof IDBTransaction&&HC(a),UC(a,zC())?new Proxy(a,xm):a)}function Xi(a){if(a instanceof IDBRequest)return jC(a);if(mm.has(a))return mm.get(a);const e=FC(a);return e!==a&&(mm.set(a,e),fg.set(e,a)),e}const gm=a=>fg.get(a);function dT(a,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const d=indexedDB.open(a,e),m=Xi(d);return r&&d.addEventListener("upgradeneeded",g=>{r(Xi(d.result),g.oldVersion,g.newVersion,Xi(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const qC=["get","getKey","getAll","getAllKeys","count"],JC=["put","add","delete","clear"],pm=new Map;function X_(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=JC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||qC.includes(n)))return;const u=async function(d,...m){const g=this.transaction(d,o?"readwrite":"readonly");let p=g.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return pm.set(e,u),u}GC(a=>({...a,get:(e,n,r)=>X_(e,n)||a.get(e,n,r),has:(e,n)=>!!X_(e,n)||a.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($C(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $C(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lm="@firebase/app",Z_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new Ph("@firebase/app"),QC="@firebase/app-compat",WC="@firebase/analytics-compat",XC="@firebase/analytics",ZC="@firebase/app-check-compat",e1="@firebase/app-check",t1="@firebase/auth",n1="@firebase/auth-compat",a1="@firebase/database",i1="@firebase/data-connect",r1="@firebase/database-compat",s1="@firebase/functions",o1="@firebase/functions-compat",l1="@firebase/installations",u1="@firebase/installations-compat",c1="@firebase/messaging",h1="@firebase/messaging-compat",d1="@firebase/performance",f1="@firebase/performance-compat",m1="@firebase/remote-config",g1="@firebase/remote-config-compat",p1="@firebase/storage",y1="@firebase/storage-compat",v1="@firebase/firestore",_1="@firebase/ai",E1="@firebase/firestore-compat",A1="firebase",T1="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="[DEFAULT]",S1={[Lm]:"fire-core",[QC]:"fire-core-compat",[XC]:"fire-analytics",[WC]:"fire-analytics-compat",[e1]:"fire-app-check",[ZC]:"fire-app-check-compat",[t1]:"fire-auth",[n1]:"fire-auth-compat",[a1]:"fire-rtdb",[i1]:"fire-data-connect",[r1]:"fire-rtdb-compat",[s1]:"fire-fn",[o1]:"fire-fn-compat",[l1]:"fire-iid",[u1]:"fire-iid-compat",[c1]:"fire-fcm",[h1]:"fire-fcm-compat",[d1]:"fire-perf",[f1]:"fire-perf-compat",[m1]:"fire-rc",[g1]:"fire-rc-compat",[p1]:"fire-gcs",[y1]:"fire-gcs-compat",[v1]:"fire-fst",[E1]:"fire-fst-compat",[_1]:"fire-vertex","fire-js":"fire-js",[A1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,b1=new Map,Pm=new Map;function eE(a,e){try{a.container.addComponent(e)}catch(n){di.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,n)}}function Ia(a){const e=a.name;if(Pm.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;Pm.set(e,a);for(const n of dh.values())eE(n,a);for(const n of b1.values())eE(n,a);return!0}function rs(a,e){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(e)}function Xn(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new is("app","Firebase",w1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=T1;function fT(a,e={}){let n=a;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Om,automaticDataCollectionEnabled:!0},e),o=r.name;if(typeof o!="string"||!o)throw Zi.create("bad-app-name",{appName:String(o)});if(n||(n=aT()),!n)throw Zi.create("no-options");const u=dh.get(o);if(u){if(nr(n,u.options)&&nr(r,u.config))return u;throw Zi.create("duplicate-app",{appName:o})}const d=new xC(o);for(const g of Pm.values())d.addComponent(g);const m=new R1(n,r,d);return dh.set(o,m),m}function mg(a=Om){const e=dh.get(a);if(!e&&a===Om&&aT())return fT();if(!e)throw Zi.create("no-app",{appName:a});return e}function jn(a,e,n){var r;let o=(r=S1[a])!==null&&r!==void 0?r:a;n&&(o+=`-${n}`);const u=o.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(m.join(" "));return}Ia(new na(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="firebase-heartbeat-database",I1=1,Xl="firebase-heartbeat-store";let ym=null;function mT(){return ym||(ym=dT(C1,I1,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(a=>{throw Zi.create("idb-open",{originalErrorMessage:a.message})})),ym}async function M1(a){try{const n=(await mT()).transaction(Xl),r=await n.objectStore(Xl).get(gT(a));return await n.done,r}catch(e){if(e instanceof ra)di.warn(e.message);else{const n=Zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});di.warn(n.message)}}}async function tE(a,e){try{const r=(await mT()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(e,gT(a)),await r.done}catch(n){if(n instanceof ra)di.warn(n.message);else{const r=Zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});di.warn(r.message)}}}function gT(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=1024,D1=30;class k1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new L1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=nE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>D1){const d=O1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){di.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nE(),{heartbeatsToSend:r,unsentEntries:o}=x1(this._heartbeatsCache.heartbeats),u=hh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return di.warn(n),""}}}function nE(){return new Date().toISOString().substring(0,10)}function x1(a,e=N1){const n=[];let r=a.slice();for(const o of a){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),aE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),aE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class L1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lT()?uT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await M1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return tE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return tE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function aE(a){return hh(JSON.stringify({version:2,heartbeats:a})).length}function O1(a){if(a.length===0)return-1;let e=0,n=a[0].date;for(let r=1;r<a.length;r++)a[r].date<n&&(n=a[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(a){Ia(new na("platform-logger",e=>new YC(e),"PRIVATE")),Ia(new na("heartbeat",e=>new k1(e),"PRIVATE")),jn(Lm,Z_,a),jn(Lm,Z_,"esm2017"),jn("fire-js","")}P1("");function gg(a,e){var n={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(n[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(a);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(a,r[o])&&(n[r[o]]=a[r[o]]);return n}function pT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V1=pT,yT=new is("auth","Firebase",pT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Ph("@firebase/auth");function U1(a,...e){fh.logLevel<=Ue.WARN&&fh.warn(`Auth (${To}): ${a}`,...e)}function eh(a,...e){fh.logLevel<=Ue.ERROR&&fh.error(`Auth (${To}): ${a}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(a,...e){throw yg(a,...e)}function ea(a,...e){return yg(a,...e)}function pg(a,e,n){const r=Object.assign(Object.assign({},V1()),{[e]:n});return new is("auth","Firebase",r).create(e,{appName:a.name})}function Wr(a){return pg(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z1(a,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ma(a,"argument-error"),pg(a,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yg(a,...e){if(typeof a!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(n,...r)}return yT.create(a,...e)}function Ce(a,e,...n){if(!a)throw yg(e,...n)}function oi(a){const e="INTERNAL ASSERTION FAILED: "+a;throw eh(e),new Error(e)}function fi(a,e){a||oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.href)||""}function B1(){return iE()==="http:"||iE()==="https:"}function iE(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B1()||oT()||"connection"in navigator)?navigator.onLine:!0}function H1(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,fi(n>e,"Short delay should be less than long delay!"),this.isMobile=dC()||gC()}get(){return j1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(a,e){fi(a.emulator,"Emulator should always be set here");const{url:n}=a.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],F1=new fu(3e4,6e4);function _g(a,e){return a.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:a.tenantId}):e}async function So(a,e,n,r,o={}){return _T(a,o,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const m=du(Object.assign({key:a.config.apiKey},d)).slice(1),g=await a._getAdditionalHeaders();g["Content-Type"]="application/json",a.languageCode&&(g["X-Firebase-Locale"]=a.languageCode);const p=Object.assign({method:e,headers:g},u);return mC()||(p.referrerPolicy="no-referrer"),a.emulatorConfig&&Ao(a.emulatorConfig.host)&&(p.credentials="include"),vT.fetch()(await ET(a,a.config.apiHost,n,m),p)})}async function _T(a,e,n){a._canInitEmulator=!1;const r=Object.assign(Object.assign({},G1),e);try{const o=new J1(a),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw qc(a,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const m=u.ok?d.errorMessage:d.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(a,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw qc(a,"email-already-in-use",d);if(g==="USER_DISABLED")throw qc(a,"user-disabled",d);const _=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw pg(a,_,p);Ma(a,_)}}catch(o){if(o instanceof ra)throw o;Ma(a,"network-request-failed",{message:String(o)})}}async function q1(a,e,n,r,o={}){const u=await So(a,e,n,r,o);return"mfaPendingCredential"in u&&Ma(a,"multi-factor-auth-required",{_serverResponse:u}),u}async function ET(a,e,n,r){const o=`${e}${n}?${r}`,u=a,d=u.config.emulator?vg(a.config,o):`${a.config.apiScheme}://${o}`;return K1.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class J1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ea(this.auth,"network-request-failed")),F1.get())})}}function qc(a,e,n){const r={appName:a.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=ea(a,e,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y1(a,e){return So(a,"POST","/v1/accounts:delete",e)}async function mh(a,e){return So(a,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $1(a,e=!1){const n=Rt(a),r=await n.getIdToken(e),o=Eg(r);Ce(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:Fl(vm(o.auth_time)),issuedAtTime:Fl(vm(o.iat)),expirationTime:Fl(vm(o.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function vm(a){return Number(a)*1e3}function Eg(a){const[e,n,r]=a.split(".");if(e===void 0||n===void 0||r===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=tT(n);return o?JSON.parse(o):(eh("Failed to decode base64 JWT payload"),null)}catch(o){return eh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function rE(a){const e=Eg(a);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(a,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ra&&Q1(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function Q1({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gh(a){var e;const n=a.auth,r=await a.getIdToken(),o=await Zl(a,mh(n,{idToken:r}));Ce(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];a._notifyReloadListener(u);const d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?AT(u.providerUserInfo):[],m=Z1(a.providerData,d),g=a.isAnonymous,p=!(a.email&&u.passwordHash)&&!(m!=null&&m.length),_=g?p:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Um(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(a,S)}async function X1(a){const e=Rt(a);await gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Z1(a,e){return[...a.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function AT(a){return a.map(e=>{var{providerId:n}=e,r=gg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(a,e){const n=await _T(a,{},async()=>{const r=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=a.config,d=await ET(a,o,"/v1/token",`key=${u}`),m=await a._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return a.emulatorConfig&&Ao(a.emulatorConfig.host)&&(g.credentials="include"),vT.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tI(a,e){return So(a,"POST","/v2/accounts:revokeToken",_g(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=rE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await eI(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,d=new ro;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Ce(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(Ce(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(a,e){Ce(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class Zn{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,u=gg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Um(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Zl(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $1(this,e)}reload(){return X1(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await gh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Wr(this.auth));const e=await this.getIdToken();return await Zl(this,Y1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,u,d,m,g,p,_;const S=(r=n.displayName)!==null&&r!==void 0?r:void 0,T=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,L=(d=n.photoURL)!==null&&d!==void 0?d:void 0,Y=(m=n.tenantId)!==null&&m!==void 0?m:void 0,K=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,W=(p=n.createdAt)!==null&&p!==void 0?p:void 0,F=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Z,emailVerified:ce,isAnonymous:ee,providerData:re,stsTokenManager:D}=n;Ce(Z&&D,e,"internal-error");const b=ro.fromJSON(this.name,D);Ce(typeof Z=="string",e,"internal-error"),Ji(S,e.name),Ji(T,e.name),Ce(typeof ce=="boolean",e,"internal-error"),Ce(typeof ee=="boolean",e,"internal-error"),Ji(P,e.name),Ji(L,e.name),Ji(Y,e.name),Ji(K,e.name),Ji(W,e.name),Ji(F,e.name);const R=new Zn({uid:Z,auth:e,email:T,emailVerified:ce,displayName:S,isAnonymous:ee,photoURL:L,phoneNumber:P,tenantId:Y,stsTokenManager:b,createdAt:W,lastLoginAt:F});return re&&Array.isArray(re)&&(R.providerData=re.map(N=>Object.assign({},N))),K&&(R._redirectEventId=K),R}static async _fromIdTokenResponse(e,n,r=!1){const o=new ro;o.updateFromServerResponse(n);const u=new Zn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await gh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ce(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?AT(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ro;m.updateFromIdToken(r);const g=new Zn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Um(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;function li(a){fi(a instanceof Function,"Expected a class definition");let e=sE.get(a);return e?(fi(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,sE.set(a,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TT.type="NONE";const oE=TT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(a,e,n){return`firebase:${a}:${e}:${n}`}class so{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=th(this.userKey,o.apiKey,u),this.fullPersistenceKey=th("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await mh(this.auth,{idToken:e}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new so(li(oE),e,r);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||li(oE);const d=th(r,e.config.apiKey,e.name);let m=null;for(const p of n)try{const _=await p._get(d);if(_){let S;if(typeof _=="string"){const T=await mh(e,{idToken:_}).catch(()=>{});if(!T)break;S=await Zn._fromGetAccountInfoResponse(e,T,_)}else S=Zn._fromJSON(e,_);p!==u&&(m=S),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new so(u,e,r):(u=g[0],m&&await u._set(d,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(d)}catch{}})),new so(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ST(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IT(e))return"Blackberry";if(MT(e))return"Webos";if(bT(e))return"Safari";if((e.includes("chrome/")||wT(e))&&!e.includes("edge/"))return"Chrome";if(CT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ST(a=an()){return/firefox\//i.test(a)}function bT(a=an()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wT(a=an()){return/crios\//i.test(a)}function RT(a=an()){return/iemobile/i.test(a)}function CT(a=an()){return/android/i.test(a)}function IT(a=an()){return/blackberry/i.test(a)}function MT(a=an()){return/webos/i.test(a)}function Ag(a=an()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function nI(a=an()){var e;return Ag(a)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aI(){return pC()&&document.documentMode===10}function NT(a=an()){return Ag(a)||CT(a)||MT(a)||IT(a)||/windows phone/i.test(a)||RT(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(a,e=[]){let n;switch(a){case"Browser":n=lE(an());break;case"Worker":n=`${lE(an())}-${a}`;break;default:n=a}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((d,m)=>{try{const g=e(u);d(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(a,e={}){return So(a,"GET","/v2/passwordPolicy",_g(a,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=6;class oI{constructor(e){var n,r,o,u;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:sI,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,u,d,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(r=g.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(d=g.containsNumericCharacter)!==null&&d!==void 0?d:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uE(this),this.idTokenSubscription=new uE(this),this.beforeStateQueue=new iI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await so.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mh(this,{idToken:e}),r=await Zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Xn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!d||d===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=H1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(Wr(this));const n=e?Rt(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(Wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rI(this),n=new oI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new is("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await tI(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&li(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(m,this,"internal-error"),m.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&U1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Vh(a){return Rt(a)}class uE{constructor(e){this.auth=e,this.observer=null,this.addObserver=SC(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uI(a){Tg=a}function cI(a){return Tg.loadJS(a)}function hI(){return Tg.gapiScript}function dI(a){return`__${a}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(a,e){const n=rs(a,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(nr(u,e??{}))return o;Ma(o,"already-initialized")}return n.initialize({options:e})}function mI(a,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(li);e!=null&&e.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function gI(a,e,n){const r=Vh(a);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=kT(e),{host:d,port:m}=pI(e),g=m===null?"":`:${m}`,p={url:`${u}//${d}${g}/`},_=Object.freeze({host:d,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(nr(p,r.config.emulator)&&nr(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,Ao(d)?(rT(`${u}//${d}${g}`),sT("Auth",!0)):yI()}function kT(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function pI(a){const e=kT(a),n=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:cE(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:cE(d)}}}function cE(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function yI(){function a(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,n){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(a,e){return q1(a,"POST","/v1/accounts:signInWithIdp",_g(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="http://localhost";class Xr extends xT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ma("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,u=gg(n,["providerId","signInMethod"]);if(!r||!o)return null;const d=new Xr(r,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return oo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oo(e,n)}buildRequest(){const e={requestUri:vI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends Sg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends mu{constructor(){super("facebook.com")}static credential(e){return Xr._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xr._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return si.credential(n,r)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends mu{constructor(){super("github.com")}static credential(e){return Xr._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends mu{constructor(){super("twitter.com")}static credential(e,n){return Xr._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qi.credential(n,r)}catch{return null}}}Qi.TWITTER_SIGN_IN_METHOD="twitter.com";Qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await Zn._fromIdTokenResponse(e,r,o),d=hE(r);return new uo({user:u,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=hE(r);return new uo({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function hE(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends ra{constructor(e,n,r,o){var u;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new ph(e,n,r,o)}}function LT(a,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(a):n._getIdTokenResponse(a)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(a,u,e,r):u})}async function _I(a,e,n=!1){const r=await Zl(a,e._linkToIdToken(a.auth,await a.getIdToken()),n);return uo._forOperation(a,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(a,e,n=!1){const{auth:r}=a;if(Xn(r.app))return Promise.reject(Wr(r));const o="reauthenticate";try{const u=await Zl(a,LT(r,o,e,a),n);Ce(u.idToken,r,"internal-error");const d=Eg(u.idToken);Ce(d,r,"internal-error");const{sub:m}=d;return Ce(a.uid===m,r,"user-mismatch"),uo._forOperation(a,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ma(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(a,e,n=!1){if(Xn(a.app))return Promise.reject(Wr(a));const r="signIn",o=await LT(a,r,e),u=await uo._fromIdTokenResponse(a,r,o);return n||await a._updateCurrentUser(u.user),u}function TI(a,e,n,r){return Rt(a).onIdTokenChanged(e,n,r)}function SI(a,e,n){return Rt(a).beforeAuthStateChanged(e,n)}function bI(a,e,n,r){return Rt(a).onAuthStateChanged(e,n,r)}function Zs(a){return Rt(a).signOut()}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=1e3,RI=10;class PT extends OT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,m,g)=>{this.notifyListeners(d,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);aI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,RI):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},wI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PT.type="LOCAL";const CI=PT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT extends OT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VT.type="SESSION";const UT=VT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Uh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(d).map(async p=>p(n.origin,u)),g=await II(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(a="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return a+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((m,g)=>{const p=bg("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(S){const T=S;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(T.data.response);break;default:clearTimeout(_),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(){return window}function NI(a){ba().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(){return typeof ba().WorkerGlobalScope<"u"&&typeof ba().importScripts=="function"}async function DI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kI(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)===null||a===void 0?void 0:a.controller)||null}function xI(){return zT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="firebaseLocalStorageDb",LI=1,vh="firebaseLocalStorage",jT="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zh(a,e){return a.transaction([vh],e?"readwrite":"readonly").objectStore(vh)}function OI(){const a=indexedDB.deleteDatabase(BT);return new gu(a).toPromise()}function zm(){const a=indexedDB.open(BT,LI);return new Promise((e,n)=>{a.addEventListener("error",()=>{n(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(vh,{keyPath:jT})}catch(o){n(o)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(vh)?e(r):(r.close(),await OI(),e(await zm()))})})}async function dE(a,e,n){const r=zh(a,!0).put({[jT]:e,value:n});return new gu(r).toPromise()}async function PI(a,e){const n=zh(a,!1).get(e),r=await new gu(n).toPromise();return r===void 0?null:r.value}function fE(a,e){const n=zh(a,!0).delete(e);return new gu(n).toPromise()}const VI=800,UI=3;class HT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance(xI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DI(),!this.activeServiceWorker)return;this.sender=new MI(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zm();return await dE(e,yh,"1"),await fE(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>dE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>PI(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=zh(o,!1).getAll();return new gu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HT.type="LOCAL";const zI=HT;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(a,e){return e?li(e):(Ce(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg extends xT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BI(a){return AI(a.auth,new wg(a),a.bypassAuthState)}function jI(a){const{auth:e,user:n}=a;return Ce(n,e,"internal-error"),EI(n,new wg(a),a.bypassAuthState)}async function HI(a){const{auth:e,user:n}=a;return Ce(n,e,"internal-error"),_I(n,new wg(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:d,type:m}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BI;case"linkViaPopup":case"linkViaRedirect":return HI;case"reauthViaPopup":case"reauthViaRedirect":return jI;default:Ma(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=new fu(2e3,1e4);async function KI(a,e,n){if(Xn(a.app))return Promise.reject(ea(a,"operation-not-supported-in-this-environment"));const r=Vh(a);z1(a,e,Sg);const o=GT(r,n);return new Yr(r,"signInViaPopup",e,o).executeNotNull()}class Yr extends KT{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Yr.currentPopupAction&&Yr.currentPopupAction.cancel(),Yr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ea(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ea(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ea(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GI.get())};e()}}Yr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="pendingRedirect",nh=new Map;class qI extends KT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=nh.get(this.auth._key());if(!e){try{const r=await JI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nh.set(this.auth._key(),e)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JI(a,e){const n=QI(e),r=$I(a);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function YI(a,e){nh.set(a._key(),e)}function $I(a){return li(a._redirectPersistence)}function QI(a){return th(FI,a.config.apiKey,a.name)}async function WI(a,e,n=!1){if(Xn(a.app))return Promise.reject(Wr(a));const r=Vh(a),o=GT(r,e),d=await new qI(r,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=10*60*1e3;class ZI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!FT(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ea(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XI&&this.cachedEventUids.clear(),this.cachedEventUids.has(mE(e))}saveEventToCache(e){this.cachedEventUids.add(mE(e)),this.lastProcessedEventTime=Date.now()}}function mE(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function FT({type:a,error:e}){return a==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eM(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FT(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM(a,e={}){return So(a,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aM=/^https?/;async function iM(a){if(a.config.emulator)return;const{authorizedDomains:e}=await tM(a);for(const n of e)try{if(rM(n))return}catch{}Ma(a,"unauthorized-domain")}function rM(a){const e=Vm(),{protocol:n,hostname:r}=new URL(e);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?n==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!aM.test(n))return!1;if(nM.test(a))return r===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=new fu(3e4,6e4);function gE(){const a=ba().___jsl;if(a!=null&&a.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let n=0;n<a.CP.length;n++)a.CP[n]=null}}function oM(a){return new Promise((e,n)=>{var r,o,u;function d(){gE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gE(),n(ea(a,"network-request-failed"))},timeout:sM.get()})}if(!((o=(r=ba().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=ba().gapi)===null||u===void 0)&&u.load)d();else{const m=dI("iframefcb");return ba()[m]=()=>{gapi.load?d():n(ea(a,"network-request-failed"))},cI(`${hI()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw ah=null,e})}let ah=null;function lM(a){return ah=ah||oM(a),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=new fu(5e3,15e3),cM="__/auth/iframe",hM="emulator/auth/iframe",dM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mM(a){const e=a.config;Ce(e.authDomain,a,"auth-domain-config-required");const n=e.emulator?vg(e,hM):`https://${a.config.authDomain}/${cM}`,r={apiKey:e.apiKey,appName:a.name,v:To},o=fM.get(a.config.apiHost);o&&(r.eid=o);const u=a._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${du(r).slice(1)}`}async function gM(a){const e=await lM(a),n=ba().gapi;return Ce(n,a,"internal-error"),e.open({where:document.body,url:mM(a),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dM,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const d=ea(a,"network-request-failed"),m=ba().setTimeout(()=>{u(d)},uM.get());function g(){ba().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yM=500,vM=600,_M="_blank",EM="http://localhost";class pE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AM(a,e,n,r=yM,o=vM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g=Object.assign(Object.assign({},pM),{width:r.toString(),height:o.toString(),top:u,left:d}),p=an().toLowerCase();n&&(m=wT(p)?_M:n),ST(p)&&(e=e||EM,g.scrollbars="yes");const _=Object.entries(g).reduce((T,[P,L])=>`${T}${P}=${L},`,"");if(nI(p)&&m!=="_self")return TM(e||"",m),new pE(null);const S=window.open(e||"",m,_);Ce(S,a,"popup-blocked");try{S.focus()}catch{}return new pE(S)}function TM(a,e){const n=document.createElement("a");n.href=a,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="__/auth/handler",bM="emulator/auth/handler",wM=encodeURIComponent("fac");async function yE(a,e,n,r,o,u){Ce(a.config.authDomain,a,"auth-domain-config-required"),Ce(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:n,redirectUrl:r,v:To,eventId:o};if(e instanceof Sg){e.setDefaultLanguage(a.languageCode),d.providerId=e.providerId||"",TC(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,S]of Object.entries({}))d[_]=S}if(e instanceof mu){const _=e.getScopes().filter(S=>S!=="");_.length>0&&(d.scopes=_.join(","))}a.tenantId&&(d.tid=a.tenantId);const m=d;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const g=await a._getAppCheckToken(),p=g?`#${wM}=${encodeURIComponent(g)}`:"";return`${RM(a)}?${du(m).slice(1)}${p}`}function RM({config:a}){return a.emulator?vg(a,bM):`https://${a.authDomain}/${SM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="webStorageSupport";class CM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UT,this._completeRedirectFn=WI,this._overrideRedirectResult=YI}async _openPopup(e,n,r,o){var u;fi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await yE(e,n,r,Vm(),o);return AM(e,d,bg())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await yE(e,n,r,Vm(),o);return NI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(fi(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await gM(e),r=new ZI(e);return n.register("authEvent",o=>(Ce(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_m,{type:_m},o=>{var u;const d=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[_m];d!==void 0&&n(!!d),Ma(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NT()||bT()||Ag()}}const IM=CM;var vE="@firebase/auth",_E="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DM(a){Ia(new na("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=r.options;Ce(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:m,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DT(a)},p=new lI(r,o,u,g);return mI(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ia(new na("auth-internal",e=>{const n=Vh(e.getProvider("auth").getImmediate());return(r=>new MM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jn(vE,_E,NM(a)),jn(vE,_E,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=5*60,xM=iT("authIdTokenMaxAge")||kM;let EE=null;const LM=a=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>xM)return;const o=n==null?void 0:n.token;EE!==o&&(EE=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function OM(a=mg()){const e=rs(a,"auth");if(e.isInitialized())return e.getImmediate();const n=fI(a,{popupRedirectResolver:IM,persistence:[zI,CI,UT]}),r=iT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=LM(u.toString());SI(n,d,()=>d(n.currentUser)),TI(n,m=>d(m))}}const o=nT("auth");return o&&gI(n,`http://${o}`),n}function PM(){var a,e;return(e=(a=document.getElementsByTagName("head"))===null||a===void 0?void 0:a[0])!==null&&e!==void 0?e:document}uI({loadJS(a){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=e,r.onerror=o=>{const u=ea("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",PM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DM("Browser");var AE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var er,qT;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,b){function R(){}R.prototype=b.prototype,D.D=b.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(N,x,V){for(var M=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)M[Be-2]=arguments[Be];return b.prototype[x].apply(N,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,R){R||(R=0);var N=Array(16);if(typeof b=="string")for(var x=0;16>x;++x)N[x]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(x=0;16>x;++x)N[x]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=D.g[0],R=D.g[1],x=D.g[2];var V=D.g[3],M=b+(V^R&(x^V))+N[0]+3614090360&4294967295;b=R+(M<<7&4294967295|M>>>25),M=V+(x^b&(R^x))+N[1]+3905402710&4294967295,V=b+(M<<12&4294967295|M>>>20),M=x+(R^V&(b^R))+N[2]+606105819&4294967295,x=V+(M<<17&4294967295|M>>>15),M=R+(b^x&(V^b))+N[3]+3250441966&4294967295,R=x+(M<<22&4294967295|M>>>10),M=b+(V^R&(x^V))+N[4]+4118548399&4294967295,b=R+(M<<7&4294967295|M>>>25),M=V+(x^b&(R^x))+N[5]+1200080426&4294967295,V=b+(M<<12&4294967295|M>>>20),M=x+(R^V&(b^R))+N[6]+2821735955&4294967295,x=V+(M<<17&4294967295|M>>>15),M=R+(b^x&(V^b))+N[7]+4249261313&4294967295,R=x+(M<<22&4294967295|M>>>10),M=b+(V^R&(x^V))+N[8]+1770035416&4294967295,b=R+(M<<7&4294967295|M>>>25),M=V+(x^b&(R^x))+N[9]+2336552879&4294967295,V=b+(M<<12&4294967295|M>>>20),M=x+(R^V&(b^R))+N[10]+4294925233&4294967295,x=V+(M<<17&4294967295|M>>>15),M=R+(b^x&(V^b))+N[11]+2304563134&4294967295,R=x+(M<<22&4294967295|M>>>10),M=b+(V^R&(x^V))+N[12]+1804603682&4294967295,b=R+(M<<7&4294967295|M>>>25),M=V+(x^b&(R^x))+N[13]+4254626195&4294967295,V=b+(M<<12&4294967295|M>>>20),M=x+(R^V&(b^R))+N[14]+2792965006&4294967295,x=V+(M<<17&4294967295|M>>>15),M=R+(b^x&(V^b))+N[15]+1236535329&4294967295,R=x+(M<<22&4294967295|M>>>10),M=b+(x^V&(R^x))+N[1]+4129170786&4294967295,b=R+(M<<5&4294967295|M>>>27),M=V+(R^x&(b^R))+N[6]+3225465664&4294967295,V=b+(M<<9&4294967295|M>>>23),M=x+(b^R&(V^b))+N[11]+643717713&4294967295,x=V+(M<<14&4294967295|M>>>18),M=R+(V^b&(x^V))+N[0]+3921069994&4294967295,R=x+(M<<20&4294967295|M>>>12),M=b+(x^V&(R^x))+N[5]+3593408605&4294967295,b=R+(M<<5&4294967295|M>>>27),M=V+(R^x&(b^R))+N[10]+38016083&4294967295,V=b+(M<<9&4294967295|M>>>23),M=x+(b^R&(V^b))+N[15]+3634488961&4294967295,x=V+(M<<14&4294967295|M>>>18),M=R+(V^b&(x^V))+N[4]+3889429448&4294967295,R=x+(M<<20&4294967295|M>>>12),M=b+(x^V&(R^x))+N[9]+568446438&4294967295,b=R+(M<<5&4294967295|M>>>27),M=V+(R^x&(b^R))+N[14]+3275163606&4294967295,V=b+(M<<9&4294967295|M>>>23),M=x+(b^R&(V^b))+N[3]+4107603335&4294967295,x=V+(M<<14&4294967295|M>>>18),M=R+(V^b&(x^V))+N[8]+1163531501&4294967295,R=x+(M<<20&4294967295|M>>>12),M=b+(x^V&(R^x))+N[13]+2850285829&4294967295,b=R+(M<<5&4294967295|M>>>27),M=V+(R^x&(b^R))+N[2]+4243563512&4294967295,V=b+(M<<9&4294967295|M>>>23),M=x+(b^R&(V^b))+N[7]+1735328473&4294967295,x=V+(M<<14&4294967295|M>>>18),M=R+(V^b&(x^V))+N[12]+2368359562&4294967295,R=x+(M<<20&4294967295|M>>>12),M=b+(R^x^V)+N[5]+4294588738&4294967295,b=R+(M<<4&4294967295|M>>>28),M=V+(b^R^x)+N[8]+2272392833&4294967295,V=b+(M<<11&4294967295|M>>>21),M=x+(V^b^R)+N[11]+1839030562&4294967295,x=V+(M<<16&4294967295|M>>>16),M=R+(x^V^b)+N[14]+4259657740&4294967295,R=x+(M<<23&4294967295|M>>>9),M=b+(R^x^V)+N[1]+2763975236&4294967295,b=R+(M<<4&4294967295|M>>>28),M=V+(b^R^x)+N[4]+1272893353&4294967295,V=b+(M<<11&4294967295|M>>>21),M=x+(V^b^R)+N[7]+4139469664&4294967295,x=V+(M<<16&4294967295|M>>>16),M=R+(x^V^b)+N[10]+3200236656&4294967295,R=x+(M<<23&4294967295|M>>>9),M=b+(R^x^V)+N[13]+681279174&4294967295,b=R+(M<<4&4294967295|M>>>28),M=V+(b^R^x)+N[0]+3936430074&4294967295,V=b+(M<<11&4294967295|M>>>21),M=x+(V^b^R)+N[3]+3572445317&4294967295,x=V+(M<<16&4294967295|M>>>16),M=R+(x^V^b)+N[6]+76029189&4294967295,R=x+(M<<23&4294967295|M>>>9),M=b+(R^x^V)+N[9]+3654602809&4294967295,b=R+(M<<4&4294967295|M>>>28),M=V+(b^R^x)+N[12]+3873151461&4294967295,V=b+(M<<11&4294967295|M>>>21),M=x+(V^b^R)+N[15]+530742520&4294967295,x=V+(M<<16&4294967295|M>>>16),M=R+(x^V^b)+N[2]+3299628645&4294967295,R=x+(M<<23&4294967295|M>>>9),M=b+(x^(R|~V))+N[0]+4096336452&4294967295,b=R+(M<<6&4294967295|M>>>26),M=V+(R^(b|~x))+N[7]+1126891415&4294967295,V=b+(M<<10&4294967295|M>>>22),M=x+(b^(V|~R))+N[14]+2878612391&4294967295,x=V+(M<<15&4294967295|M>>>17),M=R+(V^(x|~b))+N[5]+4237533241&4294967295,R=x+(M<<21&4294967295|M>>>11),M=b+(x^(R|~V))+N[12]+1700485571&4294967295,b=R+(M<<6&4294967295|M>>>26),M=V+(R^(b|~x))+N[3]+2399980690&4294967295,V=b+(M<<10&4294967295|M>>>22),M=x+(b^(V|~R))+N[10]+4293915773&4294967295,x=V+(M<<15&4294967295|M>>>17),M=R+(V^(x|~b))+N[1]+2240044497&4294967295,R=x+(M<<21&4294967295|M>>>11),M=b+(x^(R|~V))+N[8]+1873313359&4294967295,b=R+(M<<6&4294967295|M>>>26),M=V+(R^(b|~x))+N[15]+4264355552&4294967295,V=b+(M<<10&4294967295|M>>>22),M=x+(b^(V|~R))+N[6]+2734768916&4294967295,x=V+(M<<15&4294967295|M>>>17),M=R+(V^(x|~b))+N[13]+1309151649&4294967295,R=x+(M<<21&4294967295|M>>>11),M=b+(x^(R|~V))+N[4]+4149444226&4294967295,b=R+(M<<6&4294967295|M>>>26),M=V+(R^(b|~x))+N[11]+3174756917&4294967295,V=b+(M<<10&4294967295|M>>>22),M=x+(b^(V|~R))+N[2]+718787259&4294967295,x=V+(M<<15&4294967295|M>>>17),M=R+(V^(x|~b))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(x+(M<<21&4294967295|M>>>11))&4294967295,D.g[2]=D.g[2]+x&4294967295,D.g[3]=D.g[3]+V&4294967295}r.prototype.u=function(D,b){b===void 0&&(b=D.length);for(var R=b-this.blockSize,N=this.B,x=this.h,V=0;V<b;){if(x==0)for(;V<=R;)o(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<b;)if(N[x++]=D.charCodeAt(V++),x==this.blockSize){o(this,N),x=0;break}}else for(;V<b;)if(N[x++]=D[V++],x==this.blockSize){o(this,N),x=0;break}}this.h=x,this.o+=b},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;var R=8*this.o;for(b=D.length-8;b<D.length;++b)D[b]=R&255,R/=256;for(this.u(D),D=Array(16),b=R=0;4>b;++b)for(var N=0;32>N;N+=8)D[R++]=this.g[b]>>>N&255;return D};function u(D,b){var R=m;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=b(D)}function d(D,b){this.h=b;for(var R=[],N=!0,x=D.length-1;0<=x;x--){var V=D[x]|0;N&&V==b||(R[x]=V,N=!1)}this.g=R}var m={};function g(D){return-128<=D&&128>D?u(D,function(b){return new d([b|0],0>b?-1:0)}):new d([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return S;if(0>D)return K(p(-D));for(var b=[],R=1,N=0;D>=R;N++)b[N]=D/R|0,R*=4294967296;return new d(b,0)}function _(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return K(_(D.substring(1),b));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(b,8)),N=S,x=0;x<D.length;x+=8){var V=Math.min(8,D.length-x),M=parseInt(D.substring(x,x+V),b);8>V?(V=p(Math.pow(b,V)),N=N.j(V).add(p(M))):(N=N.j(R),N=N.add(p(M)))}return N}var S=g(0),T=g(1),P=g(16777216);a=d.prototype,a.m=function(){if(Y(this))return-K(this).m();for(var D=0,b=1,R=0;R<this.g.length;R++){var N=this.i(R);D+=(0<=N?N:4294967296+N)*b,b*=4294967296}return D},a.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(L(this))return"0";if(Y(this))return"-"+K(this).toString(D);for(var b=p(Math.pow(D,6)),R=this,N="";;){var x=ce(R,b).g;R=W(R,x.j(b));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=x,L(R))return V+N;for(;6>V.length;)V="0"+V;N=V+N}},a.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function L(D){if(D.h!=0)return!1;for(var b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function Y(D){return D.h==-1}a.l=function(D){return D=W(this,D),Y(D)?-1:L(D)?0:1};function K(D){for(var b=D.g.length,R=[],N=0;N<b;N++)R[N]=~D.g[N];return new d(R,~D.h).add(T)}a.abs=function(){return Y(this)?K(this):this},a.add=function(D){for(var b=Math.max(this.g.length,D.g.length),R=[],N=0,x=0;x<=b;x++){var V=N+(this.i(x)&65535)+(D.i(x)&65535),M=(V>>>16)+(this.i(x)>>>16)+(D.i(x)>>>16);N=M>>>16,V&=65535,M&=65535,R[x]=M<<16|V}return new d(R,R[R.length-1]&-2147483648?-1:0)};function W(D,b){return D.add(K(b))}a.j=function(D){if(L(this)||L(D))return S;if(Y(this))return Y(D)?K(this).j(K(D)):K(K(this).j(D));if(Y(D))return K(this.j(K(D)));if(0>this.l(P)&&0>D.l(P))return p(this.m()*D.m());for(var b=this.g.length+D.g.length,R=[],N=0;N<2*b;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var x=0;x<D.g.length;x++){var V=this.i(N)>>>16,M=this.i(N)&65535,Be=D.i(x)>>>16,ve=D.i(x)&65535;R[2*N+2*x]+=M*ve,F(R,2*N+2*x),R[2*N+2*x+1]+=V*ve,F(R,2*N+2*x+1),R[2*N+2*x+1]+=M*Be,F(R,2*N+2*x+1),R[2*N+2*x+2]+=V*Be,F(R,2*N+2*x+2)}for(N=0;N<b;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=b;N<2*b;N++)R[N]=0;return new d(R,0)};function F(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function Z(D,b){this.g=D,this.h=b}function ce(D,b){if(L(b))throw Error("division by zero");if(L(D))return new Z(S,S);if(Y(D))return b=ce(K(D),b),new Z(K(b.g),K(b.h));if(Y(b))return b=ce(D,K(b)),new Z(K(b.g),b.h);if(30<D.g.length){if(Y(D)||Y(b))throw Error("slowDivide_ only works with positive integers.");for(var R=T,N=b;0>=N.l(D);)R=ee(R),N=ee(N);var x=re(R,1),V=re(N,1);for(N=re(N,2),R=re(R,2);!L(N);){var M=V.add(N);0>=M.l(D)&&(x=x.add(R),V=M),N=re(N,1),R=re(R,1)}return b=W(D,x.j(b)),new Z(x,b)}for(x=S;0<=D.l(b);){for(R=Math.max(1,Math.floor(D.m()/b.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),V=p(R),M=V.j(b);Y(M)||0<M.l(D);)R-=N,V=p(R),M=V.j(b);L(V)&&(V=T),x=x.add(V),D=W(D,M)}return new Z(x,D)}a.A=function(D){return ce(this,D).h},a.and=function(D){for(var b=Math.max(this.g.length,D.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)&D.i(N);return new d(R,this.h&D.h)},a.or=function(D){for(var b=Math.max(this.g.length,D.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)|D.i(N);return new d(R,this.h|D.h)},a.xor=function(D){for(var b=Math.max(this.g.length,D.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)^D.i(N);return new d(R,this.h^D.h)};function ee(D){for(var b=D.g.length+1,R=[],N=0;N<b;N++)R[N]=D.i(N)<<1|D.i(N-1)>>>31;return new d(R,D.h)}function re(D,b){var R=b>>5;b%=32;for(var N=D.g.length-R,x=[],V=0;V<N;V++)x[V]=0<b?D.i(V+R)>>>b|D.i(V+R+1)<<32-b:D.i(V+R);return new d(x,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,qT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=_,er=d}).apply(typeof AE<"u"?AE:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JT,zl,YT,ih,Bm,$T,QT,WT;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,y){if(y)e:{var v=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var B=c[w];if(!(B in v))break e;v=v[B]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,w=!1,B={next:function(){if(!w&&v<c.length){var X=v++;return{value:y(X,c[X]),done:!1}}return w=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function S(c,y,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,w),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function T(c,y,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:S,T.apply(null,arguments)}function P(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function L(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(w,B,X){for(var de=Array(arguments.length-2),je=2;je<arguments.length;je++)de[je-2]=arguments[je];return y.prototype[B].apply(w,de)}}function Y(c){const y=c.length;if(0<y){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function K(c,y){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(g(w)){const B=c.length||0,X=w.length||0;c.length=B+X;for(let de=0;de<X;de++)c[B+de]=w[de]}else c.push(w)}}class W{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var ee=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function re(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function D(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function b(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let v,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(v in w)c[v]=w[v];for(let X=0;X<R.length;X++)v=R[X],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function x(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function V(c){m.setTimeout(()=>{throw c},0)}function M(){var c=he;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Be{constructor(){this.h=this.g=null}add(y,v){const w=ve.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ve=new W(()=>new H,c=>c.reset());class H{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let $,oe=!1,he=new Be,I=()=>{const c=m.Promise.resolve(void 0);$=()=>{c.then(Q)}};var Q=()=>{for(var c;c=M();){try{c.h.call(c.g)}catch(v){V(v)}var y=ve;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}oe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function we(c,y){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ee){e:{try{ce(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:fe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&we.aa.h.call(this)}}L(we,le);var fe={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Le=0;function rt(c,y,v,w,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=B,this.key=++Le,this.da=this.fa=!1}function Bt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function rn(c){this.src=c,this.g={},this.h=0}rn.prototype.add=function(c,y,v,w,B){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var de=Kn(c,y,w,B);return-1<de?(y=c[de],v||(y.fa=!1)):(y=new rt(y,this.src,X,!!w,B),y.fa=v,c.push(y)),y};function Gn(c,y){var v=y.type;if(v in c.g){var w=c.g[v],B=Array.prototype.indexOf.call(w,y,void 0),X;(X=0<=B)&&Array.prototype.splice.call(w,B,1),X&&(Bt(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Kn(c,y,v,w){for(var B=0;B<c.length;++B){var X=c[B];if(!X.da&&X.listener==y&&X.capture==!!v&&X.ha==w)return B}return-1}var sa="closure_lm_"+(1e6*Math.random()|0),yi={};function ls(c,y,v,w,B){if(Array.isArray(y)){for(var X=0;X<y.length;X++)ls(c,y[X],v,w,B);return null}return v=Tu(v),c&&c[De]?c.K(y,v,p(w)?!!w.capture:!1,B):hn(c,y,v,!1,w,B)}function hn(c,y,v,w,B,X){if(!y)throw Error("Invalid event type");var de=p(B)?!!B.capture:!!B,je=sn(c);if(je||(c[sa]=je=new rn(c)),v=je.add(y,v,w,de,X),v.proxy)return v;if(w=dr(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)ye||(B=de),B===void 0&&(B=!1),c.addEventListener(y.toString(),w,B);else if(c.attachEvent)c.attachEvent(gt(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function dr(){function c(v){return y.call(c.src,c.listener,v)}const y=vi;return c}function Ae(c,y,v,w,B){if(Array.isArray(y))for(var X=0;X<y.length;X++)Ae(c,y[X],v,w,B);else w=p(w)?!!w.capture:!!w,v=Tu(v),c&&c[De]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],v=Kn(X,v,w,B),-1<v&&(Bt(X[v]),Array.prototype.splice.call(X,v,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=sn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Kn(y,v,w,B)),(v=-1<c?y[c]:null)&&st(v))}function st(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[De])Gn(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(gt(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=sn(y))?(Gn(v,c),v.h==0&&(v.src=null,y[sa]=null)):Bt(c)}}}function gt(c){return c in yi?yi[c]:yi[c]="on"+c}function vi(c,y){if(c.da)c=!0;else{y=new we(y,this);var v=c.listener,w=c.ha||c.src;c.fa&&st(c),c=v.call(w,y)}return c}function sn(c){return c=c[sa],c instanceof rn?c:null}var Mo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tu(c){return typeof c=="function"?c:(c[Mo]||(c[Mo]=function(y){return c.handleEvent(y)}),c[Mo])}function dt(){ue.call(this),this.i=new rn(this),this.M=this,this.F=null}L(dt,ue),dt.prototype[De]=!0,dt.prototype.removeEventListener=function(c,y,v,w){Ae(this,c,y,v,w)};function $e(c,y){var v,w=c.F;if(w)for(v=[];w;w=w.F)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new le(y,c);else if(y instanceof le)y.target=y.target||c;else{var B=y;y=new le(w,c),N(y,B)}if(B=!0,v)for(var X=v.length-1;0<=X;X--){var de=y.g=v[X];B=vn(de,w,!0,y)&&B}if(de=y.g=c,B=vn(de,w,!0,y)&&B,B=vn(de,w,!1,y)&&B,v)for(X=0;X<v.length;X++)de=y.g=v[X],B=vn(de,w,!1,y)&&B}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],w=0;w<v.length;w++)Bt(v[w]);delete c.g[y],c.h--}}this.F=null},dt.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},dt.prototype.L=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function vn(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,X=0;X<y.length;++X){var de=y[X];if(de&&!de.da&&de.capture==v){var je=de.listener,It=de.ha||de.src;de.fa&&Gn(c.i,de),B=je.call(It,w)!==!1&&B}}return B&&!w.defaultPrevented}function Qt(c,y,v){if(typeof c=="function")v&&(c=T(c,v));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Su(c){c.g=Qt(()=>{c.g=null,c.i&&(c.i=!1,Su(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class sd extends ue{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Su(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fr(c){ue.call(this),this.h=c,this.g={}}L(fr,ue);var mr=[];function gr(c){re(c.g,function(y,v){this.g.hasOwnProperty(v)&&st(y)},c),c.g={}}fr.prototype.N=function(){fr.aa.N.call(this),gr(this)},fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=m.JSON.stringify,us=m.JSON.parse,pr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function No(){}No.prototype.h=null;function Do(c){return c.h||(c.h=c.i())}function ko(){}var ka={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xa(){le.call(this,"d")}L(xa,le);function xo(){le.call(this,"c")}L(xo,le);var oa={},Lo=null;function _i(){return Lo=Lo||new dt}oa.La="serverreachability";function cs(c){le.call(this,oa.La,c)}L(cs,le);function Ei(c){const y=_i();$e(y,new cs(y))}oa.STAT_EVENT="statevent";function bu(c,y){le.call(this,oa.STAT_EVENT,c),this.stat=y}L(bu,le);function ot(c){const y=_i();$e(y,new bu(y,c))}oa.Ma="timingevent";function Ct(c,y){le.call(this,oa.Ma,c),this.size=y}L(Ct,le);function Et(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Mn(){this.g=!0}Mn.prototype.xa=function(){this.g=!1};function Oo(c,y,v,w,B,X){c.info(function(){if(c.g)if(X)for(var de="",je=X.split("&"),It=0;It<je.length;It++){var He=je[It].split("=");if(1<He.length){var Ot=He[0];He=He[1];var Mt=Ot.split("_");de=2<=Mt.length&&Mt[1]=="type"?de+(Ot+"="+He+"&"):de+(Ot+"=redacted&")}}else de=null;else de=X;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+y+`
`+v+`
`+de})}function od(c,y,v,w,B,X,de){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+y+`
`+v+`
`+X+" "+de})}function Ai(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+yr(c,v)+(w?" "+w:"")})}function wu(c,y){c.info(function(){return"TIMEOUT: "+y})}Mn.prototype.info=function(){};function yr(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var w=v[c];if(!(2>w.length)){var B=w[1];if(Array.isArray(B)&&!(1>B.length)){var X=B[0];if(X!="noop"&&X!="stop"&&X!="close")for(var de=1;de<B.length;de++)B[de]=""}}}}return Fn(v)}catch{return y}}var Ti={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},La={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},la;function ua(){}L(ua,No),ua.prototype.g=function(){return new XMLHttpRequest},ua.prototype.i=function(){return{}},la=new ua;function on(c,y,v,w){this.j=c,this.i=y,this.l=v,this.R=w||1,this.U=new fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var Po={},hs={};function qn(c,y,v){c.L=1,c.v=Tr(_n(y)),c.m=v,c.P=!0,Oa(c,null)}function Oa(c,y){c.F=Date.now(),vr(c),c.A=_n(c.v);var v=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Ho(v.i,"t",w),c.C=0,v=c.j.J,c.h=new pt,c.g=ju(c.j,v?y:null,!c.m),0<c.O&&(c.M=new sd(T(c.Y,c,c.g),c.O)),y=c.U,v=c.g,w=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(mr[0]=B.toString()),B=mr);for(var X=0;X<B.length;X++){var de=ls(v,B[X],w||y.handleEvent,!1,y.h||y);if(!de)break;y.g[de.key]=de}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ei(),Oo(c.i,c.u,c.A,c.l,c.R,c.m)}on.prototype.ca=function(c){c=c.target;const y=this.M;y&&xn(c)==3?y.j():this.Y(c)},on.prototype.Y=function(c){try{if(c==this.g)e:{const Mt=xn(this.g);var y=this.g.Ba();const Ga=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||xu(this.g)))){this.J||Mt!=4||y==7||(y==8||0>=Ga?Ei(3):Ei(2)),Si(this);var v=this.g.Z();this.X=v;t:if(Ru(this)){var w=xu(this.g);c="";var B=w.length,X=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jt(this),ca(this);var de="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(X&&y==B-1)});w.length=0,this.h.g+=c,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=v==200,od(this.i,this.u,this.A,this.l,this.R,Mt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,It=this.g;if((je=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(je)){var He=je;break t}}He=null}if(v=He)Ai(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_r(this,v);else{this.o=!1,this.s=3,ot(12),jt(this),ca(this);break e}}if(this.P){v=!0;let Ht;for(;!this.J&&this.C<de.length;)if(Ht=Cu(this,de),Ht==hs){Mt==4&&(this.s=4,ot(14),v=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==Po){this.s=4,ot(15),Ai(this.i,this.l,de,"[Invalid Chunk]"),v=!1;break}else Ai(this.i,this.l,Ht,null),_r(this,Ht);if(Ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||de.length!=0||this.h.h||(this.s=1,ot(16),v=!1),this.o=this.o&&v,!v)Ai(this.i,this.l,de,"[Invalid Chunked Response]"),jt(this),ca(this);else if(0<de.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),Nr(Ot),Ot.M=!0,ot(11))}}else Ai(this.i,this.l,de,null),_r(this,de);Mt==4&&jt(this),this.o&&!this.J&&(Mt==4?Uu(this.j,this):(this.o=!1,vr(this)))}else dd(this.g),v==400&&0<de.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),jt(this),ca(this)}}}catch{}finally{}};function Ru(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Cu(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?hs:(v=Number(y.substring(v,w)),isNaN(v)?Po:(w+=1,w+v>y.length?hs:(y=y.slice(w,w+v),c.C=w+v,y)))}on.prototype.cancel=function(){this.J=!0,jt(this)};function vr(c){c.S=Date.now()+c.I,Iu(c,c.I)}function Iu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Et(T(c.ba,c),y)}function Si(c){c.B&&(m.clearTimeout(c.B),c.B=null)}on.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(wu(this.i,this.A),this.L!=2&&(Ei(),ot(17)),jt(this),this.s=2,ca(this)):Iu(this,this.S-c)};function ca(c){c.j.G==0||c.J||Uu(c.j,c)}function jt(c){Si(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,gr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function _r(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Vo(v.h,c))){if(!c.K&&Vo(v.h,c)&&v.G==3){try{var w=v.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ss(v),As(v);else break e;Jo(v),ot(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=Et(T(v.Za,v),6e3));if(1>=fs(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ha(v,11)}else if((c.K||v.g==c)&&Ss(v),!F(y))for(B=v.Da.g.parse(y),y=0;y<B.length;y++){let He=B[y];if(v.T=He[0],He=He[1],v.G==2)if(He[0]=="c"){v.K=He[1],v.ia=He[2];const Ot=He[3];Ot!=null&&(v.la=Ot,v.j.info("VER="+v.la));const Mt=He[4];Mt!=null&&(v.Aa=Mt,v.j.info("SVER="+v.Aa));const Ga=He[5];Ga!=null&&typeof Ga=="number"&&0<Ga&&(w=1.5*Ga,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Ht=c.g;if(Ht){const ya=Ht.g?Ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var X=w.h;X.g||ya.indexOf("spdy")==-1&&ya.indexOf("quic")==-1&&ya.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ms(X,X.h),X.h=null))}if(w.D){const $o=Ht.g?Ht.g.getResponseHeader("X-HTTP-Session-Id"):null;$o&&(w.ya=$o,Xe(w.I,w.D,$o))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var de=c;if(w.qa=Bu(w,w.J?w.ia:null,w.W),de.K){ln(w.h,de);var je=de,It=w.L;It&&(je.I=It),je.B&&(Si(je),vr(je)),w.g=de}else Pu(w);0<v.i.length&&Ts(v)}else He[0]!="stop"&&He[0]!="close"||Ha(v,7);else v.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ha(v,7):Fo(v):He[0]!="noop"&&v.l&&v.l.ta(He),v.v=0)}}Ei(4)}catch{}}var Mu=class{constructor(c,y){this.g=c,this.map=y}};function Pa(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ds(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fs(c){return c.h?1:c.g?c.g.size:0}function Vo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ms(c,y){c.g?c.g.add(y):c.h=y}function ln(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Pa.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return Y(c.i)}function ld(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],v=c.length,w=0;w<v;w++)y.push(c[w]);return y}y=[],v=0;for(w in c)y[v++]=c[w];return y}function gs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const w in c)y[v++]=w;return y}}}function zo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=gs(c),w=ld(c),B=w.length,X=0;X<B;X++)y.call(void 0,w[X],v&&v[X],c)}var Er=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ud(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),B=null;if(0<=w){var X=c[v].substring(0,w);B=c[v].substring(w+1)}else X=c[v];y(X,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function At(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof At){this.h=c.h,Ar(this,c.j),this.o=c.o,this.g=c.g,bi(this,c.s),this.l=c.l;var y=c.i,v=new Ua;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Va(this,v),this.m=c.m}else c&&(y=String(c).match(Er))?(this.h=!1,Ar(this,y[1]||"",!0),this.o=Nn(y[2]||""),this.g=Nn(y[3]||"",!0),bi(this,y[4]),this.l=Nn(y[5]||"",!0),Va(this,y[6]||"",!0),this.m=Nn(y[7]||"")):(this.h=!1,this.i=new Ua(null,this.h))}At.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Sr(y,Bo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Sr(y,Bo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Sr(v,v.charAt(0)=="/"?cd:jo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Sr(v,ps)),c.join("")};function _n(c){return new At(c)}function Ar(c,y,v){c.j=v?Nn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function bi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Va(c,y,v){y instanceof Ua?(c.i=y,Du(c.i,c.h)):(v||(y=Sr(y,hd)),c.i=new Ua(y,c.h))}function Xe(c,y,v){c.i.set(y,v)}function Tr(c){return Xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Nn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Sr(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Nu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Nu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Bo=/[#\/\?@]/g,jo=/[#\?:]/g,cd=/[#\?]/g,hd=/[#\?@]/g,ps=/#/g;function Ua(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&ud(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}a=Ua.prototype,a.add=function(c,y){Dn(this),this.i=null,c=ha(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function za(c,y){Dn(c),y=ha(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ba(c,y){return Dn(c),y=ha(c,y),c.g.has(y)}a.forEach=function(c,y){Dn(this),this.g.forEach(function(v,w){v.forEach(function(B){c.call(y,B,w,this)},this)},this)},a.na=function(){Dn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let w=0;w<y.length;w++){const B=c[w];for(let X=0;X<B.length;X++)v.push(y[w])}return v},a.V=function(c){Dn(this);let y=[];if(typeof c=="string")Ba(this,c)&&(y=y.concat(this.g.get(ha(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},a.set=function(c,y){return Dn(this),this.i=null,c=ha(this,c),Ba(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},a.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ho(c,y,v){za(c,y),0<v.length&&(c.i=null,c.g.set(ha(c,y),Y(v)),c.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var w=y[v];const X=encodeURIComponent(String(w)),de=this.V(w);for(w=0;w<de.length;w++){var B=X;de[w]!==""&&(B+="="+encodeURIComponent(String(de[w]))),c.push(B)}}return this.i=c.join("&")};function ha(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Du(c,y){y&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(v,w){var B=w.toLowerCase();w!=B&&(za(this,w),Ho(this,B,v))},c)),c.j=y}function br(c,y){const v=new Mn;if(m.Image){const w=new Image;w.onload=P(kn,v,"TestLoadImage: loaded",!0,y,w),w.onerror=P(kn,v,"TestLoadImage: error",!1,y,w),w.onabort=P(kn,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=P(kn,v,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Jn(c,y){const v=new Mn,w=new AbortController,B=setTimeout(()=>{w.abort(),kn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(X=>{clearTimeout(B),X.ok?kn(v,"TestPingServer: ok",!0,y):kn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),kn(v,"TestPingServer: error",!1,y)})}function kn(c,y,v,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(v)}catch{}}function wr(){this.g=new pr}function da(c,y,v){const w=v||"";try{zo(c,function(B,X){let de=B;p(B)&&(de=Fn(B)),y.push(w+X+"="+encodeURIComponent(de))})}catch(B){throw y.push(w+"type="+encodeURIComponent("_badmap")),B}}function wi(c){this.l=c.Ub||null,this.j=c.eb||!1}L(wi,No),wi.prototype.g=function(){return new ja(this.l,this.j)},wi.prototype.i=function(c){return function(){return c}}({});function ja(c,y){dt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(ja,dt),a=ja.prototype,a.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ma(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fa(this)),this.readyState=0},a.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ma(this)),this.g&&(this.readyState=3,ma(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Go(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Go(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}a.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?fa(this):ma(this),this.readyState==3&&Go(this)}},a.Ra=function(c){this.g&&(this.response=this.responseText=c,fa(this))},a.Qa=function(c){this.g&&(this.response=c,fa(this))},a.ga=function(){this.g&&fa(this)};function fa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ma(c)}a.setRequestHeader=function(c,y){this.u.append(c,y)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ma(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ja.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ko(c){let y="";return re(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Lt(c,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=Ko(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Xe(c,y,v))}function Je(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Je,dt);var ys=/^https?$/i,Rr=["POST","PUT"];a=Je.prototype,a.Ha=function(c){this.J=c},a.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():la.g(),this.v=this.o?Do(this.o):Do(la),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){ku(this,X);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)v.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const X of w.keys())v.set(X,w.get(X));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(X=>X.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Rr,y,void 0))||w||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of v)this.g.setRequestHeader(X,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cr(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){ku(this,X)}};function ku(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,vs(c),ga(c)}function vs(c){c.A||(c.A=!0,$e(c,"complete"),$e(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,$e(this,"complete"),$e(this,"abort"),ga(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ga(this,!0)),Je.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?_s(this):this.bb())},a.bb=function(){_s(this)};function _s(c){if(c.h&&typeof d<"u"&&(!c.v[1]||xn(c)!=4||c.Z()!=2)){if(c.u&&xn(c)==4)Qt(c.Ea,0,c);else if($e(c,"readystatechange"),xn(c)==4){c.h=!1;try{const de=c.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=de===0){var B=String(c.D).match(Er)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),w=!ys.test(B?B.toLowerCase():"")}v=w}if(v)$e(c,"complete"),$e(c,"success");else{c.m=6;try{var X=2<xn(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",vs(c)}}finally{ga(c)}}}}function ga(c,y){if(c.g){Cr(c);const v=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||$e(c,"ready");try{v.onreadystatechange=w}catch{}}}function Cr(c){c.I&&(m.clearTimeout(c.I),c.I=null)}a.isActive=function(){return!!this.g};function xn(c){return c.g?c.g.readyState:0}a.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),us(y)}};function xu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function dd(c){const y={};c=(c.g&&2<=xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(F(c[w]))continue;var v=x(c[w]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const X=y[B]||[];y[B]=X,X.push(v)}D(y,function(w){return w.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ir(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Es(c){this.Aa=0,this.i=[],this.j=new Mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ir("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ir("baseRetryDelayMs",5e3,c),this.cb=Ir("retryDelaySeedMs",1e4,c),this.Wa=Ir("forwardChannelMaxRetries",2,c),this.wa=Ir("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Pa(c&&c.concurrentRequestLimit),this.Da=new wr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Es.prototype,a.la=8,a.G=1,a.connect=function(c,y,v,w){ot(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=Bu(this,null,this.W),Ts(this)};function Fo(c){if(Lu(c),c.G==3){var y=c.U++,v=_n(c.I);if(Xe(v,"SID",c.K),Xe(v,"RID",y),Xe(v,"TYPE","terminate"),Mr(c,v),y=new on(c,c.j,y),y.L=2,y.v=Tr(_n(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=ju(y.j,null),y.g.ea(y.v)),y.F=Date.now(),vr(y)}zu(c)}function As(c){c.g&&(Nr(c),c.g.cancel(),c.g=null)}function Lu(c){As(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ss(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ts(c){if(!ds(c.h)&&!c.s){c.s=!0;var y=c.Ga;$||I(),oe||($(),oe=!0),he.add(y,c),c.B=0}}function fd(c,y){return fs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Et(T(c.Ga,c,y),Yo(c,c.B)),c.B++,!0)}a.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new on(this,this.j,c);let X=this.o;if(this.S&&(X?(X=b(X),N(X,this.S)):X=this.S),this.m!==null||this.O||(B.H=X,X=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Ou(this,B,y),v=_n(this.I),Xe(v,"RID",c),Xe(v,"CVER",22),this.D&&Xe(v,"X-HTTP-Session-Id",this.D),Mr(this,v),X&&(this.O?y="headers="+encodeURIComponent(String(Ko(X)))+"&"+y:this.m&&Lt(v,this.m,X)),ms(this.h,B),this.Ua&&Xe(v,"TYPE","init"),this.P?(Xe(v,"$req",y),Xe(v,"SID","null"),B.T=!0,qn(B,v,null)):qn(B,v,y),this.G=2}}else this.G==3&&(c?qo(this,c):this.i.length==0||ds(this.h)||qo(this))};function qo(c,y){var v;y?v=y.l:v=c.U++;const w=_n(c.I);Xe(w,"SID",c.K),Xe(w,"RID",v),Xe(w,"AID",c.T),Mr(c,w),c.m&&c.o&&Lt(w,c.m,c.o),v=new on(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ou(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ms(c.h,v),qn(v,w,y)}function Mr(c,y){c.H&&re(c.H,function(v,w){Xe(y,w,v)}),c.l&&zo({},function(v,w){Xe(y,w,v)})}function Ou(c,y,v){v=Math.min(c.i.length,v);var w=c.l?T(c.l.Na,c.l,c):null;e:{var B=c.i;let X=-1;for(;;){const de=["count="+v];X==-1?0<v?(X=B[0].g,de.push("ofs="+X)):X=0:de.push("ofs="+X);let je=!0;for(let It=0;It<v;It++){let He=B[It].g;const Ot=B[It].map;if(He-=X,0>He)X=Math.max(0,B[It].g-100),je=!1;else try{da(Ot,de,"req"+He+"_")}catch{w&&w(Ot)}}if(je){w=de.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,w}function Pu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;$||I(),oe||($(),oe=!0),he.add(y,c),c.v=0}}function Jo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Et(T(c.Fa,c),Yo(c,c.v)),c.v++,!0)}a.Fa=function(){if(this.u=null,Vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Et(T(this.ab,this),c)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),As(this),Vu(this))};function Nr(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Vu(c){c.g=new on(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=_n(c.qa);Xe(y,"RID","rpc"),Xe(y,"SID",c.K),Xe(y,"AID",c.T),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xe(y,"TO",c.ja),Xe(y,"TYPE","xmlhttp"),Mr(c,y),c.m&&c.o&&Lt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Tr(_n(y)),v.m=null,v.P=!0,Oa(v,c)}a.Za=function(){this.C!=null&&(this.C=null,As(this),Jo(this),ot(19))};function Ss(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Uu(c,y){var v=null;if(c.g==y){Ss(c),Nr(c),c.g=null;var w=2}else if(Vo(c.h,y))v=y.D,ln(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;w=_i(),$e(w,new Ct(w,v)),Ts(c)}else Pu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(w==1&&fd(c,y)||w==2&&Jo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),B){case 1:Ha(c,5);break;case 4:Ha(c,10);break;case 3:Ha(c,6);break;default:Ha(c,2)}}}function Yo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Ha(c,y){if(c.j.info("Error code "+y),y==2){var v=T(c.fb,c),w=c.Xa;const B=!w;w=new At(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ar(w,"https"),Tr(w),B?br(w.toString(),v):Jn(w.toString(),v)}else ot(2);c.G=0,c.l&&c.l.sa(y),zu(c),Lu(c)}a.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function zu(c){if(c.G=0,c.ka=[],c.l){const y=Uo(c.h);(y.length!=0||c.i.length!=0)&&(K(c.ka,y),K(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function Bu(c,y,v){var w=v instanceof At?_n(v):new At(v);if(w.g!="")y&&(w.g=y+"."+w.g),bi(w,w.s);else{var B=m.location;w=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var X=new At(null);w&&Ar(X,w),y&&(X.g=y),B&&bi(X,B),v&&(X.l=v),w=X}return v=c.D,y=c.ya,v&&y&&Xe(w,v,y),Xe(w,"VER",c.la),Mr(c,w),w}function ju(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Je(new wi({eb:v})):new Je(c.pa),y.Ha(c.J),y}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hu(){}a=Hu.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function bs(){}bs.prototype.g=function(c,y){return new un(c,y)};function un(c,y){dt.call(this),this.g=new Es(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!F(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!F(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new pa(this)}L(un,dt),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Fo(this.g)},un.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Fn(c),c=v);y.i.push(new Mu(y.Ya++,c)),y.G==3&&Ts(y)},un.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,un.aa.N.call(this)};function Gu(c){xa.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}L(Gu,xa);function Ku(){xo.call(this),this.status=1}L(Ku,xo);function pa(c){this.g=c}L(pa,Hu),pa.prototype.ua=function(){$e(this.g,"a")},pa.prototype.ta=function(c){$e(this.g,new Gu(c))},pa.prototype.sa=function(c){$e(this.g,new Ku)},pa.prototype.ra=function(){$e(this.g,"b")},bs.prototype.createWebChannel=bs.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,WT=function(){return new bs},QT=function(){return _i()},$T=oa,Bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ti.NO_ERROR=0,Ti.TIMEOUT=8,Ti.HTTP_ERROR=6,ih=Ti,La.COMPLETE="complete",YT=La,ko.EventType=ka,ka.OPEN="a",ka.CLOSE="b",ka.ERROR="c",ka.MESSAGE="d",dt.prototype.listen=dt.prototype.K,zl=ko,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,JT=Je}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const TE="@firebase/firestore",SE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new Ph("@firebase/firestore");function to(){return Zr.logLevel}function me(a,...e){if(Zr.logLevel<=Ue.DEBUG){const n=e.map(Rg);Zr.debug(`Firestore (${bo}): ${a}`,...n)}}function mi(a,...e){if(Zr.logLevel<=Ue.ERROR){const n=e.map(Rg);Zr.error(`Firestore (${bo}): ${a}`,...n)}}function co(a,...e){if(Zr.logLevel<=Ue.WARN){const n=e.map(Rg);Zr.warn(`Firestore (${bo}): ${a}`,...n)}}function Rg(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(a,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,XT(a,r,n)}function XT(a,e,n){let r=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw mi(r),new Error(r)}function Ye(a,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,a||XT(e,o,r)}function Me(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends ra{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class UM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zM{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ci,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ci)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new ZT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class BM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new BM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const r=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<a;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=GM(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function xe(a,e){return a<e?-1:a>e?1:0}function jm(a,e){let n=0;for(;n<a.length&&n<e.length;){const r=a.codePointAt(n),o=e.codePointAt(n);if(r!==o){if(r<128&&o<128)return xe(r,o);{const u=eS(),d=KM(u.encode(wE(a,n)),u.encode(wE(e,n)));return d!==0?d:xe(r,o)}}n+=r>65535?2:1}return xe(a.length,e.length)}function wE(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function KM(a,e){for(let n=0;n<a.length&&n<e.length;++n)if(a[n]!==e[n])return xe(a[n],e[n]);return xe(a.length,e.length)}function ho(a,e,n){return a.length===e.length&&a.every((r,o)=>n(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=-62135596800,CE=1e6;class kt{static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*CE);return new kt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<RE)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CE}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-RE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new kt(0,0))}static max(){return new Ie(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="__name__";class Sa{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Sa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=Sa.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return xe(e.length,n.length)}static compareSegments(e,n){const r=Sa.isNumericId(e),o=Sa.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Sa.extractNumericId(e).compare(Sa.extractNumericId(n)):jm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return er.fromString(e.substring(4,e.length-2))}}class it extends Sa{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new it(n)}static emptyPath(){return new it([])}}const FM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Sa{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return FM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IE}static keyField(){return new Yt([IE])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ge(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ge(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(r+=m,o++):(u(),o++)}if(u(),d)throw new ge(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(it.fromString(e))}static fromName(e){return new Ee(it.fromString(e).popFirst(5))}static empty(){return new Ee(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=-1;function qM(a,e){const n=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(r===1e9?new kt(n+1,0):new kt(n,r));return new ar(o,Ee.empty(),e)}function JM(a){return new ar(a.readTime,a.key,eu)}class ar{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ar(Ie.min(),Ee.empty(),eu)}static max(){return new ar(Ie.max(),Ee.empty(),eu)}}function YM(a,e){let n=a.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(a.documentKey,e.documentKey),n!==0?n:xe(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(a){if(a.code!==ie.FAILED_PRECONDITION||a.message!==$M)throw a;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,r)=>{n(e)})}static reject(e){return new se((n,r)=>{r(e)})}static waitFor(e){return new se((n,r)=>{let o=0,u=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++u,d&&u===o&&n()},g=>r(g))}),d=!0,u===o&&n()})}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next(o=>o?se.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,u)=>{r.push(n.call(this,o,u))}),this.waitFor(r)}static mapArray(e,n){return new se((r,o)=>{const u=e.length,d=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next(_=>{d[p]=_,++m,m===u&&r(d)},_=>o(_))}})}static doWhile(e,n){return new se((r,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):r()};u()})}}function WM(a){const e=a.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ro(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Bh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg=-1;function jh(a){return a==null}function _h(a){return a===0&&1/a==-1/0}function XM(a){return typeof a=="number"&&Number.isInteger(a)&&!_h(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="";function ZM(a){let e="";for(let n=0;n<a.length;n++)e.length>0&&(e=ME(e)),e=eN(a.get(n),e);return ME(e)}function eN(a,e){let n=e;const r=a.length;for(let o=0;o<r;o++){const u=a.charAt(o);switch(u){case"\0":n+="";break;case nS:n+="";break;default:n+=u}}return n}function ME(a){return a+nS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(a){let e=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e++;return e}function cr(a,e){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e(n,a[n])}function aS(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yc(this.root,e,this.comparator,!0)}}class Yc{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??Jt.RED,this.left=o??Jt.EMPTY,this.right=u??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new Jt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new DE(this.data.getIterator())}getIteratorFrom(e){return new DE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class DE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new xt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new iS("Invalid base64 string: "+u):u}}(e);return new $t(n)}static fromUint8Array(e){const n=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const tN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(a){if(Ye(!!a,39018),typeof a=="string"){let e=0;const n=tN.exec(a);if(Ye(!!n,46558,{timestamp:a}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(a.seconds),nanos:_t(a.nanos)}}function _t(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function rr(a){return typeof a=="string"?$t.fromBase64String(a):$t.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="server_timestamp",sS="__type__",oS="__previous_value__",lS="__local_write_time__";function Ig(a){var e,n;return((n=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[sS])===null||n===void 0?void 0:n.stringValue)===rS}function Hh(a){const e=a.mapValue.fields[oS];return Ig(e)?Hh(e):e}function tu(a){const e=ir(a.mapValue.fields[lS].timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n,r,o,u,d,m,g,p,_){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=_}}const Eh="(default)";class nu{constructor(e,n){this.projectId=e,this.database=n||Eh}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===Eh}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="__type__",aN="__max__",$c={mapValue:{}},cS="__vector__",Ah="value";function sr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Ig(a)?4:rN(a)?9007199254740991:iN(a)?10:11:be(28295,{value:a})}function Na(a,e){if(a===e)return!0;const n=sr(a);if(n!==sr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return tu(a).isEqual(tu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=ir(o.timestampValue),m=ir(u.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,u){return rr(o.bytesValue).isEqual(rr(u.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(a,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=_t(o.doubleValue),m=_t(u.doubleValue);return d===m?_h(d)===_h(m):isNaN(d)&&isNaN(m)}return!1}(a,e);case 9:return ho(a.arrayValue.values||[],e.arrayValue.values||[],Na);case 10:case 11:return function(o,u){const d=o.mapValue.fields||{},m=u.mapValue.fields||{};if(NE(d)!==NE(m))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(m[g]===void 0||!Na(d[g],m[g])))return!1;return!0}(a,e);default:return be(52216,{left:a})}}function au(a,e){return(a.values||[]).find(n=>Na(n,e))!==void 0}function fo(a,e){if(a===e)return 0;const n=sr(a),r=sr(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(a.booleanValue,e.booleanValue);case 2:return function(u,d){const m=_t(u.integerValue||u.doubleValue),g=_t(d.integerValue||d.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(a,e);case 3:return kE(a.timestampValue,e.timestampValue);case 4:return kE(tu(a),tu(e));case 5:return jm(a.stringValue,e.stringValue);case 6:return function(u,d){const m=rr(u),g=rr(d);return m.compareTo(g)}(a.bytesValue,e.bytesValue);case 7:return function(u,d){const m=u.split("/"),g=d.split("/");for(let p=0;p<m.length&&p<g.length;p++){const _=xe(m[p],g[p]);if(_!==0)return _}return xe(m.length,g.length)}(a.referenceValue,e.referenceValue);case 8:return function(u,d){const m=xe(_t(u.latitude),_t(d.latitude));return m!==0?m:xe(_t(u.longitude),_t(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return xE(a.arrayValue,e.arrayValue);case 10:return function(u,d){var m,g,p,_;const S=u.fields||{},T=d.fields||{},P=(m=S[Ah])===null||m===void 0?void 0:m.arrayValue,L=(g=T[Ah])===null||g===void 0?void 0:g.arrayValue,Y=xe(((p=P==null?void 0:P.values)===null||p===void 0?void 0:p.length)||0,((_=L==null?void 0:L.values)===null||_===void 0?void 0:_.length)||0);return Y!==0?Y:xE(P,L)}(a.mapValue,e.mapValue);case 11:return function(u,d){if(u===$c.mapValue&&d===$c.mapValue)return 0;if(u===$c.mapValue)return 1;if(d===$c.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=d.fields||{},_=Object.keys(p);g.sort(),_.sort();for(let S=0;S<g.length&&S<_.length;++S){const T=jm(g[S],_[S]);if(T!==0)return T;const P=fo(m[g[S]],p[_[S]]);if(P!==0)return P}return xe(g.length,_.length)}(a.mapValue,e.mapValue);default:throw be(23264,{Pe:n})}}function kE(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return xe(a,e);const n=ir(a),r=ir(e),o=xe(n.seconds,r.seconds);return o!==0?o:xe(n.nanos,r.nanos)}function xE(a,e){const n=a.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=fo(n[o],r[o]);if(u)return u}return xe(n.length,r.length)}function mo(a){return Hm(a)}function Hm(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(n){const r=ir(n);return`time(${r.seconds},${r.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(n){return rr(n).toBase64()}(a.bytesValue):"referenceValue"in a?function(n){return Ee.fromName(n).toString()}(a.referenceValue):"geoPointValue"in a?function(n){return`geo(${n.latitude},${n.longitude})`}(a.geoPointValue):"arrayValue"in a?function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Hm(u);return r+"]"}(a.arrayValue):"mapValue"in a?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of r)u?u=!1:o+=",",o+=`${d}:${Hm(n.fields[d])}`;return o+"}"}(a.mapValue):be(61005,{value:a})}function rh(a){switch(sr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hh(a);return e?16+rh(e):16;case 5:return 2*a.stringValue.length;case 6:return rr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,u)=>o+rh(u),0)}(a.arrayValue);case 10:case 11:return function(r){let o=0;return cr(r.fields,(u,d)=>{o+=u.length+rh(d)}),o}(a.mapValue);default:throw be(13486,{value:a})}}function LE(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Gm(a){return!!a&&"integerValue"in a}function Mg(a){return!!a&&"arrayValue"in a}function OE(a){return!!a&&"nullValue"in a}function PE(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function sh(a){return!!a&&"mapValue"in a}function iN(a){var e,n;return((n=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[uS])===null||n===void 0?void 0:n.stringValue)===cS}function ql(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return cr(a.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ql(r)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ql(a.arrayValue.values[n]);return e}return Object.assign({},a)}function rN(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===aN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(n)}setAll(e){let n=Yt.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}d?r[m.lastSegment()]=ql(d):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Na(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){cr(n,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new pn(ql(this.value))}}function hS(a){const e=[];return cr(a.fields,(n,r)=>{const o=new Yt([n]);if(sh(r)){const u=hS(r.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,r,o,u,d,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,Ie.min(),Ie.min(),Ie.min(),pn.empty(),0)}static newFoundDocument(e,n,r,o){return new tn(e,1,n,Ie.min(),r,o,0)}static newNoDocument(e,n){return new tn(e,2,n,Ie.min(),Ie.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,Ie.min(),Ie.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n){this.position=e,this.inclusive=n}}function VE(a,e,n){let r=0;for(let o=0;o<a.position.length;o++){const u=e[o],d=a.position[o];if(u.field.isKeyField()?r=Ee.comparator(Ee.fromName(d.referenceValue),n.key):r=fo(d,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function UE(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!Na(a.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function sN(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{}class wt extends dS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lN(e,n,r):n==="array-contains"?new hN(e,r):n==="in"?new dN(e,r):n==="not-in"?new fN(e,r):n==="array-contains-any"?new mN(e,r):new wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new uN(e,r):new cN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fo(n,this.value)):n!==null&&sr(this.value)===sr(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class aa extends dS{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new aa(e,n)}matches(e){return fS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function fS(a){return a.op==="and"}function mS(a){return oN(a)&&fS(a)}function oN(a){for(const e of a.filters)if(e instanceof aa)return!1;return!0}function Km(a){if(a instanceof wt)return a.field.canonicalString()+a.op.toString()+mo(a.value);if(mS(a))return a.filters.map(e=>Km(e)).join(",");{const e=a.filters.map(n=>Km(n)).join(",");return`${a.op}(${e})`}}function gS(a,e){return a instanceof wt?function(r,o){return o instanceof wt&&r.op===o.op&&r.field.isEqual(o.field)&&Na(r.value,o.value)}(a,e):a instanceof aa?function(r,o){return o instanceof aa&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((u,d,m)=>u&&gS(d,o.filters[m]),!0):!1}(a,e):void be(19439)}function pS(a){return a instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`}(a):a instanceof aa?function(n){return n.op.toString()+" {"+n.getFilters().map(pS).join(" ,")+"}"}(a):"Filter"}class lN extends wt{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class uN extends wt{constructor(e,n){super(e,"in",n),this.keys=yS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cN extends wt{constructor(e,n){super(e,"not-in",n),this.keys=yS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yS(a,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class hN extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mg(n)&&au(n.arrayValue,this.value)}}class dN extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class fN extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!au(this.value.arrayValue,n)}}class mN extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>au(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n=null,r=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.Ie=null}}function zE(a,e=null,n=[],r=[],o=null,u=null,d=null){return new gN(a,e,n,r,o,u,d)}function Ng(a){const e=Me(a);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Km(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mo(r)).join(",")),e.Ie=n}return e.Ie}function Dg(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!sN(a.orderBy[n],e.orderBy[n]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!gS(a.filters[n],e.filters[n]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!UE(a.startAt,e.startAt)&&UE(a.endAt,e.endAt)}function Fm(a){return Ee.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n=null,r=[],o=[],u=null,d="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function pN(a,e,n,r,o,u,d,m){return new Co(a,e,n,r,o,u,d,m)}function Gh(a){return new Co(a)}function BE(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function vS(a){return a.collectionGroup!==null}function Jl(a){const e=Me(a);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new xt(Yt.comparator);return d.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new iu(u,r))}),n.has(Yt.keyField().canonicalString())||e.Ee.push(new iu(Yt.keyField(),r))}return e.Ee}function wa(a){const e=Me(a);return e.de||(e.de=yN(e,Jl(a))),e.de}function yN(a,e){if(a.limitType==="F")return zE(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new iu(o.field,u)});const n=a.endAt?new Th(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Th(a.startAt.position,a.startAt.inclusive):null;return zE(a.path,a.collectionGroup,e,a.filters,a.limit,n,r)}}function qm(a,e){const n=a.filters.concat([e]);return new Co(a.path,a.collectionGroup,a.explicitOrderBy.slice(),n,a.limit,a.limitType,a.startAt,a.endAt)}function Sh(a,e,n){return new Co(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,n,a.startAt,a.endAt)}function Kh(a,e){return Dg(wa(a),wa(e))&&a.limitType===e.limitType}function _S(a){return`${Ng(wa(a))}|lt:${a.limitType}`}function no(a){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>pS(o)).join(", ")}]`),jh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>mo(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>mo(o)).join(",")),`Target(${r})`}(wa(a))}; limitType=${a.limitType})`}function Fh(a,e){return e.isFoundDocument()&&function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Ee.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(a,e)&&function(r,o){for(const u of Jl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(a,e)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(a,e)&&function(r,o){return!(r.startAt&&!function(d,m,g){const p=VE(d,m,g);return d.inclusive?p<=0:p<0}(r.startAt,Jl(r),o)||r.endAt&&!function(d,m,g){const p=VE(d,m,g);return d.inclusive?p>=0:p>0}(r.endAt,Jl(r),o))}(a,e)}function vN(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function ES(a){return(e,n)=>{let r=!1;for(const o of Jl(a)){const u=_N(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function _N(a,e,n){const r=a.field.isKeyField()?Ee.comparator(e.key,n.key):function(u,d,m){const g=d.data.field(u),p=m.data.field(u);return g!==null&&p!==null?fo(g,p):be(42886)}(a.field,e,n);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){cr(this.inner,(n,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return aS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=new ht(Ee.comparator);function gi(){return EN}const AS=new ht(Ee.comparator);function Bl(...a){let e=AS;for(const n of a)e=e.insert(n.key,n);return e}function TS(a){let e=AS;return a.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $r(){return Yl()}function SS(){return Yl()}function Yl(){return new ss(a=>a.toString(),(a,e)=>a.isEqual(e))}const AN=new ht(Ee.comparator),TN=new xt(Ee.comparator);function ze(...a){let e=TN;for(const n of a)e=e.add(n);return e}const SN=new xt(xe);function bN(){return SN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function bS(a){return{integerValue:""+a}}function wN(a,e){return XM(e)?bS(e):kg(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this._=void 0}}function RN(a,e,n){return a instanceof ru?function(o,u){const d={fields:{[sS]:{stringValue:rS},[lS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ig(u)&&(u=Hh(u)),u&&(d.fields[oS]=u),{mapValue:d}}(n,e):a instanceof su?RS(a,e):a instanceof ou?CS(a,e):function(o,u){const d=wS(o,u),m=jE(d)+jE(o.Re);return Gm(d)&&Gm(o.Re)?bS(m):kg(o.serializer,m)}(a,e)}function CN(a,e,n){return a instanceof su?RS(a,e):a instanceof ou?CS(a,e):n}function wS(a,e){return a instanceof bh?function(r){return Gm(r)||function(u){return!!u&&"doubleValue"in u}(r)}(e)?e:{integerValue:0}:null}class ru extends qh{}class su extends qh{constructor(e){super(),this.elements=e}}function RS(a,e){const n=IS(e);for(const r of a.elements)n.some(o=>Na(o,r))||n.push(r);return{arrayValue:{values:n}}}class ou extends qh{constructor(e){super(),this.elements=e}}function CS(a,e){let n=IS(e);for(const r of a.elements)n=n.filter(o=>!Na(o,r));return{arrayValue:{values:n}}}class bh extends qh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function jE(a){return _t(a.integerValue||a.doubleValue)}function IS(a){return Mg(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n){this.field=e,this.transform=n}}function MN(a,e){return a.field.isEqual(e.field)&&function(r,o){return r instanceof su&&o instanceof su||r instanceof ou&&o instanceof ou?ho(r.elements,o.elements,Na):r instanceof bh&&o instanceof bh?Na(r.Re,o.Re):r instanceof ru&&o instanceof ru}(a.transform,e.transform)}class NN{constructor(e,n){this.version=e,this.transformResults=n}}class Ra{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ra}static exists(e){return new Ra(void 0,e)}static updateTime(e){return new Ra(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Jh{}function MS(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new DS(a.key,Ra.none()):new pu(a.key,a.data,Ra.none());{const n=a.data,r=pn.empty();let o=new xt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?r.delete(u):r.set(u,d),o=o.add(u)}return new hr(a.key,r,new Cn(o.toArray()),Ra.none())}}function DN(a,e,n){a instanceof pu?function(o,u,d){const m=o.value.clone(),g=GE(o.fieldTransforms,u,d.transformResults);m.setAll(g),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(a,e,n):a instanceof hr?function(o,u,d){if(!oh(o.precondition,u))return void u.convertToUnknownDocument(d.version);const m=GE(o.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(NS(o)),g.setAll(m),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,n):function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function $l(a,e,n,r){return a instanceof pu?function(u,d,m,g){if(!oh(u.precondition,d))return m;const p=u.value.clone(),_=KE(u.fieldTransforms,g,d);return p.setAll(_),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null}(a,e,n,r):a instanceof hr?function(u,d,m,g){if(!oh(u.precondition,d))return m;const p=KE(u.fieldTransforms,g,d),_=d.data;return _.setAll(NS(u)),_.setAll(p),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(a,e,n,r):function(u,d,m){return oh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(a,e,n)}function kN(a,e){let n=null;for(const r of a.fieldTransforms){const o=e.data.field(r.field),u=wS(r.transform,o||null);u!=null&&(n===null&&(n=pn.empty()),n.set(r.field,u))}return n||null}function HE(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ho(r,o,(u,d)=>MN(u,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class pu extends Jh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class hr extends Jh{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function NS(a){const e=new Map;return a.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=a.data.field(n);e.set(n,r)}}),e}function GE(a,e,n){const r=new Map;Ye(a.length===n.length,32656,{Ve:n.length,me:a.length});for(let o=0;o<n.length;o++){const u=a[o],d=u.transform,m=e.data.field(u.field);r.set(u.field,CN(d,m,n[o]))}return r}function KE(a,e,n){const r=new Map;for(const o of a){const u=o.transform,d=n.data.field(o.field);r.set(o.field,RN(u,d,e))}return r}class DS extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xN extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&DN(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$l(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$l(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=SS();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=n.has(o.key)?null:m;const g=MS(d,m);g!==null&&r.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,(n,r)=>HE(n,r))&&ho(this.baseMutations,e.baseMutations,(n,r)=>HE(n,r))}}class xg{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Ye(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let o=function(){return AN}();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new xg(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Ke;function VN(a){switch(a){case ie.OK:return be(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return be(15467,{code:a})}}function kS(a){if(a===void 0)return mi("GRPC error has no .code"),ie.UNKNOWN;switch(a){case bt.OK:return ie.OK;case bt.CANCELLED:return ie.CANCELLED;case bt.UNKNOWN:return ie.UNKNOWN;case bt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case bt.INTERNAL:return ie.INTERNAL;case bt.UNAVAILABLE:return ie.UNAVAILABLE;case bt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case bt.NOT_FOUND:return ie.NOT_FOUND;case bt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case bt.ABORTED:return ie.ABORTED;case bt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case bt.DATA_LOSS:return ie.DATA_LOSS;default:return be(39323,{code:a})}}(Ke=bt||(bt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=new er([4294967295,4294967295],0);function FE(a){const e=eS().encode(a),n=new qT;return n.update(e),new Uint8Array(n.digest())}function qE(a){const e=new DataView(a.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new er([n,r],0),new er([o,u],0)]}class Lg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(r<0)throw new jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=er.fromNumber(this.pe)}we(e,n,r){let o=e.add(n.multiply(er.fromNumber(r)));return o.compare(UN)===1&&(o=new er([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=FE(e),[r,o]=qE(n);for(let u=0;u<this.hashCount;u++){const d=this.we(r,o,u);if(!this.be(d))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Lg(u,o,n);return r.forEach(m=>d.insert(m)),d}insert(e){if(this.pe===0)return;const n=FE(e),[r,o]=qE(n);for(let u=0;u<this.hashCount;u++){const d=this.we(r,o,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yh(Ie.min(),o,new ht(xe),gi(),ze())}}class yu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yu(r,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n,r,o){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=o}}class xS{constructor(e,n){this.targetId=e,this.Ce=n}}class LS{constructor(e,n,r=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class JE{constructor(){this.Fe=0,this.Me=YE(),this.xe=$t.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ze(),n=ze(),r=ze();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:be(38017,{changeType:u})}}),new yu(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=YE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ye(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class zN{constructor(e){this.ze=e,this.je=new Map,this.He=gi(),this.Je=Qc(),this.Ye=Qc(),this.Ze=new ht(xe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:be(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,r=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Fm(u))if(r===0){const d=new Ee(u.path);this.tt(n,d,tn.newNoDocument(d,Ie.min()))}else Ye(r===1,20013,{expectedCount:r});else{const d=this.ut(n);if(d!==r){const m=this.ct(e),g=m?this.lt(m,e,d):1;if(g!==0){this.st(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let d,m;try{d=rr(r).toUint8Array()}catch(g){if(g instanceof iS)return co("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Lg(d,o,u)}catch(g){return co(g instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.pe===0?null:m}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let o=0;return r.forEach(u=>{const d=this.ze.Pt(),m=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,d)=>{const m=this._t(d);if(m){if(u.current&&Fm(m.target)){const g=new Ee(m.target.path);this.Et(g).has(d)||this.dt(d,g)||this.tt(d,g,tn.newNoDocument(g,e))}u.Le&&(n.set(d,u.qe()),u.Qe())}});let r=ze();this.Ye.forEach((u,d)=>{let m=!0;d.forEachWhile(g=>{const p=this._t(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(r=r.add(u))}),this.He.forEach((u,d)=>d.setReadTime(e));const o=new Yh(e,n,this.Ze,this.He,r);return this.He=gi(),this.Je=Qc(),this.Ye=Qc(),this.Ze=new ht(xe),o}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new JE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new xt(xe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new xt(xe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new JE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Qc(){return new ht(Ee.comparator)}function YE(){return new ht(Ee.comparator)}const BN={asc:"ASCENDING",desc:"DESCENDING"},jN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HN={and:"AND",or:"OR"};class GN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jm(a,e){return a.useProto3Json||jh(e)?e:{value:e}}function wh(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OS(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function KN(a,e){return wh(a,e.toTimestamp())}function Ca(a){return Ye(!!a,49232),Ie.fromTimestamp(function(n){const r=ir(n);return new kt(r.seconds,r.nanos)}(a))}function Og(a,e){return Ym(a,e).canonicalString()}function Ym(a,e){const n=function(o){return new it(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?n:n.child(e)}function PS(a){const e=it.fromString(a);return Ye(jS(e),10190,{key:e.toString()}),e}function $m(a,e){return Og(a.databaseId,e.path)}function Em(a,e){const n=PS(e);if(n.get(1)!==a.databaseId.projectId)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new Ee(US(n))}function VS(a,e){return Og(a.databaseId,e)}function FN(a){const e=PS(a);return e.length===4?it.emptyPath():US(e)}function Qm(a){return new it(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function US(a){return Ye(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function $E(a,e,n){return{name:$m(a,e),fields:n.value.mapValue.fields}}function qN(a,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:be(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(p,_){return p.useProto3Json?(Ye(_===void 0||typeof _=="string",58123),$t.fromBase64String(_||"")):(Ye(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),$t.fromUint8Array(_||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(p){const _=p.code===void 0?ie.UNKNOWN:kS(p.code);return new ge(_,p.message||"")}(d);n=new LS(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Em(a,r.document.name),u=Ca(r.document.updateTime),d=r.document.createTime?Ca(r.document.createTime):Ie.min(),m=new pn({mapValue:{fields:r.document.fields}}),g=tn.newFoundDocument(o,u,d,m),p=r.targetIds||[],_=r.removedTargetIds||[];n=new lh(p,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Em(a,r.document),u=r.readTime?Ca(r.readTime):Ie.min(),d=tn.newNoDocument(o,u),m=r.removedTargetIds||[];n=new lh([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Em(a,r.document),u=r.removedTargetIds||[];n=new lh([],u,o,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,d=new PN(o,u),m=r.targetId;n=new xS(m,d)}}return n}function JN(a,e){let n;if(e instanceof pu)n={update:$E(a,e.key,e.value)};else if(e instanceof DS)n={delete:$m(a,e.key)};else if(e instanceof hr)n={update:$E(a,e.key,e.data),updateMask:nD(e.fieldMask)};else{if(!(e instanceof xN))return be(16599,{ft:e.type});n={verify:$m(a,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(u,d){const m=d.transform;if(m instanceof ru)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof su)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ou)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bh)return{fieldPath:d.field.canonicalString(),increment:m.Re};throw be(20930,{transform:d.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:KN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)}(a,e.precondition)),n}function YN(a,e){return a&&a.length>0?(Ye(e!==void 0,14353),a.map(n=>function(o,u){let d=o.updateTime?Ca(o.updateTime):Ca(u);return d.isEqual(Ie.min())&&(d=Ca(u)),new NN(d,o.transformResults||[])}(n,e))):[]}function $N(a,e){return{documents:[VS(a,e.path)]}}function QN(a,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=VS(a,o);const u=function(p){if(p.length!==0)return BS(aa.create(p,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const d=function(p){if(p.length!==0)return p.map(_=>function(T){return{field:ao(T.field),direction:ZN(T.dir)}}(_))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=Jm(a,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:o}}function WN(a){let e=FN(a.parent);const n=a.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ye(r===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=function(S){const T=zS(S);return T instanceof aa&&mS(T)?T.getFilters():[T]}(n.where));let d=[];n.orderBy&&(d=function(S){return S.map(T=>function(L){return new iu(io(L.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(T))}(n.orderBy));let m=null;n.limit&&(m=function(S){let T;return T=typeof S=="object"?S.value:S,jh(T)?null:T}(n.limit));let g=null;n.startAt&&(g=function(S){const T=!!S.before,P=S.values||[];return new Th(P,T)}(n.startAt));let p=null;return n.endAt&&(p=function(S){const T=!S.before,P=S.values||[];return new Th(P,T)}(n.endAt)),pN(e,o,d,u,m,"F",g,p)}function XN(a,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zS(a){return a.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=io(n.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=io(n.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=io(n.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=io(n.unaryFilter.field);return wt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}}(a):a.fieldFilter!==void 0?function(n){return wt.create(io(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(n){return aa.create(n.compositeFilter.filters.map(r=>zS(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}}(n.compositeFilter.op))}(a):be(30097,{filter:a})}function ZN(a){return BN[a]}function eD(a){return jN[a]}function tD(a){return HN[a]}function ao(a){return{fieldPath:a.canonicalString()}}function io(a){return Yt.fromServerFormat(a.fieldPath)}function BS(a){return a instanceof wt?function(n){if(n.op==="=="){if(PE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(OE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(OE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:eD(n.op),value:n.value}}}(a):a instanceof aa?function(n){const r=n.getFilters().map(o=>BS(o));return r.length===1?r[0]:{compositeFilter:{op:tD(n.op),filters:r}}}(a):be(54877,{filter:a})}function nD(a){const e=[];return a.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jS(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n,r,o,u=Ie.min(),d=Ie.min(),m=$t.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.wt=e}}function iD(a){const e=WN({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Sh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.Cn=new sD}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(ar.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(ar.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class sD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new xt(it.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new xt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HS=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(HS,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new go(0)}static lr(){return new go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="LruGarbageCollector",oD=1048576;function XE([a,e],[n,r]){const o=xe(a,n);return o===0?xe(e,r):o}class lD{constructor(e){this.Er=e,this.buffer=new xt(XE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();XE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){me(WE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ro(n)?me(WE,"Ignoring IndexedDB error during garbage collection: ",n):await wo(n)}await this.mr(3e5)})}}class cD{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Bh.le);const r=new lD(n);return this.gr.forEachTarget(e,o=>r.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>r.Rr(o))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(QE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,o,u,d,m,g,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(r=S,m=Date.now(),this.removeTargets(e,r,n))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(p=Date.now(),to()<=Ue.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-_}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(p-g)+`ms
Total Duration: ${p-_}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function hD(a,e){return new cD(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.changes=new ss(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(r!==null&&$l(r.mutation,o,Cn.empty(),kt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ze()){const o=$r();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(u=>{let d=Bl();return u.forEach((m,g)=>{d=d.insert(m,g.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const r=$r();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ze()))}populateOverlays(e,n,r){const o=[];return r.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,m)=>{n.set(d,m)})})}computeViews(e,n,r,o){let u=gi();const d=Yl(),m=function(){return Yl()}();return n.forEach((g,p)=>{const _=r.get(p.key);o.has(p.key)&&(_===void 0||_.mutation instanceof hr)?u=u.insert(p.key,p):_!==void 0?(d.set(p.key,_.mutation.getFieldMask()),$l(_.mutation,p,_.mutation.getFieldMask(),kt.now())):d.set(p.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((p,_)=>d.set(p,_)),n.forEach((p,_)=>{var S;return m.set(p,new fD(_,(S=d.get(p))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,n){const r=Yl();let o=new ht((d,m)=>d-m),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const m of d)m.keys().forEach(g=>{const p=n.get(g);if(p===null)return;let _=r.get(g)||Cn.empty();_=m.applyToLocalView(p,_),r.set(g,_);const S=(o.get(m.batchId)||ze()).add(g);o=o.insert(m.batchId,S)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,_=g.value,S=SS();_.forEach(T=>{if(!u.has(T)){const P=MS(n.get(T),r.get(T));P!==null&&S.set(T,P),u=u.add(T)}}),d.push(this.documentOverlayCache.saveOverlays(e,p,S))}return se.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,o){return function(d){return Ee.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):se.resolve($r());let m=eu,g=u;return d.next(p=>se.forEach(p,(_,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(_)?se.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{g=g.insert(_,T)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,g,p,ze())).next(_=>({batchId:m,changes:TS(_)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(r=>{let o=Bl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let d=Bl();return this.indexManager.getCollectionParents(e,u).next(m=>se.forEach(m,g=>{const p=function(S,T){return new Co(T,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next(_=>{_.forEach((S,T)=>{d=d.insert(S,T)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o))).next(d=>{u.forEach((g,p)=>{const _=p.getKey();d.get(_)===null&&(d=d.insert(_,tn.newInvalidDocument(_)))});let m=Bl();return d.forEach((g,p)=>{const _=u.get(g);_!==void 0&&$l(_.mutation,p,Cn.empty(),kt.now()),Fh(n,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return se.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ca(o.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:iD(o.bundledQuery),readTime:Ca(o.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.overlays=new ht(Ee.comparator),this.Qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$r();return se.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&r.set(o,u)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,u)=>{this.St(e,n,u)}),se.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Qr.get(r);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const o=$r(),u=n.length+1,d=new Ee(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new ht((p,_)=>p-_);const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let _=u.get(p.largestBatchId);_===null&&(_=$r(),u=u.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const m=$r(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,_)=>m.set(p,_)),!(m.size()>=o)););return se.resolve(m)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Qr.get(o.largestBatchId).delete(r.key);this.Qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new ON(n,r));let u=this.Qr.get(n);u===void 0&&(u=ze(),this.Qr.set(n,u)),this.Qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(){this.$r=new xt(zt.Ur),this.Kr=new xt(zt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new zt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new zt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Ee(new it([])),r=new zt(n,e),o=new zt(n,e+1),u=[];return this.Kr.forEachInRange([r,o],d=>{this.zr(d),u.push(d.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ee(new it([])),r=new zt(n,e),o=new zt(n,e+1);let u=ze();return this.Kr.forEachInRange([r,o],d=>{u=u.add(d.key)}),u}containsKey(e){const n=new zt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ee.comparator(e.key,n.key)||xe(e.Zr,n.Zr)}static Wr(e,n){return xe(e.Zr,n.Zr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new xt(zt.Ur)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new LN(u,n,r,o);this.mutationQueue.push(d);for(const m of o)this.Xr=this.Xr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(d)}lookupMutationBatch(e,n){return se.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ti(r),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Cg:this.nr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([r,o],d=>{const m=this.ei(d.Zr);u.push(m)}),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(xe);return n.forEach(o=>{const u=new zt(o,0),d=new zt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,d],m=>{r=r.add(m.Zr)})}),se.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;Ee.isDocumentKey(u)||(u=u.child(""));const d=new zt(new Ee(u),0);let m=new xt(xe);return this.Xr.forEachWhile(g=>{const p=g.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Zr)),!0)},d),se.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(r=>{const o=this.ei(r);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ye(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return se.forEach(n.mutations,o=>{const u=new zt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new zt(n,0),o=this.Xr.firstAfterOrEqual(r);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.ii=e,this.docs=function(){return new ht(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,d=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let r=gi();return n.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))}),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=gi();const d=n.path,m=new Ee(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:_}}=g.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||YM(JM(_),r)<=0||(o.has(_.key)||Fh(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,n,r,o){be(9500)}si(e,n){return se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ED(this)}getSize(e){return se.resolve(this.size)}}class ED extends dD{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(r)}),se.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.persistence=e,this.oi=new ss(n=>Ng(n),Dg),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this._i=0,this.ai=new Pg,this.targetCount=0,this.ui=go.cr()}forEachTarget(e,n){return this.oi.forEach((r,o)=>n(o)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),se.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new go(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Tr(n),se.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.oi.forEach((d,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.oi.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),se.waitFor(u).next(()=>o)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),se.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n){this.ci={},this.overlays={},this.li=new Bh(0),this.hi=!1,this.hi=!0,this.Pi=new yD,this.referenceDelegate=e(this),this.Ti=new AD(this),this.indexManager=new rD,this.remoteDocumentCache=function(o){return new _D(o)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new aD(n),this.Ei=new gD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new vD(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const o=new TD(this.li.next());return this.referenceDelegate.di(),r(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return se.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class TD extends QM{constructor(e){super(),this.currentSequenceNumber=e}}class Vg{constructor(e){this.persistence=e,this.Vi=new Pg,this.mi=null}static fi(e){return new Vg(e)}get gi(){if(this.mi)return this.mi;throw be(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.gi,r=>{const o=Ee.fromPath(r);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Ie.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return se.or([()=>se.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Rh{constructor(e,n){this.persistence=e,this.yi=new ss(r=>ZM(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=hD(this,n)}static fi(e,n){return new Rh(e,n)}di(){}Ai(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(o=>r+o))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return se.forEach(this.yi,(r,o)=>this.Dr(e,r,o).next(u=>u?se.resolve():n(o)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,d=>this.Dr(e,d,n).next(m=>{m||(r++,u.removeEntry(d,Ie.min()))})).next(()=>u.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rh(e.data.value)),n}Dr(e,n,r){return se.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return se.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.ds=r,this.As=o}static Rs(e,n){let r=ze(),o=ze();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ug(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return yC()?8:WM(an())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.ws(e,n).next(d=>{u.result=d}).next(()=>{if(!u.result)return this.bs(e,n,o,r).next(d=>{u.result=d})}).next(()=>{if(u.result)return;const d=new SD;return this.Ss(e,n,d).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,d,m.size)})}).next(()=>u.result)}Ds(e,n,r,o){return r.documentReadCount<this.gs?(to()<=Ue.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),se.resolve()):(to()<=Ue.DEBUG&&me("QueryEngine","Query:",no(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ps*o?(to()<=Ue.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wa(n))):se.resolve())}ws(e,n){if(BE(n))return se.resolve(null);let r=wa(n);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Sh(n,null,"F"),r=wa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=ze(...u);return this.ys.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(g=>{const p=this.vs(n,m);return this.Cs(n,p,d,g.readTime)?this.ws(e,Sh(n,null,"F")):this.Fs(e,p,n,g)}))})))}bs(e,n,r,o){return BE(n)||o.isEqual(Ie.min())?se.resolve(null):this.ys.getDocuments(e,r).next(u=>{const d=this.vs(n,u);return this.Cs(n,d,r,o)?se.resolve(null):(to()<=Ue.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(n)),this.Fs(e,d,n,qM(o,eu)).next(m=>m))})}vs(e,n){let r=new xt(ES(e));return n.forEach((o,u)=>{Fh(e,u)&&(r=r.add(u))}),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,r){return to()<=Ue.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",no(n)),this.ys.getDocumentsMatchingQuery(e,n,ar.min(),r)}Fs(e,n,r,o){return this.ys.getDocumentsMatchingQuery(e,r,o).next(u=>(n.forEach(d=>{u=u.insert(d.key,d)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="LocalStore",wD=3e8;class RD{constructor(e,n,r,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new ht(xe),this.Os=new ss(u=>Ng(u),Dg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function CD(a,e,n,r){return new RD(a,e,n,r)}async function KS(a,e){const n=Me(a);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],m=[];let g=ze();for(const p of o){d.push(p.batchId);for(const _ of p.mutations)g=g.add(_.key)}for(const p of u){m.push(p.batchId);for(const _ of p.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(r,g).next(p=>({ks:p,removedBatchIds:d,addedBatchIds:m}))})})}function ID(a,e){const n=Me(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,g,p,_){const S=p.batch,T=S.keys();let P=se.resolve();return T.forEach(L=>{P=P.next(()=>_.getEntry(g,L)).next(Y=>{const K=p.docVersions.get(L);Ye(K!==null,48541),Y.version.compareTo(K)<0&&(S.applyToRemoteDocument(Y,p),Y.isValidDocument()&&(Y.setReadTime(p.commitVersion),_.addEntry(Y)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(g,S))}(n,r,e,u).next(()=>u.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(m){let g=ze();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}function FS(a){const e=Me(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function MD(a,e){const n=Me(a),r=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((_,S)=>{const T=o.get(S);if(!T)return;m.push(n.Ti.removeMatchingKeys(u,_.removedDocuments,S).next(()=>n.Ti.addMatchingKeys(u,_.addedDocuments,S)));let P=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken($t.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):_.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(_.resumeToken,r)),o=o.insert(S,P),function(Y,K,W){return Y.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=wD?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(T,P,_)&&m.push(n.Ti.updateTargetData(u,P))});let g=gi(),p=ze();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(ND(u,d,e.documentUpdates).next(_=>{g=_.qs,p=_.Qs})),!r.isEqual(Ie.min())){const _=n.Ti.getLastRemoteSnapshotVersion(u).next(S=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(_)}return se.waitFor(m).next(()=>d.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,p)).next(()=>g)}).then(u=>(n.xs=o,u))}function ND(a,e,n){let r=ze(),o=ze();return n.forEach(u=>r=r.add(u)),e.getEntries(a,r).next(u=>{let d=gi();return n.forEach((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ie.min())?(e.removeEntry(m,g.readTime),d=d.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),d=d.insert(m,g)):me(zg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{qs:d,Qs:o}})}function DD(a,e){const n=Me(a);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Cg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function kD(a,e){const n=Me(a);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Ti.getTargetData(r,e).next(u=>u?(o=u,se.resolve(o)):n.Ti.allocateTargetId(r).next(d=>(o=new Wi(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.xs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Wm(a,e,n){const r=Me(a),o=r.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Ro(d))throw d;me(zg,`Failed to update sequence numbers for target ${e}: ${d}`)}r.xs=r.xs.remove(e),r.Os.delete(o.target)}function ZE(a,e,n){const r=Me(a);let o=Ie.min(),u=ze();return r.persistence.runTransaction("Execute query","readwrite",d=>function(g,p,_){const S=Me(g),T=S.Os.get(_);return T!==void 0?se.resolve(S.xs.get(T)):S.Ti.getTargetData(p,_)}(r,d,wa(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(d,m.targetId).next(g=>{u=g})}).next(()=>r.Ms.getDocumentsMatchingQuery(d,e,n?o:Ie.min(),n?u:ze())).next(m=>(xD(r,vN(e),m),{documents:m,$s:u})))}function xD(a,e,n){let r=a.Ns.get(e)||Ie.min();n.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),a.Ns.set(e,r)}class eA{constructor(){this.activeTargetIds=bN()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LD{constructor(){this.xo=new eA,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new eA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="ConnectivityMonitor";class nA{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){me(tA,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){me(tA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc=null;function Xm(){return Wc===null?Wc=function(){return 268435456+Math.round(2147483648*Math.random())}():Wc++,"0x"+Wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="RestConnection",PD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VD{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${o}`,this.Go=this.databaseId.database===Eh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}zo(e,n,r,o,u){const d=Xm(),m=this.jo(e,n.toUriEncodedString());me(Am,`Sending RPC '${e}' ${d}:`,m,r);const g={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(g,o,u);const{host:p}=new URL(m),_=Ao(p);return this.Jo(e,m,g,r,_).then(S=>(me(Am,`Received RPC '${e}' ${d}: `,S),S),S=>{throw co(Am,`RPC '${e}' ${d} failed with error: `,S,"url: ",m,"request:",r),S})}Yo(e,n,r,o,u,d){return this.zo(e,n,r,o,u)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const r=PD[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class zD extends VD{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,u){const d=Xm();return new Promise((m,g)=>{const p=new JT;p.setWithCredentials(!0),p.listenOnce(YT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ih.NO_ERROR:const S=p.getResponseJson();me(Zt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),m(S);break;case ih.TIMEOUT:me(Zt,`RPC '${e}' ${d} timed out`),g(new ge(ie.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const T=p.getStatus();if(me(Zt,`RPC '${e}' ${d} failed with status:`,T,"response text:",p.getResponseText()),T>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const L=P==null?void 0:P.error;if(L&&L.status&&L.message){const Y=function(W){const F=W.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(F)>=0?F:ie.UNKNOWN}(L.status);g(new ge(Y,L.message))}else g(new ge(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ge(ie.UNAVAILABLE,"Connection failed."));break;default:be(9055,{h_:e,streamId:d,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{me(Zt,`RPC '${e}' ${d} completed.`)}});const _=JSON.stringify(o);me(Zt,`RPC '${e}' ${d} sending request:`,o),p.send(n,"POST",_,r,15)})}I_(e,n,r){const o=Xm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=WT(),m=QT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Ho(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const _=u.join("");me(Zt,`Creating RPC '${e}' stream ${o}: ${_}`,g);const S=d.createWebChannel(_,g);this.E_(S);let T=!1,P=!1;const L=new UD({Zo:K=>{P?me(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(T||(me(Zt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),T=!0),me(Zt,`RPC '${e}' stream ${o} sending:`,K),S.send(K))},Xo:()=>S.close()}),Y=(K,W,F)=>{K.listen(W,Z=>{try{F(Z)}catch(ce){setTimeout(()=>{throw ce},0)}})};return Y(S,zl.EventType.OPEN,()=>{P||(me(Zt,`RPC '${e}' stream ${o} transport opened.`),L.__())}),Y(S,zl.EventType.CLOSE,()=>{P||(P=!0,me(Zt,`RPC '${e}' stream ${o} transport closed`),L.u_(),this.d_(S))}),Y(S,zl.EventType.ERROR,K=>{P||(P=!0,co(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),L.u_(new ge(ie.UNAVAILABLE,"The operation could not be completed")))}),Y(S,zl.EventType.MESSAGE,K=>{var W;if(!P){const F=K.data[0];Ye(!!F,16349);const Z=F,ce=(Z==null?void 0:Z.error)||((W=Z[0])===null||W===void 0?void 0:W.error);if(ce){me(Zt,`RPC '${e}' stream ${o} received error:`,ce);const ee=ce.status;let re=function(R){const N=bt[R];if(N!==void 0)return kS(N)}(ee),D=ce.message;re===void 0&&(re=ie.INTERNAL,D="Unknown error status: "+ee+" with message "+ce.message),P=!0,L.u_(new ge(re,D)),S.close()}else me(Zt,`RPC '${e}' stream ${o} received:`,F),L.c_(F)}}),Y(m,$T.STAT_EVENT,K=>{K.stat===Bm.PROXY?me(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):K.stat===Bm.NOPROXY&&me(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.a_()},0),L}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(a){return new GN(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n,r=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-r);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="PersistentStream";class JS{constructor(e,n,r,o,u,d,m,g){this.xi=e,this.S_=r,this.D_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new qS(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(mi(n.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.v_===n&&this.z_(r,o)},r=>{e(()=>{const o=new ge(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(o)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{r(()=>this.j_(o))}),this.stream.onMessage(o=>{r(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return me(aA,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(me(aA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BD extends JS{constructor(e,n,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,d),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=qN(this.serializer,e),r=function(u){if(!("targetChange"in u))return Ie.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ie.min():d.readTime?Ca(d.readTime):Ie.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Qm(this.serializer),n.addTarget=function(u,d){let m;const g=d.target;if(m=Fm(g)?{documents:$N(u,g)}:{query:QN(u,g).gt},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=OS(u,d.resumeToken);const p=Jm(u,d.expectedCount);p!==null&&(m.expectedCount=p)}else if(d.snapshotVersion.compareTo(Ie.min())>0){m.readTime=wh(u,d.snapshotVersion.toTimestamp());const p=Jm(u,d.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const r=XN(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Qm(this.serializer),n.removeTarget=e,this.Q_(n)}}class jD extends JS{constructor(e,n,r,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,d),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=YN(e.writeResults,e.commitTime),r=Ca(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Qm(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>JN(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{}class GD extends HD{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.zo(e,Ym(n,r),o,u,d)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ie.UNKNOWN,u.toString())})}Yo(e,n,r,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Yo(e,Ym(n,r),o,d,m,u)).catch(d=>{throw d.name==="FirebaseError"?(d.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ge(ie.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class KD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(mi(n),this.ua=!1):me("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="RemoteStore";class FD{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(d=>{r.enqueueAndForget(async()=>{os(this)&&(me(es,"Restarting streams for network reachability change."),await async function(g){const p=Me(g);p.da.add(4),await vu(p),p.Va.set("Unknown"),p.da.delete(4),await Qh(p)}(this))})}),this.Va=new KD(r,o)}}async function Qh(a){if(os(a))for(const e of a.Aa)await e(!0)}async function vu(a){for(const e of a.Aa)await e(!1)}function YS(a,e){const n=Me(a);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Gg(n)?Hg(n):Io(n).N_()&&jg(n,e))}function Bg(a,e){const n=Me(a),r=Io(n);n.Ea.delete(e),r.N_()&&$S(n,e),n.Ea.size===0&&(r.N_()?r.k_():os(n)&&n.Va.set("Unknown"))}function jg(a,e){if(a.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(a).Z_(e)}function $S(a,e){a.ma.Ke(e),Io(a).X_(e)}function Hg(a){a.ma=new zN({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>a.Ea.get(e)||null,Pt:()=>a.datastore.serializer.databaseId}),Io(a).start(),a.Va.ca()}function Gg(a){return os(a)&&!Io(a).O_()&&a.Ea.size>0}function os(a){return Me(a).da.size===0}function QS(a){a.ma=void 0}async function qD(a){a.Va.set("Online")}async function JD(a){a.Ea.forEach((e,n)=>{jg(a,e)})}async function YD(a,e){QS(a),Gg(a)?(a.Va.Pa(e),Hg(a)):a.Va.set("Unknown")}async function $D(a,e,n){if(a.Va.set("Online"),e instanceof LS&&e.state===2&&e.cause)try{await async function(o,u){const d=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.Ea.delete(m),o.ma.removeTarget(m))}(a,e)}catch(r){me(es,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ch(a,r)}else if(e instanceof lh?a.ma.Xe(e):e instanceof xS?a.ma.ot(e):a.ma.nt(e),!n.isEqual(Ie.min()))try{const r=await FS(a.localStore);n.compareTo(r)>=0&&await function(u,d){const m=u.ma.It(d);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const _=u.Ea.get(p);_&&u.Ea.set(p,_.withResumeToken(g.resumeToken,d))}}),m.targetMismatches.forEach((g,p)=>{const _=u.Ea.get(g);if(!_)return;u.Ea.set(g,_.withResumeToken($t.EMPTY_BYTE_STRING,_.snapshotVersion)),$S(u,g);const S=new Wi(_.target,g,p,_.sequenceNumber);jg(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(a,n)}catch(r){me(es,"Failed to raise snapshot:",r),await Ch(a,r)}}async function Ch(a,e,n){if(!Ro(e))throw e;a.da.add(1),await vu(a),a.Va.set("Offline"),n||(n=()=>FS(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{me(es,"Retrying IndexedDB access"),await n(),a.da.delete(1),await Qh(a)})}function WS(a,e){return e().catch(n=>Ch(a,n,e))}async function Wh(a){const e=Me(a),n=or(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Cg;for(;QD(e);)try{const o=await DD(e.localStore,r);if(o===null){e.Ia.length===0&&n.k_();break}r=o.batchId,WD(e,o)}catch(o){await Ch(e,o)}XS(e)&&ZS(e)}function QD(a){return os(a)&&a.Ia.length<10}function WD(a,e){a.Ia.push(e);const n=or(a);n.N_()&&n.ea&&n.ta(e.mutations)}function XS(a){return os(a)&&!or(a).O_()&&a.Ia.length>0}function ZS(a){or(a).start()}async function XD(a){or(a).ia()}async function ZD(a){const e=or(a);for(const n of a.Ia)e.ta(n.mutations)}async function e2(a,e,n){const r=a.Ia.shift(),o=xg.from(r,e,n);await WS(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await Wh(a)}async function t2(a,e){e&&or(a).ea&&await async function(r,o){if(function(d){return VN(d)&&d!==ie.ABORTED}(o.code)){const u=r.Ia.shift();or(r).L_(),await WS(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Wh(r)}}(a,e),XS(a)&&ZS(a)}async function iA(a,e){const n=Me(a);n.asyncQueue.verifyOperationInProgress(),me(es,"RemoteStore received new credentials");const r=os(n);n.da.add(3),await vu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Qh(n)}async function n2(a,e){const n=Me(a);e?(n.da.delete(2),await Qh(n)):e||(n.da.add(2),await vu(n),n.Va.set("Unknown"))}function Io(a){return a.fa||(a.fa=function(n,r,o){const u=Me(n);return u.oa(),new BD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(a.datastore,a.asyncQueue,{e_:qD.bind(null,a),n_:JD.bind(null,a),i_:YD.bind(null,a),Y_:$D.bind(null,a)}),a.Aa.push(async e=>{e?(a.fa.L_(),Gg(a)?Hg(a):a.Va.set("Unknown")):(await a.fa.stop(),QS(a))})),a.fa}function or(a){return a.ga||(a.ga=function(n,r,o){const u=Me(n);return u.oa(),new jD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(a.datastore,a.asyncQueue,{e_:()=>Promise.resolve(),n_:XD.bind(null,a),i_:t2.bind(null,a),na:ZD.bind(null,a),ra:e2.bind(null,a)}),a.Aa.push(async e=>{e?(a.ga.L_(),await Wh(a)):(await a.ga.stop(),a.Ia.length>0&&(me(es,`Stopping write stream with ${a.Ia.length} pending writes`),a.Ia=[]))})),a.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const d=Date.now()+r,m=new Kg(e,n,d,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fg(a,e){if(mi("AsyncQueue",`${e}: ${a}`),Ro(a))return new ge(ie.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=Bl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new lo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(){this.pa=new ht(Ee.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):be(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class po{constructor(e,n,r,o,u,d,m,g,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,o,u){const d=[];return n.forEach(m=>{d.push({type:0,doc:m})}),new po(e,n,lo.emptySet(n),d,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class i2{constructor(){this.queries=sA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Me(n),u=o.queries;o.queries=sA(),u.forEach((d,m)=>{for(const g of m.Sa)g.onError(r)})})(this,new ge(ie.ABORTED,"Firestore shutting down"))}}function sA(){return new ss(a=>_S(a),Kh)}async function qg(a,e){const n=Me(a);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(r=2):(u=new a2,r=e.va()?0:1);try{switch(r){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const m=Fg(d,`Initialization of query '${no(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&Yg(n)}async function Jg(a,e){const n=Me(a),r=e.query;let o=3;const u=n.queries.get(r);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function r2(a,e){const n=Me(a);let r=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const m of d.Sa)m.Ma(o)&&(r=!0);d.ba=o}}r&&Yg(n)}function s2(a,e,n){const r=Me(a),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(e)}function Yg(a){a.Ca.forEach(e=>{e.next()})}var Zm,oA;(oA=Zm||(Zm={})).xa="default",oA.Cache="cache";class $g{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new po(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Zm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){this.key=e}}class t0{constructor(e){this.key=e}}class o2{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.Za=ES(e),this.Xa=new lo(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new rA,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,S)=>{const T=o.get(_),P=Fh(this.query,S)?S:null,L=!!T&&this.mutatedKeys.has(T.key),Y=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let K=!1;T&&P?T.data.isEqual(P.data)?L!==Y&&(r.track({type:3,doc:P}),K=!0):this.ru(T,P)||(r.track({type:2,doc:P}),K=!0,(g&&this.Za(P,g)>0||p&&this.Za(P,p)<0)&&(m=!0)):!T&&P?(r.track({type:0,doc:P}),K=!0):T&&!P&&(r.track({type:1,doc:T}),K=!0,(g||p)&&(m=!0)),K&&(P?(d=d.add(P),u=Y?u.add(_):u.delete(_)):(d=d.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const _=this.query.limitType==="F"?d.last():d.first();d=d.delete(_.key),u=u.delete(_.key),r.track({type:1,doc:_})}return{Xa:d,nu:r,Cs:m,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const d=e.nu.wa();d.sort((_,S)=>function(P,L){const Y=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:K})}};return Y(P)-Y(L)}(_.type,S.type)||this.Za(_.doc,S.doc)),this.iu(r),o=o!=null&&o;const m=n&&!o?this.su():[],g=this.Ya.size===0&&this.current&&!o?1:0,p=g!==this.Ja;return this.Ja=g,d.length!==0||p?{snapshot:new po(this.query,e.Xa,u,d,e.mutatedKeys,g===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new rA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new t0(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new e0(r))}),n}au(e){this.Ha=e.$s,this.Ya=ze();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return po.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Qg="SyncEngine";class l2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class u2{constructor(e){this.key=e,this.cu=!1}}class c2{constructor(e,n,r,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new ss(m=>_S(m),Kh),this.Pu=new Map,this.Tu=new Set,this.Iu=new ht(Ee.comparator),this.Eu=new Map,this.du=new Pg,this.Au={},this.Ru=new Map,this.Vu=go.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function h2(a,e,n=!0){const r=o0(a);let o;const u=r.hu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await n0(r,e,n,!0),o}async function d2(a,e){const n=o0(a);await n0(n,e,!0,!1)}async function n0(a,e,n,r){const o=await kD(a.localStore,wa(e)),u=o.targetId,d=a.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await f2(a,e,u,d==="current",o.resumeToken)),a.isPrimaryClient&&n&&YS(a.remoteStore,o),m}async function f2(a,e,n,r,o){a.fu=(S,T,P)=>async function(Y,K,W,F){let Z=K.view.tu(W);Z.Cs&&(Z=await ZE(Y.localStore,K.query,!1).then(({documents:D})=>K.view.tu(D,Z)));const ce=F&&F.targetChanges.get(K.targetId),ee=F&&F.targetMismatches.get(K.targetId)!=null,re=K.view.applyChanges(Z,Y.isPrimaryClient,ce,ee);return uA(Y,K.targetId,re.ou),re.snapshot}(a,S,T,P);const u=await ZE(a.localStore,e,!0),d=new o2(e,u.$s),m=d.tu(u.documents),g=yu.createSynthesizedTargetChangeForCurrentChange(n,r&&a.onlineState!=="Offline",o),p=d.applyChanges(m,a.isPrimaryClient,g);uA(a,n,p.ou);const _=new l2(e,n,d);return a.hu.set(e,_),a.Pu.has(n)?a.Pu.get(n).push(e):a.Pu.set(n,[e]),p.snapshot}async function m2(a,e,n){const r=Me(a),o=r.hu.get(e),u=r.Pu.get(o.targetId);if(u.length>1)return r.Pu.set(o.targetId,u.filter(d=>!Kh(d,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Wm(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Bg(r.remoteStore,o.targetId),eg(r,o.targetId)}).catch(wo)):(eg(r,o.targetId),await Wm(r.localStore,o.targetId,!0))}async function g2(a,e){const n=Me(a),r=n.hu.get(e),o=n.Pu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Bg(n.remoteStore,r.targetId))}async function p2(a,e,n){const r=S2(a);try{const o=await function(d,m){const g=Me(d),p=kt.now(),_=m.reduce((P,L)=>P.add(L.key),ze());let S,T;return g.persistence.runTransaction("Locally write mutations","readwrite",P=>{let L=gi(),Y=ze();return g.Bs.getEntries(P,_).next(K=>{L=K,L.forEach((W,F)=>{F.isValidDocument()||(Y=Y.add(W))})}).next(()=>g.localDocuments.getOverlayedDocuments(P,L)).next(K=>{S=K;const W=[];for(const F of m){const Z=kN(F,S.get(F.key).overlayedDocument);Z!=null&&W.push(new hr(F.key,Z,hS(Z.value.mapValue),Ra.exists(!0)))}return g.mutationQueue.addMutationBatch(P,p,W,m)}).next(K=>{T=K;const W=K.applyToLocalDocumentSet(S,Y);return g.documentOverlayCache.saveOverlays(P,K.batchId,W)})}).then(()=>({batchId:T.batchId,changes:TS(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(d,m,g){let p=d.Au[d.currentUser.toKey()];p||(p=new ht(xe)),p=p.insert(m,g),d.Au[d.currentUser.toKey()]=p}(r,o.batchId,n),await _u(r,o.changes),await Wh(r.remoteStore)}catch(o){const u=Fg(o,"Failed to persist write");n.reject(u)}}async function a0(a,e){const n=Me(a);try{const r=await MD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const d=n.Eu.get(u);d&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.cu=!0:o.modifiedDocuments.size>0?Ye(d.cu,14607):o.removedDocuments.size>0&&(Ye(d.cu,42227),d.cu=!1))}),await _u(n,r,e)}catch(r){await wo(r)}}function lA(a,e,n){const r=Me(a);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.hu.forEach((u,d)=>{const m=d.view.Fa(e);m.snapshot&&o.push(m.snapshot)}),function(d,m){const g=Me(d);g.onlineState=m;let p=!1;g.queries.forEach((_,S)=>{for(const T of S.Sa)T.Fa(m)&&(p=!0)}),p&&Yg(g)}(r.eventManager,e),o.length&&r.lu.Y_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function y2(a,e,n){const r=Me(a);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Eu.get(e),u=o&&o.key;if(u){let d=new ht(Ee.comparator);d=d.insert(u,tn.newNoDocument(u,Ie.min()));const m=ze().add(u),g=new Yh(Ie.min(),new Map,new ht(xe),d,m);await a0(r,g),r.Iu=r.Iu.remove(u),r.Eu.delete(e),Wg(r)}else await Wm(r.localStore,e,!1).then(()=>eg(r,e,n)).catch(wo)}async function v2(a,e){const n=Me(a),r=e.batch.batchId;try{const o=await ID(n.localStore,e);r0(n,r,null),i0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _u(n,o)}catch(o){await wo(o)}}async function _2(a,e,n){const r=Me(a);try{const o=await function(d,m){const g=Me(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return g.mutationQueue.lookupMutationBatch(p,m).next(S=>(Ye(S!==null,37113),_=S.keys(),g.mutationQueue.removeMutationBatch(p,S))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,_,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>g.localDocuments.getDocuments(p,_))})}(r.localStore,e);r0(r,e,n),i0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _u(r,o)}catch(o){await wo(o)}}function i0(a,e){(a.Ru.get(e)||[]).forEach(n=>{n.resolve()}),a.Ru.delete(e)}function r0(a,e,n){const r=Me(a);let o=r.Au[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.Au[r.currentUser.toKey()]=o}}function eg(a,e,n=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Pu.get(e))a.hu.delete(r),n&&a.lu.gu(r,n);a.Pu.delete(e),a.isPrimaryClient&&a.du.Hr(e).forEach(r=>{a.du.containsKey(r)||s0(a,r)})}function s0(a,e){a.Tu.delete(e.path.canonicalString());const n=a.Iu.get(e);n!==null&&(Bg(a.remoteStore,n),a.Iu=a.Iu.remove(e),a.Eu.delete(n),Wg(a))}function uA(a,e,n){for(const r of n)r instanceof e0?(a.du.addReference(r.key,e),E2(a,r)):r instanceof t0?(me(Qg,"Document no longer in limbo: "+r.key),a.du.removeReference(r.key,e),a.du.containsKey(r.key)||s0(a,r.key)):be(19791,{pu:r})}function E2(a,e){const n=e.key,r=n.path.canonicalString();a.Iu.get(n)||a.Tu.has(r)||(me(Qg,"New document in limbo: "+n),a.Tu.add(r),Wg(a))}function Wg(a){for(;a.Tu.size>0&&a.Iu.size<a.maxConcurrentLimboResolutions;){const e=a.Tu.values().next().value;a.Tu.delete(e);const n=new Ee(it.fromString(e)),r=a.Vu.next();a.Eu.set(r,new u2(n)),a.Iu=a.Iu.insert(n,r),YS(a.remoteStore,new Wi(wa(Gh(n.path)),r,"TargetPurposeLimboResolution",Bh.le))}}async function _u(a,e,n){const r=Me(a),o=[],u=[],d=[];r.hu.isEmpty()||(r.hu.forEach((m,g)=>{d.push(r.fu(g,e,n).then(p=>{var _;if((p||n)&&r.isPrimaryClient){const S=p?!p.fromCache:(_=n==null?void 0:n.targetChanges.get(g.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(p){o.push(p);const S=Ug.Rs(g.targetId,p);u.push(S)}}))}),await Promise.all(d),r.lu.Y_(o),await async function(g,p){const _=Me(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>se.forEach(p,T=>se.forEach(T.ds,P=>_.persistence.referenceDelegate.addReference(S,T.targetId,P)).next(()=>se.forEach(T.As,P=>_.persistence.referenceDelegate.removeReference(S,T.targetId,P)))))}catch(S){if(!Ro(S))throw S;me(zg,"Failed to update sequence numbers: "+S)}for(const S of p){const T=S.targetId;if(!S.fromCache){const P=_.xs.get(T),L=P.snapshotVersion,Y=P.withLastLimboFreeSnapshotVersion(L);_.xs=_.xs.insert(T,Y)}}}(r.localStore,u))}async function A2(a,e){const n=Me(a);if(!n.currentUser.isEqual(e)){me(Qg,"User change. New user:",e.toKey());const r=await KS(n.localStore,e);n.currentUser=e,function(u,d){u.Ru.forEach(m=>{m.forEach(g=>{g.reject(new ge(ie.CANCELLED,d))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _u(n,r.ks)}}function T2(a,e){const n=Me(a),r=n.Eu.get(e);if(r&&r.cu)return ze().add(r.key);{let o=ze();const u=n.Pu.get(e);if(!u)return o;for(const d of u){const m=n.hu.get(d);o=o.unionWith(m.view.eu)}return o}}function o0(a){const e=Me(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=a0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y2.bind(null,e),e.lu.Y_=r2.bind(null,e.eventManager),e.lu.gu=s2.bind(null,e.eventManager),e}function S2(a){const e=Me(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_2.bind(null,e),e}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$h(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return CD(this.persistence,new bD,e.initialUser,this.serializer)}Su(e){return new GS(Vg.fi,this.serializer)}bu(e){return new LD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class b2 extends Ih{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Ye(this.persistence.referenceDelegate instanceof Rh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new uD(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new GS(r=>Rh.fi(r,n),this.serializer)}}class tg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=A2.bind(null,this.syncEngine),await n2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new i2}()}createDatastore(e){const n=$h(e.databaseInfo.databaseId),r=function(u){return new zD(u)}(e.databaseInfo);return function(u,d,m,g){return new GD(u,d,m,g)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,o,u,d,m){return new FD(r,o,u,d,m)}(this.localStore,this.datastore,e.asyncQueue,n=>lA(this.syncEngine,n,0),function(){return nA.C()?new nA:new OD}())}createSyncEngine(e,n){return function(o,u,d,m,g,p,_){const S=new c2(o,u,d,m,g,p);return _&&(S.mu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Me(o);me(es,"RemoteStore shutting down."),u.da.add(5),await vu(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}tg.provider={build:()=>new tg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="FirestoreClient";class w2{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=tS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async d=>{me(lr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(me(lr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Fg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sm(a,e){a.asyncQueue.verifyOperationInProgress(),me(lr,"Initializing OfflineComponentProvider");const n=a.configuration;await e.initialize(n);let r=n.initialUser;a.setCredentialChangeListener(async o=>{r.isEqual(o)||(await KS(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function cA(a,e){a.asyncQueue.verifyOperationInProgress();const n=await R2(a);me(lr,"Initializing OnlineComponentProvider"),await e.initialize(n,a.configuration),a.setCredentialChangeListener(r=>iA(e.remoteStore,r)),a.setAppCheckTokenChangeListener((r,o)=>iA(e.remoteStore,o)),a._onlineComponents=e}async function R2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){me(lr,"Using user provided OfflineComponentProvider");try{await Sm(a,a._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await Sm(a,new Ih)}}else me(lr,"Using default OfflineComponentProvider"),await Sm(a,new b2(void 0));return a._offlineComponents}async function l0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(me(lr,"Using user provided OnlineComponentProvider"),await cA(a,a._uninitializedComponentsProvider._online)):(me(lr,"Using default OnlineComponentProvider"),await cA(a,new tg))),a._onlineComponents}function C2(a){return l0(a).then(e=>e.syncEngine)}async function Mh(a){const e=await l0(a),n=e.eventManager;return n.onListen=h2.bind(null,e.syncEngine),n.onUnlisten=m2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=d2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=g2.bind(null,e.syncEngine),n}function I2(a,e,n={}){const r=new ci;return a.asyncQueue.enqueueAndForget(async()=>function(u,d,m,g,p){const _=new Xg({next:T=>{_.xu(),d.enqueueAndForget(()=>Jg(u,S));const P=T.docs.has(m);!P&&T.fromCache?p.reject(new ge(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&T.fromCache&&g&&g.source==="server"?p.reject(new ge(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),S=new $g(Gh(m.path),_,{includeMetadataChanges:!0,Qa:!0});return qg(u,S)}(await Mh(a),a.asyncQueue,e,n,r)),r.promise}function M2(a,e,n={}){const r=new ci;return a.asyncQueue.enqueueAndForget(async()=>function(u,d,m,g,p){const _=new Xg({next:T=>{_.xu(),d.enqueueAndForget(()=>Jg(u,S)),T.fromCache&&g.source==="server"?p.reject(new ge(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),S=new $g(m,_,{includeMetadataChanges:!0,Qa:!0});return qg(u,S)}(await Mh(a),a.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(a,e,n){if(!n)throw new ge(ie.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function N2(a,e,n,r){if(e===!0&&r===!0)throw new ge(ie.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function dA(a){if(!Ee.isDocumentKey(a))throw new ge(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function fA(a){if(Ee.isDocumentKey(a))throw new ge(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Xh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":be(12329,{type:typeof a})}function Hn(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ge(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xh(a);throw new ge(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="firestore.googleapis.com",mA=!0;class gA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=h0,this.ssl=mA}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:mA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oD)throw new ge(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=u0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new VM;switch(r.type){case"firstParty":return new jM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=hA.get(n);r&&(me("ComponentProvider","Removing Datastore"),hA.delete(n),r.terminate())}(this),Promise.resolve()}}function D2(a,e,n,r={}){var o;a=Hn(a,Zh);const u=Ao(e),d=a._getSettings(),m=Object.assign(Object.assign({},d),{emulatorOptions:a._getEmulatorOptions()}),g=`${e}:${n}`;u&&(rT(`https://${g}`),sT("Firestore",!0)),d.host!==h0&&d.host!==g&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},d),{host:g,ssl:u,emulatorOptions:r});if(!nr(p,m)&&(a._setSettings(p),r.mockUserToken)){let _,S;if(typeof r.mockUserToken=="string")_=r.mockUserToken,S=en.MOCK_USER;else{_=uC(r.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new ge(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new en(T)}a._authCredentials=new UM(new ZT(_,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pi(this.firestore,e,this._query)}}class nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}}class tr extends pi{constructor(e,n,r){super(e,n,Gh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new Ee(e))}withConverter(e){return new tr(this.firestore,e,this._path)}}function pA(a,e,...n){if(a=Rt(a),c0("collection","path",e),a instanceof Zh){const r=it.fromString(e,...n);return fA(r),new tr(a,null,r)}{if(!(a instanceof nn||a instanceof tr))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(it.fromString(e,...n));return fA(r),new tr(a.firestore,null,r)}}function ri(a,e,...n){if(a=Rt(a),arguments.length===1&&(e=tS.newId()),c0("doc","path",e),a instanceof Zh){const r=it.fromString(e,...n);return dA(r),new nn(a,null,new Ee(r))}{if(!(a instanceof nn||a instanceof tr))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(it.fromString(e,...n));return dA(r),new nn(a.firestore,a instanceof tr?a.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="AsyncQueue";class vA{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new qS(this,"async_queue_retry"),this.rc=()=>{const r=Tm();r&&me(yA,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new ci;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Ro(e))throw e;me(yA,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,mi("INTERNAL UNHANDLED ERROR: ",_A(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=Kg.createAndSchedule(this,e,n,r,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&be(47125,{cc:_A(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function _A(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(a){return function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1}(a,["next","error","complete"])}class ts extends Zh{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new vA,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vA(e),this._firestoreClient=void 0,await e}}}function k2(a,e){const n=typeof a=="object"?a:mg(),r=typeof a=="string"?a:Eh,o=rs(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=oC("firestore");u&&D2(o,...u)}return o}function ed(a){if(a._terminated)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||x2(a),a._firestoreClient}function x2(a){var e,n,r;const o=a._freezeSettings(),u=function(m,g,p,_){return new nN(m,g,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,u0(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new w2(a._authCredentials,a._appCheckCredentials,a._queue,u,a._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yo($t.fromBase64String(e))}catch(n){throw new ge(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yo($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=/^__.*__$/;class O2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new pu(e,this.data,n,this.fieldTransforms)}}class d0{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function f0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ic:a})}}class tp{constructor(e,n,r,o,u,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new tp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:r,Rc:!1});return o.Vc(e),o}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:r,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Nh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(f0(this.Ic)&&L2.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class P2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$h(e)}bc(e,n,r,o=!1){return new tp({Ic:e,methodName:n,wc:r,path:Yt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function np(a){const e=a._freezeSettings(),n=$h(a._databaseId);return new P2(a._databaseId,!!e.ignoreUndefinedProperties,n)}function V2(a,e,n,r,o,u={}){const d=a.bc(u.merge||u.mergeFields?2:0,e,n,o);ip("Data must be an object, but it was:",d,r);const m=m0(r,d);let g,p;if(u.merge)g=new Cn(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const _=[];for(const S of u.mergeFields){const T=ng(e,S,n);if(!d.contains(T))throw new ge(ie.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);p0(_,T)||_.push(T)}g=new Cn(_),p=d.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,p=d.fieldTransforms;return new O2(new pn(m),g,p)}class ad extends nd{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ad}}class ap extends nd{_toFieldTransform(e){return new IN(e.path,new ru)}isEqual(e){return e instanceof ap}}function U2(a,e,n,r){const o=a.bc(1,e,n);ip("Data must be an object, but it was:",o,r);const u=[],d=pn.empty();cr(r,(g,p)=>{const _=rp(e,g,n);p=Rt(p);const S=o.mc(_);if(p instanceof ad)u.push(_);else{const T=Eu(p,S);T!=null&&(u.push(_),d.set(_,T))}});const m=new Cn(u);return new d0(d,m,o.fieldTransforms)}function z2(a,e,n,r,o,u){const d=a.bc(1,e,n),m=[ng(e,r,n)],g=[o];if(u.length%2!=0)throw new ge(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)m.push(ng(e,u[T])),g.push(u[T+1]);const p=[],_=pn.empty();for(let T=m.length-1;T>=0;--T)if(!p0(p,m[T])){const P=m[T];let L=g[T];L=Rt(L);const Y=d.mc(P);if(L instanceof ad)p.push(P);else{const K=Eu(L,Y);K!=null&&(p.push(P),_.set(P,K))}}const S=new Cn(p);return new d0(_,S,d.fieldTransforms)}function B2(a,e,n,r=!1){return Eu(n,a.bc(r?4:3,e))}function Eu(a,e){if(g0(a=Rt(a)))return ip("Unsupported field value:",e,a),m0(a,e);if(a instanceof nd)return function(r,o){if(!f0(o.Ic))throw o.gc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,o){const u=[];let d=0;for(const m of r){let g=Eu(m,o.fc(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}}(a,e)}return function(r,o){if((r=Rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=kt.fromDate(r);return{timestampValue:wh(o.serializer,u)}}if(r instanceof kt){const u=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wh(o.serializer,u)}}if(r instanceof Zg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yo)return{bytesValue:OS(o.serializer,r._byteString)};if(r instanceof nn){const u=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw o.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Og(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ep)return function(d,m){return{mapValue:{fields:{[uS]:{stringValue:cS},[Ah]:{arrayValue:{values:d.toArray().map(p=>{if(typeof p!="number")throw m.gc("VectorValues must only contain numeric values.");return kg(m.serializer,p)})}}}}}}(r,o);throw o.gc(`Unsupported field value: ${Xh(r)}`)}(a,e)}function m0(a,e){const n={};return aS(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cr(a,(r,o)=>{const u=Eu(o,e.Ac(r));u!=null&&(n[r]=u)}),{mapValue:{fields:n}}}function g0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof kt||a instanceof Zg||a instanceof yo||a instanceof nn||a instanceof nd||a instanceof ep)}function ip(a,e,n){if(!g0(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const r=Xh(n);throw r==="an object"?e.gc(a+" a custom object"):e.gc(a+" "+r)}}function ng(a,e,n){if((e=Rt(e))instanceof td)return e._internalPath;if(typeof e=="string")return rp(a,e);throw Nh("Field path arguments must be of type string or ",a,!1,void 0,n)}const j2=new RegExp("[~\\*/\\[\\]]");function rp(a,e,n){if(e.search(j2)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new td(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function Nh(a,e,n,r,o){const u=r&&!r.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${r}`),d&&(g+=` in document ${o}`),g+=")"),new ge(ie.INVALID_ARGUMENT,m+a+g)}function p0(a,e){return a.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new H2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class H2 extends y0{data(){return super.data()}}function sp(a,e){return typeof e=="string"?rp(a,e):e instanceof td?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ge(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class op{}class lp extends op{}function G2(a,e,...n){let r=[];e instanceof op&&r.push(e),r=r.concat(n),function(u){const d=u.filter(g=>g instanceof cp).length,m=u.filter(g=>g instanceof up).length;if(d>1||d>0&&m>0)throw new ge(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)a=o._apply(a);return a}class up extends lp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new up(e,n,r)}_apply(e){const n=this._parse(e);return _0(e._query,n),new pi(e.firestore,e.converter,qm(e._query,n))}_parse(e){const n=np(e.firestore);return function(u,d,m,g,p,_,S){let T;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ge(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){TA(S,_);const L=[];for(const Y of S)L.push(AA(g,u,Y));T={arrayValue:{values:L}}}else T=AA(g,u,S)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||TA(S,_),T=B2(m,d,S,_==="in"||_==="not-in");return wt.create(p,_,T)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class cp extends op{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:aa.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let d=o;const m=u.getFlattenedFilters();for(const g of m)_0(d,g),d=qm(d,g)}(e._query,n),new pi(e.firestore,e.converter,qm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hp extends lp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new hp(e,n)}_apply(e){const n=function(o,u,d){if(o.startAt!==null)throw new ge(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ge(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new iu(u,d)}(e._query,this._field,this._direction);return new pi(e.firestore,e.converter,function(o,u){const d=o.explicitOrderBy.concat([u]);return new Co(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function K2(a,e="asc"){const n=e,r=sp("orderBy",a);return hp._create(r,n)}class dp extends lp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new dp(e,n,r)}_apply(e){return new pi(e.firestore,e.converter,Sh(e._query,this._limit,this._limitType))}}function F2(a){return dp._create("limit",a,"F")}function AA(a,e,n){if(typeof(n=Rt(n))=="string"){if(n==="")throw new ge(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vS(e)&&n.indexOf("/")!==-1)throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!Ee.isDocumentKey(r))throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return LE(a,new Ee(r))}if(n instanceof nn)return LE(a,n._key);throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xh(n)}.`)}function TA(a,e){if(!Array.isArray(a)||a.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _0(a,e){const n=function(o,u){for(const d of o)for(const m of d.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(a.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class q2{convertValue(e,n="none"){switch(sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return cr(e,(o,u)=>{r[o]=this.convertValue(u,n)}),r}convertVectorValue(e){var n,r,o;const u=(o=(r=(n=e.fields)===null||n===void 0?void 0:n[Ah].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(d=>_t(d.doubleValue));return new ep(u)}convertGeoPoint(e){return new Zg(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const n=ir(e);return new kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Ye(jS(r),9688,{name:e});const o=new nu(r.get(1),r.get(3)),u=new Ee(r.popFirst(5));return o.isEqual(n)||mi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(a,e,n){let r;return r=a?n&&(n.merge||n.mergeFields)?a.toFirestore(e,n):a.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class E0 extends y0{constructor(e,n,r,o,u,d){super(e,n,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class uh extends E0{data(e={}){return super.data(e)}}class A0{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new uh(this._firestore,this._userDataWriter,r.key,r,new Hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>{const g=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,_=-1;return m.type!==0&&(p=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),_=d.indexOf(m.doc.key)),{type:Y2(m.type),doc:g,oldIndex:p,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Y2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(a){a=Hn(a,nn);const e=Hn(a.firestore,ts);return I2(ed(e),a._key).then(n=>S0(e,a,n))}class fp extends q2{constructor(e){super(),this.firestore=e}convertBytes(e){return new yo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function $2(a){a=Hn(a,pi);const e=Hn(a.firestore,ts),n=ed(e),r=new fp(e);return v0(a._query),M2(n,a._query).then(o=>new A0(e,r,a,o))}function qr(a,e,n){a=Hn(a,nn);const r=Hn(a.firestore,ts),o=J2(a.converter,e,n);return T0(r,[V2(np(r),"setDoc",a._key,o,a.converter!==null,n).toMutation(a._key,Ra.none())])}function Q2(a,e,n,...r){a=Hn(a,nn);const o=Hn(a.firestore,ts),u=np(o);let d;return d=typeof(e=Rt(e))=="string"||e instanceof td?z2(u,"updateDoc",a._key,e,n,r):U2(u,"updateDoc",a._key,e),T0(o,[d.toMutation(a._key,Ra.exists(!0))])}function ag(a,...e){var n,r,o;a=Rt(a);let u={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||EA(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(EA(e[d])){const S=e[d];e[d]=(n=S.next)===null||n===void 0?void 0:n.bind(S),e[d+1]=(r=S.error)===null||r===void 0?void 0:r.bind(S),e[d+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let g,p,_;if(a instanceof nn)p=Hn(a.firestore,ts),_=Gh(a._key.path),g={next:S=>{e[d]&&e[d](S0(p,a,S))},error:e[d+1],complete:e[d+2]};else{const S=Hn(a,pi);p=Hn(S.firestore,ts),_=S._query;const T=new fp(p);g={next:P=>{e[d]&&e[d](new A0(p,T,S,P))},error:e[d+1],complete:e[d+2]},v0(a._query)}return function(T,P,L,Y){const K=new Xg(Y),W=new $g(P,K,L);return T.asyncQueue.enqueueAndForget(async()=>qg(await Mh(T),W)),()=>{K.xu(),T.asyncQueue.enqueueAndForget(async()=>Jg(await Mh(T),W))}}(ed(p),_,m,g)}function T0(a,e){return function(r,o){const u=new ci;return r.asyncQueue.enqueueAndForget(async()=>p2(await C2(r),o,u)),u.promise}(ed(a),e)}function S0(a,e,n){const r=n.docs.get(e._key),o=new fp(a);return new E0(a,o,e._key,r,new Hl(n.hasPendingWrites,n.fromCache),e.converter)}function qt(){return new ap("serverTimestamp")}(function(e,n=!0){(function(o){bo=o})(To),Ia(new na("firestore",(r,{instanceIdentifier:o,options:u})=>{const d=r.getProvider("app").getImmediate(),m=new ts(new zM(r.getProvider("auth-internal")),new HM(d,r.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ge(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(p.options.projectId,_)}(d,o),d);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),jn(TE,SE,e),jn(TE,SE,"esm2017")})();var W2="firebase",X2="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn(W2,X2,"app");const b0="@firebase/installations",mp="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=1e4,R0=`w:${mp}`,C0="FIS_v2",Z2="https://firebaseinstallations.googleapis.com/v1",ek=60*60*1e3,tk="installations",nk="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ns=new is(tk,nk,ak);function I0(a){return a instanceof ra&&a.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0({projectId:a}){return`${Z2}/projects/${a}/installations`}function N0(a){return{token:a.token,requestStatus:2,expiresIn:rk(a.expiresIn),creationTime:Date.now()}}async function D0(a,e){const r=(await e.json()).error;return ns.create("request-failed",{requestName:a,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function k0({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function ik(a,{refreshToken:e}){const n=k0(a);return n.append("Authorization",sk(e)),n}async function x0(a){const e=await a();return e.status>=500&&e.status<600?a():e}function rk(a){return Number(a.replace("s","000"))}function sk(a){return`${C0} ${a}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ok({appConfig:a,heartbeatServiceProvider:e},{fid:n}){const r=M0(a),o=k0(a),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const d={fid:n,authVersion:C0,appId:a.appId,sdkVersion:R0},m={method:"POST",headers:o,body:JSON.stringify(d)},g=await x0(()=>fetch(r,m));if(g.ok){const p=await g.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:N0(p.authToken)}}else throw await D0("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(a){return new Promise(e=>{setTimeout(e,a)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=/^[cdef][\w-]{21}$/,ig="";function ck(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const n=hk(a);return uk.test(n)?n:ig}catch{return ig}}function hk(a){return lk(a).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(a){return`${a.appName}!${a.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=new Map;function P0(a,e){const n=id(a);V0(n,e),dk(n,e)}function V0(a,e){const n=O0.get(a);if(n)for(const r of n)r(e)}function dk(a,e){const n=fk();n&&n.postMessage({key:a,fid:e}),mk()}let Qr=null;function fk(){return!Qr&&"BroadcastChannel"in self&&(Qr=new BroadcastChannel("[Firebase] FID Change"),Qr.onmessage=a=>{V0(a.data.key,a.data.fid)}),Qr}function mk(){O0.size===0&&Qr&&(Qr.close(),Qr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk="firebase-installations-database",pk=1,as="firebase-installations-store";let bm=null;function gp(){return bm||(bm=dT(gk,pk,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(as)}}})),bm}async function Dh(a,e){const n=id(a),o=(await gp()).transaction(as,"readwrite"),u=o.objectStore(as),d=await u.get(n);return await u.put(e,n),await o.done,(!d||d.fid!==e.fid)&&P0(a,e.fid),e}async function U0(a){const e=id(a),r=(await gp()).transaction(as,"readwrite");await r.objectStore(as).delete(e),await r.done}async function rd(a,e){const n=id(a),o=(await gp()).transaction(as,"readwrite"),u=o.objectStore(as),d=await u.get(n),m=e(d);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!d||d.fid!==m.fid)&&P0(a,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pp(a){let e;const n=await rd(a.appConfig,r=>{const o=yk(r),u=vk(a,o);return e=u.registrationPromise,u.installationEntry});return n.fid===ig?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function yk(a){const e=a||{fid:ck(),registrationStatus:0};return z0(e)}function vk(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ns.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=_k(a,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Ek(a)}:{installationEntry:e}}async function _k(a,e){try{const n=await ok(a,e);return Dh(a.appConfig,n)}catch(n){throw I0(n)&&n.customData.serverCode===409?await U0(a.appConfig):await Dh(a.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Ek(a){let e=await SA(a.appConfig);for(;e.registrationStatus===1;)await L0(100),e=await SA(a.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await pp(a);return r||n}return e}function SA(a){return rd(a,e=>{if(!e)throw ns.create("installation-not-found");return z0(e)})}function z0(a){return Ak(a)?{fid:a.fid,registrationStatus:0}:a}function Ak(a){return a.registrationStatus===1&&a.registrationTime+w0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tk({appConfig:a,heartbeatServiceProvider:e},n){const r=Sk(a,n),o=ik(a,n),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const d={installation:{sdkVersion:R0,appId:a.appId}},m={method:"POST",headers:o,body:JSON.stringify(d)},g=await x0(()=>fetch(r,m));if(g.ok){const p=await g.json();return N0(p)}else throw await D0("Generate Auth Token",g)}function Sk(a,{fid:e}){return`${M0(a)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yp(a,e=!1){let n;const r=await rd(a.appConfig,u=>{if(!B0(u))throw ns.create("not-registered");const d=u.authToken;if(!e&&Rk(d))return u;if(d.requestStatus===1)return n=bk(a,e),u;{if(!navigator.onLine)throw ns.create("app-offline");const m=Ik(u);return n=wk(a,m),m}});return n?await n:r.authToken}async function bk(a,e){let n=await bA(a.appConfig);for(;n.authToken.requestStatus===1;)await L0(100),n=await bA(a.appConfig);const r=n.authToken;return r.requestStatus===0?yp(a,e):r}function bA(a){return rd(a,e=>{if(!B0(e))throw ns.create("not-registered");const n=e.authToken;return Mk(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function wk(a,e){try{const n=await Tk(a,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Dh(a.appConfig,r),n}catch(n){if(I0(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await U0(a.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Dh(a.appConfig,r)}throw n}}function B0(a){return a!==void 0&&a.registrationStatus===2}function Rk(a){return a.requestStatus===2&&!Ck(a)}function Ck(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+ek}function Ik(a){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},a),{authToken:e})}function Mk(a){return a.requestStatus===1&&a.requestTime+w0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(a){const e=a,{installationEntry:n,registrationPromise:r}=await pp(e);return r?r.catch(console.error):yp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk(a,e=!1){const n=a;return await kk(n),(await yp(n,e)).token}async function kk(a){const{registrationPromise:e}=await pp(a);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(a){if(!a||!a.options)throw wm("App Configuration");if(!a.name)throw wm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!a.options[n])throw wm(n);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function wm(a){return ns.create("missing-app-config-values",{valueName:a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="installations",Lk="installations-internal",Ok=a=>{const e=a.getProvider("app").getImmediate(),n=xk(e),r=rs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Pk=a=>{const e=a.getProvider("app").getImmediate(),n=rs(e,j0).getImmediate();return{getId:()=>Nk(n),getToken:o=>Dk(n,o)}};function Vk(){Ia(new na(j0,Ok,"PUBLIC")),Ia(new na(Lk,Pk,"PRIVATE"))}Vk();jn(b0,mp);jn(b0,mp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="analytics",Uk="firebase_id",zk="origin",Bk=60*1e3,jk="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn=new Ph("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},In=new is("analytics","Analytics",Hk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(a){if(!a.startsWith(vp)){const e=In.create("invalid-gtag-resource",{gtagURL:a});return yn.warn(e.message),""}return a}function H0(a){return Promise.all(a.map(e=>e.catch(n=>n)))}function Kk(a,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(a,e)),n}function Fk(a,e){const n=Kk("firebase-js-sdk-policy",{createScriptURL:Gk}),r=document.createElement("script"),o=`${vp}?l=${a}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function qk(a){let e=[];return Array.isArray(window[a])?e=window[a]:window[a]=e,e}async function Jk(a,e,n,r,o,u){const d=r[o];try{if(d)await e[d];else{const g=(await H0(n)).find(p=>p.measurementId===o);g&&await e[g.appId]}}catch(m){yn.error(m)}a("config",o,u)}async function Yk(a,e,n,r,o){try{let u=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const m=await H0(n);for(const g of d){const p=m.find(S=>S.measurementId===g),_=p&&e[p.appId];if(_)u.push(_);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),a("event",r,o||{})}catch(u){yn.error(u)}}function $k(a,e,n,r){async function o(u,...d){try{if(u==="event"){const[m,g]=d;await Yk(a,e,n,m,g)}else if(u==="config"){const[m,g]=d;await Jk(a,e,n,r,m,g)}else if(u==="consent"){const[m,g]=d;a("consent",m,g)}else if(u==="get"){const[m,g,p]=d;a("get",m,g,p)}else if(u==="set"){const[m]=d;a("set",m)}else a(u,...d)}catch(m){yn.error(m)}}return o}function Qk(a,e,n,r,o){let u=function(...d){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=$k(u,a,e,n),{gtagCore:u,wrappedGtag:window[o]}}function Wk(a){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(vp)&&n.src.includes(a))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=30,Zk=1e3;class ex{constructor(e={},n=Zk){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const G0=new ex;function tx(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function nx(a){var e;const{appId:n,apiKey:r}=a,o={method:"GET",headers:tx(r)},u=jk.replace("{app-id}",n),d=await fetch(u,o);if(d.status!==200&&d.status!==304){let m="";try{const g=await d.json();!((e=g.error)===null||e===void 0)&&e.message&&(m=g.error.message)}catch{}throw In.create("config-fetch-failed",{httpStatus:d.status,responseMessage:m})}return d.json()}async function ax(a,e=G0,n){const{appId:r,apiKey:o,measurementId:u}=a.options;if(!r)throw In.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw In.create("no-api-key")}const d=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new sx;return setTimeout(async()=>{m.abort()},Bk),K0({appId:r,apiKey:o,measurementId:u},d,m,e)}async function K0(a,{throttleEndTimeMillis:e,backoffCount:n},r,o=G0){var u;const{appId:d,measurementId:m}=a;try{await ix(r,e)}catch(g){if(m)return yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:d,measurementId:m};throw g}try{const g=await nx(a);return o.deleteThrottleMetadata(d),g}catch(g){const p=g;if(!rx(p)){if(o.deleteThrottleMetadata(d),m)return yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:d,measurementId:m};throw g}const _=Number((u=p==null?void 0:p.customData)===null||u===void 0?void 0:u.httpStatus)===503?$_(n,o.intervalMillis,Xk):$_(n,o.intervalMillis),S={throttleEndTimeMillis:Date.now()+_,backoffCount:n+1};return o.setThrottleMetadata(d,S),yn.debug(`Calling attemptFetch again in ${_} millis`),K0(a,S,r,o)}}function ix(a,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);a.addEventListener(()=>{clearTimeout(u),r(In.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function rx(a){if(!(a instanceof ra)||!a.customData)return!1;const e=Number(a.customData.httpStatus);return e===429||e===500||e===503||e===504}class sx{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function ox(a,e,n,r,o){if(o&&o.global){a("event",n,r);return}else{const u=await e,d=Object.assign(Object.assign({},r),{send_to:u});a("event",n,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(){if(lT())try{await uT()}catch(a){return yn.warn(In.create("indexeddb-unavailable",{errorInfo:a==null?void 0:a.toString()}).message),!1}else return yn.warn(In.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ux(a,e,n,r,o,u,d){var m;const g=ax(a);g.then(P=>{n[P.measurementId]=P.appId,a.options.measurementId&&P.measurementId!==a.options.measurementId&&yn.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${P.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(P=>yn.error(P)),e.push(g);const p=lx().then(P=>{if(P)return r.getId()}),[_,S]=await Promise.all([g,p]);Wk(u)||Fk(u,_.measurementId),o("js",new Date);const T=(m=d==null?void 0:d.config)!==null&&m!==void 0?m:{};return T[zk]="firebase",T.update=!0,S!=null&&(T[Uk]=S),o("config",_.measurementId,T),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.app=e}_delete(){return delete Ql[this.app.options.appId],Promise.resolve()}}let Ql={},wA=[];const RA={};let Rm="dataLayer",hx="gtag",CA,F0,IA=!1;function dx(){const a=[];if(oT()&&a.push("This is a browser extension environment."),vC()||a.push("Cookies are not available."),a.length>0){const e=a.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=In.create("invalid-analytics-context",{errorInfo:e});yn.warn(n.message)}}function fx(a,e,n){dx();const r=a.options.appId;if(!r)throw In.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw In.create("no-api-key");if(Ql[r]!=null)throw In.create("already-exists",{id:r});if(!IA){qk(Rm);const{wrappedGtag:u,gtagCore:d}=Qk(Ql,wA,RA,Rm,hx);F0=u,CA=d,IA=!0}return Ql[r]=ux(a,wA,RA,e,CA,Rm,n),new cx(a)}function mx(a=mg()){a=Rt(a);const e=rs(a,kh);return e.isInitialized()?e.getImmediate():gx(a)}function gx(a,e={}){const n=rs(a,kh);if(n.isInitialized()){const o=n.getImmediate();if(nr(e,n.getOptions()))return o;throw In.create("already-initialized")}return n.initialize({options:e})}function px(a,e,n,r){a=Rt(a),ox(F0,Ql[a.app.options.appId],e,n,r).catch(o=>yn.error(o))}const MA="@firebase/analytics",NA="0.10.16";function yx(){Ia(new na(kh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return fx(r,o,n)},"PUBLIC")),Ia(new na("analytics-internal",a,"PRIVATE")),jn(MA,NA),jn(MA,NA,"esm2017");function a(e){try{const n=e.getProvider(kh).getImmediate();return{logEvent:(r,o,u)=>px(n,r,o,u)}}catch(n){throw In.create("interop-component-reg-failed",{reason:n})}}}yx();const vx={apiKey:"AIzaSyDC_YL8wau3PKK1r2ZYYHc32TtnoXe5giQ",authDomain:"stanford-lastchances.firebaseapp.com",projectId:"stanford-lastchances",storageBucket:"stanford-lastchances.firebasestorage.app",messagingSenderId:"792276801448",appId:"1:792276801448:web:84a43cc96308673321ef9d",measurementId:"G-HLD1E4T34S"},_p=fT(vx),ai=OM(_p),Wn=k2(_p);mx(_p);const q0=new si;q0.setCustomParameters({hd:"stanford.edu"});ai.useDeviceLanguage();const lu=["Nicolas Abad","Khaled Abdulkarim","Layla Aboukhater","Kate Kabat (Adams)","Max Adams","Krupa Adusumilli","Sabrina Afroz","Megha Agarwal","Will Agathis","Naza Aibar","SimoneTess Aisiks","Tireni Ajilore","Maha Al Fahim","Khalid Alajlan","Jude Alawa","Aziz Aldawood","Faisal Alhindi","Noor Alsharif","Mubarak Alliyu","João Pedro Almeida","Mia Amin","Ricardo Anaya","Travis Anderson","Andrew Raffi Ansell","Mark Garo Ansell","Sonja Anton","Ruby Au","Yalcin Aydin","Mohammed Azhari","Mo Babeker","Kathryn Bacher","Michael Bakan","Niranjan Balachandar","Alvaro Baleato Varela","Pranay Balijepalli","Alan Balson","Philip Balson","Erin Barrett","Itai Barsade","Juan Bautista Baistrocchi","Savannah Baum","Ryan Bayne","Chris Beckmann","Pedro Benoit","Helen Berhanu","Anya Bharadwaj","Mallika Bhandari","Lauren Bilbo","Becca Blais","Caroline Blanck","Jake Blank","Mira Bodek (Mibo)","Chris Bradbury","Sam Braunseis","Caden Broussard","Sarah Brown","Carolyn Bruckmann","Cyrus Buckman","Sabrina (Namato) Bukenya","Holly Burwick","Jesse Cai","Keith Calix","Daniela Camargo Carrillo","Maria Cano","Georgia Carroll","Tom Carroll","Zooey Wilkinson","Amir Chain Nemtala","Avis Chan","Charlotte Chang","Richa Chaturvedi","Devika Chatwani","Zoë Chazen","Anli Chen","Caroline Chen","Grace Chen","Jinny Chen","Kimberly Chen","Sophia Chen","Xixi Chen","Catherine Cheng","Mariami Chikovani","Yody Chiu","Henry Choi","Wonjun Choi","Olivia Christensen","Stephen Chu","Will Clark","Eugenio Claro","Josh Cohen","Chloë Conacher","Camila Cordara","Colter Corish","Rakiya Cunningham","Bryan Danielson","Owen Davies","Joshua Davis","Ryan Davis","Ian De Luna","Nico deLuna","Batu Demir","Lydia Deneen","Gabriela Diaz","Catherine Didier","Marcos Diehl","Amir Donath","Omer Doron","Meera Doshi","Hob Du","Noelle Durkin","Zach Dyce","Iain Edmundson","Fatma Elshenawy","Nico Enriquez","Tyler Erb","Lauren Esrig","Esteban Estevez Juttner","Noelle Eveland","Valerie Fanelle","Hamza Farrukh","Andreas Fatschel","Paty Fernandez de Castro","Eliana Field-Marsham","Sofia Figueroa","Stephen Flynn","Eugénie Fontugne","Paige Frank","Daniel Freedland","Leif Frey","Mengdi (Mandy) Gao","Santiago García Vargas","Anirudh Garg","Max Garrett","Ishwar Gawande","Ben Gedeon","Uma Girkar","Dhanush Girish","David Goehring","Pablo Golac","Cayo Gonzalez","Ana Gonzalez Galindo","Carmen Gordon","Tom Gorman","Carlton Gossett","Chris Gramling","Olivia Greenberg","Sam Greenberg","Esther Gross","Katie Gudeman","Julia Guillemot","Sean Guo","Juliette Hackett","Isa Haegg","Hans Halvorsen","Richard Hamrick","Farrukh Hamza","Michelle Han","Conor Harrity","Tess Hartigan","Madi Harvey","Rachel Hersh","Sonia Hernandez","Jon Hoey","Vinicius Hojo","Kristen Hong","Royi Horowitz","Zhi Huang","Madison Hughes","Lizzie Hunpatin","Winston Huynh","Toshi Imamura","Henry Iseman","Muhammad Awais Islam","Akshita Jain","Katharine Jessiman-Ketcham","Sandhya Jetty","Chloe Jin","Kripanshi Jindal","Imren Johar","Joel Johnson","Barclay Jones","Jake Jordaan","Akshatha Kamath","Esther Kamgaing","Vikram Kanodia","Chad Kanoff","Amee Kapadia","Ayesha Karnik","Allison Kaslow","Tamara Kawash","Chris Kay","Larken Kemp","Farha Khan","Sakshi Khanna","Cyrus Kharche","Laura Vanessa Kiehl","Hokuto Kikuchi","Brendan Kim","Rachel Kim","Ethan Klein","Kelsey Klein","Annie Klosowicz","Bruno Koba","Peter Koch","Ankita Kodavoor","Steven Koh","Mackenzie Kosseim","Aakash Kotak","Tomi Kovanen","Tushar Krishnan","Catherine Lacy","Ana Laginha","Norma Langdon","Krystal Lau","Gahong (Grace) Lee","Katrina Lee","Mark Lee","Mia Lee","Paul Lee","Conor Leen","Mikos Legrand","Caroline Levy","Quinn Lewis","Nicki Liang","Lyn Li","Yue Li","Zhenyan (Jane) Li","Adam Lifshitz","Lexie Lin","Alice Liu","Michael Liu","Andrew Lobel","Alex Lubkin","Henry Lu","Jessica Lu","Maisie Lynton","Lucy Ma","Mark Ma","Matt Mahowald","Ndirangu (Bryan) Maina","Zac Maslia","Fernando Mata","Anthony Mattar El Raachini","Keita Matsumoto","Lauren Maymar","Alexander McCarthy","Elizabeth McNally","Ian McRae","Holley McShan","Cam McWatt","Arnav Mehta","Adam Merrill","Eric Meyers","Salome Mikadze-Struk","Jordan Miller","Mckenna Miller","Hiroaki Minoo","Madison Minsk","Bryce Mitchell","Suhani Mohan","Mehek Mohan","Munim Moiz","Mason Montgomery","Cariana Morales","Gherardo Morona","Yoshimi Muneta","Hannah Murdoch","Matt Murphy","Harshi Murthy","Carson Muscat","Marin Nagase Tominaga","Karn Nahata","Sasha Nanda","Chase Navellier","Elliot Nell","Kyle Nelson","Ludwig Neumann","Shelly Ngo","Floriane Ngako Kameni","Danielle Nguyen","Michelle Nguyen","Dru Nkansah","Joan Nolla Suárez","Arinze Nwagbata","Matías Oberpaur","Jerry O'Connor","Gloria Odoemelam","Ewoma Ogbaudu","John Onderdonk","Bobby O'Reilly","Sidney Owen","Michael Paretzky","Chanwoo Park","James Park","Terry Park","Sravan Patchala","Kayan Patel","Neal Patel","Shivam Patel","Ken Pattarasittiwate","Andrew Paulmeno","Juan Pablo Pietrini","Kelli Pedersen","Kiera Peltz","Olivia Peniston","Anirudh Pennathur","Nathan Petrie","Stephanie Pham","Doug Phipps","Alan Pimstein","Jackson Polatnick","Meagan Prins-McKinney","Christina Puccinelli","Vibha Puri","Riley Quinn","Claire Rafson","Vasundhara Rakesh","Alex Rakestraw","James Ramsay","Angeline Rao","Pragati Rastogi","Glenn Reddy","Rachael Rhee","Anya Ring","Joseph Robillard","Aria Rodli","Javi Rodriguez","Abu Rogers","Katharina Rohr","Maria Rojas","Matt Rojas","Micaela Romero Valdez","Olivia Rosen","Aislin Roth","Anna Rowe","Eduardo Rubini","Rob Rush","Priscilla Russo","Shailee Samar","Payaum Sanatkar","Sonia Sarda","Philipp Schellhaas","Stefano Schiappacasse","Sophie Schick","Paul Sédille","Priyanka Seegobin","Sean Sellers","Joon Seo","Ishir Seth","Jay Shah","Mirai Shah","Shreya Shah","Evelyn Shao","Akanksha Sharma","Arushi Sharma","Annabel Shaw","Dina Sheira","Michelle Shen","Daniel Sheppard","Chris Shim","Amit Shimshi","Ila Shon","Jack Shumway","Saman Siddiqui","Billy Silk","Ramon Silva","Jackson Simon","Rohan Sinha","Meredith Slifkin","MinJae Song","Shikhar Sood","Preetam Soundararajan","Marc-Aurele Stark","Adam Starr","Mara Steiu","Eli Stern","Jack Stone","Jack Strauss","Amanda Studebaker","Sushant Sudheendranath","Julia Sun","Kailash Sundaram","Leah Surratt","Max Susman","Gabriela Tafur","Lydia Tahraoui","Sarah Tang","Eliza Teach","Nofel Teldjoune","Emily Tench","Nattanon (Pat) Thitisarnsiri","Seyon Thomas","Claire Thompson","Nicholas Tobin","Sydney Tomlinson","Gustavo Tori","Henry Townley","Devan Trammel","Jamie Tym","Shievani Upadhyay","Christian Antonio Urrutia","Isabel Vallina Garcia","Jessica Garcia","Katie Van Dyk","Mahek Vara","Dhananjay (DJ) Varma","Agustin Villarreal","Jessica Villarreal","Sea Wachakorn","Callie Walker","Tyler Walker","Jake Waskowitz","Colin Weidmann","Melanie Weinsten","Henry Welsh","Chris West","Cort White","Sadiki Wiltshire","Joseph Wise","Walter Woo","Andre Xiong","Yingkai (Kevin) Xu","Haoxiang (Mike) Yang","Talha Yousaf","Theresa Yu","Michael Yuan","Dario Zarrabian","Elena Zhang","Henry Zhang","Jade Zhang","Ruoyao Zhang","Max Zhou","Will Zhou","Bastiaan Zwanenburg","Test Account"],uu=["Ellen Michelle Jockin Aasted","Jaden Daniel Abas","Sarah Amir Abdalla","Yazan Hayder Abdella","Grace Elizabeth Abraham","Raisha Kyril Abubo","Yousef A M AbuHashem","Thomas Palmer Adamo","Grace Toluwanimi Adebogun","Khusbu Khatri Adhikari","Noah Santosa Adnan","Aaron James Adriano","Abhinav Agarwal","Ana J. Agarwal","Varun Agarwal","Harshal Rajesh Agrawal","Alexandra Agris","Samuel Montagut Agudelo","Claudio Aguilar","Cristian Aguilar","Hasan Ahmad","Rehaan Ahmad","Roya Ahmadi","Sabrina Sultana Ahmed","Susan U. Ahmed","Zahir Ahmed","Kiseuk Ahn","Zarif Ahsan","Kanoe Makalii Aiu","Faith Abidemi Ajanaku","Rahul Ajmera","Uchenna Emmanuel Akanno","Jason Tran Akram","Howra Jaafar Alammarah","Zahra Saeed Abdulla Hasan Albasri","Maria Eleonora Cajahyba Rocha S Albuquerque","Alawab Aldulimy","Alisa Grace Aleksanian","Elyssa Lyn Alexander","William Emerson Alexander","Irina Alexeeva","Silvana Alfaro","Sebastian Alexander Alfonso","Jenna Ali","Warda Ali","Layth Raed Alkhani","Julian James Allchin","Sachin Murthy Allums","Ijeoma C. Alozie","Abdulla Thani Abdulla Mohame AlShirawi","Savannah Rose Alter","Rodrigo Alvarado","Alexander Antonio Alvarado-Barahona","Luc Anthony Alvarez","Edwin Amaya","Ethan Tyler Amaya","Pedro Ambriz","Mark Westcott Amstutz","Chloe Kathryn An","Kelsea An","Aleena Mufti Anand","Mihir Anand","Leonardo Andrade","Christina Virginia Andronescu","Lance Coyotzin Allan Angeles","Ali F. Ansari","Rayan Ahmed Ansari","Elias Zachary Applebaum","Veronica Aranda","Harviel Kyle Arcilla Arcilla","Chelsey Darian Arellano","Elisa Marina Arguello","Ariel Arias","Luis Alejandro Arizmendi","Pauline Arnoud","Isabella Arrigo","Marc Andrew Arslanian","Alexandra Cecilia Torres Arsuaga","Karthick Thiagarajan Arunachalam","Sydney A. Von Arx","Raghad Mohammed A Asiri","Derek N. Askaryar","Thanawan Atchariyachanvanit","Vionna Atefi","Michael Jonathan Atkin","Kheli Buckley Atluru","Haley Crawford Aube","Vivian Auduong","Tejdeep Aulakh","Alea Sumyu Auyeung","Yarency Lizbeth Avelar","Elizabeth Andrea Avila","Mahlet Mamuye Ayele","Nolawi Ayelework","Matthew Louis Ayoob","Helena Y. Aytenfisu","Ramya Ayyagari","Aya Kusai Aziz","Sala Tamara Ba","Isabella Grace Bachler","Luise Anna Charlotte Bachmann","James Florian Bachmeier","Anavi Baddepudi","Christopher Aaron Badillo","Leo Baek","Marco Alejandro Baeza","Gurmenjit Kaur Bahia","Jean Rachel Bahk","Katie S. Baik","David Bailey","Lillian Annabelle Bailey","Philip Andrew Baillargeon","Jisola Faramola Bakare","Joanna Natalie Baker","Katie Lynn Baker","Penelope Rose Baker","Akhilesh Balasingam","Allison Casey Baldwin","Jesus Ballesteros","Zackery Luke Bangs","Oluwatobi Ayodunni Bankole","Deven Michael Bansal","Rohan Bansal","Ihor Barakaiev","Ari Barbella-Blaha","Fatima Sughra Bari","Nathaniel Alan Barnard","Rhys John Lawson Barraclough","Sarah Barragan","Adelaide M. Barrett","Emma Denise Barrosa","Brendon James Barrow","Ian Park Barrow","Abranette F. Barry","Adam John Barry","Noah P. Bartelt","Josephine Hanna Barton","Max George Basing","Rafael Prado Basto","Nomin Erdene Bayarsaikhan","Taylor Ann Beaven","Cuauhtemoc Becerra","Juan Carlos Becerra","Francis R. Beckert","Samuel Robert Beckett","Steven Elijah Beckley","Adam Behrendt","John James Belardi","Andrew James Bempong","Max Elijah Benabou","Samuel Ethan Benabou","Nicole Ximena Benalcazar-Pavlik","Michael Riad Bendok","Susan Aurelia Benites","Bryan A. Benitez","Matias Ysidro Lorenzo Benitez","Susan Marie Benitez","George Austin Bennett","George Austin Bennett","Zachary Richard Benton","Maya Raquel Benyas","Ashton A. Berg","Eric William Berg","Mark Edward Berlaga","Alvaro Bermudez-Canete","Gaethan Jeremy Bernadel","Ethan Douglas Bernheim","Ethan Douglas Bernheim","Carlos Ivan Rodriguez Berrelleza","Brooke Arielle Besikof","Ryan Harris Beyer","Logan Mondal Bhamidipaty","Nikita Bhardwaj","Akanshya Bhat","Raina Talwar Bhatia","Raina Talwar Bhatia","Dhruv Advit Bhatt","Devan Justin Bhumralkar","Owen James Bigler","Jeremy R. Bischoff","Brody Kyle Bishop","Daniel James Bishop","Julia Biswas","Gheed El Bizri","Scooter Cameron Black","David Brett Blair","Mateo Quiros Bloch","Luisa Maria Boateng","Laura Louise Bocek","Samuel George Boeschen","Allison Marie Bogetich","Imgard Sophia Bonheur","Omar Alejandro Bonilla","Caio Carcaioli Bonin","Ephraim Kross Boomer","Ninamarie Virginia Boord","Armando Alejandro Borda","Jean Michel Borit","Alexandra Aislinn Borthwick","Eleni Bosgana","Lucas P. Bosman","Hamza El Boudali","Clement T. Bouden","David Alejandro Bournat","Caleb Hulett Boutelle","Anne Catherine Boyle","Ebenezer Epie Lobe Boyom","Julia Kate Brand","Avani Kimberly Brandt","Christian D. Brandt-Sims","Marin Ariel Brant","Fernando Bravo","Fernando Bravo","Chad D. Brechbuhler","Ryan Thomas Brennan","Luciana E. Bridges","Sophia Rose Brindisi","Beatrice Blythe Broido","Benjamin Oliver Brokaw","Michael J. Brooks","Joshua Browder","Chrissyaunna E. Brown","Garrett Christopher Brown","Madison Elizabeth Brown","Thane Alexander Hodges Brueschke","Jaden Alexander Bruno","Emma Sarah Buday","Langston I. Buddenhagen","Brandon Minh Pham Bui","Kenneth Bui","Nicholas Phi Long Bui","Sara Ali Bukair","Zoe Nohea Bumstead","Allyson Elizabeth Bunch","Lauren Michelle Burch","Diego Miguel Burgos","Taylor Anthony Burkhart","Lucy McCarthy Burrell","Aja Mese Burslem","Catherine Anne Burtner","August Wyatt Burton","Omar K. Busaidy","Diego Bustamante","Makayla Butler","Ryan Butler","Makayla Abigail Abril Butters","Alison Leah Cabanday","Danielle Alexis Cabrera","Emelin Cabrera","Nathanael James Cadicamo","Zachary Jun Cadiz","Caroline Elizabeth Cahilly","Yici Cai","Malina Nafula Calarco","Anna Maria Ayars Calcagno","Ninette Monserrat Calderon","Jonathan Calixto","Griffin Thomas Callaghan","Paul Gonzalez Calvo","Julietta Clark Camahort","Mariel Camargo","Sean Michael Cameron","Cameron Allen Camp","Cameron Allen Camp","Meagan Erin Campbell","Saborn Isadore Campbell","Carlos Adrian Alcantar Cancino","David Paul Candes","Kimberly Janet Cardenas","Rosman R. Carino","Lindsay Rose Carlin","Michael James Carlson","Riley Dayne Carlson","Camryn Shawn Carmouche","Peter Emerson Carpenter","Saimary Velazquez Carrasquillo","Jaime Zamores Carrazco","Trevor William Carrell","Carlos F. Carrete","Kenia Zepeda Carrillo","Lishan Nan Carroll","Adriana Noelle Carter","Arynn Namok Carty","Riley Maria Casagrande","Allison Sandoval Casasola","Jordyn Michaela Case","Emma Margaret Casey","Kevin Casillas","Madeleine Parker Cassic","Bruno Felix Castillo","Maya Celeste Castillo","Natalia Castillo-Ramos","Lucas Cavalieri","Lena E. Cavicchia","Ashley Michelle Celada","Catherine D. Celio","Alexander Michael Cessna","Sofía Ceva","Katelyn Alexandra Chan","Kristy Hiu Ching Chan","Maya Swati Chandra","Amy Chang","Chloe Rui-Hua Chang","Katie Chang","Emma Tyree Charity","Hester LeShawn Charles","Matthew James Charles","Remy Jessica Charles","Anusheh Fatima Chaudry","Jayendra Singh Chauhan","Manu Chauhan","Krrish Chawla","Vinita Cheepurupalli","Ryan Kipchumba Cheluget","Alice Zhaoyi Chen","Alyssa L. Chen","Anthony An-Fa Dahm Chen","Ashley Chen","Carrie Jiayi Chen","Christopher Maxwell Chen","Cynthia Chen","Ge Chen","Ingrid Tseng-Min Chen","Jason Jin Chen","Joey Chen","Joyce Chuyi Chen","Quanlin Chen","Vanessa Chen","Winnie Chen","Xiao Yan Chen","Xinting Chen","Yiyang Chen","Carissa Yo Hsin Cheng","Ryan Ares Cheng","Shirley Cheng","Shirley Cheng","Winson Cheng","Rohan Kumar Cherivirala","Rohan Kumar Cherivirala","Michael Amrit Chhay","Nathan Andrew Chi","Ryan Andrew Chi","Sylvia L. Chin","Wayne Chiedza Chinganga","Daniel Victor Chizhikov","Aaron Cho","Chelsea Suebin Cho","Karen Hyunbee Cho","Tenzing Choezing","Evelyn Hejin Choi","Hee Jung Choi","Tenzin Chonzom","Kenneth Chester Christmas","Chloe Oya Christopher","Anthony Chu","Clare Wan Chua","Arisa Sugiyama Chue","Adaeze Regina Chukwuka","Adam Hyungsuk Chun","Sophia Hope Chun","Grace Yuna Chung","Kylie Danielle Chung","Sarah Meso Chung","Stella Jiwon Chung","Joseph M. Civantos","Pedro Jeha Civita","Griffin Rodkey Clark","Jaden Clark","Hannah Gabriella Clay","Alexandria Marie Clements","Luke Clifton","William Cline","Rachel Sinai Clinton","Mackenzie Cobb","Gareth A Cockroft","Nourya A. Cohen","Olufemi Ayotunde Cole","Takyia S. Cole","Campbell Stephen Collins","Isabelle Rose Coloma","Sebastian Andres Colondres-Torres","Cecilia Da Costa Fernandez Conde","Delaney Elizabeth Conger","Madeline Kerri Connelly","Roger Sebastián Conrado","Stephanie Contreras-Reyes","Jalil O. Cooper","Sierra Michelle Curry Corcoran","Isabella Cailey Correa","Maria Carla Correa","Gabriela Cortes","Nicole Cortes","Malia Zenaida Velasco Cortez","Morgan Mee-Rae Cortina","Jonathan Cosgrove","Caia Mai Costello","Sophia Katherine Haase Cox","Haley Matteson Craig","Kylie Rose Creighton","Iliana Marissa Crisostomo","Elena Jane Critelli","Xitlali Cruz","Isabella Cruz-Krahn","Jasmine Stephanie Cruz-Rios","Alan Horacio Cuevas","Cyrus Christian D'Arcy","Cyrus Christian D'Arcy","Audrey Elizabeth DaDamio","Ashley HanRui Dai","Kaitlyn Dai","Xinhan Dai","Yunchu Dai","Henry Christian Daines","Aya Daisey","Parker Elizabeth Daley","Yash Dalmia","Cassidy Sarah Dalva","Genevieve Sara Dandurand","Ethan V. Dang","Marianne Lan Anh Dang","Kelly Elizabeth Danielpour","Ashton Gregory Daniels","Leonardo Seante Daniels","Kenny Tu Dinh Dao","Charles Darracott","Upamanyu Dass-Vattam","Akshana Mario Dassanaike-Perera","Rohan Reddy Davidi","Ashley Caitlin Davidson","Jose Antonio Davila-Ciullo","Niloufar Mahin Davis","Alina Sage Davison","Caroline Margaret Dee","Stefano Fantini Delmanto","Marguerite Marie DeMarco","Brooke K. Demetre","Emily Deng","Yiman Deng","Caden James Denning","William Toby Denton","Isaac Gideon Deutsch","Abhijit Ravi Devalapura","Keenon Jerrard DeVaughn","Reid Walter Orion Devereaux","Kapilaksha Prakash Dheeriya","Akriti Dhungana","Fatoumata Binta Diallo","Noel Sarduy Diaz","Julia Claire DiCicco","Emily Hannah Dickey","Audrey Pedneault Dickinson","Robert Brian DiDonato","Anya Von Diessl","Nicholas Stephen Dietrich","Maximino DiGiacomo-Castillo","Katherine Palmer Dimock","George Robert Dimopoulos","Carlo Amio Dino","Dylan Ryan Dipasupil","Colette Bao-Quan Do","Lisa V. Do","Long Thanh Doan","Michael Robert Doboli","Michael Robert Doboli","Reese Rebecca Dobson","Jaden Nii Darko Dodoo","Johnny Danger Dollard","Feona Dong","Katherine Xinyi Dong","Jonathan Armando Donis","Julia Annadel Donlon","Sophie Rose Donnellan","Michael Dooley","Nena Naat'áanii Dorame","Shefali Doshi","Camdyn Grace Doucet","Hana Safiya Doueiri","Zelig Jacob Dov","Flynn Reyes Dreilinger","Elizabeth Drelichman","Micah Joi Drigo","Lee Duan","Elsie Monique DuBray","Lucy Lee Duckworth","Keithan Messiah Ducre","Zofia Olga Dudek","David Barron Dunn","Norri Khi'yar Dupree","Angelina Syrena Duran","David Durand","Aerin Amelia Eberts","Zoe Georgia Edelman","Sarah K. Eder","Anna Catherine Edmonds","Jeffrey Thomas Edsall","Niles Sherman Egan","Isabelle Eichhorst","Shiley Einav","Milo Joseph Eirew","Obinna Nduchinyere Ekeagwu","Mohamed Zahir Elhassan","Caleb Orin-Ramon Ellis","James Emerson","Christopher Chukwuemeka Emodi","Blain W. Engeda","Christopher Kurt Enriquez","Sofia Epifantseva","Hope Rose Ertz","Kate Susanna Esbenshade","Monserrat Jackelyn Hernandez Escobar","Thomas Escudero","Kate Ellyn Eselius","Jaime Eli Mizrachi Eshkenazi","Josue David Contreras Esquivel","Ryan Jacob Esquivel","Jonah Bradley Ezekiel","Sochima-Amaka Pauline Ezema","Elijah Ezralow","Muhammad Dhafer Bin Muhammad F","Eleanor Cerys Facey","Jacob Liam Faierman","Madison Fan","Aava Elahi Farhadi","Sajid Omar Farook","Dantz Dvon Farrow","Arwa Tahreem Faruk","Ming-Wei Cyprien Fasquelle","Gabriella Emma Fedetto","Gabriella Emma Fedetto","Adrian Lake Scheider Feinberg","Natalie Rose Feldman","Tomas Di Felice","Jatzia Ariette Felix","John Ivan Felix","Benjamin Burton Felter","Andrew James Felton","Riley S. Feng","Yue Feng","Matthew John Fenlon","Holland Grace Ferguson","Justin Ferguson","Francesca C. Fernandes","Faith Elyssa Fernandez","Isac Alejandro Fernandez","Philippe Chabaneix Ferrand","James Ferdinand Fetter","Alexander Augustine Finan","Jackson Reilly Finch","John Finkelman","Jordan Marie Finley","Kaiah Jaelle Fisher","Hayden Lowes Fite","Janine Janelle Fleming","Johanna Lita Flodin","Erin Leoncio Floranda","Julio Enrique Flores","Kelli Flowers","Leland Diego Fong","Nathan Jie Cheng Foo","Isabel Calero Forero","Lily Rebekah Forman","Preston C. Forst","Nils Scott Forstall","John Michael Founds","Shirleen Marie Ferrara Frame","Joshua Christopher Francis","Samantha Alicia Francis","Alexia Gutierrez Franco","Chrysanthe Nicole Frangos","Marilyn J. Frank","Tolson Kohlar Frantzen","Lauryn Raquel Franzese","Malachi Frazier","Hannah Marie Freeman","Beatriz Cunha Freire","Koree French","Henry Nikolas Friedlander","Kai Mica Fronsdal","Alma Andino Frydman","Melody A. Fuentes","Kiara Chantelle Fufunan","Sarah Fujimori","Dina Fukunaga-Brates","William Richard Alex Furlow","Sylvia Vienna Gabriel","Victor Alejandro Gallegos","Cesar Adrian Galvan","Lucien Francisco Gandarias","Raghav Ganesh","Andrew Gao","Benjamen X. Gao","Eric Gao","Cristobal Garcia","Gabriella Michele Garcia","Joseph Garcia","Marsela Elizabeth Porras Garcia","Nicole Garcia","Sebastian Garza Garcia","Diego Alonso Garcia-Camargo","Trinity Ascenzia Gardner","Aksh Garg","Rhythm Garg","Vedant Garg","Zoya Garg","Espen Gerald Garner","Bryana Gastelum","Daniel Brendan Gaughran","Sydney Nicole Gavela","Gabriel Gaw","Nissrin Tawfik Gehawi","Defne Genc","Kaylee Renae George","Andrew Ehab Gerges","Sophia Zhenia Gever","Donovan Giang","Ari Jah Gibson","Dorsey Willard Gibson","Koren Haim Gilbai","Lovejit Gill","Ari Nathaniel Glenn","Leonardo Epstein Glikbarg","Tiffany Godoy","Daniel Marc Goldberg","Margarita Golding","Anna Rachel Goldman","Sara Elizabeth Goldstein","Lusciana Celeste Gomez","Natalie Eloisa Gomez","Devyani Barron Gonzalez","Diana Sofia Gonzalez","Jaden Aaron Gonzalez","Jasmine Rose Gonzalez","Sebastian Gonzalez","Kimberly Gonzalez-Zelaya","Nicole Goot","Eva Rose Gorenburg","Victoria Gorum","Jasleen Kaur Gosal","Mishika Govil","Mishika Govil","Alice Lola Grace","Travis Jeffrey Grafton","Carter M. Graham","Marcus Dante Graham","Carrington Winslow Grant","Rachel Marian Grant","Mary Elizabeth Graybill","Devin Joseph Green","Maya Helena Green","Kalissa Dione Greene","Henry Ryder Greenman","Gabriel Greenstein","Graham Gunderson Griffin","Jacob Dean Griffin","Rose Elizabeth Griffin","Josiah Louis Griggs","Hannah Ciona Feeley Griswold","Josephine Rose Gross-Whitaker","Juliane Felicitas Gruss","Chenchen Gu","Christian Guallpa","Samantha Marie Guerrero","Gretchen Rose Guimarin","Vrushank Yatish Gunjur","Daniel Guo","Jayson Teruo Guo","Akash P. Gupta","Ananya Gupta","Manan Gupta","Priyanka Gupta","Vishesh Gupta","Kyla A. Guru","Vaibhavi Guru","Yastika Guru","Sydney R. Guthrie","Anapaula Gutierrez","Diego Luis Gutierrez","Jimena Gutierrez","Kamdin Gutierrez","Kamdin Gutierrez","Chloe Yurie Ha","Tracy Tran Ha","Ronnie Mohd Hafez","Nahome Gebremariam Hagos","Cyrus M. Hajian","Isaiah Samuel Hall","Justin Anthony Hall","Taylor Milan Hall","William Evans Halverson","Mahmoud Hamdi","Jubayer Ibn Hamid","Jeanette Han","Jingyi Han","Nahian Tasneem Haque","Emma Rose Harden","Bobby Hardrick","Jzaniya Bené Harriel","Max Coby Harris","Nya Layson Harrison","William Patrick Harrison","Minahil Haseeb","Zeina Yasser Zaki Hashem","Trevor Deane Haskins","Kyle John Lee Haslett","Mena Kamakshi Hassan","Noor Saied Hassan","Triana Hernandez Hasselkus","Thomas C. Hatcher","Skye Hathaway","Dani Victoria Hayes","Lauren M. He","William Shane Healy","Joshua Eli Hechtman","Poojit Hegde","Ethan Duncan He-Li Hellman","Paloma Rose Ronis von Helms","James Joseph Hennessy","Kongmeng Her","Abraham Hernandez","Anabella Hernandez","Elijah King Hernandez","Pamela Joy Hernandez","Sabino Hernandez","Salvador Amezcua Hernandez","Melany America Herrejon","Maria De Los Angeles Herrera","Esteban Herrera-Vendrell","Willow Lee Herz","Ariela Araiza Hickey","Scott Leo Damien Hickmann","Monica Diane Hicks","Nathan Zealous Hidajat","Rachel Samantha Zila Hidalgo","Aya Lina Hilal","Zoey Simone Hill","Henry Hill-Gorman","Jake Hillard","Ali Hindy","Sophia Christine Hlavaty","Alexander Coulter Hnasko","Jennifer Pauline Ho","Lleyton Merritt Ho","Martin Hoberman","Brynn Hochman","Agustin Domingo Kupfer Hochschild","Agustin Domingo Kupfer Hochschild","Alexander Mason Hodges","Malek Samir Hodroj","Jaedyn Christina Hoenig","Grady Harrison Hofmann","Tori Lynn Hoge","Julia Lecana Hok","Piper Yates Holland","Ryan Hollingshead","Elisabeth A. Holm","Symantha Koumakanaikalani Hom","Andrew Mosser Hong","Connie Hong","Sara J. Hong","Rose Marie Horan","Ethan Alexander Chang Horoschak","Campbell Charles Hoskins","India Annette Andrews Houghton","Alphonse Egide Houndegla","Grace Alexandra Howe","Christo Dimitrov Hristov","Senkai Hsia","Senkai Hsia","Emily Angel Hsu","Sheryl Hsu","Simone Yi-Yi Hsu","Bradley Hu","Ethan Hu","Jeffrey Hu","Jiacheng Hu","Zoey Sinantha Hu","Cameron Ines Ohara Linhares Huang","Edward Ciaoyang Huang","Emily Huang","Emily Huang","Flora Huang","Huilan Huang","Kelly Huang","Zuzana Hudacova","Anna Fisher Hudson","Marc Anthony Huerta","Maxton Huff","Sydnee Alexis Huff","Lauren Elizabeth Hughes","Jack Jin Hung","Nona Sara Hungate","Evelyn Hur","Khalid Ahmed Husain","Adam Hussain","Murtaza Shabbir Hussain","Gashon Halif Hussein","Alexandra Thuy An Huynh","Vivian Huong Thi Huynh","Albert Hwang","Hailey Hemi Hwang","Schuyler Delaney Hyde","Dylan Juno Hyun","Imaan Jasmine Ibrahim","Jawad Ibrahim","Esmeralda Lucia Iglesias","Earl Gene Wright III","Lauren F. Illa","Gabriel Temple Tonye Iluma","Christopher John Indart","Scott Ingall","Sebastian Alejandro Ingino","Medhanie Isaias Irgau","Senem Isik","Noah Yuki Islam","Kadija Abdulkadir Ismail","Sherine M. Ismail","Leilani Michelle Ivery","Aniketh Nandakumar Iyengar","Kapil E. Iyer","Evan Bryce Jackson","Isis-Kohle D. Jackson","Isis-Kohle D. Jackson","Jennifer Southgate Jackson","Leo Jacoby","Arjun Jain","Ronit Jain","Ronit Jain","Sri Surya Jaladi","Yasser Jamal","Michael Rutherford James","Junah Jang","Caleb Hansen Janowski","Justin Travis Jasper","Rebecca-Ann Shania Jattan","Nachat Jatusripitak","Crystal Jauregui","Michael Bradford Jeffries","Michael Bradford Jeffries","Mahayah Phillips Jennings","Olivia Louise Jessner","Junyi Ji","Allison Sihan Jia","Grace Jiang","Yuqing Jiang","Ivan Avannus Jacob Jimbangan","Aaron Jin","Emily Jin","Leslie Jin","Andreea Jitaru","Joanna Jo","Lenae Joe","Allison Sara John","Aiyanna Kelli Johns","Annika Ruth Johnson","Nicole Ann Johnson","Corazon A. Johnston","Xavier Alexander Jones","Robert Luke Joseph","Vijay Nathan Josephs","Vijay Nathan Josephs","Aanand Sivapalasingam Joshi","Arnav S. Joshi","Patrick Leonardo Jovel","Charles Zachary Joyner","Romeo Garcia Jr. ","Brent Ju","Audrey Ming-Lai Jung","Collin S. Jung","Iain H. Jung","Rabiah Louise Ayana Kabir","Ritika Kacholia","Diego Villegas Kagurabadza","Kokhinur Nodir-Kizi Kalandarova","Isha Kalia","Tenzing Kalsang","Michelle E. Kalu","Dilnaz Kamalova","Elena Athena Kamas","Sydney Marie Kaminski","Fatima Leyla Kane","Taeuk Kang","Julia An Kao-Sowa","Mahina Priya Kaomea","Malaina Miya Kapoor","Rhea Kapur","Sweta Karki","Lekchok Tenzin Kartsang","David Richard Kasemervisz","Ryan Ariel Kashanchi","Parker Thomas Kasiewicz","Ethan Joseph Kato","Jacob David Katz","Japnoor Kaur","Manpreet Kaur","Shino Kawazu","Layal Zuhair Ismail Haji Aagha Kazerooni","Katherine M. Kearney","Imen Kedir Kedir","Brett Zachary Kelley","Austin Aldo Kendall","Emmet Michael Kenney","Ava Claire Kerkorian","Manas Khadka","Shubh Khanna","Vedant Khanna","Ishan Sanjay Khare","Iman Adib Khater","Sandi Khine","Bryan Wen Khoo","Ananya Khosla","Muhammad Abdullah Khurram","Sophia Kianni","Anna Carla Kiesewetter","Jackson James Kiil","Adriana Kim","Audrey Yong-Joo Kim","Brandon Dongjoon Kim","Daniel Doyoung Kim","Edward Kim","Elijah Paul Kim","Eric Jinwon Kim","Gene Sung-Ho Kim","He In Kim","Ireh Kim","Ireh Kim","Jaeah Kim","Janene Rachana Kim","Jenna Emily Kim","Jeremy Kim","Jinyoung Kim","Joseph Hyung In Kim","Joshua Sae-Ha Kim","Joshua Lee Kim","Patrick Jisoo Kim","Seungwoo Kim","Sofia Kim","Solmih Kim","Solomon Kim","Tayne Christopher Kim","Youngju Jason Kim","Zachary Kim","Catherine Veronica Kindschuh","Anna Catherine King","Madeleine Jean Kingsland","Katharine Elena Kingsley","Benjamin Robert Kingston","Robert Edward Kirchenbauer","Dante Jervaise Kirkman","Benita Kemigisa Kisembo","Lianne Alexandria Kistler","Chase Noelle Klavon","Peyton Klein","Emma M. Klemperer","Emma M. Klemperer","Iris Dorine Klok","Peter Thaddeus Koenig","Alyssa Rupar Koh","Casey Rose Kohl","Kenneth Martin Kohn","Ezra Howard Kohrman","Soham Konar","Bhumikorn Kongtaveelert","Joshua James Konschnik","Jaiden Grace Korth","Symphony Seraphina Koss","Lumi Carson Kostmayer","Taran Vaishnav Kota","Taran Vaishnav Kota","Ahmad Tosin Koya-Oyefuwa","Kyra Sophie Kraft","Fernanda Null Kramer","Joseph Richard Kraus","Isaac Dimitrievich Krementsov","Angelina Patricia Krinos","Viswesh Krishna","Sidhart Krishnan","Sidhart Krishnan","Cameron Allen Krouch","Benjamin Kroul","Nolan Krutonog","Yi-Hua Ku","Feiyang Kuang","Daniel Brian Kuelbs","Trisha Kulkarni","Vignesh Kumar","Howard Kung","Katrina Si-Xuan Kuo","Nathan Lee Kuo","Alexa Lee Kupor","Mun Jeong Kwak","Kwabena Francis Kwakwa","Samuel Edward Kwok","Abigail Youngmi Kwon","Hyuksun Kwon","Carolyn Minh-Thi Ky","Teland La","Ariella Chichilnisky du Lac","Aman Ladia","Adrian L. Gamarra Lafuente","Henry Alex Lai","Sheena Lai","Esaite Lakew","Tiana Lakhani","Aakriti Lakshmanan","Charles Michael Lamb","Adam Joseph Lambert","Juliana Renee Lamm-Perez","Louis Edward James Lampley","Justin Lamson","Zoe Lucia Lanter","Rodolph Lapointe","Ian Luka Lasic-Ellis","Lucien Samuel Lasseau","Anthony Gerard Laster","Matthew Borg Hymn Lau","Larissa Palma Lauer","Jonathan Carl Bauzon Laxamana","Colette Layton","Alex T. Le","Steven Le","Nelia Lechuga","Olivia Sarah Reisch Ledbury","Alexander Abousleman Lee","Alexandra Skye Lee","Alvin Hong Lee","Andrew Tin-Lok Lee","Angela Grace Lee","Ariane Lee","Brian Jun Lee","Denise Hui Jean Lee","Donghyun Brian Lee","Eric Lee","Everett Quincy Lee","Fred J. Lee","Grace Hyerin Lee","Hannah Lee","Jaeyoung Lee","Jake Lee","Jessica Faith Lee","Jonathan Ezra Youngmo Lee","Junha Lee","KeeSeok Lee","Maya Jeong Lee","Susan Lee","Susan Nakyung Lee","Xin Tong Lee","Cecilia Yulu Lei","Matthew William Lennie","Annel Amelia Leon","Trevor Leon","Mark Ethan Leone","Rachel J. Leou","Anna Rebecca Levenberg","Isabelle Levent","Guy Levin","May Levin","Carla Genai Lewis","Abigail Celeste Leyva","Charles Sirui Li","Karina Chengfei Li","Kate Jen Li","Katherine Maria Li","Kevin Li","Miranda Lin Li","Steven Li","Tina Li","Xiaofu Li","Hengyue Lian","Albert Jefferson Liang","Andy Liang","Emily Liang","Shengming Liang","Richard Aaron Libed","Maxime Patrick Joseph De Belloy de Saint Lienard","Nikolas Karlis Teak Liepins","Brennan Chim Lieu","Jong Beom Lim","Justin Jonathan Lim","Marina Limon","Benjamin Damaso Limric","Audrey Lin","Frederick Lin","Jason Chen Lin","Zhiyin Lin","Marcus James Zhong-Wei Lintott","Samuel Mark Liokumovich","Katrina Shulan Liou","Rachel Minjae Lit","Alexandra Kirby Stevenson Littleton","Katharine Grace Stevenson Littleton","Alice Liu","Caleb Jonathan Liu","Daphne Liu","Hunter Yuhuan Liu","Jacqueline Liu","Jiaju Liu","Jiayi Liu","Jiayi Liu","Miranda M. Liu","Novia Jichu Liu","William Song Liu","Yuanlin Liu","Viruni Thihansa Lewwandoowa Liyanage","Ciara Siobhán Locker","Ronan Patrick Locker","Alan De Loera","Jack Frederick Lofwall","Kacey Aileen Logan","Tasi Thomas Gutierrez Long","Daniel Dominic Longo","Daniel Dominic Longo","Phoebe Elise Loo","Ryan Esteban Loo","Abieiden Cecilia Lopez Lopez","Jasmyn Alexis Lopez","Jasmyn Alexis Lopez","Jane Elizabeth Lord-Krause","Jane Elizabeth Lord-Krause","Dylan Lee Loth","Lily Jane Loughridge","Noah W. Lowe","Hazel Lowy","Yuwen Lu","Joseph Kale Lucas","Renner Lucena","Ellie Gianna Luchini","Lizbeth Luevano","Zachary Joaquin Lukrich","Brandon Robert Lum","Itzel Andrea Luna","Camille Luong","Franklin Peace Lurie","Meghan Elizabeth Lynch","Zoe D. Lynch","Ke Ma","Kenneth Ruigeng Ma","Yasmine Fatima Mabene","Audrey Dehong Dair MacCoun","Daniel Rufino Maceda","Nicholas Tolentino Macedo","Joseph Edward Machado","Isabel Esperanza Machuca","Emily P. Macias","Brittany MacSween","Tesfa Mikael Madhin","Sebastian Madrigal","Abigail Kiok Maemoto","Michael Maffezzoli","Gabriel Dean Magaña","Diego Brandon Maglione","Charlotte Noelle Maguy","Akshath Mahajan","Leela Ann Mahajan","Arjun Maheshwari","Arjun Maheshwari","Minh Chau Mai","Steven Song Thinh Mai","Jacob Maikkula","Theodore Cuillin Makler","Francesca Leila Malayeri","Abigail Noemi Maldonado","Isandro Gutiérrez Malik","Mayahuel Gutiérrez Malik","Taylor Brynne Malina","Kathaleen Grace Mallard","Andrew Steven Mancini","Andrei Mandelshtam","Dhruv Mangtani","Zahran Kweli Manley","Katherine Mannion","Sriya Devi Mantena","Rohin Rajesh Manvi","Angela Ruoping Mao","Scott Edward Maran","Aristotle Mutugi Marangu","Michael Anthony Marcotte","Amelia Randall Marcum","Amaya M. Marion","Jasmine Marie Alumkal Markovich","Jamie Sara Marsal","Connor Douglas Huang Marsh","Geana M. Marte","Tarun Kumar Martheswaran","Bryce Domingo Martinez","Dulce'Celeste Martinez","Gustavo D. Martinez","Juan Daniel Martinez","Eric P. Martz","Nahum Maru","Daniela Mateos","Ryder Thompson Matheny","Anna Matsumoto","Grace Cameron Matthews","Anna Mattinger","Jordan Eileen Mattox","Brendon Franz Matusch","Conner James Maurer","Trevor Alexander Mayberry","Romy Niaz McCarthy","Reid Campbell McCaw","William Antoine McClain","Matthew McClean","Jaston Boone McClure","Henry Dylan McCollough","Joseph Alan McCoy","Gavin McDonell","Jordan Aliyah McElroy","Patrick McEwen","Daniel Ryan McFadden","Luke Joseph McFarland","Sage Hava McGinley-Smith","Tobias McIntosh","Ryan John McJannet","Lindsey Ying-min McKhann","Connor Samuel McLaughlin","Nico Rei Buyco McMillan","Conor James Mehaffey","Divya Serena Mehrish","Rohan Mehrotra","Arshia Anup Mehta","Ishan Chirag Mehta","Jason Mei","Stella Rose Randall Meier","Nolan Mejia","Emilio Melgoza","Ford Lucky Melillo","Joshua Melmon","Lesley Lorraine Mendez-Ortega","Chloe Gabrielle Mendoza","Jonathan Daniel Merchan","Jonathan Daniel Merchan","Alexander Whetstone Mescher","Matthew John Mettias","Sydney Campbell Metz","Ashley Elizebeth Meyer","Victor Eduardo Meza","Chijioke Chinaza Mgbahurike","Leeah Mehret Michael","Miriam Lucia Trigo Mijes","Anya Sage Miksovsky","Angel Andres Millard-Bruzos","Dalynn Amelia Miller","Elizabeth Grace Miller","Maddigan Kelly Miller","Andrei Minakov","Kamerynn Ashleigh Miner","Peter Albert John Ming","Taeli Ayanna Minnihan","Rohan Ramesh Minocha","Jason Matthew Miranda","Nolan A. Miranda","Nolan A. Miranda","Seyed Matin Mirramezani","Shubhra Mishra","Skyley Rose Mitchell","Emmett Kodai Miyahara","Luke McLeod Moberly","Fathuma Nassir Mohamed","Sina Mohammadi","Salma Aziza Mohideen","Cameron Matthew Mohne","Luke Robert Verchick Molbak","Naleikaehukaiik Molitau","Anna Katherine Moller","JoyAnne Jasmine Molloy","Dylan Scott Momaday-Leight","Marlene Anne Monteilh","Eric Rene Montes","Fiona Mooney","Dylan James Moore","Grant Nicholas Moore","Helen Georgina Moore","Katherine Augusta Moore","Lily Goodpasture Moore","Rhodney J. Moore","Samuel Morales-Madrid","Morgan Rae Moreno","Anna Elizabeth Morgan","James J. Morice","Emma Ellen Morris","Jack R. Morris","Lucia Morris","Claudia Isabel Moses","Mary-Tyler Imani Mosley","Daniel Marcelo Mottesi","Megan Mou","Seng Moua","Proud Blessed Mpala","Cindy C. Muang","Peter Mugemancuro","Peter Muhitch","Jacqueline Oluwatofunmi Munis","Enkhjin Munkhbayar","Laila Ann Munoz","Clara Suzanne Murff","Cheyenne N. Murphy","Janesta Jean Noland Murphy","Nicholas Giho Murphy","Manuela Murra","Kendal Alycia Murray","Hamad Mohamedosman Hassan Musa","Daniel Paul Musachio","Kayla Ashley Myers","Taiyo Myrthil","Ella S. Nadeau","Sidra Nadeem","Aqil Daud Naeem","Itbaan Nafi","Auddithio Nag","Jay Nagpal","Arundathi Sreejayan Nair","Chetan Rajagopal Nair","Kailash Siyan Patil Nakagawa","Kiyohiro Nakayama","Tenzin Choyang Namgyal","Adam Benjamin Nance","Saif Ali Nasr","Butch A. Nasser","Michael Deb Nath","Chantal Naugle","Iliana Nava","Daria Navalnaya","Michelle Vinocour Navarro","Archini Nayak","Kaushikee Nayudu","Oumou Kalsoum Ndour","Brenna Neault","Elijah Josiah Negron","Emma Kate Neidig","Lucy Margaret Nemerov","Lisiane Walley-Sasso Nemlin","Ursula Terese Neuner","Ryann Catherine Neushul","Andrew Michael Nevarez","Fletcher Lee Newell","Gradie Ngaruka","An Nguyen","Angela Thy Nguyen","Anh Thuc Ky Nguyen","Brandon Hung Nguyen","Brian Minh Nguyen","Catherine Thao Nguyen","Jasmine Sky Nguyen","Jenny Nguyen","Mathew Phuong Nguyen","Ryan Duc-Trung Nguyen","Seth C. Nguyen","Tan Nguyen","Tracy Nguyen","Truc Cam Nguyen","Tuan Anh Quang Nguyen","Emily Geigh Nichols","Charlotte Lillian Nicks","Charlotte Lillian Nicks","Mario Gerard Nicolas","Sawyer E. Niehaus","Lisa Nieman","Kristofer Roland Bohol Nino","Caitlan Nockideneh","Peter Mugaba Noertoft","Katherine Mary Nolan","Christopher Peter Noll","Heather Angela Nolte","Lillian Grace Nordmann","Sathvik Nori","Levi L. Norte","Chase E. Nwamu","Adria A. Nyarko","John Larkin O'Brien","Moira Siobhan O'Bryan","Rhiannon Sue O'Keefe","Conner James Oberhauser","Alfonso Grijalva Ochoa","Uchechukwu Chinedu Ochuba","Abena Aboagyewaa Ofosu","Elena Oglivie","Oluseyi James Ogundipe","Henry Oluwagbemiga Ojeaburu","Kristen S. Ok","Jessica Kelechi Okpara","Aisha Anuoluwapo Olasewere","Janelle Naomi Nucum Olisea","John Aaron Oliver","Dylan Makana Olson","Paige Nicola Olson","Iman Mohamed Omer","Matthew Oluwatosin Onadeko","Kaelyn Wei-Min Ong","Vanessa Joy Onuoha","Azure Jamachi Onyewu","Zander Davis Opperman","Calista Marie Ordas","Ernesto Orellana","Khosiyat Oripova","Luis M Botin Sanz de Sautuola D Ornan","Jackelyn Arianna Barajas Orozco","Megan Orsak","Joshua Nathaniel Orszag","Danya Nicole Ortiz","Isabel Sofia Vila Ortiz","Kenneth Onosemudiana Oseleononmen","Temitope Oshodi","Raymond DeLuna Ostil","Bruce Davis Owdom","Oluwagbotemi Oluwatamilore Owolabi","Laisha Ozuna","Daniel L. Paavola","April Olivia Pacheco","Ariella Sandoval Pacheco","Jasmine Joy Padilla","Savahna Padilla","Ryan Nathan Padnis","Si Woo Lorenzo Ahn Paek","Kellie Samantha Pagador","Taylor Marie Pagel","Jackson Wells Painter","Ngorli Fiifi Paintsil","Yaa Kamah Pajibo","Elizabeth Palafox","Raj Sekhar Reddy Palleti","Ali J. Palm","Henry Payne Palmer","Grace Pan","Arjun Pandey","Deven Kirit Pandya","Poojan Pandya","Jordan Andy Paredes","Danny SungIn Park","Donghwan Park","Hannah In Park","Jaehyeon Park","James Park","Jeeho Park","Rachel Park","Ryan Park","Soyeon Park","Chase R. Parker","Ian Maxwell Partman","Alissa Pinciroli Pascual","Emma Elizabeth Passmore","Isadora Schulz Dos Passos","Maya R. Patel","Naima U. Patel","Ohm Nilam Patel","Aarushi Vishal Patil","Arusha Patil","Arusha Patil","Andrew Patrick","Bridget E. Patrick","Apurba Paudel","Aiden Stanyslaus Paul","Amari Makyla Paul","Kalani Nui Akea Saghali Pavel","James Duran Pearsall","Samantha Marie Pearson","Camille Joy Peisner","Angela Pena","Maria Valentina Chirinos Pena","Mia Carmen Penfold","Yu Ting Peng","Sofia Rasa Penglase","Angelica Perez","Giana Nicole Perez","Jose Alan Perez","Karla Perez","Malia June Perez","Pablo Andres Nunez Perez","Bryant Perkins","Eryn Mychael Perkins","Anna Mary Perronne","Anwar H. Perry","Sofia Pesantez","Jessica Trevor Peters","Mitchell Nevin Peterson","Rita Mary Peterson","Chi N. Pham","Thao Thanh Phan","Uma Phatak","Tobin Eric Phillips","Mina Elise Phipps","Narvin Kankeo Phouksouvath","Nathan James Phuong","Amalie Felicia Bruns Pianim","Giannka Ginny Picache","Kaavya H. Pichai","Giacomo Pinciroli","Parrish Nicholas Pipestem","Isabella Pistaferri","Marco Silva Pizarro","Dora Elia Plascencia-Macias","Riley Byrd Plaut-Deweese","Antonio Gabriel Feliciano y Pleyto","James Poetzscher","Alina Virginia Pollner","Alexa Corinne Pollock","Hollis Du Pont","Elisa Lucia Ponte","Sheriff Oreoluwa Popoola","Isobel Douglas Porteous","Omari L. Porter","Roshan Prabhakar","Ashwin Prabu","Eva Isha Prakash","Samuel Edward Price","Trinity K. Price","Emily Page Proctor","Jefferson Daniel Pruett","Songqi Pu","Tanner Dane Pulice","Cecilia Grace La Puma","Nicholas J. Pyun","Anthony Qin","Justin Karl Qin","Renee Ruiyi Qin","Leslie Quintana","Olivia Felice Viruet Quintero","Jessica Citlalli Quiroz","Sahir Shaheen Qureshi","Anthony August Radke","Jayson Allen Raines","Shreya Ramachandran","Quinn Charlotte Ramberg","Angelica Jailene Ramirez","Cynthia Nayeli Ramirez","Iliana Nora Ramirez","Pablo Manuel Ramirez","Tiffany Berenice Sanchez Ramirez","Caitlin Elizabeth Ramos","Melissa Ran","Juben Rana","Samiya Zaynab Rana","Gaurav Kiran Rane","Prashaant Ranganathan","Frances Bujah Raphael","Lily Sarah Rashes","Sofia Gabrielle Raso","Nicha Rattanabut","Ryann Ramos Ray","Evan Kai Rayle","Numair Abdul Razzak","Daniel Allen Rebelsky","Elena Recaldini","Leah Camille Redd","Jaiden Sai Reddy","Shriya Gampala Reddy","Neve Mae Redhair","Darren Troy Redic","Aaron Z. Reed","Grant Amos Regen","Emma Sommer Rehac","Maximus Reisner","Nicholas Wolf Reisner","Gabriela Ferreira Reitz","Kaiyu Ren","Kathryn Adele Resnick","Ogbemudia Ediae Reuben","Andrea Isabella Reyes","Bianca De Los Reyes","Isabela Severin Oben Reyes","Lauren Rose Reyes","Sarah Margaret Reyes","Tiernan Wallace Rhodes","Giancarlo Ricci","Dario Rico","Maria Christine Ridgeway-Elsner","Ayla Sarina Ridwan","Sade U. Ried","Matthew A. Riedman","Merissa Bryn Rieken","Dakota Mica Riemersma","Oriana Alexandra Riley","Asia Corinne Rinehart","Anastacia Alicia Del Rio","Ricardo Javier Rios","Karim Ramzi Rishani","Adrian Rivas","Emilio Ezequiel Rivas","Sebastián Urdaneta Rivera","Joseph B. Rivkin","Syahmi Ali Mohd Rizal","E Ju Ro","Zaki Rob","Samuel James Roberts","Sadorian Faith Robertson","Timothy Manuel Robertson","Cole Austin Robins","Cole Austin Robins","Kameron Jarod Robinson","Erick Noel Rocha","Hailey Elizabeth Rochin","Bianca Rodriguez","Cesar A. Rodriguez","Karen Rodriguez","Natalie Joy Rodriguez","Rebecca Ann Rodriguez-Soto","Jewel L. Roemer","Alison Karen Rogers","Aurora Jade Roghair","George E. Rojano","Terachet Rojrachsombat","Isabella Karolina Arredondo Rolfe","Chloe Wood Rollock","Edgar Miguel Roman","Chloe Romero","Greta D. Romero","Kyran Romero","Lucien Philippe Roose","Carolina Renée De la Rosa","Maria F. Lopez Rosas","William Charles Rose","Nicholas Paul Rosenbaum","Layton Belle Rosenfeld","Lee Joshua Rosenthal","Luc Guy Rosenzweig","Wan Arman Daniel Wan Rosli","Wan Farah Nadia Wan Rosli","Alexander David Ross","Leily S. Rossi","Jordan Maya Rothkowitz","Samuel Olsen Roush","Alice Marguerite, Aye Thu Le Roux","Summer Olivia Royal","Stanley Rozenblit","Maya Voet Rozin","Panita Kueh Ruangkanit","Yahir Alexsander Ruiz-Meneses","Benjamin Ruland","Brandon Alexander Rupp","Natalie May Rush","Megan Marie Di Russo","Sarah Helena Petrovna Naa Borle Sackeyfio","Eva Regina Saenz","Schwinn Saereesitthipitak","Kawther S. Said","Amin Mohamad Sajjadian","Austin Joseph Salcedo","Aditya Keshav-Pramod Saligrama","Oladeji David Salimonu","Camron Timothy Sallade","Danny Warren Sallis","Brandon Nguyen Saltzman","Nikita Nitin Salunke","Saron Demame Samuel","Manisha Samy","Jazmin Sanchez","Rohan Sanda","Eliza Kathryn Sandell","Katya Hana Sander","Rinnara Sangpisit","Bronson Lui Sansoni","Gabriel M. SantaCruz","Carlos Alfonso Santana","Galia Asae Santana-Oikawa","Francis Santiago","Anushka Sanyal","Luis Fernando Sarabia","Riya Mehta Saran","Catherine Lucia Sarca","Joseph Patrick Sargent","Nathan Christopher Sariowan","Diane Sarkis","Sadie Mae Sarkisian","Joseph Matthew Sarmenta","Akshar Sarvesh","Caroline Sasso","Georgia Kate Sasso","Charles Vincent Saum","Zouberou Sayibou","Sofia Scarlat","Elijah A. Schacter","Erin Elizabeth Schaefer","Zadie Jean Schaffer","Jack Schallich","Noah Eli Schechter","Evan Riichi Schieber","Hallie Jayde Schiffman","Elizabeth Lea Schmidt","Logan Schuller Schreier","Johnna Sally Schroeder","Lindi Mary Schroeder","Olivia Cyan Schroeder","Lindsay Sophia Schwartz","Elsa Constance Schweizer","Larissa Monet Decora Scott","Roman Shane Scott","Sontee Ariel Larisa Scott","Peter Allen Sears","Brooke Robin Seay","Spencer Gordon Seay","Nicolas Gutierrez Seelenberger","Gabriel North Segal","Nicole Lakshmi Segaran","Melina Seligman-Tovar","Bailey Ann Sellfors","Alexander Lewis Selwyn","Natalia Santana Seniawski","Thrisha Senthilnathan","Noel Seo","Aaron Sequeira","Paloma Rose Sequeira","Bryan Steven Monge Serrano","Samuel Prieto Serrano","Regina Caeli Sevilla","Lara Selin Seyahi","Avantika Alok Shah","Deepan Hitesh Shah","Radhika Rajesh Shah","Saloni Ajay Shah","Tom Ethan Shahar","Alexander Zhang Shan","Claire Lynn Shao","Ahmed Mostafa Mahmoud Sharaf","Shay Nair Sharma","Siddharth Sharma","Emma Josephine Sharp","Anna Frances Shaw","Cassandra Mylia-Frances Shaw","Emma Steinberg Shaw","Julia Steinberg Shaw","Vivian Leilani Shay","Charles Wolf Sheiner","John Rigsby Aldredge Shelburne","Hayden Karynn Shelden","Christopher William Shell","Nur Muhammed Shelton","Henry Shen","Justin Yang Shen","Thanh-Nga Catherine Shenoy","Parthav Shergill","Charles Yuchen Shi","Chia Shih","Patrick Shih","Christopher J. Shin","Elliot JaeYoon Shin","Jeong Yeon Shin","Pearl Shing-Roth","Kimberly Mariko Shirai","Athena Shiravi","Priyanka Shrestha","Thomas Shundi","Vicky Patricia Siah","Lauren Somersille Sibley","Elena Grace Sierra","Rafael T. Sifuentes","Brydie Sigg","Dawson Stephen Sihavong","Guilherme David Santos Silva","Severo Antonio Miguel Garcia Silva","Raymond Nathan Silverman","Godsfavour Chibudom Simon","Nicholas G. Simpson","Sofia Elena Simón-Trench","Aidan Blake Singer","Alia Singh","Ishaan K. Singh","Josh Singh","Kailiti Singh","Yannik Nihal Singh","Gaurvi Singhvi","Ayush Singla","Abhinav Sinha","Kunal Sinha","Shaurya Sinha","Natalie Brooke Sinsheimer","Sarae Rihan Sinville","Vikram Sivashankar","Caroline Grace Skwara","Sicada Analise Sloan","Jaden Tyler Slocum","Jaden Tyler Slocum","Sean Wong Slusiewicz","Coleman J. Smith","Cooper David Aaker Smith","Jerred Denali Villegas Smith","Mackinley Lewis Smith","Rebecca A. Smith","Zachary David Smith","Charles Marcus Snipp","Bradley Joseph Snyder","Jaelen Lennecia Juelle Sobers","Joshua Olumitomi Sogade","Valentina Del Solar","Max Wolf Solberg","Andrew Craig Solganik","Anuoluwapo Ifeoluwapo Solola","Maraki Thomas Solomon","Naomi Solomon","Tobey Hannah Solomon","Andrea Ji Woo Nam Song","Andrew Jae-Yoon Song","Haoming Song","Kevin Song","Asukulu Songolo","Grace Apinya Soontornviwath","Katharine Louise Sorensen","Sophia Sosa","Sophia Sosa","Candice Rachel Sossa","Anastasia Sotiropoulos","Yvette Soto-Hernandez","Michael Samouel Ghatas Souliman","Lara Franciulli Teodoro de Souza","Hasani Issa Spann","Ori Spector","Shruti Parasuram Sridhar","Maya Wells Srinivasan","Sidharth Srinivasan","Pann Sripitak","Holland Eve Stacey","Haley Alexis Stafford","Chrystalen Jade Stambaugh","Chance Kadree Staples","Tess Eleanor Stapleton","Daniel Aaron Stauber","Julia Lauren Steinberg","Nikolas Andrew Stemmet","Calvin Ramon Pizarro Steussy","Parker Joseph Stewart","William Francis Stockwell","Annabelle Fleming Stoker","Shaye Nohea Story","Bradley Edward Strauss","Theodore Julius Strauss","Patricia Marie Strutz","Caroline Marie Suzanne Sturdza","Erin Liwen Su","Sruthi Subramanian","Ryan Joonwon Suh","Zakria Suhail","Angelo Xin Sui","Aaryan Chirag Sukhadia","Killian Sullivan","Laurel Fate Sullivan","Mustafa Ahmad Sultan","Dhruv Kailash Sumathi","Jasmine Sumpter","Adam Sun","Daniel Changxiao Sun","Junyang Sun","Olivia W. Sun","Praveen Sundar","Sudharsan Sundar","Nikhil Suresh","Emma Grace Martinez Sutton","Roshan Swaroop","Iosif-Oliver Szavuj","Christina Sze","Samantha Georgia Tadder","Hana A. Tadesse","Aditya Srinivas Tadimeti","Tenzin Chowang Taklha","Noah Hao-Lin Tan","Simran Tandon","Weiping Valerie Tang","Jenny Tao","Julie Cheng Tao","MiMi Noelle Tarter","Aanya Tashfeen","Isabella Judith Tavarez","Martin Paolo Gonzales Tayag","Aristotle Paris Taylor","Houston Caitlin Taylor","Jayla Alana Taylor","Lauren Kelly Taylor","Lauren Marie Taylor","Shield Stephen Taylor","Hunter Armstrong Taylor-Black","Alexander Paul Tchang","Allison Xin Tee","Stephanie Tena-Meza","Mhar Eisen Santos Tenorio","Aoden Masa Toshi Teo","Janice Yeuhthong Teoh","Anam Sabine Terra","Isabella Cruz Terrazas","Jenna B. Teterin","Emma Hi'ilani Thain","Avinash Jatin Thakkar","Esha Singh Thakran","David N. Thao","Samrat Thapa","Nicole Elizete Theberath","Skya Jona Theobald","Vishala Thiagarajan","Elizabeth A. Thomas","Rahul Krishna Thomas","Christina Olive Susanne Thompson","Serena Kaur Thompson","Allise Elizabeth Thurman","Ashley Elizabeth Thurston","Helen Tian","Jeremy Tian","Ethan Sargo Tiao","Bryce Isaac Tiglon","Mikayla Illyssa Tillery","Noelle Christina Jordan Tinker","Randi Elizabeth Titus","Wesley Tjangnaka","Ivan Sheng Wei Toh","Esther Tok","Galen Topper","Andrii Torchylo","Alexis Armando Torres","Erick Torres","Janet Torres","Marisol Quon Torro","Sofia Marie Tosoni","Leyth Ramez Toubassy","L'Hussen De Kolia Touré","Gilberto Tovar","Carson Gilbert Trail","Alexis Van-Khanh Tran","Angela Mi Tran","Caitlynn To-Duyen Tran","Caroline Tran","Jocelyn Stephanie Tran","Kevin Tran","Serena Le Tran","Van-Khanh Vu Tran","Benjamin Gray Tripp","Janina Eve Troper","Chloe Trujillo","Tenzin Tsultrim","Michael Minh Quoc Tu","Kate Elizabeth Tully","Mikhail Roshan Hernandez Tupaz","Serena Renee Turner","Zoe Tweedie","Augusto Christophe Tan Ty","Ty Matthew Uber","Avi Udash","Austin Uke","Jamie Martin Ullman","Lukas Weatherby Ungar","Stephanie Unur","Richa P. Upadhyay","Gianna Uyemura","Lora Vachovska","Gowri Manju Vadmal","Rikhil Paresh Vagadia","Vivek Vajipey","Isaac Daniel Valdez","Airin Brittany Valdez-Monroy","Nathalie Del Valle","Maya E. Valmon","Lour Drick Bantayan Valsote","Caroline Mai Van","Caroline Mai Van","Lila Ryder Vandenberghe","Maximilian Atsunobu Vandervelden","James Ashton Varah","Anna Maria Vargas","Lauren Aida Vargas","Kavya Varkey","Vivianna Tiffany Varlack","Helena Gurgel Vasconcelos","Saniya Sudhir Vashist","Alexis Abiel Vasquez","Ricardo Vasquez","Marguerite Wong Vasy","Dhruv Vaze","Luke Ryan Veit","Julia Rose Veith","Elijah Jordan Vela","Esau Veliz","Shayana Aarthy Venukanthan","Linda Vera","Britta Elise Verhey","Rishi Raj Verma","Kaela Verner","Karthik V. Vetrivel","Gabriella Lanese Via","Vanessa Pearl Vicente","Santiago Bustamante Villa","Noelle Erispe Villanueva","Victoria Sofia Villarreal","Matthew Jordan Villescas","Neha Vinjapuri","Jannah Nur Kara Vira","Brianna Nicole Virabouth","Luke Andrew Virsik","David Nainoa Visperas","Hong Le Xuan Vo","Skylar Blair Volman","Jack Coleman Volpert","Brandon Vu","Ryan Do Vu","Scott Moon Vu","Piper Rae Van Wagenen","Justin Sherif Wahby","Justin Sherif Wahby","Leah Cecile Waites","Eli Guben Waldman","Siddharta Krishan Wali","Colt B. Walker","Chloe Anne Walsh","Sharon Njeri Wambu","Jackline Wanza Wambua","Aaron Long Wan","Eli Thomas Wandless","Alexander Jen Wang","Allen Wang","Anna Tianya Wang","Christina Rachel Wang","Emma S. Wang","Iris T. Wang","John N. Wang","Kaiden Wang","Katherine Ha Wang","Kelly Peiyi Wang","Kevina Wang","Kexin Wang","Lian Kingyee Wang","Natalie Carrie Wang","Olivia Lynn Wang","Sally Sihan Wang","Sera Wang","Vivian Yun Wang","Ye Wang","Yixing Wang","Yu Han Daisy Wang","Lea Wang-Tomic","Natalie Meian Ward","Joseph Jiang Warton","Aiyana Kaylin Washington","Ameera Celine Waterford","Avery Gannon Watkins","Grant Kevin Watson","Isaac Matthew Wayne","George T. Wehner","Justin Clarke Weiler","Bar Weiner","Demi Rebekah Weitz","Blaine Kennedy Wells","Celestine Jovanna Wenardy","Johan Oskar Wendt","Marissa Werts","Connor Scott Weselman","Allysa Mae Salamat Wesierski","Ariyanna Ellease Wesley","Peter Emmanuel Westbrook","Jasmine Bernice Wheeler","Justin Denilson Whilby","Benjamin Lee White","Kallie L. V. White","Renee Duarte White","Connor Garcia Whitehill","Haven K. Whitney","Hermione D'vana Williams","Jonathan Copeland Williams","Lois Vevine Williams","Luke Harrison Williams","Micah Xinha Williams","Samantha Magdalena Williams","Alexi Nicole Wilson","Alina Lianne Wilson","Taylor Collins Wilson","Dylan Zaw Win","Lauren Elizabeth Winkley","Pawan Wirawarn","Suzannah Dalton Wistreich","Zachary Witzel","Nicholas John Woehrle","Andrew Matthew Woen","Sam K. Wondsen","Katherine Wong","Noah Wong","Nyle Tiber Wong","Katherine E. Woo","Katherine E. Woo","Erica Wood","Erica Wood","Katherine Sarah Worden","Collin Dashon Wright","Cydney Pearl Wright","James Douglas Wright","Penelope Quetzal Wright-Cotera","Junrong Wu","Remy L. Wu","Sophie Wu","Yuechen Wu","Jimmy Wyrick","Nikita X-One","Iris Xinran Xia","Catherine Wang Xiang","Cary Xiao","Johnathan Wenjia Xie","Lanruo Xie","Yichen Xie","Zhouhua Xie","Ashton Keng Xiong","Hlee Xiong","Lee Xiong","Brian Xu","Brian Xu","Haomeng Xu","Pinlin Xu","Sidra Yang Xu","Sidra Yang Xu","Yixuan Xu","Xi Ya","Shinnosuke Yagi","Michael Jarek Yan","Nathaniel Raine Hanbury Masfen Yan","Nathaniel Raine Hanbury Masfen Yan","Alexander Hiu Wai Yang","Amelia Maivkaj Yang","Andrew Yang","Ellen HongYu Yang","Grace Kaixin Yang","Jailia Sarena Yang","Janice H. Yang","Jessica Gong Yang","Nicole Nouchee Yang","Yue Yang","Sarah Jade Yao","Tamjid Yacoub Yasin","Sutton Jens Orlando Yazzolino","Brion Qi Ye","Yining Ye","Yining Ye","Matthew Macario Yekell","Alexandra Yepifanova","Andre Yu Yeung","Belinda Yeung","Madison Nicole Yeung","Leyla Yilmaz","Ecem Yilmazhaliloglu","Thomas Yim","Richard Yin","Jihwun Joshua Yoon","Katherine Yoon","Pia Yoon","Sonny Young","Sonny Young","Willow Wishom Young","Alfred Yu","Angeline Chi Ying Yu","Chen Jie Yu","Chen Jie Yu","Jun Xiang Zachary Yu","Michael Jonathan Yu","Richard Yuan","YuYu Yuan","Ava Marie Yun","Zachary Zafran","Daniel J. Zamoshchin","Caterina Maria Zampa","Caroline Grace Zdanowski","David James Zeibert","Vernita Zhai","Anthony Zhan","Alan Zhang","Albert Zhang","Alex Zhang","Angela Xinyu Zhang","Aolin Edward Zhang","Boxin Zhang","Carl Zhang","Chuyi Zhang","Chuyi Zhang","Faith Zhang","Kehan Zhang","Michael Zhang","Serena Zhang","Shu Wen Zhang","Adam Lida Zhao","Emily Yuan Zhao","Isaac Dan Zhao","Steven Sun Zhao","Anna J. Zheng","Hayden Anderson Zheng","Kenny Zheng","Amy Siyi Zhou","Beining Zhou","David Yunsheng Zhou","Annie Z. Zhu","Eric Zhu","Michael Song Zhu","Olivia Elly Ziegler","Jordan Zietz","Marcus Zimmerman","Declan Murphy Zink","Kyle Diego Zuluaga","Benedict Elonga Zuzi","Teagan Elyse Zwaanstra"],J0=z.createContext(null),Au=()=>{const a=z.useContext(J0);if(!a)throw new Error("useAuth must be used within an AuthProvider");return a},eo="/files/default-profile.png";function Cm(a){return!a||typeof a!="string"?"":a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^\w\s]/g," ").replace(/\s+/g," ").trim()}function DA(a,e){const n=Cm(a),r=e.find(g=>Cm(g)===n);if(r)return{exactMatch:r,potentialMatches:[]};const o=n.split(" ").filter(Boolean);if(o.length<2)return{potentialMatches:[]};const u=o[0],d=o[o.length-1];return{potentialMatches:e.filter(g=>{const _=Cm(g).split(" ").filter(Boolean);if(_.length<2)return!1;const S=_[0],T=_[_.length-1];return S===u&&T===d})}}function kA(a,e){return a.email==="jpark22@stanford.edu"?e==="gsb"?`${a.uid}_gsb`:`${a.uid}_undergrad`:a.uid}function _x(){try{return localStorage.getItem("lastUsedClass")}catch{return null}}function Im(a){try{localStorage.setItem("lastUsedClass",a)}catch{}}const Ex=({children:a})=>{const[e,n]=z.useState(null),[r,o]=z.useState(null),[u,d]=z.useState(!0),[m,g]=z.useState(null),[p,_]=z.useState(null),S=F=>!F||!Array.isArray(F)?[]:F.map(Z=>typeof Z=="string"?{name:Z,email:Z.toLowerCase().replace(/\s+/g,".")+"@stanford.edu"}:Z&&typeof Z=="object"&&Z.name&&Z.email?{name:Z.name,email:Z.email}:{name:"Unknown",email:"unknown@stanford.edu"}),T=async F=>{if(!(!(e!=null&&e.uid)||!m||!p))try{const Z=kA(e,p),ce=ri(Wn,"users",Z);await qr(ce,{name:F,userClass:p,updatedAt:qt()},{merge:!0}),Im(p),g(null),_(null)}catch(Z){throw console.error("Error selecting name:",Z),Z}};z.useEffect(()=>{if(!(e!=null&&e.uid))return;let F=null;return(async()=>{try{if(e.email==="jpark22@stanford.edu"){const ce=`${e.uid}_gsb`,ee=`${e.uid}_undergrad`,re=ri(Wn,"users",ce),D=ri(Wn,"users",ee),[b,R]=await Promise.all([Gl(re),Gl(D)]);let N=ce,x="gsb";const V=_x();V==="undergrad"&&R.exists()&&R.data().name?(N=ee,x="undergrad"):V==="gsb"&&b.exists()&&b.data().name||b.exists()&&b.data().name?(N=ce,x="gsb"):R.exists()&&R.data().name?(N=ee,x="undergrad"):b.exists()?(N=ce,x="gsb"):R.exists()&&(N=ee,x="undergrad");const M=ri(Wn,"users",N);F=ag(M,Be=>{if(Be.exists()){const ve=Be.data(),H={uid:ve.uid,email:ve.email,name:ve.name||ve.verifiedName||ve.displayName||"",photoURL:ve.photoURL,crushes:ve.crushes||[],lockedCrushes:ve.lockedCrushes||[],matches:S(ve.matches),crushCount:ve.crushCount||0,userClass:ve.userClass||x,createdAt:ve.createdAt,updatedAt:ve.updatedAt,lastLogin:ve.lastLogin};o(H),Im(x)}else o(null)},Be=>{console.error("Error in real-time user data listener:",Be),o(null)})}else{const ce=ri(Wn,"users",e.uid);F=ag(ce,ee=>{if(ee.exists()){const re=ee.data(),D={uid:re.uid,email:re.email,name:re.name||re.verifiedName||re.displayName||"",photoURL:re.photoURL,crushes:re.crushes||[],lockedCrushes:re.lockedCrushes||[],matches:S(re.matches),crushCount:re.crushCount||0,userClass:re.userClass||"gsb",createdAt:re.createdAt,updatedAt:re.updatedAt,lastLogin:re.lastLogin};o(D)}else o(null)},ee=>{console.error("Error in real-time user data listener:",ee),o(null)})}}catch(ce){console.error("Error setting up real-time listener:",ce),o(null)}})(),()=>{F&&F()}},[e==null?void 0:e.uid,e==null?void 0:e.email]);const P=async()=>{console.log("Real-time listener active - manual refresh not needed")},L=async(F,Z)=>{var ce,ee;if(!F.uid)return null;Im(Z);try{if(F.email==="jpark22@stanford.edu"){const re=kA(F,Z),D=ri(Wn,"users",re),b=await Gl(D);if(b.exists()){const R=b.data();console.log(`Using existing ${Z} account for ${R.name}`);const N={uid:R.uid,email:R.email,name:R.name||R.verifiedName||R.displayName||"",photoURL:F.photoURL||R.photoURL||eo,crushes:R.crushes||[],lockedCrushes:R.lockedCrushes||[],matches:S(R.matches||[]),crushCount:R.crushCount||0,userClass:R.userClass||Z,createdAt:R.createdAt,updatedAt:qt(),lastLogin:qt()};return await qr(D,N,{merge:!0}),N}else{const R=Z==="gsb"?lu:uu,N=F.displayName||((ce=F.email)==null?void 0:ce.split("@")[0])||"",{exactMatch:x,potentialMatches:V}=DA(N,R);if(x){console.log(`Creating fresh ${Z} account with name: ${x}`);const M={uid:re,email:F.email||"",name:x,photoURL:F.photoURL||eo,crushes:[],lockedCrushes:[],matches:[],crushCount:0,userClass:Z,createdAt:qt(),updatedAt:qt(),lastLogin:qt()};return await qr(D,M),console.log(`Successfully created fresh ${Z} account`),M}else if(V.length>0){console.log(`Multiple matches found for ${Z}, showing selection`),g(V),_(Z);const M={uid:re,email:F.email||"",name:"",photoURL:F.photoURL||eo,crushes:[],lockedCrushes:[],matches:[],crushCount:0,userClass:Z,createdAt:qt(),updatedAt:qt(),lastLogin:qt()};return await qr(D,M),M}else return await Zs(ai),alert(`Your name was not found in the ${Z==="gsb"?"GSB Class of 2025":"Undergraduate Class of 2025"} roster. If this is a mistake, please contact jpark22@stanford.edu.`),null}}else{const re=ri(Wn,"users",F.uid),D=await Gl(re);if(D.exists()){const b=D.data();if(b.userClass&&b.userClass!==Z){await Zs(ai);const N=b.userClass==="gsb"?"GSB":"Undergraduate";return alert(`You are already registered as a ${N} student. Please sign in with the ${N} option.`),null}const R={uid:b.uid,email:b.email,name:b.name||b.verifiedName||b.displayName||"",photoURL:F.photoURL||b.photoURL||eo,crushes:b.crushes||[],lockedCrushes:b.lockedCrushes||[],matches:S(b.matches),crushCount:b.crushCount||0,userClass:b.userClass||Z,createdAt:b.createdAt,updatedAt:qt(),lastLogin:qt()};return await qr(re,R,{merge:!0}),R}else{const b=Z==="gsb"?lu:uu,R=F.displayName||((ee=F.email)==null?void 0:ee.split("@")[0])||"",{exactMatch:N,potentialMatches:x}=DA(R,b);if(N){const V={uid:F.uid,email:F.email||"",name:N,photoURL:F.photoURL||eo,crushes:[],lockedCrushes:[],matches:[],crushCount:0,userClass:Z,createdAt:qt(),updatedAt:qt(),lastLogin:qt()};return await qr(re,V),V}else if(x.length>0){g(x),_(Z);const V={uid:F.uid,email:F.email||"",name:"",photoURL:F.photoURL||eo,crushes:[],lockedCrushes:[],matches:[],crushCount:0,userClass:Z,createdAt:qt(),updatedAt:qt(),lastLogin:qt()};return await qr(re,V),V}else return await Zs(ai),alert(`Your name was not found in the ${Z==="gsb"?"GSB Class of 2025":"Undergraduate Class of 2025"} roster. If this is a mistake, please contact jpark22@stanford.edu.`),null}}}catch(re){return console.error("Error creating/updating user document:",re),null}};z.useEffect(()=>bI(ai,async Z=>{var ce;Z?(ce=Z.email)!=null&&ce.endsWith("@stanford.edu")?(n(Z),d(!1)):(await Zs(ai),n(null),o(null),d(!1),alert("Only @stanford.edu email addresses are allowed. Please sign in with your Stanford account.")):(n(null),o(null),g(null),_(null),d(!1))}),[]);const W={user:e,userData:r,loading:u,nameOptions:m,signInWithGoogle:async F=>{var Z;try{const ce=await KI(ai,q0);if(!((Z=ce.user.email)!=null&&Z.endsWith("@stanford.edu")))throw await Zs(ai),new Error("Only @stanford.edu email addresses are allowed");await L(ce.user,F)}catch(ce){console.error("Login error:",ce),ce.code==="auth/popup-closed-by-user"?console.log("Sign-in popup was closed by user"):ce.code==="auth/cancelled-popup-request"?console.log("Another sign-in popup is already open"):alert("Login failed. Please make sure you're using a @stanford.edu email address.")}},selectName:T,logout:async()=>{try{await Zs(ai),o(null),g(null),_(null);try{localStorage.removeItem("lastUsedClass")}catch{}}catch(F){console.error("Logout error:",F)}},refreshUserData:P};return C.jsx(J0.Provider,{value:W,children:a})},Ax=()=>{const{signInWithGoogle:a}=Au(),e=n=>{a(n)};return C.jsx("div",{className:"login-container",children:C.jsxs("div",{className:"login-card",children:[C.jsx("h1",{children:"Past Chances"}),C.jsx("h2",{children:"Class of 2025"}),C.jsxs("p",{children:["Share your crushes anonymously and see if there's a mutual connection 👀",C.jsx("br",{}),C.jsx("br",{}),"The site will remain active until our Stanford accounts expire in October 2025"]}),C.jsxs("div",{className:"login-content",children:[C.jsx("p",{children:"Select your class:"}),C.jsxs("button",{className:"google-signin-btn",onClick:()=>e("gsb"),children:[C.jsxs("svg",{className:"google-icon",viewBox:"0 0 24 24",children:[C.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),C.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),C.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),C.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"GSB MBA Class of 2025"]}),C.jsxs("button",{className:"google-signin-btn",onClick:()=>e("undergrad"),children:[C.jsxs("svg",{className:"google-icon",viewBox:"0 0 24 24",children:[C.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),C.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),C.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),C.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Undergraduate Class of 2025"]})]})]})})},Tx=({analytics:a,classDisplayName:e})=>a?C.jsxs("div",{className:"admin-overview",children:[C.jsxs("div",{className:"admin-class-header",children:[C.jsxs("h4",{children:[e," Class of 2025 - Analytics Dashboard"]}),C.jsxs("div",{className:"admin-class-stats-summary",children:[C.jsxs("span",{className:"class-stat",children:[C.jsx("strong",{children:a.totalUsers})," active users"]}),C.jsxs("span",{className:"class-stat",children:[C.jsx("strong",{children:a.totalClassSize})," total class size"]}),C.jsxs("span",{className:"class-stat",children:[C.jsxs("strong",{children:[a.classParticipationRate,"%"]})," class participation"]})]})]}),C.jsxs("div",{className:"admin-quick-insights",children:[C.jsxs("div",{className:"admin-insight-card",children:[C.jsx("h4",{children:"Platform Activity"}),C.jsxs("p",{children:[a.usersWithCrushes," users have sent crushes"]}),C.jsxs("p",{children:[a.usersWithMatches," users have matches"]}),C.jsxs("p",{children:[a.avgCrushes," average crushes sent per user"]}),C.jsxs("p",{children:[a.activeUsersLast24h,"% users active in last 24h"]})]}),C.jsxs("div",{className:"admin-insight-card",children:[C.jsx("h4",{children:"Participation Metrics"}),C.jsxs("p",{children:[a.participationRate,"% of signed-up users active"]}),C.jsxs("p",{children:[a.classParticipationRate,"% of total class participating"]}),C.jsxs("p",{children:[a.totalUsers,"/",a.totalClassSize," students signed up"]}),C.jsxs("p",{children:[a.inactiveReceivers.length," inactive receivers"]})]}),C.jsxs("div",{className:"admin-insight-card",children:[C.jsx("h4",{children:"Matching Success"}),C.jsxs("p",{children:[a.totalMatches," total matches"]}),C.jsxs("p",{children:[a.totalCrushes," total crushes sent"]}),C.jsxs("p",{children:[a.peopleWithCrushes," people receiving crushes"]}),C.jsxs("p",{children:[a.orphanedCrushes.length," orphaned crushes"]})]})]}),C.jsxs("div",{className:"admin-analytics",children:[C.jsxs("div",{className:"admin-analytics-section",children:[C.jsxs("h4",{children:["All ",e," Matches (",a.totalMatches,")"]}),a.matchedPairs.length?C.jsx("div",{className:"admin-matches-list",children:a.matchedPairs.map((n,r)=>C.jsxs("div",{className:"admin-match-item",children:[r+1,". ",n]},r))}):C.jsxs("p",{children:["No matches found yet in ",e," class."]})]}),C.jsxs("div",{className:"admin-analytics-section",children:[C.jsxs("h4",{children:["Top ",e," Crush Receivers"]}),C.jsx("div",{className:"admin-list",children:a.topCrushReceivers.slice(0,15).map((n,r)=>C.jsxs("div",{className:"admin-list-item",children:[C.jsxs("span",{children:[r+1,". ",n.name]}),C.jsxs("span",{children:[n.count," crushes"]})]},n.name))})]}),C.jsxs("div",{className:"admin-analytics-section",children:[C.jsxs("h4",{children:["Top ",e," Crush Senders"]}),C.jsx("div",{className:"admin-list",children:a.topCrushSenders.slice(0,15).map((n,r)=>C.jsxs("div",{className:"admin-list-item",children:[C.jsxs("span",{children:[r+1,". ",n.name]}),C.jsxs("span",{children:[n.count," crushes sent"]})]},n.name))})]}),C.jsxs("div",{className:"admin-analytics-section",children:[C.jsxs("h4",{children:[e," Inactive Receivers (",a.inactiveReceivers.length,")"]}),C.jsx("div",{className:"admin-list",children:a.inactiveReceivers.map((n,r)=>C.jsxs("div",{className:"admin-inactive-item",children:[C.jsxs("div",{className:"admin-inactive-header",children:[C.jsxs("span",{children:[r+1,". ",n.name]}),C.jsxs("span",{children:[n.crushCount," crushes"]})]}),C.jsxs("div",{className:"admin-inactive-details",children:[C.jsxs("p",{children:["Email: ",n.email]}),C.jsxs("p",{children:["Reason: ",n.reason]}),C.jsxs("p",{children:["Crushers: ",n.crushers.map(o=>o.name).join(", ")]})]})]},n.email))})]}),a.orphanedCrushes.length>0&&C.jsxs("div",{className:"admin-analytics-section",children:[C.jsxs("h4",{children:[e," Orphaned Crushes (",a.orphanedCrushes.length,")"]}),C.jsx("div",{className:"admin-list",children:a.orphanedCrushes.map((n,r)=>C.jsxs("div",{className:"admin-list-item",children:[C.jsxs("span",{children:[r+1,". ",n]}),C.jsx("span",{children:"Not signed up"})]},n))})]})]})]}):C.jsxs("div",{className:"admin-loading",children:["Loading ",e," analytics..."]}),Sx=(a,e)=>{if(!e.trim())return{matches:!0,score:0};const n=p=>p.toLowerCase().trim(),r=n(a),o=n(e);if(r.includes(o))return{matches:!0,score:100};const u=r.split(" ").filter(Boolean),d=o.split(" ").filter(Boolean);if(d.length>=2){const p=d[0],_=d[d.length-1];if(u.length>=2){const S=u[0],T=u[u.length-1];if(S===p&&T===_)return{matches:!0,score:95};if(S.startsWith(p)&&T===_)return{matches:!0,score:90};if(S===p&&T.startsWith(_))return{matches:!0,score:85}}}if(d.length===1){const p=d[0];if(u.some(_=>_.startsWith(p)))return{matches:!0,score:80}}let m=0,g=0;for(const p of d)for(let _=m;_<u.length;_++)if(u[_].startsWith(p)){g++,m=_+1;break}return g===d.length?{matches:!0,score:75}:{matches:!1,score:0}},xA=(a,e)=>a,bx=({allUsers:a,loadingUsers:e,adminSearchTerm:n,setAdminSearchTerm:r,userFilter:o,setUserFilter:u,viewingUserId:d,handleViewUser:m,findCrushersForUser:g,userStats:p,classDisplayName:_})=>{const[S,T]=z.useState(0),P=ii.useRef(null),L=50;z.useEffect(()=>{T(0)},[n,o]);const Y=z.useCallback(ee=>{const re=ee.target.value;r(re),T(0)},[r]),K=z.useCallback(()=>{r(""),T(0),P.current&&P.current.focus()},[r]),W=z.useMemo(()=>{console.log("Admin filtering - Search term:",`"${n}"`,"Filter:",o,"All users count:",a.length);let ee=a;switch(o){case"active":ee=ee.filter(b=>!b.isInactive&&!b.isGhost);break;case"inactive":ee=ee.filter(b=>b.isInactive);break;case"ghost":ee=ee.filter(b=>b.isGhost);break}console.log("After filter:",ee.length,"users");const re=n.trim();if(re==="")return console.log("Empty search, returning all filtered users"),ee;console.log("Applying search for:",`"${re}"`);const D=ee.map(b=>{const R=[b.name||"",b.email||""].filter(Boolean);let N={matches:!1,score:0};for(const x of R){const V=Sx(x,re);V.matches&&V.score>N.score&&(N=V)}return{user:b,...N}}).filter(b=>b.matches).sort((b,R)=>R.score-b.score).map(b=>b.user);return console.log("Search results:",D.length,"users"),D},[a,n,o]),F=z.useMemo(()=>{const ee=S,re=Math.min(ee+L,W.length);return W.slice(ee,re)},[W,S]),Z=z.useCallback(ee=>{const D=ee.target.scrollTop,R=Math.floor(D/80);Math.abs(R-S)>5&&T(Math.max(0,R-10))},[S]),ce=ii.memo(({u:ee})=>{var ve,H,$,oe;const re=d===ee.uid,D=ee.crushCount||0,b=g(ee),R=ee.isInactive||!1,N=ee.isGhost||!1,x=ee.name||ee.email,V=!!(ee.name&&ee.name.trim());let M="",Be="";return N?(M="admin-user-ghost",Be="👻 Ghost User"):R&&(M="admin-user-inactive",Be="💤 Inactive User"),C.jsxs("div",{className:`admin-user-item ${M}`,children:[C.jsxs("div",{className:"admin-user-header",children:[C.jsxs("div",{className:"admin-user-info",children:[C.jsxs("div",{className:"admin-user-name",children:[xA(x),Be&&C.jsx("span",{className:"user-type-label",children:Be}),!R&&!N&&!V&&C.jsx("span",{className:"no-name-indicator",children:"(No name set)"})]}),C.jsx("div",{className:"admin-user-email",children:xA(ee.email)}),C.jsxs("div",{className:"admin-user-stats",children:[D," crushing • ",((ve=ee.matches)==null?void 0:ve.length)||0," matches • ",((H=ee.crushes)==null?void 0:H.length)||0," selected",!R&&!N&&D!==b.length&&C.jsxs("span",{className:"discrepancy-indicator",children:["(calc: ",b.length,")"]})]})]}),C.jsx("button",{onClick:()=>m(ee.uid),className:"admin-view-btn",disabled:R||N,children:N?"Ghost":R?"Inactive":re?"Collapse":"View"})]}),re&&!R&&!N&&C.jsxs("div",{className:"admin-user-expanded",children:[C.jsx("div",{className:"admin-view-header",children:C.jsxs("h4",{children:["Data for ",x," (",_,"):"]})}),C.jsxs("div",{className:"admin-data-grid",children:[C.jsxs("div",{className:"admin-data-card",children:[C.jsx("div",{className:"admin-data-number",children:D}),C.jsx("div",{className:"admin-data-label",children:"People Crushing On Them"}),b.length>0&&C.jsx("div",{className:"admin-data-names",children:b.map((he,I)=>C.jsx("div",{className:"admin-name-item",children:he.name},I))}),D!==b.length&&C.jsxs("div",{className:"admin-discrepancy",children:["⚠️ DB shows ",D,", calc shows ",b.length]})]}),C.jsxs("div",{className:"admin-data-card",children:[C.jsx("div",{className:"admin-data-number",children:(($=ee.matches)==null?void 0:$.length)||0}),C.jsx("div",{className:"admin-data-label",children:"Matches"}),ee.matches&&ee.matches.length>0&&C.jsx("div",{className:"admin-data-names",children:ee.matches.map((he,I)=>C.jsx("div",{className:"admin-name-item",children:he.name},I))})]}),C.jsxs("div",{className:"admin-data-card",children:[C.jsx("div",{className:"admin-data-number",children:((oe=ee.crushes)==null?void 0:oe.length)||0}),C.jsx("div",{className:"admin-data-label",children:"Crushes Sent"}),ee.crushes&&ee.crushes.length>0&&C.jsx("div",{className:"admin-data-names",children:ee.crushes.map((he,I)=>{var ue;const Q=(ue=ee.lockedCrushes)==null?void 0:ue.includes(he);return C.jsxs("div",{className:`admin-name-item ${Q?"locked":""}`,children:[he," ",Q&&"🔒"]},I)})})]})]}),D===0&&(!ee.matches||ee.matches.length===0)&&(!ee.crushes||ee.crushes.length===0)&&C.jsx("div",{className:"admin-no-activity",children:"No activity"})]})]})});return ce.displayName="UserItem",C.jsxs("div",{className:"admin-users",children:[C.jsxs("div",{className:"admin-class-users-header",children:[C.jsxs("h4",{children:[_," Users Management"]}),C.jsxs("div",{className:"admin-class-users-summary",children:[C.jsxs("span",{children:["Active: ",p.activeUsers]}),C.jsxs("span",{children:["Inactive: ",p.inactiveUsers]}),C.jsxs("span",{children:["Ghost: ",p.ghostUsers]}),C.jsxs("span",{children:["Total: ",p.total]})]})]}),C.jsxs("div",{className:"admin-controls",children:[C.jsxs("div",{className:"admin-search-section",children:[C.jsxs("div",{className:"admin-search-input-container",children:[C.jsx("input",{ref:P,type:"text",placeholder:`Search ${_} users by name or email...`,value:n,onChange:Y,className:"admin-search-input"}),n&&C.jsx("button",{onClick:K,className:"admin-search-clear-btn",type:"button","aria-label":"Clear search",children:"×"})]}),n&&W.length>0&&C.jsxs("div",{className:"admin-search-hint",children:["💡 ",W.length,' results found. Try "first last" for best results.']}),W.length>L&&C.jsxs("div",{className:"admin-pagination-info",children:["Showing ",Math.min(F.length,L)," of ",W.length," ",_," users"]})]}),C.jsx("div",{className:"admin-filter-section",children:C.jsxs("select",{value:o,onChange:ee=>u(ee.target.value),className:"admin-filter-dropdown",children:[C.jsxs("option",{value:"all",children:["All ",_," Users (",p.total,")"]}),C.jsxs("option",{value:"active",children:["Active Users (",p.activeUsers,")"]}),C.jsxs("option",{value:"inactive",children:["Inactive Users (",p.inactiveUsers,")"]}),C.jsxs("option",{value:"ghost",children:["Ghost Users (",p.ghostUsers,")"]})]})})]}),e?C.jsxs("div",{className:"loading",children:["Loading ",_," users..."]}):C.jsxs("div",{className:"admin-users-container",onScroll:Z,children:[S>0&&C.jsx("div",{style:{height:`${S*80}px`},className:"virtual-spacer"}),F.map(ee=>C.jsx(ce,{u:ee},ee.uid)),S+L<W.length&&C.jsx("div",{style:{height:`${(W.length-S-L)*80}px`},className:"virtual-spacer"}),W.length===0&&C.jsx("div",{className:"no-results",children:n?C.jsxs(C.Fragment,{children:["No ",_,' users found matching "',n,'".',C.jsx("br",{}),C.jsx("small",{children:'Try searching with first and last name (e.g., "john smith")'}),C.jsx("button",{onClick:K,className:"clear-search-link",children:"Clear search"})]}):`No ${_} users available.`})]})]})},wx=({user:a,userData:e})=>{const[n,r]=z.useState(!1),[o,u]=z.useState([]),[d,m]=z.useState(!1),[g,p]=z.useState(""),[_,S]=z.useState(null),[T,P]=z.useState("all"),[L,Y]=z.useState("analytics"),[K,W]=z.useState(null),[F,Z]=z.useState(!1),[ce,ee]=z.useState(0),re=(e==null?void 0:e.userClass)||"gsb",D=re==="gsb"?"GSB MBA":"Undergraduate";if(z.useEffect(()=>{if((a==null?void 0:a.email)!=="jpark22@stanford.edu"){r(!0);return}r(!1)},[a==null?void 0:a.email]),n)return C.jsx("div",{className:"admin-access-denied",children:C.jsxs("div",{className:"access-denied-card",children:[C.jsx("h2",{children:"Access Denied"}),C.jsx("p",{children:"You do not have permission to view this page."}),C.jsx("p",{children:"Admin access is restricted to authorized personnel only."})]})});if((a==null?void 0:a.email)!=="jpark22@stanford.edu")return C.jsx("div",{className:"admin-loading",children:"Verifying admin access..."});const b=z.useCallback($=>!$||typeof $!="string"?"":$.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^\w\s]/g," ").replace(/\s+/g," ").trim(),[]),R=z.useCallback(($,oe,he)=>{if(!$||!$.trim())return null;const I=b($),Q=he?oe.filter(ye=>(ye.userClass||"gsb")===he):oe;let ue=Q.find(ye=>ye.name&&b(ye.name)===I);if(ue)return ue;const le=I.split(" ");if(le.length>=2){const ye=`${le[0]} ${le[le.length-1]}`;ue=Q.find(we=>{if(we.name){const fe=b(we.name).split(" ");if(fe.length>=2)return`${fe[0]} ${fe[fe.length-1]}`===ye}return!1})}return ue||null},[b]),N=z.useCallback($=>{const oe=[],he=$.name,I=$.userClass||"gsb";return he&&o.forEach(Q=>{if(Q.uid===$.uid||Q.isInactive||Q.isGhost||(Q.userClass||"gsb")!==I)return;(Q.crushes||[]).includes(he)&&oe.push({name:Q.name,email:Q.email})}),oe},[o]);z.useEffect(()=>{if((a==null?void 0:a.email)!=="jpark22@stanford.edu")return;const $=G2(pA(Wn,"analytics"),K2("createdAt","desc"),F2(1)),oe=ag($,he=>{if(!he.empty){const I=he.docs[0].data();console.log("Live analytics updated:",I),ee(Q=>Q+1)}},he=>{console.error("Error listening to analytics:",he),he.code==="permission-denied"&&r(!0)});return()=>oe()},[a==null?void 0:a.email]);const x=z.useCallback($=>{if($.length===0)return 0;const oe=new Date(Date.now()-24*60*60*1e3);let he=0;return $.forEach(I=>{if(I.lastLogin){let Q;I.lastLogin.toDate?Q=I.lastLogin.toDate():I.lastLogin.seconds?Q=new Date(I.lastLogin.seconds*1e3):Q=new Date(I.lastLogin),Q>oe&&he++}}),Number((he/$.length*100).toFixed(2))},[]),V=z.useCallback($=>{const he=o.filter(Ae=>!Ae.isInactive&&!Ae.isGhost).filter(Ae=>(Ae.userClass||"gsb")===$),I=$==="gsb"?lu.length:uu.length,Q=he.length,ue=new Set;he.forEach(Ae=>{const st=Ae.matches||[];Array.isArray(st)&&st.length>0&&st.forEach(gt=>{const vi=gt.name||gt,sn=[Ae.name,vi].sort().join(" ↔ ");ue.add(sn)})});const le=ue.size,ye=Array.from(ue).sort();let we=0;he.forEach(Ae=>{const st=Ae.crushes||[];we+=st.length});const fe=new Map,De=new Map;he.forEach(Ae=>{(Ae.crushes||[]).forEach(gt=>{const vi=R(gt,o,$);if(vi){const sn=vi.name;sn&&(fe.set(sn,(fe.get(sn)||0)+1),De.has(sn)||De.set(sn,[]),De.get(sn).push(Ae.name))}else fe.set(gt,(fe.get(gt)||0)+1),De.has(gt)||De.set(gt,[]),De.get(gt).push(Ae.name)})});const Le=Array.from(fe.keys()).filter(Ae=>fe.get(Ae)>0).length,rt=Q>0?we/Q:0,Bt=he.filter(Ae=>Ae.crushes.length>0).length,rn=he.filter(Ae=>Ae.matches.length>0).length,Gn=Q>0?Bt/Q*100:0,Kn=I>0?Bt/I*100:0,sa=[],yi=new Set;he.forEach(Ae=>{(Ae.crushes||[]).forEach(gt=>{yi.add(gt)})}),yi.forEach(Ae=>{R(Ae,o,$)||sa.push(Ae)});const ls=Array.from(fe.entries()).map(([Ae,st])=>({name:Ae,count:st,crushers:De.get(Ae)||[]})).sort((Ae,st)=>st.count-Ae.count).slice(0,25),hn=he.map(Ae=>({name:Ae.name,count:Ae.crushes.length,crushNames:Ae.crushes})).sort((Ae,st)=>st.count-Ae.count).slice(0,25),dr=[];return he.forEach(Ae=>{if(Ae.crushCount>0&&!!!(Ae.crushes&&Ae.crushes.length>0)){const gt=N(Ae);dr.push({name:Ae.name||"Unknown",email:Ae.email,crushCount:Ae.crushCount,reason:"No crushes submitted",crushers:gt})}}),dr.sort((Ae,st)=>st.crushCount-Ae.crushCount),{totalUsers:Q,totalClassSize:I,totalMatches:le,matchedPairs:ye,totalCrushes:we,peopleWithCrushes:Le,avgCrushes:Number(rt.toFixed(2)),usersWithCrushes:Bt,usersWithMatches:rn,participationRate:Number(Gn.toFixed(2)),classParticipationRate:Number(Kn.toFixed(2)),orphanedCrushes:sa,topCrushReceivers:ls,topCrushSenders:hn,inactiveReceivers:dr,activeUsersLast24h:x(he)}},[o,R,N,x]),M=z.useCallback(async()=>{if((a==null?void 0:a.email)!=="jpark22@stanford.edu"){r(!0);return}m(!0);try{const $=await $2(pA(Wn,"users")),oe=[];$.forEach(fe=>{const De=fe.data();oe.push({...De,uid:fe.id,userClass:De.userClass||"gsb"})});const he=new Set;oe.forEach(fe=>{(fe.crushes||[]).forEach(Le=>{he.add(Le)})});const I=new Set(oe.map(fe=>fe.name).filter(Boolean)),Q=[],ue=[];(re==="gsb"?lu:uu).forEach(fe=>{if(I.has(fe))return;let De=0;oe.forEach(rt=>{(rt.userClass||"gsb")===re&&(rt.crushes||[]).includes(fe)&&De++});const Le=`${fe.toLowerCase().replace(/\s+/g,".")}@stanford.edu`;if(De>0){const rt=`inactive-${re}-${b(fe).replace(/\s+/g,"-")}`;Q.push({uid:rt,email:Le,name:fe,photoURL:"/files/default-profile.png",crushes:[],lockedCrushes:[],matches:[],crushCount:De,userClass:re,isInactive:!0,createdAt:null,updatedAt:null,lastLogin:null})}else{const rt=`ghost-${re}-${b(fe).replace(/\s+/g,"-")}`;ue.push({uid:rt,email:Le,name:fe,photoURL:"/files/default-profile.png",crushes:[],lockedCrushes:[],matches:[],crushCount:0,userClass:re,isGhost:!0,createdAt:null,updatedAt:null,lastLogin:null})}});const we=[...oe.filter(fe=>(fe.userClass||"gsb")===re),...Q,...ue];we.sort((fe,De)=>{const Le=fe.isInactive||!1,rt=De.isInactive||!1,Bt=fe.isGhost||!1,rn=De.isGhost||!1;if(!Le&&!Bt&&(rt||rn))return-1;if((Le||Bt)&&!rt&&!rn)return 1;if(Le&&!rt&&rn)return-1;if(!Le&&Bt&&rt)return 1;const Gn=fe.name||fe.email||"",Kn=De.name||De.email||"";return Gn.localeCompare(Kn)}),u(we)}catch($){console.error("Error loading all users:",$),$.code==="permission-denied"&&r(!0)}finally{m(!1)}},[b,a==null?void 0:a.email,re]);z.useEffect(()=>{(a==null?void 0:a.email)==="jpark22@stanford.edu"&&M()},[a,M]),z.useEffect(()=>{if(o.length>0&&(a==null?void 0:a.email)==="jpark22@stanford.edu"){Z(!0);const $=setTimeout(()=>{try{const oe=V(re);W(oe)}finally{Z(!1)}},300);return()=>clearTimeout($)}},[o,V,ce,a==null?void 0:a.email,re]);const Be=z.useMemo(()=>{const $=o.filter(I=>!I.isInactive&&!I.isGhost),oe=o.filter(I=>I.isInactive),he=o.filter(I=>I.isGhost);return{activeUsers:$.length,inactiveUsers:oe.length,ghostUsers:he.length,total:o.length}},[o]),ve=z.useCallback($=>{S(_===$?null:$)},[_]),H=z.useCallback(async()=>{ee($=>$+1),await M()},[M]);return C.jsxs("div",{className:"admin-section",children:[C.jsxs("div",{className:"admin-header-section",children:[C.jsxs("div",{className:"admin-title-row",children:[C.jsxs("h3",{children:[D," Admin Dashboard"]}),C.jsx("button",{onClick:H,className:"admin-refresh-btn",disabled:d||F,children:d||F?"↻ Loading...":"↻ Refresh"})]}),C.jsxs("div",{className:"admin-definitions",children:[C.jsxs("p",{children:[C.jsx("strong",{children:"Current View:"})," You are viewing data for the ",D," class only. Switch to a different class account to view other class data."]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Active Users:"})," ",D," students who have signed up and can match within their class."]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Inactive Users:"})," ",D," students from the class roster who haven't signed up yet but are receiving crushes."]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Ghost Users:"})," ",D," students from the class roster with zero engagement."]})]})]}),C.jsxs("div",{className:"admin-nav",children:[C.jsxs("button",{onClick:()=>Y("analytics"),className:`admin-nav-btn ${L==="analytics"?"active":""}`,disabled:F,children:[D," Analytics ",F&&"(Loading...)"]}),C.jsxs("button",{onClick:()=>Y("users"),className:`admin-nav-btn ${L==="users"?"active":""}`,disabled:d,children:[D," Users (",Be.total,") ",d&&"(Loading...)"]})]}),C.jsxs("div",{className:"admin-content",children:[L==="analytics"&&C.jsx(Tx,{analytics:K,classView:re,classDisplayName:D}),L==="users"&&C.jsx(bx,{allUsers:o,loadingUsers:d,adminSearchTerm:g,setAdminSearchTerm:p,userFilter:T,setUserFilter:P,viewingUserId:_,handleViewUser:ve,findCrushersForUser:N,userStats:Be,classView:re,classDisplayName:D})]})]})},Rx=(a,e)=>{if(!e.trim())return{matches:!0,score:0};const n=p=>p.toLowerCase().trim(),r=n(a),o=n(e);if(r.includes(o))return{matches:!0,score:100};const u=r.split(" ").filter(Boolean),d=o.split(" ").filter(Boolean);if(d.length>=2){const p=d[0],_=d[d.length-1];if(u.length>=2){const S=u[0],T=u[u.length-1];if(S===p&&T===_)return{matches:!0,score:95};if(S.startsWith(p)&&T===_)return{matches:!0,score:90};if(S===p&&T.startsWith(_))return{matches:!0,score:85}}}if(d.length===1){const p=d[0];if(u.some(_=>_.startsWith(p)))return{matches:!0,score:80}}let m=0,g=0;for(const p of d)for(let _=m;_<u.length;_++)if(u[_].startsWith(p)){g++,m=_+1;break}return g===d.length?{matches:!0,score:75}:{matches:!1,score:0}},Cx=({userData:a,searchTerm:e,setSearchTerm:n,selectedNames:r,savedNames:o,updating:u,error:d,handleNameToggle:m,handleRemoveSelected:g,handleUpdatePreferences:p})=>{const[_,S]=ii.useState(0),T=ii.useRef(null),P=(a==null?void 0:a.matches)&&a.matches.length>0,L=(a==null?void 0:a.crushCount)||0,Y=(a==null?void 0:a.lockedCrushes)||[],K=r||[],W=o||[],F=JSON.stringify([...K].sort())!==JSON.stringify([...W].sort()),Z=(a==null?void 0:a.userClass)==="gsb"?lu:uu,ce=(a==null?void 0:a.userClass)==="gsb"?"GSB MBA":"Undergraduate",ee=ii.useCallback(H=>{n(H.target.value),S(0)},[n]),re=ii.useMemo(()=>{const H=[...K];a!=null&&a.name&&H.push(a.name);const $=Z.filter(he=>!H.includes(he));return e.trim()?$.map(he=>{const I=Rx(he,e);return{name:he,...I}}).filter(he=>he.matches).sort((he,I)=>I.score-he.score).map(he=>he.name):$},[K,e,a==null?void 0:a.name,Z]),D=48,b=Math.min(15,Math.max(8,Math.floor(window.innerHeight*.4/D))),R=5,N=Math.max(0,_-R),x=Math.min(re.length,_+b+R),V=re.slice(N,x),M=ii.useCallback(H=>{const $=H.currentTarget.scrollTop,oe=Math.floor($/D);Math.abs(oe-_)>2&&S(oe)},[_]),Be=ii.useCallback(()=>{n(""),S(0),T.current&&T.current.focus()},[n]),ve=ii.useCallback((H,$)=>H,[]);return C.jsxs(C.Fragment,{children:[L>0&&C.jsx("div",{className:"crush-count-section",children:C.jsxs("h2",{children:[L," ",L===1?"person is":"people are"," crushing on you!"]})}),P&&C.jsxs("div",{className:"matches-section",children:[C.jsxs("h2",{children:["🎉 You have ",a.matches.length," match",a.matches.length>1?"es":"","!"]}),C.jsx("div",{className:"matches-list",children:a.matches.map((H,$)=>C.jsxs("div",{className:"match-item",children:[C.jsx("div",{className:"match-name",children:H.name}),C.jsx("div",{className:"match-email",children:H.email})]},$))})]}),C.jsx("div",{className:"header-section",children:C.jsx("div",{className:"instructions",children:C.jsxs("ol",{children:[C.jsx("li",{children:"Select any classmates you'd like to connect with. Your selections are completely private - only you can see who you've chosen."}),C.jsx("li",{children:`Click "Update Preferences" to save your changes. Matches appear automatically when someone you've selected also selects you. Matches are completely private.`}),C.jsx("li",{children:"You can add or remove names anytime. There's no limit on how many people you can select, and you can change your preferences as often as you want."}),C.jsx("li",{children:"Once you match with someone, you cannot remove them from your list."})]})})}),C.jsxs("div",{className:"selection-counter",children:[K.length," selected",F&&C.jsx("span",{className:"unsaved-badge",children:"UNSAVED CHANGES"})]}),K.length>0&&C.jsxs("div",{className:"selected-names",children:[C.jsxs("h3",{children:["Your Selections (",K.length,")"]}),C.jsx("div",{className:"name-chips",children:K.map(H=>{const $=Y.includes(H);return C.jsxs("div",{className:`name-chip ${$?"locked":"selected"}`,children:[C.jsx("span",{children:H}),$?C.jsx("span",{className:"lock-icon",title:"Locked - you have matched with this person",children:"🔒"}):C.jsx("button",{onClick:()=>g(H),className:"remove-btn","aria-label":`Remove ${H}`,disabled:u,children:"×"})]},H)})})]}),C.jsxs("div",{className:"search-section",children:[C.jsxs("div",{className:"search-input-container",children:[C.jsx("input",{ref:T,type:"text",placeholder:`Search ${ce} classmates...`,value:e,onChange:ee,className:"search-input"}),e&&C.jsx("button",{onClick:Be,className:"search-clear-btn",type:"button","aria-label":"Clear search",children:"×"})]}),e&&re.length>0&&C.jsxs("div",{className:"search-hint",children:["💡 ",re.length,' results found. Try "first last" for best results.']})]}),C.jsxs("div",{className:"available-names",children:[C.jsxs("h3",{children:["Classmates",e&&` (${re.length} found)`,!e&&` (${re.length} available)`]}),C.jsxs("div",{className:"names-simple-list",onScroll:M,style:{height:`${b*D}px`},children:[N>0&&C.jsx("div",{style:{height:`${N*D}px`}}),V.map((H,$)=>{const oe=N+$;return C.jsxs("div",{onClick:()=>!u&&m(H),className:`name-list-item ${u?"disabled":""}`,style:{height:`${D}px`,minHeight:`${D}px`},children:[C.jsx("span",{className:"name-text",children:ve(H,e)}),C.jsx("span",{className:"add-btn",children:"+"})]},`${H}-${oe}`)}),x<re.length&&C.jsx("div",{style:{height:`${(re.length-x)*D}px`}}),re.length===0&&C.jsx("div",{className:"no-results",children:e?C.jsxs(C.Fragment,{children:['No names found matching "',e,'".',C.jsx("br",{}),C.jsx("small",{children:'Try searching with just first and last name (e.g., "john smith")'}),C.jsx("button",{onClick:Be,className:"clear-search-link",children:"Clear search"})]}):"All classmates have been selected!"})]})]}),C.jsx("div",{className:"action-section",children:C.jsx("div",{className:"action-buttons",children:C.jsx("button",{onClick:p,disabled:u||!F,className:"update-btn",children:u?"Updating...":"Update Preferences"})})}),d&&C.jsx("div",{className:"error-message",style:{color:"red",textAlign:"center",marginTop:"15px"},children:d})]})};function LA(a,e){return(a==null?void 0:a.email)==="jpark22@stanford.edu"?((e==null?void 0:e.userClass)||"gsb")==="gsb"?`${a.uid}_gsb`:`${a.uid}_undergrad`:(a==null?void 0:a.uid)||""}const Ix=()=>{const{user:a,userData:e,logout:n,refreshUserData:r}=Au(),[o,u]=z.useState(!1),[d,m]=z.useState(""),[g,p]=z.useState([]),[_,S]=z.useState([]),[T,P]=z.useState(!0),[L,Y]=z.useState(!1),[K,W]=z.useState(null),[F,Z]=z.useState(!1),[ce,ee]=z.useState(!1),re=(a==null?void 0:a.email)==="jpark22@stanford.edu",D=z.useCallback(()=>((e==null?void 0:e.userClass)||"gsb")==="gsb"?"GSB MBA Class of 2025":"Undergrad Class of 2025",[e==null?void 0:e.userClass]),b=z.useCallback(async()=>{if(!(!a||!e))try{const ve=LA(a,e),H=ri(Wn,"users",ve),$=await Gl(H);if($.exists()){const oe=$.data(),he=oe.crushes&&Array.isArray(oe.crushes)?oe.crushes:[];p(he),S(he)}else p([]),S([])}catch(ve){console.error("Error loading user selections:",ve),W("Failed to load your previous selections."),p([]),S([])}},[a,e]);z.useEffect(()=>{(async()=>{try{W(null),ee(!1),a&&e&&await b()}catch(H){console.error("Error loading data:",H),W("Failed to load your data. Please refresh the page.")}finally{P(!1)}})()},[a,e,b]);const R=z.useCallback(()=>{u(!0)},[]),N=z.useCallback(()=>o?"/files/default-profile.png":(e==null?void 0:e.photoURL)||"/files/default-profile.png",[o,e==null?void 0:e.photoURL]),x=z.useCallback(ve=>{L||p(H=>{const $=H||[];return $.includes(ve)?$.filter(oe=>oe!==ve):[...$,ve]})},[L]),V=z.useCallback(ve=>{L||((e==null?void 0:e.lockedCrushes)||[]).includes(ve)||p($=>($||[]).filter(oe=>oe!==ve))},[L,e==null?void 0:e.lockedCrushes]),M=z.useCallback(async()=>{if(!a||!e||L)return;const ve=(e==null?void 0:e.lockedCrushes)||[],H=g||[];if(ve.filter(oe=>!H.includes(oe)).length>0){const oe=[...new Set([...H,...ve])];p(oe)}Y(!0),W(null);try{const oe=LA(a,e),he=ri(Wn,"users",oe),I=[...new Set([...H,...ve])];await Q2(he,{crushes:I,updatedAt:new Date}),p(I),S(I),await r();const Q=document.createElement("div");Q.textContent="Preferences updated successfully!",Q.style.cssText=`
                position: fixed;
                top: 20px;
                right: 20px;
                background: #28a745;
                color: white;
                padding: 12px 20px;
                border-radius: 8px;
                z-index: 1000;
                font-weight: 500;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            `,document.body.appendChild(Q),setTimeout(()=>{document.body.contains(Q)&&document.body.removeChild(Q)},3e3)}catch(oe){console.error("Error updating preferences:",oe),W("Failed to update preferences. Please try again.")}finally{Y(!1)}},[a,e,L,g,r]),Be=z.useCallback(()=>{if(!re){ee(!0),setTimeout(()=>ee(!1),3e3);return}Z(!F)},[re,F]);return T?C.jsx("div",{className:"loading",children:"Loading..."}):K?C.jsxs("div",{className:"loading",children:[C.jsx("p",{style:{color:"red"},children:K}),C.jsx("button",{onClick:()=>window.location.reload(),children:"Refresh Page"})]}):C.jsx("div",{className:"dashboard-container",children:C.jsxs("div",{className:"dashboard-card",children:[C.jsxs("div",{className:"dashboard-header",children:[C.jsxs("h1",{children:["Past Chances: ",D()]}),C.jsxs("div",{className:"user-info",children:[C.jsxs("div",{className:"user-details",children:[C.jsx("img",{src:N(),alt:"Profile",className:"profile-pic",onError:R,onLoad:()=>u(!1)}),C.jsxs("div",{children:[C.jsx("div",{className:"user-name",children:(e==null?void 0:e.name)||(a==null?void 0:a.displayName)}),C.jsx("div",{className:"user-email",children:a==null?void 0:a.email})]})]}),C.jsxs("div",{className:"header-actions",children:[re&&C.jsx("button",{onClick:Be,className:"admin-toggle-btn",children:F?"Exit Admin View":"Admin View"}),C.jsx("button",{className:"logout-btn",onClick:n,children:"Logout"})]})]})]}),ce&&C.jsx("div",{className:"error-message",style:{background:"#f8d7da",color:"#721c24",padding:"10px",margin:"10px 20px",borderRadius:"4px",fontSize:"14px",textAlign:"center"},children:"Access denied. Admin privileges are required."}),C.jsx("div",{className:"dashboard-content",children:F&&re?C.jsx(wx,{user:a,userData:e}):C.jsx(Cx,{userData:e,searchTerm:d,setSearchTerm:m,selectedNames:g||[],savedNames:_||[],updating:L,error:K,handleNameToggle:x,handleRemoveSelected:V,handleUpdatePreferences:M})})]})})},OA=()=>{const{user:a,nameOptions:e,selectName:n,logout:r}=Au(),[o,u]=z.useState(!1),[d,m]=z.useState(null),g=async p=>{if(!o){u(!0),m(null);try{await n(p)}catch(_){console.error("Error selecting name:",_),m("Failed to save your selection. Please try again.")}finally{u(!1)}}};return e?C.jsx("div",{className:"verification-container",children:C.jsxs("div",{className:"verification-card",children:[C.jsxs("div",{className:"verification-header",children:[C.jsx("h1",{children:"Past Chances"}),C.jsxs("div",{className:"user-info",children:[C.jsx("span",{children:a==null?void 0:a.email}),C.jsx("button",{className:"logout-btn",onClick:r,children:"Logout"})]})]}),C.jsxs("div",{className:"verification-content",children:[C.jsx("h2",{children:"Multiple matches found for your name"}),C.jsx("p",{children:"Please select which of these options matches your identity:"}),C.jsxs("div",{className:"names-list",children:[C.jsx("h3",{children:"Potential Matches"}),C.jsx("div",{className:"names-verification-list",children:e.map(p=>C.jsxs("div",{onClick:()=>!o&&g(p),className:`name-verification-item ${o?"disabled":""}`,children:[C.jsx("span",{className:"name-text",children:p}),C.jsx("span",{className:"select-btn",children:"Select"})]},p))})]}),o&&C.jsx("div",{className:"saving-indicator",children:"Saving your selection..."}),d&&C.jsx("div",{className:"error-message",style:{color:"red",textAlign:"center",marginTop:"15px"},children:d})]})]})}):C.jsx("div",{className:"loading",children:"Loading..."})},Mx=({children:a})=>{const{user:e,userData:n,loading:r,nameOptions:o}=Au();return r?C.jsx("div",{className:"loading",children:"Loading..."}):e?n?o&&o.length>0?C.jsx(OA,{}):!n.name||n.name.trim()===""?C.jsx(OA,{}):C.jsx(C.Fragment,{children:a}):C.jsx("div",{className:"loading",children:"Setting up your account..."}):C.jsx(qA,{to:"/login"})},Nx=({children:a})=>{const{user:e,loading:n}=Au();return n?C.jsx("div",{className:"loading",children:"Loading..."}):e?C.jsx(qA,{to:"/"}):C.jsx(C.Fragment,{children:a})};function Dx(){return C.jsx(Ex,{children:C.jsx(GR,{children:C.jsx("div",{className:"App",children:C.jsxs(_R,{children:[C.jsx(Nm,{path:"/login",element:C.jsx(Nx,{children:C.jsx(Ax,{})})}),C.jsx(Nm,{path:"/",element:C.jsx(Mx,{children:C.jsx(Ix,{})})})]})})})})}Iw.createRoot(document.getElementById("root")).render(C.jsx(z.StrictMode,{children:C.jsx(Dx,{})}));
