(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Qw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var $d={exports:{}},wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function $w(){if(l_)return wl;l_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return wl.Fragment=e,wl.jsx=n,wl.jsxs=n,wl}var u_;function Xw(){return u_||(u_=1,$d.exports=$w()),$d.exports}var M=Xw(),Xd={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function Jw(){if(c_)return Oe;c_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function S(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,U={};function z(V,W,ae){this.props=V,this.context=W,this.refs=U,this.updater=ae||I}z.prototype.isReactComponent={},z.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function $(){}$.prototype=z.prototype;function X(V,W,ae){this.props=V,this.context=W,this.refs=U,this.updater=ae||I}var re=X.prototype=new $;re.constructor=X,x(re,z.prototype),re.isPureReactComponent=!0;var fe=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},Re=Object.prototype.hasOwnProperty;function P(V,W,ae,se,me,Ie){return ae=Ie.ref,{$$typeof:r,type:V,key:W,ref:ae!==void 0?ae:null,props:Ie}}function C(V,W){return P(V.type,W,void 0,void 0,void 0,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function b(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return W[ae]})}var D=/\/+/g;function k(V,W){return typeof V=="object"&&V!==null&&V.key!=null?b(""+V.key):W.toString(36)}function R(){}function Te(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(R,R):(V.status="pending",V.then(function(W){V.status==="pending"&&(V.status="fulfilled",V.value=W)},function(W){V.status==="pending"&&(V.status="rejected",V.reason=W)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ve(V,W,ae,se,me){var Ie=typeof V;(Ie==="undefined"||Ie==="boolean")&&(V=null);var Ae=!1;if(V===null)Ae=!0;else switch(Ie){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(V.$$typeof){case r:case e:Ae=!0;break;case E:return Ae=V._init,ve(Ae(V._payload),W,ae,se,me)}}if(Ae)return me=me(V),Ae=se===""?"."+k(V,0):se,fe(me)?(ae="",Ae!=null&&(ae=Ae.replace(D,"$&/")+"/"),ve(me,W,ae,"",function(on){return on})):me!=null&&(N(me)&&(me=C(me,ae+(me.key==null||V&&V.key===me.key?"":(""+me.key).replace(D,"$&/")+"/")+Ae)),W.push(me)),1;Ae=0;var _t=se===""?".":se+":";if(fe(V))for(var Je=0;Je<V.length;Je++)se=V[Je],Ie=_t+k(se,Je),Ae+=ve(se,W,ae,Ie,me);else if(Je=S(V),typeof Je=="function")for(V=Je.call(V),Je=0;!(se=V.next()).done;)se=se.value,Ie=_t+k(se,Je++),Ae+=ve(se,W,ae,Ie,me);else if(Ie==="object"){if(typeof V.then=="function")return ve(Te(V),W,ae,se,me);throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function F(V,W,ae){if(V==null)return V;var se=[],me=0;return ve(V,se,"","",function(Ie){return W.call(ae,Ie,me++)}),se}function ne(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var le=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function De(){}return Oe.Children={map:F,forEach:function(V,W,ae){F(V,function(){W.apply(this,arguments)},ae)},count:function(V){var W=0;return F(V,function(){W++}),W},toArray:function(V){return F(V,function(W){return W})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Oe.Component=z,Oe.Fragment=n,Oe.Profiler=o,Oe.PureComponent=X,Oe.StrictMode=s,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ue.H.useMemoCache(V)}},Oe.cache=function(V){return function(){return V.apply(null,arguments)}},Oe.cloneElement=function(V,W,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var se=x({},V.props),me=V.key,Ie=void 0;if(W!=null)for(Ae in W.ref!==void 0&&(Ie=void 0),W.key!==void 0&&(me=""+W.key),W)!Re.call(W,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&W.ref===void 0||(se[Ae]=W[Ae]);var Ae=arguments.length-2;if(Ae===1)se.children=ae;else if(1<Ae){for(var _t=Array(Ae),Je=0;Je<Ae;Je++)_t[Je]=arguments[Je+2];se.children=_t}return P(V.type,me,void 0,void 0,Ie,se)},Oe.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Oe.createElement=function(V,W,ae){var se,me={},Ie=null;if(W!=null)for(se in W.key!==void 0&&(Ie=""+W.key),W)Re.call(W,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(me[se]=W[se]);var Ae=arguments.length-2;if(Ae===1)me.children=ae;else if(1<Ae){for(var _t=Array(Ae),Je=0;Je<Ae;Je++)_t[Je]=arguments[Je+2];me.children=_t}if(V&&V.defaultProps)for(se in Ae=V.defaultProps,Ae)me[se]===void 0&&(me[se]=Ae[se]);return P(V,Ie,void 0,void 0,null,me)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(V){return{$$typeof:m,render:V}},Oe.isValidElement=N,Oe.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ne}},Oe.memo=function(V,W){return{$$typeof:g,type:V,compare:W===void 0?null:W}},Oe.startTransition=function(V){var W=ue.T,ae={};ue.T=ae;try{var se=V(),me=ue.S;me!==null&&me(ae,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(De,le)}catch(Ie){le(Ie)}finally{ue.T=W}},Oe.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Oe.use=function(V){return ue.H.use(V)},Oe.useActionState=function(V,W,ae){return ue.H.useActionState(V,W,ae)},Oe.useCallback=function(V,W){return ue.H.useCallback(V,W)},Oe.useContext=function(V){return ue.H.useContext(V)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(V,W){return ue.H.useDeferredValue(V,W)},Oe.useEffect=function(V,W,ae){var se=ue.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(V,W)},Oe.useId=function(){return ue.H.useId()},Oe.useImperativeHandle=function(V,W,ae){return ue.H.useImperativeHandle(V,W,ae)},Oe.useInsertionEffect=function(V,W){return ue.H.useInsertionEffect(V,W)},Oe.useLayoutEffect=function(V,W){return ue.H.useLayoutEffect(V,W)},Oe.useMemo=function(V,W){return ue.H.useMemo(V,W)},Oe.useOptimistic=function(V,W){return ue.H.useOptimistic(V,W)},Oe.useReducer=function(V,W,ae){return ue.H.useReducer(V,W,ae)},Oe.useRef=function(V){return ue.H.useRef(V)},Oe.useState=function(V){return ue.H.useState(V)},Oe.useSyncExternalStore=function(V,W,ae){return ue.H.useSyncExternalStore(V,W,ae)},Oe.useTransition=function(){return ue.H.useTransition()},Oe.version="19.1.0",Oe}var h_;function Ym(){return h_||(h_=1,Xd.exports=Jw()),Xd.exports}var G=Ym();const Zw=Qw(G);var Jd={exports:{}},bl={},Zd={exports:{}},Wd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function Ww(){return f_||(f_=1,function(r){function e(F,ne){var le=F.length;F.push(ne);e:for(;0<le;){var De=le-1>>>1,V=F[De];if(0<o(V,ne))F[De]=ne,F[le]=V,le=De;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var ne=F[0],le=F.pop();if(le!==ne){F[0]=le;e:for(var De=0,V=F.length,W=V>>>1;De<W;){var ae=2*(De+1)-1,se=F[ae],me=ae+1,Ie=F[me];if(0>o(se,le))me<V&&0>o(Ie,se)?(F[De]=Ie,F[me]=le,De=me):(F[De]=se,F[ae]=le,De=ae);else if(me<V&&0>o(Ie,le))F[De]=Ie,F[me]=le,De=me;else break e}}return ne}function o(F,ne){var le=F.sortIndex-ne.sortIndex;return le!==0?le:F.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,w=null,S=3,I=!1,x=!1,U=!1,z=!1,$=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function fe(F){for(var ne=n(g);ne!==null;){if(ne.callback===null)s(g);else if(ne.startTime<=F)s(g),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=n(g)}}function ue(F){if(U=!1,fe(F),!x)if(n(p)!==null)x=!0,Re||(Re=!0,k());else{var ne=n(g);ne!==null&&ve(ue,ne.startTime-F)}}var Re=!1,P=-1,C=5,N=-1;function b(){return z?!0:!(r.unstable_now()-N<C)}function D(){if(z=!1,Re){var F=r.unstable_now();N=F;var ne=!0;try{e:{x=!1,U&&(U=!1,X(P),P=-1),I=!0;var le=S;try{t:{for(fe(F),w=n(p);w!==null&&!(w.expirationTime>F&&b());){var De=w.callback;if(typeof De=="function"){w.callback=null,S=w.priorityLevel;var V=De(w.expirationTime<=F);if(F=r.unstable_now(),typeof V=="function"){w.callback=V,fe(F),ne=!0;break t}w===n(p)&&s(p),fe(F)}else s(p);w=n(p)}if(w!==null)ne=!0;else{var W=n(g);W!==null&&ve(ue,W.startTime-F),ne=!1}}break e}finally{w=null,S=le,I=!1}ne=void 0}}finally{ne?k():Re=!1}}}var k;if(typeof re=="function")k=function(){re(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Te=R.port2;R.port1.onmessage=D,k=function(){Te.postMessage(null)}}else k=function(){$(D,0)};function ve(F,ne){P=$(function(){F(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(F){switch(S){case 1:case 2:case 3:var ne=3;break;default:ne=S}var le=S;S=ne;try{return F()}finally{S=le}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(F,ne){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var le=S;S=F;try{return ne()}finally{S=le}},r.unstable_scheduleCallback=function(F,ne,le){var De=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?De+le:De):le=De,F){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=le+V,F={id:E++,callback:ne,priorityLevel:F,startTime:le,expirationTime:V,sortIndex:-1},le>De?(F.sortIndex=le,e(g,F),n(p)===null&&F===n(g)&&(U?(X(P),P=-1):U=!0,ve(ue,le-De))):(F.sortIndex=V,e(p,F),x||I||(x=!0,Re||(Re=!0,k()))),F},r.unstable_shouldYield=b,r.unstable_wrapCallback=function(F){var ne=S;return function(){var le=S;S=ne;try{return F.apply(this,arguments)}finally{S=le}}}}(Wd)),Wd}var d_;function eb(){return d_||(d_=1,Zd.exports=Ww()),Zd.exports}var em={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function tb(){if(m_)return Xt;m_=1;var r=Ym();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Xt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:I}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:S,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.1.0",Xt}var p_;function nb(){if(p_)return em.exports;p_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),em.exports=tb(),em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function ib(){if(g_)return bl;g_=1;var r=eb(),e=Ym(),n=nb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),re=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),b=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Te(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case z:return"Profiler";case U:return"StrictMode";case ue:return"Suspense";case Re:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case I:return"Portal";case re:return(t.displayName||"Context")+".Provider";case X:return(t._context.displayName||"Context")+".Consumer";case fe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return i=t.displayName||null,i!==null?i:Te(t.type)||"Memo";case C:i=t._payload,t=t._init;try{return Te(t(i))}catch{}}return null}var ve=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},De=[],V=-1;function W(t){return{current:t}}function ae(t){0>V||(t.current=De[V],De[V]=null,V--)}function se(t,i){V++,De[V]=t.current,t.current=i}var me=W(null),Ie=W(null),Ae=W(null),_t=W(null);function Je(t,i){switch(se(Ae,i),se(Ie,t),se(me,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Pv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Pv(i),t=Lv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ae(me),se(me,t)}function on(){ae(me),ae(Ie),ae(Ae)}function de(t){t.memoizedState!==null&&se(_t,t);var i=me.current,a=Lv(i,t.type);i!==a&&(se(Ie,t),se(me,a))}function Ge(t){Ie.current===t&&(ae(me),ae(Ie)),_t.current===t&&(ae(_t),_l._currentValue=le)}var lt=Object.prototype.hasOwnProperty,tn=r.unstable_scheduleCallback,mt=r.unstable_cancelCallback,go=r.unstable_shouldYield,uu=r.unstable_requestPaint,Rn=r.unstable_now,Qh=r.unstable_getCurrentPriorityLevel,yo=r.unstable_ImmediatePriority,Xs=r.unstable_UserBlockingPriority,es=r.unstable_NormalPriority,$h=r.unstable_LowPriority,Js=r.unstable_IdlePriority,vo=r.log,cu=r.unstable_setDisableYieldValue,ht=null,Qe=null;function pn(t){if(typeof vo=="function"&&cu(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ht,t)}catch{}}var Qt=Math.clz32?Math.clz32:ts,hu=Math.log,Xh=Math.LN2;function ts(t){return t>>>=0,t===0?32:31-(hu(t)/Xh|0)|0}var ns=256,is=4194304;function zn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zs(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=zn(l):(_&=T,_!==0?h=zn(_):a||(a=T&~t,a!==0&&(h=zn(a))))):(T=l&~d,T!==0?h=zn(T):_!==0?h=zn(_):a||(a=l&~t,a!==0&&(h=zn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function rs(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function _o(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eo(){var t=ns;return ns<<=1,(ns&4194048)===0&&(ns=256),t}function To(){var t=is;return is<<=1,(is&62914560)===0&&(is=4194304),t}function bi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ri(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ao(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,O=t.expirationTimes,q=t.hiddenUpdates;for(a=_&~a;0<a;){var J=31-Qt(a),ee=1<<J;T[J]=0,O[J]=-1;var K=q[J];if(K!==null)for(q[J]=null,J=0;J<K.length;J++){var Y=K[J];Y!==null&&(Y.lane&=-536870913)}a&=~ee}l!==0&&Wn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Wn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Qt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function So(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Qt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ws(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lr(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:n_(t.type))}function fu(t,i){var a=ne.p;try{return ne.p=t,i()}finally{ne.p=a}}var rt=Math.random().toString(36).slice(2),bt="__reactFiber$"+rt,Et="__reactProps$"+rt,Cn="__reactContainer$"+rt,wo="__reactEvents$"+rt,Jh="__reactListeners$"+rt,ur="__reactHandles$"+rt,du="__reactResources$"+rt,ss="__reactMarker$"+rt;function cr(t){delete t[bt],delete t[Et],delete t[wo],delete t[Jh],delete t[ur]}function Ci(t){var i=t[bt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Cn]||a[bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Bv(t);t!==null;){if(a=t[bt])return a;t=Bv(t)}return i}t=a,a=t.parentNode}return null}function ei(t){if(t=t[bt]||t[Cn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ti(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function nn(t){var i=t[du];return i||(i=t[du]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function pt(t){t[ss]=!0}var bo=new Set,ea={};function Bn(t,i){Ii(t,i),Ii(t+"Capture",i)}function Ii(t,i){for(ea[t]=i,t=0;t<i.length;t++)bo.add(i[t])}var mu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pu={},as={};function gu(t){return lt.call(as,t)?!0:lt.call(pu,t)?!1:mu.test(t)?as[t]=!0:(pu[t]=!0,!1)}function hr(t,i,a){if(gu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function ni(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function zt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var os,yu;function Ni(t){if(os===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);os=i&&i[1]||"",yu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+os+t+yu}var ta=!1;function na(t,i){if(!t||ta)return"";ta=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var K=Y}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Y){K=Y}t.call(ee.prototype)}}else{try{throw Error()}catch(Y){K=Y}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var O=_.split(`
`),q=T.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===q.length)for(l=O.length-1,h=q.length-1;1<=l&&0<=h&&O[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==q[h]){var J=`
`+O[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{ta=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ni(a):""}function Ro(t){switch(t.tag){case 26:case 27:case 5:return Ni(t.type);case 16:return Ni("Lazy");case 13:return Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 15:return na(t.type,!1);case 11:return na(t.type.render,!1);case 1:return na(t.type,!0);case 31:return Ni("Activity");default:return""}}function ia(t){try{var i="";do i+=Ro(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Co(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Zh(t){var i=Co(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ra(t){t._valueTracker||(t._valueTracker=Zh(t))}function Io(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Co(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ls(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Wh=/[\n"\\]/g;function Tt(t){return t.replace(Wh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function gn(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+rn(i)):t.value!==""+rn(i)&&(t.value=""+rn(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?fr(t,_,rn(i)):a!=null?fr(t,_,rn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+rn(T):t.removeAttribute("name")}function us(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+rn(a):"",i=i!=null?""+rn(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function fr(t,i,a){i==="number"&&ls(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Di(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+rn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ze(t,i,a){if(i!=null&&(i=""+rn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+rn(a):""}function cs(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ve(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=rn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function In(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var hs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||hs.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function No(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&vu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&vu(t,d,i[d])}function Do(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ef=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(t){return tf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Oi=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xi=null,Mi=null;function Oo(t){var i=ei(t);if(i&&(t=i.stateNode)){var a=t[Et]||null;e:switch(t=i.stateNode,i.type){case"input":if(gn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Et]||null;if(!h)throw Error(s(90));gn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Io(l)}break e;case"textarea":Ze(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Di(t,!!a.multiple,i,!1)}}}var ii=!1;function _u(t,i,a){if(ii)return t(i,a);ii=!0;try{var l=t(i);return l}finally{if(ii=!1,(xi!==null||Mi!==null)&&(fc(),xi&&(i=xi,t=Mi,Mi=xi=null,Oo(i),t)))for(i=0;i<t.length;i++)Oo(t[i])}}function fs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Et]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(Hn)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{Dn=!1}var ri=null,dr=null,ki=null;function xo(){if(ki)return ki;var t,i=dr,a=i.length,l,h="value"in ri?ri.value:ri.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return ki=h.slice(t,1<l?1-l:void 0)}function si(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ai(){return!0}function Mo(){return!1}function Mt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ai:Mo,this.isPropagationStopped=Mo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),i}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aa=Mt(Ke),ms=E({},Ke,{view:0,detail:0}),Eu=Mt(ms),oa,la,oi,ps=E({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?(oa=t.screenX-oi.screenX,la=t.screenY-oi.screenY):la=oa=0,oi=t),oa)},movementY:function(t){return"movementY"in t?t.movementY:la}}),On=Mt(ps),Tu=E({},ps,{dataTransfer:0}),nf=Mt(Tu),gs=E({},ms,{relatedTarget:0}),ua=Mt(gs),ko=E({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),ca=Mt(ko),Au=E({},Ke,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ha=Mt(Au),rf=E({},Ke,{data:0}),Vo=Mt(rf),ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Po(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=wu[t])?!!i[t]:!1}function vs(){return Po}var bu=E({},ms,{key:function(t){if(t.key){var i=ys[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=si(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Su[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(t){return t.type==="keypress"?si(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?si(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fa=Mt(bu),Ru=E({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lo=Mt(Ru),Vi=E({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),Cu=Mt(Vi),Iu=E({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nu=Mt(Iu),Du=E({},ps,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),da=Mt(Du),sn=E({},Ke,{newState:0,oldState:0}),Ou=Mt(sn),xu=[9,13,27,32],li=Hn&&"CompositionEvent"in window,c=null;Hn&&"documentMode"in document&&(c=document.documentMode);var y=Hn&&"TextEvent"in window&&!c,v=Hn&&(!li||c&&8<c&&11>=c),A=" ",B=!1;function Q(t,i){switch(t){case"keyup":return xu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var je=!1;function Rt(t,i){switch(t){case"compositionend":return oe(i);case"keypress":return i.which!==32?null:(B=!0,A);case"textInput":return t=i.data,t===A&&B?null:t;default:return null}}function ze(t,i){if(je)return t==="compositionend"||!li&&Q(t,i)?(t=xo(),ki=dr=ri=null,je=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!kt[t.type]:i==="textarea"}function Pi(t,i,a,l){xi?Mi?Mi.push(l):Mi=[l]:xi=l,i=vc(i,"onChange"),0<i.length&&(a=new aa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Bt=null,ui=null;function Uo(t){Ov(t,0)}function Mu(t){var i=ti(t);if(Io(i))return t}function Zp(t,i){if(t==="change")return i}var Wp=!1;if(Hn){var sf;if(Hn){var af="oninput"in document;if(!af){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),af=typeof eg.oninput=="function"}sf=af}else sf=!1;Wp=sf&&(!document.documentMode||9<document.documentMode)}function tg(){Bt&&(Bt.detachEvent("onpropertychange",ng),ui=Bt=null)}function ng(t){if(t.propertyName==="value"&&Mu(ui)){var i=[];Pi(i,ui,t,Nn(t)),_u(Uo,i)}}function wS(t,i,a){t==="focusin"?(tg(),Bt=i,ui=a,Bt.attachEvent("onpropertychange",ng)):t==="focusout"&&tg()}function bS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mu(ui)}function RS(t,i){if(t==="click")return Mu(i)}function CS(t,i){if(t==="input"||t==="change")return Mu(i)}function IS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:IS;function jo(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!lt.call(i,h)||!yn(t[h],i[h]))return!1}return!0}function ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rg(t,i){var a=ig(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ig(a)}}function sg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?sg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ls(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ls(t.document)}return i}function of(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var NS=Hn&&"documentMode"in document&&11>=document.documentMode,ma=null,lf=null,zo=null,uf=!1;function og(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uf||ma==null||ma!==ls(l)||(l=ma,"selectionStart"in l&&of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),zo&&jo(zo,l)||(zo=l,l=vc(lf,"onSelect"),0<l.length&&(i=new aa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ma)))}function _s(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var pa={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},cf={},lg={};Hn&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function Es(t){if(cf[t])return cf[t];if(!pa[t])return t;var i=pa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in lg)return cf[t]=i[a];return t}var ug=Es("animationend"),cg=Es("animationiteration"),hg=Es("animationstart"),DS=Es("transitionrun"),OS=Es("transitionstart"),xS=Es("transitioncancel"),fg=Es("transitionend"),dg=new Map,hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hf.push("scrollEnd");function qn(t,i){dg.set(t,i),Bn(i,[t])}var mg=new WeakMap;function xn(t,i){if(typeof t=="object"&&t!==null){var a=mg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ia(i)},mg.set(t,i),i)}return{value:t,source:i,stack:ia(i)}}var Mn=[],ga=0,ff=0;function ku(){for(var t=ga,i=ff=ga=0;i<t;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var h=Mn[i];Mn[i++]=null;var d=Mn[i];if(Mn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&pg(a,h,d)}}function Vu(t,i,a,l){Mn[ga++]=t,Mn[ga++]=i,Mn[ga++]=a,Mn[ga++]=l,ff|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function df(t,i,a,l){return Vu(t,i,a,l),Pu(t)}function ya(t,i){return Vu(t,null,null,i),Pu(t)}function pg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Qt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Pu(t){if(50<hl)throw hl=0,_d=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var va={};function MS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new MS(t,i,a,l)}function mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Li(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function gg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Lu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")mf(t)&&(_=1);else if(typeof t=="string")_=Vw(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=vn(31,a,i,h),t.elementType=N,t.lanes=d,t;case x:return Ts(a.children,h,d,i);case U:_=8,h|=24;break;case z:return t=vn(12,a,i,h|2),t.elementType=z,t.lanes=d,t;case ue:return t=vn(13,a,i,h),t.elementType=ue,t.lanes=d,t;case Re:return t=vn(19,a,i,h),t.elementType=Re,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case re:_=10;break e;case X:_=9;break e;case fe:_=11;break e;case P:_=14;break e;case C:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=vn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ts(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function pf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function gf(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var _a=[],Ea=0,Uu=null,ju=0,kn=[],Vn=0,As=null,Ui=1,ji="";function Ss(t,i){_a[Ea++]=ju,_a[Ea++]=Uu,Uu=t,ju=i}function yg(t,i,a){kn[Vn++]=Ui,kn[Vn++]=ji,kn[Vn++]=As,As=t;var l=Ui;t=ji;var h=32-Qt(l)-1;l&=~(1<<h),a+=1;var d=32-Qt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ui=1<<32-Qt(i)+h|a<<h|l,ji=d+t}else Ui=1<<d|a<<h|l,ji=t}function yf(t){t.return!==null&&(Ss(t,1),yg(t,1,0))}function vf(t){for(;t===Uu;)Uu=_a[--Ea],_a[Ea]=null,ju=_a[--Ea],_a[Ea]=null;for(;t===As;)As=kn[--Vn],kn[Vn]=null,ji=kn[--Vn],kn[Vn]=null,Ui=kn[--Vn],kn[Vn]=null}var an=null,ft=null,Fe=!1,ws=null,ci=!1,_f=Error(s(519));function bs(t){var i=Error(s(418,""));throw qo(xn(i,t)),_f}function vg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[bt]=t,i[Et]=l,a){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(a=0;a<dl.length;a++)Pe(dl[a],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),us(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ra(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),cs(i,l.value,l.defaultValue,l.children),ra(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Vv(i.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),l.onScroll!=null&&Pe("scroll",i),l.onScrollEnd!=null&&Pe("scrollend",i),l.onClick!=null&&(i.onclick=_c),i=!0):i=!1,i||bs(t)}function _g(t){for(an=t.return;an;)switch(an.tag){case 5:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:an=an.return}}function Bo(t){if(t!==an)return!1;if(!Fe)return _g(t),Fe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Vd(t.type,t.memoizedProps)),a=!a),a&&ft&&bs(t),_g(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ft=Gn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ft=null}}else i===27?(i=ft,Nr(t.type)?(t=jd,jd=null,ft=t):ft=i):ft=an?Gn(t.stateNode.nextSibling):null;return!0}function Ho(){ft=an=null,Fe=!1}function Eg(){var t=ws;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),ws=null),t}function qo(t){ws===null?ws=[t]:ws.push(t)}var Ef=W(null),Rs=null,zi=null;function mr(t,i,a){se(Ef,i._currentValue),i._currentValue=a}function Bi(t){t._currentValue=Ef.current,ae(Ef)}function Tf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Af(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var O=0;O<i.length;O++)if(T.context===i[O]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Tf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Tf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Fo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;yn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===_t.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(_l):t=[_l])}h=h.return}t!==null&&Af(i,t,a,l),i.flags|=262144}function zu(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Cs(t){Rs=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Tg(Rs,t)}function Bu(t,i){return Rs===null&&Cs(t),Tg(t,i)}function Tg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},zi===null){if(t===null)throw Error(s(308));zi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else zi=zi.next=i;return a}var kS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},VS=r.unstable_scheduleCallback,PS=r.unstable_NormalPriority,It={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sf(){return{controller:new kS,data:new Map,refCount:0}}function Go(t){t.refCount--,t.refCount===0&&VS(PS,function(){t.controller.abort()})}var Ko=null,wf=0,Ta=0,Aa=null;function LS(t,i){if(Ko===null){var a=Ko=[];wf=0,Ta=Rd(),Aa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return wf++,i.then(Ag,Ag),i}function Ag(){if(--wf===0&&Ko!==null){Aa!==null&&(Aa.status="fulfilled");var t=Ko;Ko=null,Ta=0,Aa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function US(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Sg=F.S;F.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&LS(t,i),Sg!==null&&Sg(t,i)};var Is=W(null);function bf(){var t=Is.current;return t!==null?t:it.pooledCache}function Hu(t,i){i===null?se(Is,Is.current):se(Is,i.pool)}function wg(){var t=bf();return t===null?null:{parent:It._currentValue,pool:t}}var Yo=Error(s(460)),bg=Error(s(474)),qu=Error(s(542)),Rf={then:function(){}};function Rg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fu(){}function Cg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Fu,Fu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ng(t),t;default:if(typeof i.status=="string")i.then(Fu,Fu);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ng(t),t}throw Qo=i,Yo}}var Qo=null;function Ig(){if(Qo===null)throw Error(s(459));var t=Qo;return Qo=null,t}function Ng(t){if(t===Yo||t===qu)throw Error(s(483))}var pr=!1;function Cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Pu(t),pg(t,null,a),i}return Vu(t,l,i,a),Pu(t)}function $o(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,So(t,a)}}function Nf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Df=!1;function Xo(){if(Df){var t=Aa;if(t!==null)throw t}}function Jo(t,i,a,l){Df=!1;var h=t.updateQueue;pr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var O=T,q=O.next;O.next=null,_===null?d=q:_.next=q,_=O;var J=t.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==_&&(T===null?J.firstBaseUpdate=q:T.next=q,J.lastBaseUpdate=O))}if(d!==null){var ee=h.baseState;_=0,J=q=O=null,T=d;do{var K=T.lane&-536870913,Y=K!==T.lane;if(Y?(Be&K)===K:(l&K)===K){K!==0&&K===Ta&&(Df=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var we=t,_e=T;K=i;var tt=a;switch(_e.tag){case 1:if(we=_e.payload,typeof we=="function"){ee=we.call(tt,ee,K);break e}ee=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=_e.payload,K=typeof we=="function"?we.call(tt,ee,K):we,K==null)break e;ee=E({},ee,K);break e;case 2:pr=!0}}K=T.callback,K!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(q=J=Y,O=ee):J=J.next=Y,_|=K;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);J===null&&(O=ee),h.baseState=O,h.firstBaseUpdate=q,h.lastBaseUpdate=J,d===null&&(h.shared.lanes=0),br|=_,t.lanes=_,t.memoizedState=ee}}function Dg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Og(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Dg(a[t],i)}var Sa=W(null),Gu=W(0);function xg(t,i){t=Qi,se(Gu,t),se(Sa,i),Qi=t|i.baseLanes}function Of(){se(Gu,Qi),se(Sa,Sa.current)}function xf(){Qi=Gu.current,ae(Sa),ae(Gu)}var vr=0,xe=null,We=null,At=null,Ku=!1,wa=!1,Ns=!1,Yu=0,Zo=0,ba=null,jS=0;function gt(){throw Error(s(321))}function Mf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function kf(t,i,a,l,h,d){return vr=d,xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?py:gy,Ns=!1,d=a(l,h),Ns=!1,wa&&(d=kg(i,a,l,h)),Mg(t),d}function Mg(t){F.H=Wu;var i=We!==null&&We.next!==null;if(vr=0,At=We=xe=null,Ku=!1,Zo=0,ba=null,i)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&zu(t)&&(Vt=!0))}function kg(t,i,a,l){xe=t;var h=0;do{if(wa&&(ba=null),Zo=0,wa=!1,25<=h)throw Error(s(301));if(h+=1,At=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=KS,d=i(a,l)}while(wa);return d}function zS(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?Wo(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(xe.flags|=1024),i}function Vf(){var t=Yu!==0;return Yu=0,t}function Pf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Lf(t){if(Ku){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ku=!1}vr=0,At=We=xe=null,wa=!1,Zo=Yu=0,ba=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?xe.memoizedState=At=t:At=At.next=t,At}function St(){if(We===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=At===null?xe.memoizedState:At.next;if(i!==null)At=i,We=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},At===null?xe.memoizedState=At=t:At=At.next=t}return At}function Uf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(t){var i=Zo;return Zo+=1,ba===null&&(ba=[]),t=Cg(ba,t,i),i=xe,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?py:gy),t}function Qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wo(t);if(t.$$typeof===re)return $t(t)}throw Error(s(438,String(t)))}function jf(t){var i=null,a=xe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Uf(),xe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=b;return i.index++,a}function Hi(t,i){return typeof i=="function"?i(t):i}function $u(t){var i=St();return zf(i,We,t)}function zf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,O=null,q=i,J=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(Be&ee)===ee:(vr&ee)===ee){var K=q.revertLane;if(K===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===Ta&&(J=!0);else if((vr&K)===K){q=q.next,K===Ta&&(J=!0);continue}else ee={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(T=O=ee,_=d):O=O.next=ee,xe.lanes|=K,br|=K;ee=q.action,Ns&&a(d,ee),d=q.hasEagerState?q.eagerState:a(d,ee)}else K={lane:ee,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(T=O=K,_=d):O=O.next=K,xe.lanes|=ee,br|=ee;q=q.next}while(q!==null&&q!==i);if(O===null?_=d:O.next=T,!yn(d,t.memoizedState)&&(Vt=!0,J&&(a=Aa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Bf(t){var i=St(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);yn(d,i.memoizedState)||(Vt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Vg(t,i,a){var l=xe,h=St(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!yn((We||h).memoizedState,a);_&&(h.memoizedState=a,Vt=!0),h=h.queue;var T=Ug.bind(null,l,h,t);if(el(2048,8,T,[t]),h.getSnapshot!==i||_||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Ra(9,Xu(),Lg.bind(null,l,h,a,i),null),it===null)throw Error(s(349));d||(vr&124)!==0||Pg(l,i,a)}return a}function Pg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=xe.updateQueue,i===null?(i=Uf(),xe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Lg(t,i,a,l){i.value=a,i.getSnapshot=l,jg(i)&&zg(t)}function Ug(t,i,a){return a(function(){jg(i)&&zg(t)})}function jg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function zg(t){var i=ya(t,2);i!==null&&Sn(i,t,2)}function Hf(t){var i=ln();if(typeof t=="function"){var a=t;if(t=a(),Ns){pn(!0);try{a()}finally{pn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:t},i}function Bg(t,i,a,l){return t.baseState=a,zf(t,We,typeof l=="function"?l:Hi)}function BS(t,i,a,l,h){if(Zu(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Hg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Hg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=F.T,_={};F.T=_;try{var T=a(h,l),O=F.S;O!==null&&O(_,T),qg(t,i,T)}catch(q){qf(t,i,q)}finally{F.T=d}}else try{d=a(h,l),qg(t,i,d)}catch(q){qf(t,i,q)}}function qg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Fg(t,i,l)},function(l){return qf(t,i,l)}):Fg(t,i,a)}function Fg(t,i,a){i.status="fulfilled",i.value=a,Gg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Hg(t,a)))}function qf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Gg(i),i=i.next;while(i!==l)}t.action=null}function Gg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Kg(t,i){return i}function Yg(t,i){if(Fe){var a=it.formState;if(a!==null){e:{var l=xe;if(Fe){if(ft){t:{for(var h=ft,d=ci;h.nodeType!==8;){if(!d){h=null;break t}if(h=Gn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ft=Gn(h.nextSibling),l=h.data==="F!";break e}}bs(l)}l=!1}l&&(i=a[0])}}return a=ln(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:i},a.queue=l,a=fy.bind(null,xe,l),l.dispatch=a,l=Hf(!1),d=Qf.bind(null,xe,!1,l.queue),l=ln(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=BS.bind(null,xe,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Qg(t){var i=St();return $g(i,We,t)}function $g(t,i,a){if(i=zf(t,i,Kg)[0],t=$u(Hi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Wo(i)}catch(_){throw _===Yo?qu:_}else l=i;i=St();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(xe.flags|=2048,Ra(9,Xu(),HS.bind(null,h,a),null)),[l,d,t]}function HS(t,i){t.action=i}function Xg(t){var i=St(),a=We;if(a!==null)return $g(i,a,t);St(),i=i.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ra(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=xe.updateQueue,i===null&&(i=Uf(),xe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Xu(){return{destroy:void 0,resource:void 0}}function Jg(){return St().memoizedState}function Ju(t,i,a,l){var h=ln();l=l===void 0?null:l,xe.flags|=t,h.memoizedState=Ra(1|i,Xu(),a,l)}function el(t,i,a,l){var h=St();l=l===void 0?null:l;var d=h.memoizedState.inst;We!==null&&l!==null&&Mf(l,We.memoizedState.deps)?h.memoizedState=Ra(i,d,a,l):(xe.flags|=t,h.memoizedState=Ra(1|i,d,a,l))}function Zg(t,i){Ju(8390656,8,t,i)}function Wg(t,i){el(2048,8,t,i)}function ey(t,i){return el(4,2,t,i)}function ty(t,i){return el(4,4,t,i)}function ny(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function iy(t,i,a){a=a!=null?a.concat([t]):null,el(4,4,ny.bind(null,i,t),a)}function Ff(){}function ry(t,i){var a=St();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Mf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function sy(t,i){var a=St();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Mf(i,l[1]))return l[0];if(l=t(),Ns){pn(!0);try{t()}finally{pn(!1)}}return a.memoizedState=[l,i],l}function Gf(t,i,a){return a===void 0||(vr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=lv(),xe.lanes|=t,br|=t,a)}function ay(t,i,a,l){return yn(a,i)?a:Sa.current!==null?(t=Gf(t,a,l),yn(t,i)||(Vt=!0),t):(vr&42)===0?(Vt=!0,t.memoizedState=a):(t=lv(),xe.lanes|=t,br|=t,i)}function oy(t,i,a,l,h){var d=ne.p;ne.p=d!==0&&8>d?d:8;var _=F.T,T={};F.T=T,Qf(t,!1,i,a);try{var O=h(),q=F.S;if(q!==null&&q(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=US(O,l);tl(t,i,J,An(t))}else tl(t,i,l,An(t))}catch(ee){tl(t,i,{then:function(){},status:"rejected",reason:ee},An())}finally{ne.p=d,F.T=_}}function qS(){}function Kf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=ly(t).queue;oy(t,h,i,le,a===null?qS:function(){return uy(t),a(l)})}function ly(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:le},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function uy(t){var i=ly(t).next.queue;tl(t,i,{},An())}function Yf(){return $t(_l)}function cy(){return St().memoizedState}function hy(){return St().memoizedState}function FS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=gr(a);var l=yr(i,t,a);l!==null&&(Sn(l,i,a),$o(l,i,a)),i={cache:Sf()},t.payload=i;return}i=i.return}}function GS(t,i,a){var l=An();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Zu(t)?dy(i,a):(a=df(t,i,a,l),a!==null&&(Sn(a,t,l),my(a,i,l)))}function fy(t,i,a){var l=An();tl(t,i,a,l)}function tl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zu(t))dy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,yn(T,_))return Vu(t,i,h,0),it===null&&ku(),!1}catch{}finally{}if(a=df(t,i,h,l),a!==null)return Sn(a,t,l),my(a,i,l),!0}return!1}function Qf(t,i,a,l){if(l={lane:2,revertLane:Rd(),action:l,hasEagerState:!1,eagerState:null,next:null},Zu(t)){if(i)throw Error(s(479))}else i=df(t,a,l,2),i!==null&&Sn(i,t,2)}function Zu(t){var i=t.alternate;return t===xe||i!==null&&i===xe}function dy(t,i){wa=Ku=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function my(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,So(t,a)}}var Wu={readContext:$t,use:Qu,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},py={readContext:$t,use:Qu,useCallback:function(t,i){return ln().memoizedState=[t,i===void 0?null:i],t},useContext:$t,useEffect:Zg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ju(4194308,4,ny.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ju(4194308,4,t,i)},useInsertionEffect:function(t,i){Ju(4,2,t,i)},useMemo:function(t,i){var a=ln();i=i===void 0?null:i;var l=t();if(Ns){pn(!0);try{t()}finally{pn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=ln();if(a!==void 0){var h=a(i);if(Ns){pn(!0);try{a(i)}finally{pn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=GS.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var i=ln();return t={current:t},i.memoizedState=t},useState:function(t){t=Hf(t);var i=t.queue,a=fy.bind(null,xe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Ff,useDeferredValue:function(t,i){var a=ln();return Gf(a,t,i)},useTransition:function(){var t=Hf(!1);return t=oy.bind(null,xe,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=xe,h=ln();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),it===null)throw Error(s(349));(Be&124)!==0||Pg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Zg(Ug.bind(null,l,d,t),[t]),l.flags|=2048,Ra(9,Xu(),Lg.bind(null,l,d,a,i),null),a},useId:function(){var t=ln(),i=it.identifierPrefix;if(Fe){var a=ji,l=Ui;a=(l&~(1<<32-Qt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Yu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=jS++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Yf,useFormState:Yg,useActionState:Yg,useOptimistic:function(t){var i=ln();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Qf.bind(null,xe,!0,a),a.dispatch=i,[t,i]},useMemoCache:jf,useCacheRefresh:function(){return ln().memoizedState=FS.bind(null,xe)}},gy={readContext:$t,use:Qu,useCallback:ry,useContext:$t,useEffect:Wg,useImperativeHandle:iy,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:sy,useReducer:$u,useRef:Jg,useState:function(){return $u(Hi)},useDebugValue:Ff,useDeferredValue:function(t,i){var a=St();return ay(a,We.memoizedState,t,i)},useTransition:function(){var t=$u(Hi)[0],i=St().memoizedState;return[typeof t=="boolean"?t:Wo(t),i]},useSyncExternalStore:Vg,useId:cy,useHostTransitionStatus:Yf,useFormState:Qg,useActionState:Qg,useOptimistic:function(t,i){var a=St();return Bg(a,We,t,i)},useMemoCache:jf,useCacheRefresh:hy},KS={readContext:$t,use:Qu,useCallback:ry,useContext:$t,useEffect:Wg,useImperativeHandle:iy,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:sy,useReducer:Bf,useRef:Jg,useState:function(){return Bf(Hi)},useDebugValue:Ff,useDeferredValue:function(t,i){var a=St();return We===null?Gf(a,t,i):ay(a,We.memoizedState,t,i)},useTransition:function(){var t=Bf(Hi)[0],i=St().memoizedState;return[typeof t=="boolean"?t:Wo(t),i]},useSyncExternalStore:Vg,useId:cy,useHostTransitionStatus:Yf,useFormState:Xg,useActionState:Xg,useOptimistic:function(t,i){var a=St();return We!==null?Bg(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:jf,useCacheRefresh:hy},Ca=null,nl=0;function ec(t){var i=nl;return nl+=1,Ca===null&&(Ca=[]),Cg(Ca,t,i)}function il(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function tc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function yy(t){var i=t._init;return i(t._payload)}function vy(t){function i(j,L){if(t){var H=j.deletions;H===null?(j.deletions=[L],j.flags|=16):H.push(L)}}function a(j,L){if(!t)return null;for(;L!==null;)i(j,L),L=L.sibling;return null}function l(j){for(var L=new Map;j!==null;)j.key!==null?L.set(j.key,j):L.set(j.index,j),j=j.sibling;return L}function h(j,L){return j=Li(j,L),j.index=0,j.sibling=null,j}function d(j,L,H){return j.index=H,t?(H=j.alternate,H!==null?(H=H.index,H<L?(j.flags|=67108866,L):H):(j.flags|=67108866,L)):(j.flags|=1048576,L)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,L,H,Z){return L===null||L.tag!==6?(L=pf(H,j.mode,Z),L.return=j,L):(L=h(L,H),L.return=j,L)}function O(j,L,H,Z){var he=H.type;return he===x?J(j,L,H.props.children,Z,H.key):L!==null&&(L.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===C&&yy(he)===L.type)?(L=h(L,H.props),il(L,H),L.return=j,L):(L=Lu(H.type,H.key,H.props,null,j.mode,Z),il(L,H),L.return=j,L)}function q(j,L,H,Z){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=gf(H,j.mode,Z),L.return=j,L):(L=h(L,H.children||[]),L.return=j,L)}function J(j,L,H,Z,he){return L===null||L.tag!==7?(L=Ts(H,j.mode,Z,he),L.return=j,L):(L=h(L,H),L.return=j,L)}function ee(j,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=pf(""+L,j.mode,H),L.return=j,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return H=Lu(L.type,L.key,L.props,null,j.mode,H),il(H,L),H.return=j,H;case I:return L=gf(L,j.mode,H),L.return=j,L;case C:var Z=L._init;return L=Z(L._payload),ee(j,L,H)}if(ve(L)||k(L))return L=Ts(L,j.mode,H,null),L.return=j,L;if(typeof L.then=="function")return ee(j,ec(L),H);if(L.$$typeof===re)return ee(j,Bu(j,L),H);tc(j,L)}return null}function K(j,L,H,Z){var he=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return he!==null?null:T(j,L,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return H.key===he?O(j,L,H,Z):null;case I:return H.key===he?q(j,L,H,Z):null;case C:return he=H._init,H=he(H._payload),K(j,L,H,Z)}if(ve(H)||k(H))return he!==null?null:J(j,L,H,Z,null);if(typeof H.then=="function")return K(j,L,ec(H),Z);if(H.$$typeof===re)return K(j,L,Bu(j,H),Z);tc(j,H)}return null}function Y(j,L,H,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(H)||null,T(L,j,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return j=j.get(Z.key===null?H:Z.key)||null,O(L,j,Z,he);case I:return j=j.get(Z.key===null?H:Z.key)||null,q(L,j,Z,he);case C:var ke=Z._init;return Z=ke(Z._payload),Y(j,L,H,Z,he)}if(ve(Z)||k(Z))return j=j.get(H)||null,J(L,j,Z,he,null);if(typeof Z.then=="function")return Y(j,L,H,ec(Z),he);if(Z.$$typeof===re)return Y(j,L,H,Bu(L,Z),he);tc(L,Z)}return null}function we(j,L,H,Z){for(var he=null,ke=null,pe=L,Ee=L=0,Lt=null;pe!==null&&Ee<H.length;Ee++){pe.index>Ee?(Lt=pe,pe=null):Lt=pe.sibling;var qe=K(j,pe,H[Ee],Z);if(qe===null){pe===null&&(pe=Lt);break}t&&pe&&qe.alternate===null&&i(j,pe),L=d(qe,L,Ee),ke===null?he=qe:ke.sibling=qe,ke=qe,pe=Lt}if(Ee===H.length)return a(j,pe),Fe&&Ss(j,Ee),he;if(pe===null){for(;Ee<H.length;Ee++)pe=ee(j,H[Ee],Z),pe!==null&&(L=d(pe,L,Ee),ke===null?he=pe:ke.sibling=pe,ke=pe);return Fe&&Ss(j,Ee),he}for(pe=l(pe);Ee<H.length;Ee++)Lt=Y(pe,j,Ee,H[Ee],Z),Lt!==null&&(t&&Lt.alternate!==null&&pe.delete(Lt.key===null?Ee:Lt.key),L=d(Lt,L,Ee),ke===null?he=Lt:ke.sibling=Lt,ke=Lt);return t&&pe.forEach(function(kr){return i(j,kr)}),Fe&&Ss(j,Ee),he}function _e(j,L,H,Z){if(H==null)throw Error(s(151));for(var he=null,ke=null,pe=L,Ee=L=0,Lt=null,qe=H.next();pe!==null&&!qe.done;Ee++,qe=H.next()){pe.index>Ee?(Lt=pe,pe=null):Lt=pe.sibling;var kr=K(j,pe,qe.value,Z);if(kr===null){pe===null&&(pe=Lt);break}t&&pe&&kr.alternate===null&&i(j,pe),L=d(kr,L,Ee),ke===null?he=kr:ke.sibling=kr,ke=kr,pe=Lt}if(qe.done)return a(j,pe),Fe&&Ss(j,Ee),he;if(pe===null){for(;!qe.done;Ee++,qe=H.next())qe=ee(j,qe.value,Z),qe!==null&&(L=d(qe,L,Ee),ke===null?he=qe:ke.sibling=qe,ke=qe);return Fe&&Ss(j,Ee),he}for(pe=l(pe);!qe.done;Ee++,qe=H.next())qe=Y(pe,j,Ee,qe.value,Z),qe!==null&&(t&&qe.alternate!==null&&pe.delete(qe.key===null?Ee:qe.key),L=d(qe,L,Ee),ke===null?he=qe:ke.sibling=qe,ke=qe);return t&&pe.forEach(function(Yw){return i(j,Yw)}),Fe&&Ss(j,Ee),he}function tt(j,L,H,Z){if(typeof H=="object"&&H!==null&&H.type===x&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case S:e:{for(var he=H.key;L!==null;){if(L.key===he){if(he=H.type,he===x){if(L.tag===7){a(j,L.sibling),Z=h(L,H.props.children),Z.return=j,j=Z;break e}}else if(L.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===C&&yy(he)===L.type){a(j,L.sibling),Z=h(L,H.props),il(Z,H),Z.return=j,j=Z;break e}a(j,L);break}else i(j,L);L=L.sibling}H.type===x?(Z=Ts(H.props.children,j.mode,Z,H.key),Z.return=j,j=Z):(Z=Lu(H.type,H.key,H.props,null,j.mode,Z),il(Z,H),Z.return=j,j=Z)}return _(j);case I:e:{for(he=H.key;L!==null;){if(L.key===he)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){a(j,L.sibling),Z=h(L,H.children||[]),Z.return=j,j=Z;break e}else{a(j,L);break}else i(j,L);L=L.sibling}Z=gf(H,j.mode,Z),Z.return=j,j=Z}return _(j);case C:return he=H._init,H=he(H._payload),tt(j,L,H,Z)}if(ve(H))return we(j,L,H,Z);if(k(H)){if(he=k(H),typeof he!="function")throw Error(s(150));return H=he.call(H),_e(j,L,H,Z)}if(typeof H.then=="function")return tt(j,L,ec(H),Z);if(H.$$typeof===re)return tt(j,L,Bu(j,H),Z);tc(j,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(a(j,L.sibling),Z=h(L,H),Z.return=j,j=Z):(a(j,L),Z=pf(H,j.mode,Z),Z.return=j,j=Z),_(j)):a(j,L)}return function(j,L,H,Z){try{nl=0;var he=tt(j,L,H,Z);return Ca=null,he}catch(pe){if(pe===Yo||pe===qu)throw pe;var ke=vn(29,pe,null,j.mode);return ke.lanes=Z,ke.return=j,ke}finally{}}}var Ia=vy(!0),_y=vy(!1),Pn=W(null),hi=null;function _r(t){var i=t.alternate;se(Nt,Nt.current&1),se(Pn,t),hi===null&&(i===null||Sa.current!==null||i.memoizedState!==null)&&(hi=t)}function Ey(t){if(t.tag===22){if(se(Nt,Nt.current),se(Pn,t),hi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(hi=t)}}else Er()}function Er(){se(Nt,Nt.current),se(Pn,Pn.current)}function qi(t){ae(Pn),hi===t&&(hi=null),ae(Nt)}var Nt=W(0);function nc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ud(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function $f(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Xf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=An(),h=gr(l);h.payload=i,a!=null&&(h.callback=a),i=yr(t,h,l),i!==null&&(Sn(i,t,l),$o(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=An(),h=gr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=yr(t,h,l),i!==null&&(Sn(i,t,l),$o(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),l=gr(a);l.tag=2,i!=null&&(l.callback=i),i=yr(t,l,a),i!==null&&(Sn(i,t,a),$o(i,t,a))}};function Ty(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!jo(a,l)||!jo(h,d):!0}function Ay(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Xf.enqueueReplaceState(i,i.state,null)}function Ds(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var ic=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Sy(t){ic(t)}function wy(t){console.error(t)}function by(t){ic(t)}function rc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ry(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Jf(t,i,a){return a=gr(a),a.tag=3,a.payload={element:null},a.callback=function(){rc(t,i)},a}function Cy(t){return t=gr(t),t.tag=3,t}function Iy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ry(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Ry(i,a,l),typeof h!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function YS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Fo(i,a,h,!0),a=Pn.current,a!==null){switch(a.tag){case 13:return hi===null?Td():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Rf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Sd(t,l,h)),!1;case 22:return a.flags|=65536,l===Rf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Sd(t,l,h)),!1}throw Error(s(435,a.tag))}return Sd(t,l,h),Td(),!1}if(Fe)return i=Pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==_f&&(t=Error(s(422),{cause:l}),qo(xn(t,a)))):(l!==_f&&(i=Error(s(423),{cause:l}),qo(xn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=xn(l,a),h=Jf(t.stateNode,l,h),Nf(t,h),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),cl===null?cl=[d]:cl.push(d),dt!==4&&(dt=2),i===null)return!0;l=xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Jf(a.stateNode,l,t),Nf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Rr===null||!Rr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Cy(h),Iy(h,t,a,l),Nf(a,h),!1}a=a.return}while(a!==null);return!1}var Ny=Error(s(461)),Vt=!1;function Ht(t,i,a,l){i.child=t===null?_y(i,null,a,l):Ia(i,t.child,a,l)}function Dy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Cs(i),l=kf(t,i,a,_,d,h),T=Vf(),t!==null&&!Vt?(Pf(t,i,h),Fi(t,i,h)):(Fe&&T&&yf(i),i.flags|=1,Ht(t,i,l,h),i.child)}function Oy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!mf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,xy(t,i,d,l,h)):(t=Lu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!sd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:jo,a(_,l)&&t.ref===i.ref)return Fi(t,i,h)}return i.flags|=1,t=Li(d,l),t.ref=i.ref,t.return=i,i.child=t}function xy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(jo(d,l)&&t.ref===i.ref)if(Vt=!1,i.pendingProps=l=d,sd(t,h))(t.flags&131072)!==0&&(Vt=!0);else return i.lanes=t.lanes,Fi(t,i,h)}return Zf(t,i,a,l,h)}function My(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return ky(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Hu(i,d!==null?d.cachePool:null),d!==null?xg(i,d):Of(),Ey(i);else return i.lanes=i.childLanes=536870912,ky(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Hu(i,d.cachePool),xg(i,d),Er(),i.memoizedState=null):(t!==null&&Hu(i,null),Of(),Er());return Ht(t,i,h,a),i.child}function ky(t,i,a,l){var h=bf();return h=h===null?null:{parent:It._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Hu(i,null),Of(),Ey(i),t!==null&&Fo(t,i,l,!0),null}function sc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Zf(t,i,a,l,h){return Cs(i),a=kf(t,i,a,l,void 0,h),l=Vf(),t!==null&&!Vt?(Pf(t,i,h),Fi(t,i,h)):(Fe&&l&&yf(i),i.flags|=1,Ht(t,i,a,h),i.child)}function Vy(t,i,a,l,h,d){return Cs(i),i.updateQueue=null,a=kg(i,l,a,h),Mg(t),l=Vf(),t!==null&&!Vt?(Pf(t,i,d),Fi(t,i,d)):(Fe&&l&&yf(i),i.flags|=1,Ht(t,i,a,d),i.child)}function Py(t,i,a,l,h){if(Cs(i),i.stateNode===null){var d=va,_=a.contextType;typeof _=="object"&&_!==null&&(d=$t(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Xf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Cf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?$t(_):va,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&($f(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Xf.enqueueReplaceState(d,d.state,null),Jo(i,l,d,h),Xo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,O=Ds(a,T);d.props=O;var q=d.context,J=a.contextType;_=va,typeof J=="object"&&J!==null&&(_=$t(J));var ee=a.getDerivedStateFromProps;J=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==_)&&Ay(i,d,l,_),pr=!1;var K=i.memoizedState;d.state=K,Jo(i,l,d,h),Xo(),q=i.memoizedState,T||K!==q||pr?(typeof ee=="function"&&($f(i,a,ee,l),q=i.memoizedState),(O=pr||Ty(i,a,O,l,K,q,_))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=_,l=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,If(t,i),_=i.memoizedProps,J=Ds(a,_),d.props=J,ee=i.pendingProps,K=d.context,q=a.contextType,O=va,typeof q=="object"&&q!==null&&(O=$t(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||K!==O)&&Ay(i,d,l,O),pr=!1,K=i.memoizedState,d.state=K,Jo(i,l,d,h),Xo();var Y=i.memoizedState;_!==ee||K!==Y||pr||t!==null&&t.dependencies!==null&&zu(t.dependencies)?(typeof T=="function"&&($f(i,a,T,l),Y=i.memoizedState),(J=pr||Ty(i,a,J,l,K,Y,O)||t!==null&&t.dependencies!==null&&zu(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=O,l=J):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,sc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ia(i,t.child,null,h),i.child=Ia(i,null,a,h)):Ht(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Fi(t,i,h),t}function Ly(t,i,a,l){return Ho(),i.flags|=256,Ht(t,i,a,l),i.child}var Wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ed(t){return{baseLanes:t,cachePool:wg()}}function td(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Ln),t}function Uy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Nt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Fe){if(h?_r(i):Er(),Fe){var T=ft,O;if(O=T){e:{for(O=T,T=ci;O.nodeType!==8;){if(!T){T=null;break e}if(O=Gn(O.nextSibling),O===null){T=null;break e}}T=O}T!==null?(i.memoizedState={dehydrated:T,treeContext:As!==null?{id:Ui,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},O=vn(18,null,null,0),O.stateNode=T,O.return=i,i.child=O,an=i,ft=null,O=!0):O=!1}O||bs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Ud(T)?i.lanes=32:i.lanes=536870912,null;qi(i)}return T=l.children,l=l.fallback,h?(Er(),h=i.mode,T=ac({mode:"hidden",children:T},h),l=Ts(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=ed(a),h.childLanes=td(t,_,a),i.memoizedState=Wf,l):(_r(i),nd(i,T))}if(O=t.memoizedState,O!==null&&(T=O.dehydrated,T!==null)){if(d)i.flags&256?(_r(i),i.flags&=-257,i=id(t,i,a)):i.memoizedState!==null?(Er(),i.child=t.child,i.flags|=128,i=null):(Er(),h=l.fallback,T=i.mode,l=ac({mode:"visible",children:l.children},T),h=Ts(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ia(i,t.child,null,a),l=i.child,l.memoizedState=ed(a),l.childLanes=td(t,_,a),i.memoizedState=Wf,i=h);else if(_r(i),Ud(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,qo({value:l,source:null,stack:null}),i=id(t,i,a)}else if(Vt||Fo(t,i,a,!1),_=(a&t.childLanes)!==0,Vt||_){if(_=it,_!==null&&(l=a&-a,l=(l&42)!==0?1:or(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==O.retryLane))throw O.retryLane=l,ya(t,l),Sn(_,t,l),Ny;T.data==="$?"||Td(),i=id(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,ft=Gn(T.nextSibling),an=i,Fe=!0,ws=null,ci=!1,t!==null&&(kn[Vn++]=Ui,kn[Vn++]=ji,kn[Vn++]=As,Ui=t.id,ji=t.overflow,As=i),i=nd(i,l.children),i.flags|=4096);return i}return h?(Er(),h=l.fallback,T=i.mode,O=t.child,q=O.sibling,l=Li(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,q!==null?h=Li(q,h):(h=Ts(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=ed(a):(O=T.cachePool,O!==null?(q=It._currentValue,O=O.parent!==q?{parent:q,pool:q}:O):O=wg(),T={baseLanes:T.baseLanes|a,cachePool:O}),h.memoizedState=T,h.childLanes=td(t,_,a),i.memoizedState=Wf,l):(_r(i),a=t.child,t=a.sibling,a=Li(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function nd(t,i){return i=ac({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function ac(t,i){return t=vn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function id(t,i,a){return Ia(i,t.child,null,a),t=nd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function jy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Tf(t.return,i,a)}function rd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function zy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ht(t,i,l.children,a),l=Nt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jy(t,a,i);else if(t.tag===19)jy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(Nt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&nc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),rd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&nc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}rd(i,!0,a,null,d);break;case"together":rd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Fi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),br|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Fo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Li(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Li(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function sd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&zu(t)))}function QS(t,i,a){switch(i.tag){case 3:Je(i,i.stateNode.containerInfo),mr(i,It,t.memoizedState.cache),Ho();break;case 27:case 5:de(i);break;case 4:Je(i,i.stateNode.containerInfo);break;case 10:mr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(_r(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Uy(t,i,a):(_r(i),t=Fi(t,i,a),t!==null?t.sibling:null);_r(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Fo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return zy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Nt,Nt.current),l)break;return null;case 22:case 23:return i.lanes=0,My(t,i,a);case 24:mr(i,It,t.memoizedState.cache)}return Fi(t,i,a)}function By(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Vt=!0;else{if(!sd(t,a)&&(i.flags&128)===0)return Vt=!1,QS(t,i,a);Vt=(t.flags&131072)!==0}else Vt=!1,Fe&&(i.flags&1048576)!==0&&yg(i,ju,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")mf(l)?(t=Ds(l,t),i.tag=1,i=Py(null,i,l,t,a)):(i.tag=0,i=Zf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===fe){i.tag=11,i=Dy(null,i,l,t,a);break e}else if(h===P){i.tag=14,i=Oy(null,i,l,t,a);break e}}throw i=Te(l)||l,Error(s(306,i,""))}}return i;case 0:return Zf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ds(l,i.pendingProps),Py(t,i,l,h,a);case 3:e:{if(Je(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,If(t,i),Jo(i,l,null,a);var _=i.memoizedState;if(l=_.cache,mr(i,It,l),l!==d.cache&&Af(i,[It],a,!0),Xo(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ly(t,i,l,a);break e}else if(l!==h){h=xn(Error(s(424)),i),qo(h),i=Ly(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ft=Gn(t.firstChild),an=i,Fe=!0,ws=null,ci=!0,a=_y(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ho(),l===h){i=Fi(t,i,a);break e}Ht(t,i,l,a)}i=i.child}return i;case 26:return sc(t,i),t===null?(a=Gv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,t=i.pendingProps,l=Ec(Ae.current).createElement(a),l[bt]=i,l[Et]=t,Ft(l,a,t),pt(l),i.stateNode=l):i.memoizedState=Gv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return de(i),t===null&&Fe&&(l=i.stateNode=Hv(i.type,i.pendingProps,Ae.current),an=i,ci=!0,h=ft,Nr(i.type)?(jd=h,ft=Gn(l.firstChild)):ft=h),Ht(t,i,i.pendingProps.children,a),sc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Fe&&((h=l=ft)&&(l=Aw(l,i.type,i.pendingProps,ci),l!==null?(i.stateNode=l,an=i,ft=Gn(l.firstChild),ci=!1,h=!0):h=!1),h||bs(i)),de(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Vd(h,d)?l=null:_!==null&&Vd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=kf(t,i,zS,null,null,a),_l._currentValue=h),sc(t,i),Ht(t,i,l,a),i.child;case 6:return t===null&&Fe&&((t=a=ft)&&(a=Sw(a,i.pendingProps,ci),a!==null?(i.stateNode=a,an=i,ft=null,t=!0):t=!1),t||bs(i)),null;case 13:return Uy(t,i,a);case 4:return Je(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ia(i,null,l,a):Ht(t,i,l,a),i.child;case 11:return Dy(t,i,i.type,i.pendingProps,a);case 7:return Ht(t,i,i.pendingProps,a),i.child;case 8:return Ht(t,i,i.pendingProps.children,a),i.child;case 12:return Ht(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,mr(i,i.type,l.value),Ht(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Cs(i),h=$t(h),l=l(h),i.flags|=1,Ht(t,i,l,a),i.child;case 14:return Oy(t,i,i.type,i.pendingProps,a);case 15:return xy(t,i,i.type,i.pendingProps,a);case 19:return zy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=ac(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Li(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return My(t,i,a);case 24:return Cs(i),l=$t(It),t===null?(h=bf(),h===null&&(h=it,d=Sf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Cf(i),mr(i,It,h)):((t.lanes&a)!==0&&(If(t,i),Jo(i,null,null,a),Xo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),mr(i,It,l)):(l=d.cache,mr(i,It,l),l!==h.cache&&Af(i,[It],a,!0))),Ht(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Gi(t){t.flags|=4}function Hy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xv(i)){if(i=Pn.current,i!==null&&((Be&4194048)===Be?hi!==null:(Be&62914560)!==Be&&(Be&536870912)===0||i!==hi))throw Qo=Rf,bg;t.flags|=8192}}function oc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?To():536870912,t.lanes|=i,xa|=i)}function rl(t,i){if(!Fe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ut(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function $S(t,i,a){var l=i.pendingProps;switch(vf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(i),null;case 1:return ut(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Bi(It),on(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Bo(i)?Gi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Eg())),ut(i),null;case 26:return a=i.memoizedState,t===null?(Gi(i),a!==null?(ut(i),Hy(i,a)):(ut(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Gi(i),ut(i),Hy(i,a)):(ut(i),i.flags&=-16777217):(t.memoizedProps!==l&&Gi(i),ut(i),i.flags&=-16777217),null;case 27:Ge(i),a=Ae.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ut(i),null}t=me.current,Bo(i)?vg(i):(t=Hv(h,l,a),i.stateNode=t,Gi(i))}return ut(i),null;case 5:if(Ge(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ut(i),null}if(t=me.current,Bo(i))vg(i);else{switch(h=Ec(Ae.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[bt]=i,t[Et]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Ft(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Gi(i)}}return ut(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Gi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ae.current,Bo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=an,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Vv(t.nodeValue,a)),t||bs(i)}else t=Ec(t).createTextNode(l),t[bt]=i,i.stateNode=t}return ut(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Bo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[bt]=i}else Ho(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ut(i),h=!1}else h=Eg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(qi(i),i):(qi(i),null)}if(qi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),oc(i,i.updateQueue),ut(i),null;case 4:return on(),t===null&&Dd(i.stateNode.containerInfo),ut(i),null;case 10:return Bi(i.type),ut(i),null;case 19:if(ae(Nt),h=i.memoizedState,h===null)return ut(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)rl(h,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=nc(t),d!==null){for(i.flags|=128,rl(h,!1),t=d.updateQueue,i.updateQueue=t,oc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)gg(a,t),a=a.sibling;return se(Nt,Nt.current&1|2),i.child}t=t.sibling}h.tail!==null&&Rn()>cc&&(i.flags|=128,l=!0,rl(h,!1),i.lanes=4194304)}else{if(!l)if(t=nc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,oc(i,t),rl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Fe)return ut(i),null}else 2*Rn()-h.renderingStartTime>cc&&a!==536870912&&(i.flags|=128,l=!0,rl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Rn(),i.sibling=null,t=Nt.current,se(Nt,l?t&1|2:t&1),i):(ut(i),null);case 22:case 23:return qi(i),xf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ut(i),i.subtreeFlags&6&&(i.flags|=8192)):ut(i),a=i.updateQueue,a!==null&&oc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ae(Is),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Bi(It),ut(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function XS(t,i){switch(vf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Bi(It),on(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ge(i),null;case 13:if(qi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ho()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ae(Nt),null;case 4:return on(),null;case 10:return Bi(i.type),null;case 22:case 23:return qi(i),xf(),t!==null&&ae(Is),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Bi(It),null;case 25:return null;default:return null}}function qy(t,i){switch(vf(i),i.tag){case 3:Bi(It),on();break;case 26:case 27:case 5:Ge(i);break;case 4:on();break;case 13:qi(i);break;case 19:ae(Nt);break;case 10:Bi(i.type);break;case 22:case 23:qi(i),xf(),t!==null&&ae(Is);break;case 24:Bi(It)}}function sl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){nt(i,i.return,T)}}function Tr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var O=a,q=T;try{q()}catch(J){nt(h,O,J)}}}l=l.next}while(l!==d)}}catch(J){nt(i,i.return,J)}}function Fy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Og(i,a)}catch(l){nt(t,t.return,l)}}}function Gy(t,i,a){a.props=Ds(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){nt(t,i,l)}}function al(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){nt(t,i,h)}}function fi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){nt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){nt(t,i,h)}else a.current=null}function Ky(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){nt(t,t.return,h)}}function ad(t,i,a){try{var l=t.stateNode;yw(l,t.type,a,i),l[Et]=i}catch(h){nt(t,t.return,h)}}function Yy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Nr(t.type)||t.tag===4}function od(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Nr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ld(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=_c));else if(l!==4&&(l===27&&Nr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(ld(t,i,a),t=t.sibling;t!==null;)ld(t,i,a),t=t.sibling}function lc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Nr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(lc(t,i,a),t=t.sibling;t!==null;)lc(t,i,a),t=t.sibling}function Qy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ft(i,l,a),i[bt]=t,i[Et]=a}catch(d){nt(t,t.return,d)}}var Ki=!1,yt=!1,ud=!1,$y=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function JS(t,i){if(t=t.containerInfo,Md=Rc,t=ag(t),of(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,O=-1,q=0,J=0,ee=t,K=null;t:for(;;){for(var Y;ee!==a||h!==0&&ee.nodeType!==3||(T=_+h),ee!==d||l!==0&&ee.nodeType!==3||(O=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)K=ee,ee=Y;for(;;){if(ee===t)break t;if(K===a&&++q===h&&(T=_),K===d&&++J===l&&(O=_),(Y=ee.nextSibling)!==null)break;ee=K,K=ee.parentNode}ee=Y}a=T===-1||O===-1?null:{start:T,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(kd={focusedElem:t,selectionRange:a},Rc=!1,Pt=i;Pt!==null;)if(i=Pt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Pt=t;else for(;Pt!==null;){switch(i=Pt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var we=Ds(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){nt(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Ld(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ld(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Pt=t;break}Pt=i.return}}function Xy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ar(t,a),l&4&&sl(5,a);break;case 1:if(Ar(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){nt(a,a.return,_)}else{var h=Ds(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){nt(a,a.return,_)}}l&64&&Fy(a),l&512&&al(a,a.return);break;case 3:if(Ar(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Og(t,i)}catch(_){nt(a,a.return,_)}}break;case 27:i===null&&l&4&&Qy(a);case 26:case 5:Ar(t,a),i===null&&l&4&&Ky(a),l&512&&al(a,a.return);break;case 12:Ar(t,a);break;case 13:Ar(t,a),l&4&&Wy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=aw.bind(null,a),ww(t,a))));break;case 22:if(l=a.memoizedState!==null||Ki,!l){i=i!==null&&i.memoizedState!==null||yt,h=Ki;var d=yt;Ki=l,(yt=i)&&!d?Sr(t,a,(a.subtreeFlags&8772)!==0):Ar(t,a),Ki=h,yt=d}break;case 30:break;default:Ar(t,a)}}function Jy(t){var i=t.alternate;i!==null&&(t.alternate=null,Jy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&cr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,un=!1;function Yi(t,i,a){for(a=a.child;a!==null;)Zy(t,i,a),a=a.sibling}function Zy(t,i,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ht,a)}catch{}switch(a.tag){case 26:yt||fi(a,i),Yi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||fi(a,i);var l=st,h=un;Nr(a.type)&&(st=a.stateNode,un=!1),Yi(t,i,a),pl(a.stateNode),st=l,un=h;break;case 5:yt||fi(a,i);case 6:if(l=st,h=un,st=null,Yi(t,i,a),st=l,un=h,st!==null)if(un)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(d){nt(a,i,d)}else try{st.removeChild(a.stateNode)}catch(d){nt(a,i,d)}break;case 18:st!==null&&(un?(t=st,zv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Sl(t)):zv(st,a.stateNode));break;case 4:l=st,h=un,st=a.stateNode.containerInfo,un=!0,Yi(t,i,a),st=l,un=h;break;case 0:case 11:case 14:case 15:yt||Tr(2,a,i),yt||Tr(4,a,i),Yi(t,i,a);break;case 1:yt||(fi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Gy(a,i,l)),Yi(t,i,a);break;case 21:Yi(t,i,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,Yi(t,i,a),yt=l;break;default:Yi(t,i,a)}}function Wy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Sl(t)}catch(a){nt(i,i.return,a)}}function ZS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new $y),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new $y),i;default:throw Error(s(435,t.tag))}}function cd(t,i){var a=ZS(t);i.forEach(function(l){var h=ow.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function _n(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Nr(T.type)){st=T.stateNode,un=!1;break e}break;case 5:st=T.stateNode,un=!1;break e;case 3:case 4:st=T.stateNode.containerInfo,un=!0;break e}T=T.return}if(st===null)throw Error(s(160));Zy(d,_,h),st=null,un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ev(i,t),i=i.sibling}var Fn=null;function ev(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_n(i,t),En(t),l&4&&(Tr(3,t,t.return),sl(3,t),Tr(5,t,t.return));break;case 1:_n(i,t),En(t),l&512&&(yt||a===null||fi(a,a.return)),l&64&&Ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Fn;if(_n(i,t),En(t),l&512&&(yt||a===null||fi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ss]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[bt]=t,pt(d),l=d;break e;case"link":var _=Qv("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Qv("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,pt(d),l=d}t.stateNode=l}else $v(h,t.type,t.stateNode);else t.stateNode=Yv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?$v(h,t.type,t.stateNode):Yv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:_n(i,t),En(t),l&512&&(yt||a===null||fi(a,a.return)),a!==null&&l&4&&ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(_n(i,t),En(t),l&512&&(yt||a===null||fi(a,a.return)),t.flags&32){h=t.stateNode;try{In(h,"")}catch(Y){nt(t,t.return,Y)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ad(t,h,a!==null?a.memoizedProps:h)),l&1024&&(ud=!0);break;case 6:if(_n(i,t),En(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Y){nt(t,t.return,Y)}}break;case 3:if(Sc=null,h=Fn,Fn=Tc(i.containerInfo),_n(i,t),Fn=h,En(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Sl(i.containerInfo)}catch(Y){nt(t,t.return,Y)}ud&&(ud=!1,tv(t));break;case 4:l=Fn,Fn=Tc(t.stateNode.containerInfo),_n(i,t),En(t),Fn=l;break;case 12:_n(i,t),En(t);break;case 13:_n(i,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gd=Rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cd(t,l)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,q=Ki,J=yt;if(Ki=q||h,yt=J||O,_n(i,t),yt=J,Ki=q,En(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||Ki||yt||Os(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(d=O.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=O.stateNode;var ee=O.memoizedProps.style,K=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Y){nt(O,O.return,Y)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(Y){nt(O,O.return,Y)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,cd(t,a))));break;case 19:_n(i,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cd(t,l)));break;case 30:break;case 21:break;default:_n(i,t),En(t)}}function En(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Yy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=od(t);lc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(In(_,""),a.flags&=-33);var T=od(t);lc(t,T,_);break;case 3:case 4:var O=a.stateNode.containerInfo,q=od(t);ld(t,q,O);break;default:throw Error(s(161))}}catch(J){nt(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function tv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;tv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ar(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Xy(t,i.alternate,i),i=i.sibling}function Os(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Tr(4,i,i.return),Os(i);break;case 1:fi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Gy(i,i.return,a),Os(i);break;case 27:pl(i.stateNode);case 26:case 5:fi(i,i.return),Os(i);break;case 22:i.memoizedState===null&&Os(i);break;case 30:Os(i);break;default:Os(i)}t=t.sibling}}function Sr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Sr(h,d,a),sl(4,d);break;case 1:if(Sr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){nt(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)Dg(O[h],T)}catch(q){nt(l,l.return,q)}}a&&_&64&&Fy(d),al(d,d.return);break;case 27:Qy(d);case 26:case 5:Sr(h,d,a),a&&l===null&&_&4&&Ky(d),al(d,d.return);break;case 12:Sr(h,d,a);break;case 13:Sr(h,d,a),a&&_&4&&Wy(h,d);break;case 22:d.memoizedState===null&&Sr(h,d,a),al(d,d.return);break;case 30:break;default:Sr(h,d,a)}i=i.sibling}}function hd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Go(a))}function fd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Go(t))}function di(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)nv(t,i,a,l),i=i.sibling}function nv(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:di(t,i,a,l),h&2048&&sl(9,i);break;case 1:di(t,i,a,l);break;case 3:di(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Go(t)));break;case 12:if(h&2048){di(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){nt(i,i.return,O)}}else di(t,i,a,l);break;case 13:di(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?di(t,i,a,l):ol(t,i):d._visibility&2?di(t,i,a,l):(d._visibility|=2,Na(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&hd(_,i);break;case 24:di(t,i,a,l),h&2048&&fd(i.alternate,i);break;default:di(t,i,a,l)}}function Na(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,_=i,T=a,O=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:Na(d,_,T,O,h),sl(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?Na(d,_,T,O,h):ol(d,_):(J._visibility|=2,Na(d,_,T,O,h)),h&&q&2048&&hd(_.alternate,_);break;case 24:Na(d,_,T,O,h),h&&q&2048&&fd(_.alternate,_);break;default:Na(d,_,T,O,h)}i=i.sibling}}function ol(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:ol(a,l),h&2048&&hd(l.alternate,l);break;case 24:ol(a,l),h&2048&&fd(l.alternate,l);break;default:ol(a,l)}i=i.sibling}}var ll=8192;function Da(t){if(t.subtreeFlags&ll)for(t=t.child;t!==null;)iv(t),t=t.sibling}function iv(t){switch(t.tag){case 26:Da(t),t.flags&ll&&t.memoizedState!==null&&Lw(Fn,t.memoizedState,t.memoizedProps);break;case 5:Da(t);break;case 3:case 4:var i=Fn;Fn=Tc(t.stateNode.containerInfo),Da(t),Fn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ll,ll=16777216,Da(t),ll=i):Da(t));break;default:Da(t)}}function rv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ul(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,av(l,t)}rv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)sv(t),t=t.sibling}function sv(t){switch(t.tag){case 0:case 11:case 15:ul(t),t.flags&2048&&Tr(9,t,t.return);break;case 3:ul(t);break;case 12:ul(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,uc(t)):ul(t);break;default:ul(t)}}function uc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,av(l,t)}rv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Tr(8,i,i.return),uc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,uc(i));break;default:uc(i)}t=t.sibling}}function av(t,i){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Tr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Go(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var h=l.sibling,d=l.return;if(Jy(l),l===a){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var WS={getCacheForType:function(t){var i=$t(It),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},ew=typeof WeakMap=="function"?WeakMap:Map,$e=0,it=null,Ve=null,Be=0,Xe=0,Tn=null,wr=!1,Oa=!1,dd=!1,Qi=0,dt=0,br=0,xs=0,md=0,Ln=0,xa=0,cl=null,cn=null,pd=!1,gd=0,cc=1/0,hc=null,Rr=null,qt=0,Cr=null,Ma=null,ka=0,yd=0,vd=null,ov=null,hl=0,_d=null;function An(){if(($e&2)!==0&&Be!==0)return Be&-Be;if(F.T!==null){var t=Ta;return t!==0?t:Rd()}return lr()}function lv(){Ln===0&&(Ln=(Be&536870912)===0||Fe?Eo():536870912);var t=Pn.current;return t!==null&&(t.flags|=32),Ln}function Sn(t,i,a){(t===it&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Va(t,0),Ir(t,Be,Ln,!1)),Ri(t,a),(($e&2)===0||t!==it)&&(t===it&&(($e&2)===0&&(xs|=a),dt===4&&Ir(t,Be,Ln,!1)),mi(t))}function uv(t,i,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||rs(t,i),h=l?iw(t,i):Ad(t,i,!0),d=l;do{if(h===0){Oa&&!l&&Ir(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!tw(a)){h=Ad(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=cl;var O=T.current.memoizedState.isDehydrated;if(O&&(Va(T,_).flags|=256),_=Ad(T,_,!1),_!==2){if(dd&&!O){T.errorRecoveryDisabledLanes|=d,xs|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Va(t,0),Ir(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ir(l,i,Ln,!wr);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=gd+300-Rn(),10<h)){if(Ir(l,i,Ln,!wr),Zs(l,0,!0)!==0)break e;l.timeoutHandle=Uv(cv.bind(null,l,a,cn,hc,pd,i,Ln,xs,xa,wr,d,2,-0,0),h);break e}cv(l,a,cn,hc,pd,i,Ln,xs,xa,wr,d,0,-0,0)}}break}while(!0);mi(t)}function cv(t,i,a,l,h,d,_,T,O,q,J,ee,K,Y){if(t.timeoutHandle=-1,ee=i.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(vl={stylesheets:null,count:0,unsuspend:Pw},iv(i),ee=Uw(),ee!==null)){t.cancelPendingCommit=ee(yv.bind(null,t,i,d,a,l,h,_,T,O,J,1,K,Y)),Ir(t,d,_,!q);return}yv(t,i,d,a,l,h,_,T,O)}function tw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ir(t,i,a,l){i&=~md,i&=~xs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Qt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Wn(t,a,i)}function fc(){return($e&6)===0?(fl(0),!1):!0}function Ed(){if(Ve!==null){if(Xe===0)var t=Ve.return;else t=Ve,zi=Rs=null,Lf(t),Ca=null,nl=0,t=Ve;for(;t!==null;)qy(t.alternate,t),t=t.return;Ve=null}}function Va(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,_w(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ed(),it=t,Ve=a=Li(t.current,null),Be=i,Xe=0,Tn=null,wr=!1,Oa=rs(t,i),dd=!1,xa=Ln=md=xs=br=dt=0,cn=cl=null,pd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Qt(l),d=1<<h;i|=t[h],l&=~d}return Qi=i,ku(),a}function hv(t,i){xe=null,F.H=Wu,i===Yo||i===qu?(i=Ig(),Xe=3):i===bg?(i=Ig(),Xe=4):Xe=i===Ny?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Ve===null&&(dt=1,rc(t,xn(i,t.current)))}function fv(){var t=F.H;return F.H=Wu,t===null?Wu:t}function dv(){var t=F.A;return F.A=WS,t}function Td(){dt=4,wr||(Be&4194048)!==Be&&Pn.current!==null||(Oa=!0),(br&134217727)===0&&(xs&134217727)===0||it===null||Ir(it,Be,Ln,!1)}function Ad(t,i,a){var l=$e;$e|=2;var h=fv(),d=dv();(it!==t||Be!==i)&&(hc=null,Va(t,i)),i=!1;var _=dt;e:do try{if(Xe!==0&&Ve!==null){var T=Ve,O=Tn;switch(Xe){case 8:Ed(),_=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(i=!0);var q=Xe;if(Xe=0,Tn=null,Pa(t,T,O,q),a&&Oa){_=0;break e}break;default:q=Xe,Xe=0,Tn=null,Pa(t,T,O,q)}}nw(),_=dt;break}catch(J){hv(t,J)}while(!0);return i&&t.shellSuspendCounter++,zi=Rs=null,$e=l,F.H=h,F.A=d,Ve===null&&(it=null,Be=0,ku()),_}function nw(){for(;Ve!==null;)mv(Ve)}function iw(t,i){var a=$e;$e|=2;var l=fv(),h=dv();it!==t||Be!==i?(hc=null,cc=Rn()+500,Va(t,i)):Oa=rs(t,i);e:do try{if(Xe!==0&&Ve!==null){i=Ve;var d=Tn;t:switch(Xe){case 1:Xe=0,Tn=null,Pa(t,i,d,1);break;case 2:case 9:if(Rg(d)){Xe=0,Tn=null,pv(i);break}i=function(){Xe!==2&&Xe!==9||it!==t||(Xe=7),mi(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Rg(d)?(Xe=0,Tn=null,pv(i)):(Xe=0,Tn=null,Pa(t,i,d,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var T=Ve;if(!_||Xv(_)){Xe=0,Tn=null;var O=T.sibling;if(O!==null)Ve=O;else{var q=T.return;q!==null?(Ve=q,dc(q)):Ve=null}break t}}Xe=0,Tn=null,Pa(t,i,d,5);break;case 6:Xe=0,Tn=null,Pa(t,i,d,6);break;case 8:Ed(),dt=6;break e;default:throw Error(s(462))}}rw();break}catch(J){hv(t,J)}while(!0);return zi=Rs=null,F.H=l,F.A=h,$e=a,Ve!==null?0:(it=null,Be=0,ku(),dt)}function rw(){for(;Ve!==null&&!go();)mv(Ve)}function mv(t){var i=By(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,i===null?dc(t):Ve=i}function pv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Vy(a,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=Vy(a,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:Lf(i);default:qy(a,i),i=Ve=gg(i,Qi),i=By(a,i,Qi)}t.memoizedProps=t.pendingProps,i===null?dc(t):Ve=i}function Pa(t,i,a,l){zi=Rs=null,Lf(i),Ca=null,nl=0;var h=i.return;try{if(YS(t,h,i,a,Be)){dt=1,rc(t,xn(a,t.current)),Ve=null;return}}catch(d){if(h!==null)throw Ve=h,d;dt=1,rc(t,xn(a,t.current)),Ve=null;return}i.flags&32768?(Fe||l===1?t=!0:Oa||(Be&536870912)!==0?t=!1:(wr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),gv(i,t)):dc(i)}function dc(t){var i=t;do{if((i.flags&32768)!==0){gv(i,wr);return}t=i.return;var a=$S(i.alternate,i,Qi);if(a!==null){Ve=a;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=t}while(i!==null);dt===0&&(dt=5)}function gv(t,i){do{var a=XS(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);dt=6,Ve=null}function yv(t,i,a,l,h,d,_,T,O){t.cancelPendingCommit=null;do mc();while(qt!==0);if(($e&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=ff,Ao(t,a,d,_,T,O),t===it&&(Ve=it=null,Be=0),Ma=i,Cr=t,ka=a,yd=d,vd=h,ov=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,lw(es,function(){return Av(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=ne.p,ne.p=2,_=$e,$e|=4;try{JS(t,i,a)}finally{$e=_,ne.p=h,F.T=l}}qt=1,vv(),_v(),Ev()}}function vv(){if(qt===1){qt=0;var t=Cr,i=Ma,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=ne.p;ne.p=2;var h=$e;$e|=4;try{ev(i,t);var d=kd,_=ag(t.containerInfo),T=d.focusedElem,O=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&sg(T.ownerDocument.documentElement,T)){if(O!==null&&of(T)){var q=O.start,J=O.end;if(J===void 0&&(J=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(J,T.value.length);else{var ee=T.ownerDocument||document,K=ee&&ee.defaultView||window;if(K.getSelection){var Y=K.getSelection(),we=T.textContent.length,_e=Math.min(O.start,we),tt=O.end===void 0?_e:Math.min(O.end,we);!Y.extend&&_e>tt&&(_=tt,tt=_e,_e=_);var j=rg(T,_e),L=rg(T,tt);if(j&&L&&(Y.rangeCount!==1||Y.anchorNode!==j.node||Y.anchorOffset!==j.offset||Y.focusNode!==L.node||Y.focusOffset!==L.offset)){var H=ee.createRange();H.setStart(j.node,j.offset),Y.removeAllRanges(),_e>tt?(Y.addRange(H),Y.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),Y.addRange(H))}}}}for(ee=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var Z=ee[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Rc=!!Md,kd=Md=null}finally{$e=h,ne.p=l,F.T=a}}t.current=i,qt=2}}function _v(){if(qt===2){qt=0;var t=Cr,i=Ma,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=ne.p;ne.p=2;var h=$e;$e|=4;try{Xy(t,i.alternate,i)}finally{$e=h,ne.p=l,F.T=a}}qt=3}}function Ev(){if(qt===4||qt===3){qt=0,uu();var t=Cr,i=Ma,a=ka,l=ov;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?qt=5:(qt=0,Ma=Cr=null,Tv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Rr=null),Ws(a),i=i.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ht,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,h=ne.p,ne.p=2,F.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{F.T=i,ne.p=h}}(ka&3)!==0&&mc(),mi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===_d?hl++:(hl=0,_d=t):hl=0,fl(0)}}function Tv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Go(i)))}function mc(t){return vv(),_v(),Ev(),Av()}function Av(){if(qt!==5)return!1;var t=Cr,i=yd;yd=0;var a=Ws(ka),l=F.T,h=ne.p;try{ne.p=32>a?32:a,F.T=null,a=vd,vd=null;var d=Cr,_=ka;if(qt=0,Ma=Cr=null,ka=0,($e&6)!==0)throw Error(s(331));var T=$e;if($e|=4,sv(d.current),nv(d,d.current,_,a),$e=T,fl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ht,d)}catch{}return!0}finally{ne.p=h,F.T=l,Tv(t,i)}}function Sv(t,i,a){i=xn(a,i),i=Jf(t.stateNode,i,2),t=yr(t,i,2),t!==null&&(Ri(t,2),mi(t))}function nt(t,i,a){if(t.tag===3)Sv(t,t,a);else for(;i!==null;){if(i.tag===3){Sv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rr===null||!Rr.has(l))){t=xn(a,t),a=Cy(2),l=yr(i,a,2),l!==null&&(Iy(a,l,i,t),Ri(l,2),mi(l));break}}i=i.return}}function Sd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new ew;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(dd=!0,h.add(a),t=sw.bind(null,t,i,a),i.then(t,t))}function sw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(Be&a)===a&&(dt===4||dt===3&&(Be&62914560)===Be&&300>Rn()-gd?($e&2)===0&&Va(t,0):md|=a,xa===Be&&(xa=0)),mi(t)}function wv(t,i){i===0&&(i=To()),t=ya(t,i),t!==null&&(Ri(t,i),mi(t))}function aw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),wv(t,a)}function ow(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),wv(t,a)}function lw(t,i){return tn(t,i)}var pc=null,La=null,wd=!1,gc=!1,bd=!1,Ms=0;function mi(t){t!==La&&t.next===null&&(La===null?pc=La=t:La=La.next=t),gc=!0,wd||(wd=!0,cw())}function fl(t,i){if(!bd&&gc){bd=!0;do for(var a=!1,l=pc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Qt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Iv(l,d))}else d=Be,d=Zs(l,l===it?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||rs(l,d)||(a=!0,Iv(l,d));l=l.next}while(a);bd=!1}}function uw(){bv()}function bv(){gc=wd=!1;var t=0;Ms!==0&&(vw()&&(t=Ms),Ms=0);for(var i=Rn(),a=null,l=pc;l!==null;){var h=l.next,d=Rv(l,i);d===0?(l.next=null,a===null?pc=h:a.next=h,h===null&&(La=a)):(a=l,(t!==0||(d&3)!==0)&&(gc=!0)),l=h}fl(t)}function Rv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Qt(d),T=1<<_,O=h[_];O===-1?((T&a)===0||(T&l)!==0)&&(h[_]=_o(T,i)):O<=i&&(t.expiredLanes|=T),d&=~T}if(i=it,a=Be,a=Zs(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&mt(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||rs(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&mt(l),Ws(a)){case 2:case 8:a=Xs;break;case 32:a=es;break;case 268435456:a=Js;break;default:a=es}return l=Cv.bind(null,t),a=tn(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&mt(l),t.callbackPriority=2,t.callbackNode=null,2}function Cv(t,i){if(qt!==0&&qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(mc()&&t.callbackNode!==a)return null;var l=Be;return l=Zs(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(uv(t,l,i),Rv(t,Rn()),t.callbackNode!=null&&t.callbackNode===a?Cv.bind(null,t):null)}function Iv(t,i){if(mc())return null;uv(t,i,!0)}function cw(){Ew(function(){($e&6)!==0?tn(yo,uw):bv()})}function Rd(){return Ms===0&&(Ms=Eo()),Ms}function Nv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:sa(""+t)}function Dv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function hw(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Nv((h[Et]||null).action),_=l.submitter;_&&(i=(i=_[Et]||null)?Nv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new aa("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ms!==0){var O=_?Dv(h,_):new FormData(h);Kf(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(T.preventDefault(),O=_?Dv(h,_):new FormData(h),Kf(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var Cd=0;Cd<hf.length;Cd++){var Id=hf[Cd],fw=Id.toLowerCase(),dw=Id[0].toUpperCase()+Id.slice(1);qn(fw,"on"+dw)}qn(ug,"onAnimationEnd"),qn(cg,"onAnimationIteration"),qn(hg,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(DS,"onTransitionRun"),qn(OS,"onTransitionStart"),qn(xS,"onTransitionCancel"),qn(fg,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function Ov(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],O=T.instance,q=T.currentTarget;if(T=T.listener,O!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(J){ic(J)}h.currentTarget=null,d=O}else for(_=0;_<l.length;_++){if(T=l[_],O=T.instance,q=T.currentTarget,T=T.listener,O!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(J){ic(J)}h.currentTarget=null,d=O}}}}function Pe(t,i){var a=i[wo];a===void 0&&(a=i[wo]=new Set);var l=t+"__bubble";a.has(l)||(xv(i,t,2,!1),a.add(l))}function Nd(t,i,a){var l=0;i&&(l|=4),xv(a,t,l,i)}var yc="_reactListening"+Math.random().toString(36).slice(2);function Dd(t){if(!t[yc]){t[yc]=!0,bo.forEach(function(a){a!=="selectionchange"&&(mw.has(a)||Nd(a,!1,t),Nd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[yc]||(i[yc]=!0,Nd("selectionchange",!1,i))}}function xv(t,i,a,l){switch(n_(i)){case 2:var h=Bw;break;case 8:h=Hw;break;default:h=Fd}a=h.bind(null,i,a,t),h=void 0,!Dn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Od(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Ci(T),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=d=_;continue e}T=T.parentNode}}l=l.return}_u(function(){var q=d,J=Nn(a),ee=[];e:{var K=dg.get(t);if(K!==void 0){var Y=aa,we=t;switch(t){case"keypress":if(si(a)===0)break e;case"keydown":case"keyup":Y=fa;break;case"focusin":we="focus",Y=ua;break;case"focusout":we="blur",Y=ua;break;case"beforeblur":case"afterblur":Y=ua;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Cu;break;case ug:case cg:case hg:Y=ca;break;case fg:Y=Nu;break;case"scroll":case"scrollend":Y=Eu;break;case"wheel":Y=da;break;case"copy":case"cut":case"paste":Y=ha;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Lo;break;case"toggle":case"beforetoggle":Y=Ou}var _e=(i&4)!==0,tt=!_e&&(t==="scroll"||t==="scrollend"),j=_e?K!==null?K+"Capture":null:K;_e=[];for(var L=q,H;L!==null;){var Z=L;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||j===null||(Z=fs(L,j),Z!=null&&_e.push(ml(L,Z,H))),tt)break;L=L.return}0<_e.length&&(K=new Y(K,we,null,a,J),ee.push({event:K,listeners:_e}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",K&&a!==Oi&&(we=a.relatedTarget||a.fromElement)&&(Ci(we)||we[Cn]))break e;if((Y||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(we=a.relatedTarget||a.toElement,Y=q,we=we?Ci(we):null,we!==null&&(tt=u(we),_e=we.tag,we!==tt||_e!==5&&_e!==27&&_e!==6)&&(we=null)):(Y=null,we=q),Y!==we)){if(_e=On,Z="onMouseLeave",j="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Lo,Z="onPointerLeave",j="onPointerEnter",L="pointer"),tt=Y==null?K:ti(Y),H=we==null?K:ti(we),K=new _e(Z,L+"leave",Y,a,J),K.target=tt,K.relatedTarget=H,Z=null,Ci(J)===q&&(_e=new _e(j,L+"enter",we,a,J),_e.target=H,_e.relatedTarget=tt,Z=_e),tt=Z,Y&&we)t:{for(_e=Y,j=we,L=0,H=_e;H;H=Ua(H))L++;for(H=0,Z=j;Z;Z=Ua(Z))H++;for(;0<L-H;)_e=Ua(_e),L--;for(;0<H-L;)j=Ua(j),H--;for(;L--;){if(_e===j||j!==null&&_e===j.alternate)break t;_e=Ua(_e),j=Ua(j)}_e=null}else _e=null;Y!==null&&Mv(ee,K,Y,_e,!1),we!==null&&tt!==null&&Mv(ee,tt,we,_e,!0)}}e:{if(K=q?ti(q):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var he=Zp;else if(Ct(K))if(Wp)he=CS;else{he=bS;var ke=wS}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?q&&Do(q.elementType)&&(he=Zp):he=RS;if(he&&(he=he(t,q))){Pi(ee,he,a,J);break e}ke&&ke(t,K,q),t==="focusout"&&q&&K.type==="number"&&q.memoizedProps.value!=null&&fr(K,"number",K.value)}switch(ke=q?ti(q):window,t){case"focusin":(Ct(ke)||ke.contentEditable==="true")&&(ma=ke,lf=q,zo=null);break;case"focusout":zo=lf=ma=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,og(ee,a,J);break;case"selectionchange":if(NS)break;case"keydown":case"keyup":og(ee,a,J)}var pe;if(li)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else je?Q(t,a)&&(Ee="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(v&&a.locale!=="ko"&&(je||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&je&&(pe=xo()):(ri=J,dr="value"in ri?ri.value:ri.textContent,je=!0)),ke=vc(q,Ee),0<ke.length&&(Ee=new Vo(Ee,t,null,a,J),ee.push({event:Ee,listeners:ke}),pe?Ee.data=pe:(pe=oe(a),pe!==null&&(Ee.data=pe)))),(pe=y?Rt(t,a):ze(t,a))&&(Ee=vc(q,"onBeforeInput"),0<Ee.length&&(ke=new Vo("onBeforeInput","beforeinput",null,a,J),ee.push({event:ke,listeners:Ee}),ke.data=pe)),hw(ee,t,q,a,J)}Ov(ee,i)})}function ml(t,i,a){return{instance:t,listener:i,currentTarget:a}}function vc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=fs(t,a),h!=null&&l.unshift(ml(t,h,d)),h=fs(t,i),h!=null&&l.push(ml(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Mv(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,O=T.alternate,q=T.stateNode;if(T=T.tag,O!==null&&O===l)break;T!==5&&T!==26&&T!==27||q===null||(O=q,h?(q=fs(a,d),q!=null&&_.unshift(ml(a,q,O))):h||(q=fs(a,d),q!=null&&_.push(ml(a,q,O)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var pw=/\r\n?/g,gw=/\u0000|\uFFFD/g;function kv(t){return(typeof t=="string"?t:""+t).replace(pw,`
`).replace(gw,"")}function Vv(t,i){return i=kv(i),kv(t)===i}function _c(){}function et(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||In(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&In(t,""+l);break;case"className":ni(t,"class",l);break;case"tabIndex":ni(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(t,a,l);break;case"style":No(t,l,d);break;case"data":if(i!=="object"){ni(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=sa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&et(t,i,"name",h.name,h,null),et(t,i,"formEncType",h.formEncType,h,null),et(t,i,"formMethod",h.formMethod,h,null),et(t,i,"formTarget",h.formTarget,h,null)):(et(t,i,"encType",h.encType,h,null),et(t,i,"method",h.method,h,null),et(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=sa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=_c);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=sa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),hr(t,"popover",l);break;case"xlinkActuate":zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ef.get(a)||a,hr(t,a,l))}}function xd(t,i,a,l,h,d){switch(a){case"style":No(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?In(t,l):(typeof l=="number"||typeof l=="bigint")&&In(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=_c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ea.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Et]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):hr(t,a,l)}}}function Ft(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,d,_,a,null)}}h&&et(t,i,"srcSet",a.srcSet,a,null),l&&et(t,i,"src",a.src,a,null);return;case"input":Pe("invalid",t);var T=d=_=h=null,O=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":h=J;break;case"type":_=J;break;case"checked":O=J;break;case"defaultChecked":q=J;break;case"value":d=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:et(t,i,l,J,a,null)}}us(t,d,T,O,q,_,h,!1),ra(t);return;case"select":Pe("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:et(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Di(t,!!l,i,!1):a!=null&&Di(t,!!l,a,!0);return;case"textarea":Pe("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:et(t,i,_,T,a,null)}cs(t,l,h,d),ra(t);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,i,O,l,a,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<dl.length;l++)Pe(dl[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,q,l,a,null)}return;default:if(Do(i)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&xd(t,i,J,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&et(t,i,T,l,a,null))}function yw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,O=null,q=null,J=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=ee;default:l.hasOwnProperty(Y)||et(t,i,Y,null,l,ee)}}for(var K in l){var Y=l[K];if(ee=a[K],l.hasOwnProperty(K)&&(Y!=null||ee!=null))switch(K){case"type":d=Y;break;case"name":h=Y;break;case"checked":q=Y;break;case"defaultChecked":J=Y;break;case"value":_=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==ee&&et(t,i,K,Y,l,ee)}}gn(t,_,T,O,q,J,d,h);return;case"select":Y=_=T=K=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Y=O;default:l.hasOwnProperty(d)||et(t,i,d,null,l,O)}for(h in l)if(d=l[h],O=a[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":K=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==O&&et(t,i,h,d,l,O)}i=T,a=_,l=Y,K!=null?Di(t,!!a,K,!1):!!l!=!!a&&(i!=null?Di(t,!!a,i,!0):Di(t,!!a,a?[]:"",!1));return;case"textarea":Y=K=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":K=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&et(t,i,_,h,l,d)}Ze(t,K,Y);return;case"option":for(var we in a)if(K=a[we],a.hasOwnProperty(we)&&K!=null&&!l.hasOwnProperty(we))switch(we){case"selected":t.selected=!1;break;default:et(t,i,we,null,l,K)}for(O in l)if(K=l[O],Y=a[O],l.hasOwnProperty(O)&&K!==Y&&(K!=null||Y!=null))switch(O){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:et(t,i,O,K,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)K=a[_e],a.hasOwnProperty(_e)&&K!=null&&!l.hasOwnProperty(_e)&&et(t,i,_e,null,l,K);for(q in l)if(K=l[q],Y=a[q],l.hasOwnProperty(q)&&K!==Y&&(K!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:et(t,i,q,K,l,Y)}return;default:if(Do(i)){for(var tt in a)K=a[tt],a.hasOwnProperty(tt)&&K!==void 0&&!l.hasOwnProperty(tt)&&xd(t,i,tt,void 0,l,K);for(J in l)K=l[J],Y=a[J],!l.hasOwnProperty(J)||K===Y||K===void 0&&Y===void 0||xd(t,i,J,K,l,Y);return}}for(var j in a)K=a[j],a.hasOwnProperty(j)&&K!=null&&!l.hasOwnProperty(j)&&et(t,i,j,null,l,K);for(ee in l)K=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||K===Y||K==null&&Y==null||et(t,i,ee,K,l,Y)}var Md=null,kd=null;function Ec(t){return t.nodeType===9?t:t.ownerDocument}function Pv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Vd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Pd=null;function vw(){var t=window.event;return t&&t.type==="popstate"?t===Pd?!1:(Pd=t,!0):(Pd=null,!1)}var Uv=typeof setTimeout=="function"?setTimeout:void 0,_w=typeof clearTimeout=="function"?clearTimeout:void 0,jv=typeof Promise=="function"?Promise:void 0,Ew=typeof queueMicrotask=="function"?queueMicrotask:typeof jv<"u"?function(t){return jv.resolve(null).then(t).catch(Tw)}:Uv;function Tw(t){setTimeout(function(){throw t})}function Nr(t){return t==="head"}function zv(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=t.ownerDocument;if(a&1&&pl(_.documentElement),a&2&&pl(_.body),a&4)for(a=_.head,pl(a),_=a.firstChild;_;){var T=_.nextSibling,O=_.nodeName;_[ss]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=T}}if(h===0){t.removeChild(d),Sl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Sl(i)}function Ld(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ld(a),cr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Aw(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ss])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function Sw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Gn(t.nextSibling),t===null))return null;return t}function Ud(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function ww(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Gn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var jd=null;function Bv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Hv(t,i,a){switch(i=Ec(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function pl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);cr(t)}var Un=new Map,qv=new Set;function Tc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $i=ne.d;ne.d={f:bw,r:Rw,D:Cw,C:Iw,L:Nw,m:Dw,X:xw,S:Ow,M:Mw};function bw(){var t=$i.f(),i=fc();return t||i}function Rw(t){var i=ei(t);i!==null&&i.tag===5&&i.type==="form"?uy(i):$i.r(t)}var ja=typeof document>"u"?null:document;function Fv(t,i,a){var l=ja;if(l&&typeof i=="string"&&i){var h=Tt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),qv.has(h)||(qv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",t),pt(i),l.head.appendChild(i)))}}function Cw(t){$i.D(t),Fv("dns-prefetch",t,null)}function Iw(t,i){$i.C(t,i),Fv("preconnect",t,i)}function Nw(t,i,a){$i.L(t,i,a);var l=ja;if(l&&t&&i){var h='link[rel="preload"][as="'+Tt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Tt(a.imageSizes)+'"]')):h+='[href="'+Tt(t)+'"]';var d=h;switch(i){case"style":d=za(t);break;case"script":d=Ba(t)}Un.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Un.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(gl(d))||i==="script"&&l.querySelector(yl(d))||(i=l.createElement("link"),Ft(i,"link",t),pt(i),l.head.appendChild(i)))}}function Dw(t,i){$i.m(t,i);var a=ja;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Tt(l)+'"][href="'+Tt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ba(t)}if(!Un.has(d)&&(t=E({rel:"modulepreload",href:t},i),Un.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(yl(d)))return}l=a.createElement("link"),Ft(l,"link",t),pt(l),a.head.appendChild(l)}}}function Ow(t,i,a){$i.S(t,i,a);var l=ja;if(l&&t){var h=nn(l).hoistableStyles,d=za(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(gl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Un.get(d))&&zd(t,a);var O=_=l.createElement("link");pt(O),Ft(O,"link",t),O._p=new Promise(function(q,J){O.onload=q,O.onerror=J}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ac(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function xw(t,i){$i.X(t,i);var a=ja;if(a&&t){var l=nn(a).hoistableScripts,h=Ba(t),d=l.get(h);d||(d=a.querySelector(yl(h)),d||(t=E({src:t,async:!0},i),(i=Un.get(h))&&Bd(t,i),d=a.createElement("script"),pt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Mw(t,i){$i.M(t,i);var a=ja;if(a&&t){var l=nn(a).hoistableScripts,h=Ba(t),d=l.get(h);d||(d=a.querySelector(yl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Un.get(h))&&Bd(t,i),d=a.createElement("script"),pt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Gv(t,i,a,l){var h=(h=Ae.current)?Tc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=za(a.href),a=nn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=za(a.href);var d=nn(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(gl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),d||kw(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ba(a),a=nn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function za(t){return'href="'+Tt(t)+'"'}function gl(t){return'link[rel="stylesheet"]['+t+"]"}function Kv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function kw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),pt(i),t.head.appendChild(i))}function Ba(t){return'[src="'+Tt(t)+'"]'}function yl(t){return"script[async]"+t}function Yv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Tt(a.href)+'"]');if(l)return i.instance=l,pt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),pt(l),Ft(l,"style",h),Ac(l,a.precedence,t),i.instance=l;case"stylesheet":h=za(a.href);var d=t.querySelector(gl(h));if(d)return i.state.loading|=4,i.instance=d,pt(d),d;l=Kv(a),(h=Un.get(h))&&zd(l,h),d=(t.ownerDocument||t).createElement("link"),pt(d);var _=d;return _._p=new Promise(function(T,O){_.onload=T,_.onerror=O}),Ft(d,"link",l),i.state.loading|=4,Ac(d,a.precedence,t),i.instance=d;case"script":return d=Ba(a.src),(h=t.querySelector(yl(d)))?(i.instance=h,pt(h),h):(l=a,(h=Un.get(d))&&(l=E({},a),Bd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),pt(h),Ft(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ac(l,a.precedence,t));return i.instance}function Ac(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Bd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Sc=null;function Qv(t,i,a){if(Sc===null){var l=new Map,h=Sc=new Map;h.set(a,l)}else h=Sc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ss]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function $v(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Vw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Xv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var vl=null;function Pw(){}function Lw(t,i,a){if(vl===null)throw Error(s(475));var l=vl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=za(a.href),d=t.querySelector(gl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=wc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,pt(d);return}d=t.ownerDocument||t,a=Kv(a),(h=Un.get(h))&&zd(a,h),d=d.createElement("link"),pt(d);var _=d;_._p=new Promise(function(T,O){_.onload=T,_.onerror=O}),Ft(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=wc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function Uw(){if(vl===null)throw Error(s(475));var t=vl;return t.stylesheets&&t.count===0&&Hd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Hd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function wc(){if(this.count--,this.count===0){if(this.stylesheets)Hd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bc=null;function Hd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bc=new Map,i.forEach(jw,t),bc=null,wc.call(t))}function jw(t,i){if(!(i.state.loading&4)){var a=bc.get(t);if(a)var l=a.get(null);else{a=new Map,bc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=wc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var _l={$$typeof:re,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function zw(t,i,a,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Jv(t,i,a,l,h,d,_,T,O,q,J,ee){return t=new zw(t,i,a,_,T,O,q,ee),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=Sf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Cf(d),t}function Zv(t){return t?(t=va,t):va}function Wv(t,i,a,l,h,d){h=Zv(h),l.context===null?l.context=h:l.pendingContext=h,l=gr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=yr(t,l,i),a!==null&&(Sn(a,t,i),$o(a,t,i))}function e_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function qd(t,i){e_(t,i),(t=t.alternate)&&e_(t,i)}function t_(t){if(t.tag===13){var i=ya(t,67108864);i!==null&&Sn(i,t,67108864),qd(t,67108864)}}var Rc=!0;function Bw(t,i,a,l){var h=F.T;F.T=null;var d=ne.p;try{ne.p=2,Fd(t,i,a,l)}finally{ne.p=d,F.T=h}}function Hw(t,i,a,l){var h=F.T;F.T=null;var d=ne.p;try{ne.p=8,Fd(t,i,a,l)}finally{ne.p=d,F.T=h}}function Fd(t,i,a,l){if(Rc){var h=Gd(l);if(h===null)Od(t,i,l,Cc,a),i_(t,l);else if(Fw(h,t,i,a,l))l.stopPropagation();else if(i_(t,l),i&4&&-1<qw.indexOf(t)){for(;h!==null;){var d=ei(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=zn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var O=1<<31-Qt(_);T.entanglements[1]|=O,_&=~O}mi(d),($e&6)===0&&(cc=Rn()+500,fl(0))}}break;case 13:T=ya(d,2),T!==null&&Sn(T,d,2),fc(),qd(d,2)}if(d=Gd(l),d===null&&Od(t,i,l,Cc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Od(t,i,l,null,a)}}function Gd(t){return t=Nn(t),Kd(t)}var Cc=null;function Kd(t){if(Cc=null,t=Ci(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Cc=t,null}function n_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qh()){case yo:return 2;case Xs:return 8;case es:case $h:return 32;case Js:return 268435456;default:return 32}default:return 32}}var Yd=!1,Dr=null,Or=null,xr=null,El=new Map,Tl=new Map,Mr=[],qw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i_(t,i){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":El.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(i.pointerId)}}function Al(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ei(i),i!==null&&t_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Fw(t,i,a,l,h){switch(i){case"focusin":return Dr=Al(Dr,t,i,a,l,h),!0;case"dragenter":return Or=Al(Or,t,i,a,l,h),!0;case"mouseover":return xr=Al(xr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return El.set(d,Al(El.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Tl.set(d,Al(Tl.get(d)||null,t,i,a,l,h)),!0}return!1}function r_(t){var i=Ci(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,fu(t.priority,function(){if(a.tag===13){var l=An();l=or(l);var h=ya(a,l);h!==null&&Sn(h,a,l),qd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ic(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Gd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Oi=l,a.target.dispatchEvent(l),Oi=null}else return i=ei(a),i!==null&&t_(i),t.blockedOn=a,!1;i.shift()}return!0}function s_(t,i,a){Ic(t)&&a.delete(i)}function Gw(){Yd=!1,Dr!==null&&Ic(Dr)&&(Dr=null),Or!==null&&Ic(Or)&&(Or=null),xr!==null&&Ic(xr)&&(xr=null),El.forEach(s_),Tl.forEach(s_)}function Nc(t,i){t.blockedOn===i&&(t.blockedOn=null,Yd||(Yd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Gw)))}var Dc=null;function a_(t){Dc!==t&&(Dc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Dc===t&&(Dc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Kd(l||a)===null)continue;break}var d=ei(a);d!==null&&(t.splice(i,3),i-=3,Kf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Sl(t){function i(O){return Nc(O,t)}Dr!==null&&Nc(Dr,t),Or!==null&&Nc(Or,t),xr!==null&&Nc(xr,t),El.forEach(i),Tl.forEach(i);for(var a=0;a<Mr.length;a++){var l=Mr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Mr.length&&(a=Mr[0],a.blockedOn===null);)r_(a),a.blockedOn===null&&Mr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Et]||null;if(typeof d=="function")_||a_(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Et]||null)T=_.formAction;else if(Kd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),a_(a)}}}function Qd(t){this._internalRoot=t}Oc.prototype.render=Qd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=An();Wv(a,l,t,i,null,null)},Oc.prototype.unmount=Qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Wv(t.current,2,null,t,null,null),fc(),i[Cn]=null}};function Oc(t){this._internalRoot=t}Oc.prototype.unstable_scheduleHydration=function(t){if(t){var i=lr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Mr.length&&i!==0&&i<Mr[a].priority;a++);Mr.splice(a,0,t),a===0&&r_(t)}};var o_=e.version;if(o_!=="19.1.0")throw Error(s(527,o_,"19.1.0"));ne.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var Kw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{ht=xc.inject(Kw),Qe=xc}catch{}}return bl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Sy,d=wy,_=by,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=Jv(t,1,!1,null,null,a,l,h,d,_,T,null),t[Cn]=i.current,Dd(t),new Qd(i)},bl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Sy,_=wy,T=by,O=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),i=Jv(t,1,!0,i,a??null,l,h,d,_,T,O,q),i.context=Zv(null),a=i.current,l=An(),l=or(l),h=gr(l),h.callback=null,yr(a,h,l),a=l,i.current.lanes=a,Ri(i,a),mi(i),t[Cn]=i.current,Dd(t),new Oc(i)},bl.version="19.1.0",bl}var y_;function rb(){if(y_)return Jd.exports;y_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jd.exports=ib(),Jd.exports}var sb=rb(),Rl={},v_;function ab(){if(v_)return Rl;v_=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.parse=f,Rl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,I){const x=new u,U=S.length;if(U<2)return x;const z=(I==null?void 0:I.decode)||E;let $=0;do{const X=S.indexOf("=",$);if(X===-1)break;const re=S.indexOf(";",$),fe=re===-1?U:re;if(X>fe){$=S.lastIndexOf(";",X-1)+1;continue}const ue=m(S,$,X),Re=p(S,X,ue),P=S.slice(ue,Re);if(x[P]===void 0){let C=m(S,X+1,fe),N=p(S,fe,C);const b=z(S.slice(C,N));x[P]=b}$=fe+1}while($<U);return x}function m(S,I,x){do{const U=S.charCodeAt(I);if(U!==32&&U!==9)return I}while(++I<x);return x}function p(S,I,x){for(;I>x;){const U=S.charCodeAt(--I);if(U!==32&&U!==9)return I+1}return x}function g(S,I,x){const U=(x==null?void 0:x.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const z=U(I);if(!e.test(z))throw new TypeError(`argument val is invalid: ${I}`);let $=S+"="+z;if(!x)return $;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);$+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);$+="; Domain="+x.domain}if(x.path){if(!s.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);$+="; Path="+x.path}if(x.expires){if(!w(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);$+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&($+="; HttpOnly"),x.secure&&($+="; Secure"),x.partitioned&&($+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return $}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function w(S){return o.call(S)==="[object Date]"}return Rl}ab();var __="popstate";function ob(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return ym("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:zl(o)}return ub(e,n,null,r)}function ot(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function $n(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lb(){return Math.random().toString(36).substring(2,10)}function E_(r,e){return{usr:r.state,key:r.key,idx:e}}function ym(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?so(e):e,state:n,key:e&&e.key||s||lb()}}function zl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function so(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function ub(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let z=E(),$=z==null?null:z-g;g=z,p&&p({action:m,location:U.location,delta:$})}function S(z,$){m="PUSH";let X=ym(U.location,z,$);g=E()+1;let re=E_(X,g),fe=U.createHref(X);try{f.pushState(re,"",fe)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(fe)}u&&p&&p({action:m,location:U.location,delta:1})}function I(z,$){m="REPLACE";let X=ym(U.location,z,$);g=E();let re=E_(X,g),fe=U.createHref(X);f.replaceState(re,"",fe),u&&p&&p({action:m,location:U.location,delta:0})}function x(z){return cb(z)}let U={get action(){return m},get location(){return r(o,f)},listen(z){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(__,w),p=z,()=>{o.removeEventListener(__,w),p=null}},createHref(z){return e(o,z)},createURL:x,encodeLocation(z){let $=x(z);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:S,replace:I,go(z){return f.go(z)}};return U}function cb(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:zl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function a0(r,e,n="/"){return hb(r,e,n,!1)}function hb(r,e,n,s){let o=typeof e=="string"?so(e):e,u=tr(o.pathname||"/",n);if(u==null)return null;let f=o0(r);fb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Sb(u);m=Tb(f[p],g,s)}return m}function o0(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ot(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Wi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(ot(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),o0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:_b(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of l0(u.path))o(u,f,p)}),e}function l0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=l0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function fb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Eb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var db=/^:[\w-]+$/,mb=3,pb=2,gb=1,yb=10,vb=-2,T_=r=>r==="*";function _b(r,e){let n=r.split("/"),s=n.length;return n.some(T_)&&(s+=vb),e&&(s+=pb),n.filter(o=>!T_(o)).reduce((o,u)=>o+(db.test(u)?mb:u===""?gb:yb),s)}function Eb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Tb(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=Wc({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=Wc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Wi([u,w.pathname]),pathnameBase:Cb(Wi([u,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(u=Wi([u,w.pathnameBase]))}return f}function Wc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Ab(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},S)=>{if(E==="*"){let x=m[S]||"";f=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const I=m[S];return w&&!I?g[E]=void 0:g[E]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function Ab(r,e=!1,n=!0){$n(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Sb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function tr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function wb(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?so(r):r;return{pathname:n?n.startsWith("/")?n:bb(n,e):e,search:Ib(s),hash:Nb(o)}}function bb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function tm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qm(r){let e=Rb(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function $m(r,e,n,s=!1){let o;typeof r=="string"?o=so(r):(o={...r},ot(!o.pathname||!o.pathname.includes("?"),tm("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),tm("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),tm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}m=w>=0?e[w]:"/"}let p=wb(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Wi=r=>r.join("/").replace(/\/\/+/g,"/"),Cb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Ib=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Nb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Db(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var u0=["POST","PUT","PATCH","DELETE"];new Set(u0);var Ob=["GET",...u0];new Set(Ob);var ao=G.createContext(null);ao.displayName="DataRouter";var Th=G.createContext(null);Th.displayName="DataRouterState";var c0=G.createContext({isTransitioning:!1});c0.displayName="ViewTransition";var xb=G.createContext(new Map);xb.displayName="Fetchers";var Mb=G.createContext(null);Mb.displayName="Await";var Jn=G.createContext(null);Jn.displayName="Navigation";var Jl=G.createContext(null);Jl.displayName="Location";var wi=G.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var Xm=G.createContext(null);Xm.displayName="RouteError";function kb(r,{relative:e}={}){ot(oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(Jn),{hash:o,pathname:u,search:f}=Zl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Wi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function oo(){return G.useContext(Jl)!=null}function Jr(){return ot(oo(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Jl).location}var h0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function f0(r){G.useContext(Jn).static||G.useLayoutEffect(r)}function d0(){let{isDataRoute:r}=G.useContext(wi);return r?Yb():Vb()}function Vb(){ot(oo(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(ao),{basename:e,navigator:n}=G.useContext(Jn),{matches:s}=G.useContext(wi),{pathname:o}=Jr(),u=JSON.stringify(Qm(s)),f=G.useRef(!1);return f0(()=>{f.current=!0}),G.useCallback((p,g={})=>{if($n(f.current,h0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=$m(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Wi([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}G.createContext(null);function Zl(r,{relative:e}={}){let{matches:n}=G.useContext(wi),{pathname:s}=Jr(),o=JSON.stringify(Qm(n));return G.useMemo(()=>$m(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Pb(r,e){return m0(r,e)}function m0(r,e,n,s){var $;ot(oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=G.useContext(Jn),{matches:u}=G.useContext(wi),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let X=E&&E.path||"";p0(p,!E||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let w=Jr(),S;if(e){let X=typeof e=="string"?so(e):e;ot(g==="/"||(($=X.pathname)==null?void 0:$.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${X.pathname}" was given in the \`location\` prop.`),S=X}else S=w;let I=S.pathname||"/",x=I;if(g!=="/"){let X=g.replace(/^\//,"").split("/");x="/"+I.replace(/^\//,"").split("/").slice(X.length).join("/")}let U=a0(r,{pathname:x});$n(E||U!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),$n(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=Bb(U&&U.map(X=>Object.assign({},X,{params:Object.assign({},m,X.params),pathname:Wi([g,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?g:Wi([g,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),u,n,s);return e&&z?G.createElement(Jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},z):z}function Lb(){let r=Kb(),e=Db(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,f)}var Ub=G.createElement(Lb,null),jb=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?G.createElement(wi.Provider,{value:this.props.routeContext},G.createElement(Xm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zb({routeContext:r,match:e,children:n}){let s=G.useContext(ao);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(wi.Provider,{value:r},n)}function Bb(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ot(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:w}=n,S=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let w,S=!1,I=null,x=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,I=g.route.errorElement||Ub,f&&(m<0&&E===0?(p0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,x=null):m===E&&(S=!0,x=g.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,E+1)),z=()=>{let $;return w?$=I:S?$=x:g.route.Component?$=G.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,G.createElement(zb,{match:g,routeContext:{outlet:p,matches:U,isDataRoute:n!=null},children:$})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?G.createElement(jb,{location:n.location,revalidation:n.revalidation,component:I,error:w,children:z(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):z()},null)}function Jm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hb(r){let e=G.useContext(ao);return ot(e,Jm(r)),e}function qb(r){let e=G.useContext(Th);return ot(e,Jm(r)),e}function Fb(r){let e=G.useContext(wi);return ot(e,Jm(r)),e}function Zm(r){let e=Fb(r),n=e.matches[e.matches.length-1];return ot(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Gb(){return Zm("useRouteId")}function Kb(){var s;let r=G.useContext(Xm),e=qb("useRouteError"),n=Zm("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function Yb(){let{router:r}=Hb("useNavigate"),e=Zm("useNavigate"),n=G.useRef(!1);return f0(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{$n(n.current,h0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var A_={};function p0(r,e,n){!e&&!A_[r]&&(A_[r]=!0,$n(!1,n))}G.memo(Qb);function Qb({routes:r,future:e,state:n}){return m0(r,void 0,n,e)}function g0({to:r,replace:e,state:n,relative:s}){ot(oo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(Jn);$n(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(wi),{pathname:f}=Jr(),m=d0(),p=$m(r,Qm(u),f,s==="path"),g=JSON.stringify(p);return G.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function vm(r){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $b({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ot(!oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=so(n));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:S="default"}=n,I=G.useMemo(()=>{let x=tr(p,f);return x==null?null:{location:{pathname:x,search:g,hash:E,state:w,key:S},navigationType:s}},[f,p,g,E,w,S,s]);return $n(I!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:G.createElement(Jn.Provider,{value:m},G.createElement(Jl.Provider,{children:e,value:I}))}function Xb({children:r,location:e}){return Pb(_m(r),e)}function _m(r,e=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){n.push.apply(n,_m(s.props.children,u));return}ot(s.type===vm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=_m(s.props.children,u)),n.push(f)}),n}var Bc="get",Hc="application/x-www-form-urlencoded";function Ah(r){return r!=null&&typeof r.tagName=="string"}function Jb(r){return Ah(r)&&r.tagName.toLowerCase()==="button"}function Zb(r){return Ah(r)&&r.tagName.toLowerCase()==="form"}function Wb(r){return Ah(r)&&r.tagName.toLowerCase()==="input"}function e1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function t1(r,e){return r.button===0&&(!e||e==="_self")&&!e1(r)}var Mc=null;function n1(){if(Mc===null)try{new FormData(document.createElement("form"),0),Mc=!1}catch{Mc=!0}return Mc}var i1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nm(r){return r!=null&&!i1.has(r)?($n(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hc}"`),null):r}function r1(r,e){let n,s,o,u,f;if(Zb(r)){let m=r.getAttribute("action");s=m?tr(m,e):null,n=r.getAttribute("method")||Bc,o=nm(r.getAttribute("enctype"))||Hc,u=new FormData(r)}else if(Jb(r)||Wb(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?tr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Bc,o=nm(r.getAttribute("formenctype"))||nm(m.getAttribute("enctype"))||Hc,u=new FormData(m,r),!n1()){let{name:g,type:E,value:w}=r;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,w)}}else{if(Ah(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bc,s=null,o=Hc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Wm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function s1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function a1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function o1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await s1(u,n);return f.links?f.links():[]}return[]}));return h1(s.flat(1).filter(a1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function S_(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function l1(r,e,{includeHydrateFallback:n}={}){return u1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function u1(r){return[...new Set(r)]}function c1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function h1(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(c1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var f1=new Set([100,101,204,205]);function d1(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&tr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function y0(){let r=G.useContext(ao);return Wm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function m1(){let r=G.useContext(Th);return Wm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ep=G.createContext(void 0);ep.displayName="FrameworkContext";function v0(){let r=G.useContext(ep);return Wm(r,"You must render this element inside a <HydratedRouter> element"),r}function p1(r,e){let n=G.useContext(ep),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,S=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let U=$=>{$.forEach(X=>{f(X.isIntersecting)})},z=new IntersectionObserver(U,{threshold:.5});return S.current&&z.observe(S.current),()=>{z.disconnect()}}},[r]),G.useEffect(()=>{if(s){let U=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(U)}}},[s]);let I=()=>{o(!0)},x=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Cl(m,I),onBlur:Cl(p,x),onMouseEnter:Cl(g,I),onMouseLeave:Cl(E,x),onTouchStart:Cl(w,I)}]:[!1,S,{}]}function Cl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function g1({page:r,...e}){let{router:n}=y0(),s=G.useMemo(()=>a0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(v1,{page:r,matches:s,...e}):null}function y1(r){let{manifest:e,routeModules:n}=v0(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return o1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function v1({page:r,matches:e,...n}){let s=Jr(),{manifest:o,routeModules:u}=v0(),{basename:f}=y0(),{loaderData:m,matches:p}=m1(),g=G.useMemo(()=>S_(r,e,p,o,s,"data"),[r,e,p,o,s]),E=G.useMemo(()=>S_(r,e,p,o,s,"assets"),[r,e,p,o,s]),w=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let x=new Set,U=!1;if(e.forEach($=>{var re;let X=o.routes[$.route.id];!X||!X.hasLoader||(!g.some(fe=>fe.route.id===$.route.id)&&$.route.id in m&&((re=u[$.route.id])!=null&&re.shouldRevalidate)||X.hasClientLoader?U=!0:x.add($.route.id))}),x.size===0)return[];let z=d1(r,f);return U&&x.size>0&&z.searchParams.set("_routes",e.filter($=>x.has($.route.id)).map($=>$.route.id).join(",")),[z.pathname+z.search]},[f,m,s,o,g,e,r,u]),S=G.useMemo(()=>l1(E,o),[E,o]),I=y1(E);return G.createElement(G.Fragment,null,w.map(x=>G.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),S.map(x=>G.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),I.map(({key:x,link:U})=>G.createElement("link",{key:x,...U})))}function _1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_0&&(window.__reactRouterVersion="7.6.2")}catch{}function E1({basename:r,children:e,window:n}){let s=G.useRef();s.current==null&&(s.current=ob({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>f(p))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement($b,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var E0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T0=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,...S},I){let{basename:x}=G.useContext(Jn),U=typeof g=="string"&&E0.test(g),z,$=!1;if(typeof g=="string"&&U&&(z=g,_0))try{let N=new URL(window.location.href),b=g.startsWith("//")?new URL(N.protocol+g):new URL(g),D=tr(b.pathname,x);b.origin===N.origin&&D!=null?g=D+b.search+b.hash:$=!0}catch{$n(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=kb(g,{relative:o}),[re,fe,ue]=p1(s,S),Re=w1(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function P(N){e&&e(N),N.defaultPrevented||Re(N)}let C=G.createElement("a",{...S,...ue,href:z||X,onClick:$||u?e:P,ref:_1(I,fe),target:p,"data-discover":!U&&n==="render"?"true":void 0});return re&&!U?G.createElement(G.Fragment,null,C,G.createElement(g1,{page:X})):C});T0.displayName="Link";var T1=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let w=Zl(f,{relative:g.relative}),S=Jr(),I=G.useContext(Th),{navigator:x,basename:U}=G.useContext(Jn),z=I!=null&&N1(w)&&m===!0,$=x.encodeLocation?x.encodeLocation(w).pathname:w.pathname,X=S.pathname,re=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(X=X.toLowerCase(),re=re?re.toLowerCase():null,$=$.toLowerCase()),re&&U&&(re=tr(re,U)||re);const fe=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ue=X===$||!o&&X.startsWith($)&&X.charAt(fe)==="/",Re=re!=null&&(re===$||!o&&re.startsWith($)&&re.charAt($.length)==="/"),P={isActive:ue,isPending:Re,isTransitioning:z},C=ue?e:void 0,N;typeof s=="function"?N=s(P):N=[s,ue?"active":null,Re?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let b=typeof u=="function"?u(P):u;return G.createElement(T0,{...g,"aria-current":C,className:N,ref:E,style:b,to:f,viewTransition:m},typeof p=="function"?p(P):p)});T1.displayName="NavLink";var A1=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Bc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...S},I)=>{let x=C1(),U=I1(m,{relative:g}),z=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&E0.test(m),X=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let fe=re.nativeEvent.submitter,ue=(fe==null?void 0:fe.getAttribute("formmethod"))||f;x(fe||re.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return G.createElement("form",{ref:I,method:z,action:U,onSubmit:s?p:X,...S,"data-discover":!$&&r==="render"?"true":void 0})});A1.displayName="Form";function S1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A0(r){let e=G.useContext(ao);return ot(e,S1(r)),e}function w1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=d0(),p=Jr(),g=Zl(r,{relative:u});return G.useCallback(E=>{if(t1(E,e)){E.preventDefault();let w=n!==void 0?n:zl(p)===zl(g);m(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}var b1=0,R1=()=>`__${String(++b1)}__`;function C1(){let{router:r}=A0("useSubmit"),{basename:e}=G.useContext(Jn),n=Gb();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=r1(s,e);if(o.navigate===!1){let E=o.fetcherKey||R1();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function I1(r,{relative:e}={}){let{basename:n}=G.useContext(Jn),s=G.useContext(wi);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Zl(r||".",{relative:e})},f=Jr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Wi([n,u.pathname])),zl(u)}function N1(r,e={}){let n=G.useContext(c0);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=A0("useViewTransitionState"),o=Zl(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=tr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=tr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Wc(o.pathname,f)!=null||Wc(o.pathname,u)!=null}[...f1];const D1=()=>{};var w_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},O1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},w0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,I=g&63;p||(I=64,f||(S=64)),s.push(n[E],n[w],n[S],n[I])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(S0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):O1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new x1;const S=u<<2|m>>4;if(s.push(S),g!==64){const I=m<<4&240|g>>2;if(s.push(I),w!==64){const x=g<<6&192|w;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class x1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M1=function(r){const e=S0(r);return w0.encodeByteArray(e,!0)},eh=function(r){return M1(r).replace(/\./g,"")},b0=function(r){try{return w0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=()=>k1().__FIREBASE_DEFAULTS__,P1=()=>{if(typeof process>"u"||typeof w_>"u")return;const r=w_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},L1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&b0(r[1]);return e&&JSON.parse(e)},Sh=()=>{try{return D1()||V1()||P1()||L1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},R0=r=>{var e,n;return(n=(e=Sh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},U1=r=>{const e=R0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},C0=()=>{var r;return(r=Sh())===null||r===void 0?void 0:r.config},I0=r=>{var e;return(e=Sh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(r){return r.endsWith(".cloudworkstations.dev")}async function N0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[eh(JSON.stringify(n)),eh(JSON.stringify(f)),""].join(".")}const Ml={};function B1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?r.emulator.push(e):r.prod.push(e);return r}function H1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let b_=!1;function D0(r,e){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||Ml[r]===e||Ml[r]||b_)return;Ml[r]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=B1().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,I){S.setAttribute("width","24"),S.setAttribute("id",I),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{b_=!0,f()},S}function E(S,I){S.setAttribute("id",I),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=H1(s),I=n("text"),x=document.getElementById(I)||document.createElement("span"),U=n("learnmore"),z=document.getElementById(U)||document.createElement("a"),$=n("preprendIcon"),X=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const re=S.element;m(re),E(z,U);const fe=g();p(X,$),re.append(X,x,z,fe),document.body.appendChild(re)}u?(x.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function F1(){var r;const e=(r=Sh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function G1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function O0(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function K1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Y1(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Q1(){return!F1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x0(){try{return typeof indexedDB=="object"}catch{return!1}}function M0(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}function $1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="FirebaseError";class Zn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=X1,Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ks.prototype.create)}}class Ks{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?J1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Zn(o,m,s)}}function J1(r,e){return r.replace(Z1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Z1=/\{\$([^}]+)}/g;function W1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Fr(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(R_(u)&&R_(f)){if(!Fr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function R_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function eR(r,e){const n=new tR(r,e);return n.subscribe.bind(n)}class tR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");nR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=im),o.error===void 0&&(o.error=im),o.complete===void 0&&(o.complete=im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function im(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=1e3,rR=2,sR=4*60*60*1e3,aR=.5;function C_(r,e=iR,n=rR){const s=e*Math.pow(n,r),o=Math.round(aR*s*(Math.random()-.5)*2);return Math.min(sR,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(r){return r&&r._delegate?r._delegate:r}class Xn{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new j1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uR(e))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ks){return this.instances.has(e)}getOptions(e=ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:lR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ks){return this.component?this.component.multipleInstances?e:ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lR(r){return r===ks?void 0:r}function uR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const hR={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},fR=Le.INFO,dR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},mR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=dR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wh{constructor(e){this.name=e,this._logLevel=fR,this._logHandler=mR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const pR=(r,e)=>e.some(n=>r instanceof n);let I_,N_;function gR(){return I_||(I_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yR(){return N_||(N_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k0=new WeakMap,Em=new WeakMap,V0=new WeakMap,rm=new WeakMap,tp=new WeakMap;function vR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(zr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&k0.set(n,r)}).catch(()=>{}),tp.set(e,r),e}function _R(r){if(Em.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Em.set(r,e)}let Tm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Em.get(r);if(e==="objectStoreNames")return r.objectStoreNames||V0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function ER(r){Tm=r(Tm)}function TR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(sm(this),e,...n);return V0.set(s,e.sort?e.sort():[e]),zr(s)}:yR().includes(r)?function(...e){return r.apply(sm(this),e),zr(k0.get(this))}:function(...e){return zr(r.apply(sm(this),e))}}function AR(r){return typeof r=="function"?TR(r):(r instanceof IDBTransaction&&_R(r),pR(r,gR())?new Proxy(r,Tm):r)}function zr(r){if(r instanceof IDBRequest)return vR(r);if(rm.has(r))return rm.get(r);const e=AR(r);return e!==r&&(rm.set(r,e),tp.set(e,r)),e}const sm=r=>tp.get(r);function P0(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=zr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(zr(f.result),p.oldVersion,p.newVersion,zr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const SR=["get","getKey","getAll","getAllKeys","count"],wR=["put","add","delete","clear"],am=new Map;function D_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=wR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||SR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return am.set(e,u),u}ER(r=>({...r,get:(e,n,s)=>D_(e,n)||r.get(e,n,s),has:(e,n)=>!!D_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function RR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Am="@firebase/app",O_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new wh("@firebase/app"),CR="@firebase/app-compat",IR="@firebase/analytics-compat",NR="@firebase/analytics",DR="@firebase/app-check-compat",OR="@firebase/app-check",xR="@firebase/auth",MR="@firebase/auth-compat",kR="@firebase/database",VR="@firebase/data-connect",PR="@firebase/database-compat",LR="@firebase/functions",UR="@firebase/functions-compat",jR="@firebase/installations",zR="@firebase/installations-compat",BR="@firebase/messaging",HR="@firebase/messaging-compat",qR="@firebase/performance",FR="@firebase/performance-compat",GR="@firebase/remote-config",KR="@firebase/remote-config-compat",YR="@firebase/storage",QR="@firebase/storage-compat",$R="@firebase/firestore",XR="@firebase/ai",JR="@firebase/firestore-compat",ZR="firebase",WR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="[DEFAULT]",eC={[Am]:"fire-core",[CR]:"fire-core-compat",[NR]:"fire-analytics",[IR]:"fire-analytics-compat",[OR]:"fire-app-check",[DR]:"fire-app-check-compat",[xR]:"fire-auth",[MR]:"fire-auth-compat",[kR]:"fire-rtdb",[VR]:"fire-data-connect",[PR]:"fire-rtdb-compat",[LR]:"fire-fn",[UR]:"fire-fn-compat",[jR]:"fire-iid",[zR]:"fire-iid-compat",[BR]:"fire-fcm",[HR]:"fire-fcm-compat",[qR]:"fire-perf",[FR]:"fire-perf-compat",[GR]:"fire-rc",[KR]:"fire-rc-compat",[YR]:"fire-gcs",[QR]:"fire-gcs-compat",[$R]:"fire-fst",[JR]:"fire-fst-compat",[XR]:"fire-vertex","fire-js":"fire-js",[ZR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Map,tC=new Map,wm=new Map;function x_(r,e){try{r.container.addComponent(e)}catch(n){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ei(r){const e=r.name;if(wm.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,r);for(const n of th.values())x_(n,r);for(const n of tC.values())x_(n,r);return!0}function Ys(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Kn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new Ks("app","Firebase",nC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=WR;function L0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Sm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Br.create("bad-app-name",{appName:String(o)});if(n||(n=C0()),!n)throw Br.create("no-options");const u=th.get(o);if(u){if(Fr(n,u.options)&&Fr(s,u.config))return u;throw Br.create("duplicate-app",{appName:o})}const f=new cR(o);for(const p of wm.values())f.addComponent(p);const m=new iC(n,s,f);return th.set(o,m),m}function np(r=Sm){const e=th.get(r);if(!e&&r===Sm&&C0())return L0();if(!e)throw Br.create("no-app",{appName:r});return e}function jn(r,e,n){var s;let o=(s=eC[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(m.join(" "));return}Ei(new Xn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="firebase-heartbeat-database",sC=1,Bl="firebase-heartbeat-store";let om=null;function U0(){return om||(om=P0(rC,sC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Bl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Br.create("idb-open",{originalErrorMessage:r.message})})),om}async function aC(r){try{const n=(await U0()).transaction(Bl),s=await n.objectStore(Bl).get(j0(r));return await n.done,s}catch(e){if(e instanceof Zn)nr.warn(e.message);else{const n=Br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nr.warn(n.message)}}}async function M_(r,e){try{const s=(await U0()).transaction(Bl,"readwrite");await s.objectStore(Bl).put(e,j0(r)),await s.done}catch(n){if(n instanceof Zn)nr.warn(n.message);else{const s=Br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});nr.warn(s.message)}}}function j0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=1024,lC=30;class uC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=k_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>lC){const f=fC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){nr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=k_(),{heartbeatsToSend:s,unsentEntries:o}=cC(this._heartbeatsCache.heartbeats),u=eh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return nr.warn(n),""}}}function k_(){return new Date().toISOString().substring(0,10)}function cC(r,e=oC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),V_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),V_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class hC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x0()?M0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return M_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return M_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function V_(r){return eh(JSON.stringify({version:2,heartbeats:r})).length}function fC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(r){Ei(new Xn("platform-logger",e=>new bR(e),"PRIVATE")),Ei(new Xn("heartbeat",e=>new uC(e),"PRIVATE")),jn(Am,O_,r),jn(Am,O_,"esm2017"),jn("fire-js","")}dC("");function ip(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function z0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mC=z0,B0=new Ks("auth","Firebase",z0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new wh("@firebase/auth");function pC(r,...e){nh.logLevel<=Le.WARN&&nh.warn(`Auth (${uo}): ${r}`,...e)}function qc(r,...e){nh.logLevel<=Le.ERROR&&nh.error(`Auth (${uo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(r,...e){throw sp(r,...e)}function Qn(r,...e){return sp(r,...e)}function rp(r,e,n){const s=Object.assign(Object.assign({},mC()),{[e]:n});return new Ks("auth","Firebase",s).create(e,{appName:r.name})}function Us(r){return rp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gC(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ti(r,"argument-error"),rp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return B0.create(r,...e)}function be(r,e,...n){if(!r)throw sp(e,...n)}function Ji(r){const e="INTERNAL ASSERTION FAILED: "+r;throw qc(e),new Error(e)}function ir(r,e){r||Ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function yC(){return P_()==="http:"||P_()==="https:"}function P_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yC()||O0()||"connection"in navigator)?navigator.onLine:!0}function _C(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ir(n>e,"Short delay should be less than long delay!"),this.isMobile=q1()||K1()}get(){return vC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(r,e){ir(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AC=new eu(3e4,6e4);function op(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function co(r,e,n,s,o={}){return q0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Wl(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return G1()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&lo(r.emulatorConfig.host)&&(g.credentials="include"),H0.fetch()(await F0(r,r.config.apiHost,n,m),g)})}async function q0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},EC),e);try{const o=new wC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw kc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw kc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw kc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw rp(r,E,g);Ti(r,E)}}catch(o){if(o instanceof Zn)throw o;Ti(r,"network-request-failed",{message:String(o)})}}async function SC(r,e,n,s,o={}){const u=await co(r,e,n,s,o);return"mfaPendingCredential"in u&&Ti(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function F0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?ap(r.config,o):`${r.config.apiScheme}://${o}`;return TC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class wC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Qn(this.auth,"network-request-failed")),AC.get())})}}function kc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Qn(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(r,e){return co(r,"POST","/v1/accounts:delete",e)}async function ih(r,e){return co(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RC(r,e=!1){const n=jt(r),s=await n.getIdToken(e),o=lp(s);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:kl(lm(o.auth_time)),issuedAtTime:kl(lm(o.iat)),expirationTime:kl(lm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function lm(r){return Number(r)*1e3}function lp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=b0(n);return o?JSON.parse(o):(qc("Failed to decode base64 JWT payload"),null)}catch(o){return qc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function L_(r){const e=lp(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Zn&&CC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function CC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Hl(r,ih(n,{idToken:s}));be(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?G0(u.providerUserInfo):[],m=DC(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Rm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,w)}async function NC(r){const e=jt(r);await rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function G0(r){return r.map(e=>{var{providerId:n}=e,s=ip(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(r,e){const n=await q0(r,{},async()=>{const s=Wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await F0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&lo(r.emulatorConfig.host)&&(p.credentials="include"),H0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xC(r,e){return co(r,"POST","/v2/accounts:revokeToken",op(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=L_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await OC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ya;return s&&(be(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Yn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=ip(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Rm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Hl(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return RC(this,e)}reload(){return NC(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await rh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Us(this.auth));const e=await this.getIdToken();return await Hl(this,bC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,I=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,x=(f=n.photoURL)!==null&&f!==void 0?f:void 0,U=(m=n.tenantId)!==null&&m!==void 0?m:void 0,z=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,$=(g=n.createdAt)!==null&&g!==void 0?g:void 0,X=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:re,emailVerified:fe,isAnonymous:ue,providerData:Re,stsTokenManager:P}=n;be(re&&P,e,"internal-error");const C=Ya.fromJSON(this.name,P);be(typeof re=="string",e,"internal-error"),Vr(w,e.name),Vr(S,e.name),be(typeof fe=="boolean",e,"internal-error"),be(typeof ue=="boolean",e,"internal-error"),Vr(I,e.name),Vr(x,e.name),Vr(U,e.name),Vr(z,e.name),Vr($,e.name),Vr(X,e.name);const N=new Yn({uid:re,auth:e,email:S,emailVerified:fe,displayName:w,isAnonymous:ue,photoURL:x,phoneNumber:I,tenantId:U,stsTokenManager:C,createdAt:$,lastLoginAt:X});return Re&&Array.isArray(Re)&&(N.providerData=Re.map(b=>Object.assign({},b))),z&&(N._redirectEventId=z),N}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ya;o.updateFromServerResponse(n);const u=new Yn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await rh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?G0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ya;m.updateFromIdToken(s);const p=new Yn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=new Map;function Zi(r){ir(r instanceof Function,"Expected a class definition");let e=U_.get(r);return e?(ir(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,U_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}K0.type="NONE";const j_=K0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(r,e,n){return`firebase:${r}:${e}:${n}`}class Qa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Fc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Fc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ih(this.auth,{idToken:e}).catch(()=>{});return n?Yn._fromGetAccountInfoResponse(this.auth,n,e):null}return Yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Qa(Zi(j_),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Zi(j_);const f=Fc(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const S=await ih(e,{idToken:E}).catch(()=>{});if(!S)break;w=await Yn._fromGetAccountInfoResponse(e,S,E)}else w=Yn._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Qa(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Qa(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(X0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Y0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Z0(e))return"Blackberry";if(W0(e))return"Webos";if(Q0(e))return"Safari";if((e.includes("chrome/")||$0(e))&&!e.includes("edge/"))return"Chrome";if(J0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Y0(r=en()){return/firefox\//i.test(r)}function Q0(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $0(r=en()){return/crios\//i.test(r)}function X0(r=en()){return/iemobile/i.test(r)}function J0(r=en()){return/android/i.test(r)}function Z0(r=en()){return/blackberry/i.test(r)}function W0(r=en()){return/webos/i.test(r)}function up(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function MC(r=en()){var e;return up(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kC(){return Y1()&&document.documentMode===10}function eT(r=en()){return up(r)||J0(r)||W0(r)||Z0(r)||/windows phone/i.test(r)||X0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(r,e=[]){let n;switch(r){case"Browser":n=z_(en());break;case"Worker":n=`${z_(en())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(r,e={}){return co(r,"GET","/v2/passwordPolicy",op(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=6;class UC{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:LC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B_(this),this.idTokenSubscription=new B_(this),this.beforeStateQueue=new VC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Qa.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ih(this,{idToken:e}),s=await Yn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Kn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_C()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(Us(this));const n=e?jt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(Us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PC(this),n=new UC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ks("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await xC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zi(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&pC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function bh(r){return jt(r)}class B_{constructor(e){this.auth=e,this.observer=null,this.addObserver=eR(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zC(r){cp=r}function BC(r){return cp.loadJS(r)}function HC(){return cp.gapiScript}function qC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(r,e){const n=Ys(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Fr(u,e??{}))return o;Ti(o,"already-initialized")}return n.initialize({options:e})}function GC(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Zi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function KC(r,e,n){const s=bh(r);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=nT(e),{host:f,port:m}=YC(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(Fr(g,s.config.emulator)&&Fr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,lo(f)?(N0(`${u}//${f}${p}`),D0("Auth",!0)):QC()}function nT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function YC(r){const e=nT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:H_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:H_(f)}}}function H_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function QC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,n){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(r,e){return SC(r,"POST","/v1/accounts:signInWithIdp",op(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="http://localhost";class zs extends iT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=ip(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new zs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return $a(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,$a(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$a(e,n)}buildRequest(){const e={requestUri:$C,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends hp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends tu{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zs._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Xi.credential(n,s)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends tu{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends tu{constructor(){super("twitter.com")}static credential(e,n){return zs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ur.credential(n,s)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Yn._fromIdTokenResponse(e,s,o),f=q_(s);return new Ja({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=q_(s);return new Ja({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function q_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends Zn{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new sh(e,n,s,o)}}function rT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(r,u,e,s):u})}async function XC(r,e,n=!1){const s=await Hl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ja._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(r,e,n=!1){const{auth:s}=r;if(Kn(s.app))return Promise.reject(Us(s));const o="reauthenticate";try{const u=await Hl(r,rT(s,o,e,r),n);be(u.idToken,s,"internal-error");const f=lp(u.idToken);be(f,s,"internal-error");const{sub:m}=f;return be(r.uid===m,s,"user-mismatch"),Ja._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ti(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(r,e,n=!1){if(Kn(r.app))return Promise.reject(Us(r));const s="signIn",o=await rT(r,s,e),u=await Ja._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function WC(r,e,n,s){return jt(r).onIdTokenChanged(e,n,s)}function eI(r,e,n){return jt(r).beforeAuthStateChanged(e,n)}function tI(r,e,n,s){return jt(r).onAuthStateChanged(e,n,s)}function Vc(r){return jt(r).signOut()}const ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=1e3,iI=10;class aT extends sT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);kC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,iI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},nI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}aT.type="LOCAL";const rI=aT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT extends sT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oT.type="SESSION";const lT=oT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Rh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await sI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=fp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return window}function oI(r){gi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function lI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function cI(){return uT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="firebaseLocalStorageDb",hI=1,oh="firebaseLocalStorage",hT="fbase_key";class nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ch(r,e){return r.transaction([oh],e?"readwrite":"readonly").objectStore(oh)}function fI(){const r=indexedDB.deleteDatabase(cT);return new nu(r).toPromise()}function Cm(){const r=indexedDB.open(cT,hI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(oh,{keyPath:hT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(oh)?e(s):(s.close(),await fI(),e(await Cm()))})})}async function F_(r,e,n){const s=Ch(r,!0).put({[hT]:e,value:n});return new nu(s).toPromise()}async function dI(r,e){const n=Ch(r,!1).get(e),s=await new nu(n).toPromise();return s===void 0?null:s.value}function G_(r,e){const n=Ch(r,!0).delete(e);return new nu(n).toPromise()}const mI=800,pI=3;class fT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>pI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(cI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await lI(),!this.activeServiceWorker)return;this.sender=new aI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cm();return await F_(e,ah,"1"),await G_(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>F_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>dI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>G_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ch(o,!1).getAll();return new nu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fT.type="LOCAL";const gI=fT;new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(r,e){return e?Zi(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp extends iT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $a(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $a(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $a(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yI(r){return ZC(r.auth,new dp(r),r.bypassAuthState)}function vI(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),JC(n,new dp(r),r.bypassAuthState)}async function _I(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),XC(n,new dp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yI;case"linkViaPopup":case"linkViaRedirect":return _I;case"reauthViaPopup":case"reauthViaRedirect":return vI;default:Ti(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=new eu(2e3,1e4);async function TI(r,e,n){if(Kn(r.app))return Promise.reject(Qn(r,"operation-not-supported-in-this-environment"));const s=bh(r);gC(r,e,hp);const o=dT(s,n);return new Vs(s,"signInViaPopup",e,o).executeNotNull()}class Vs extends mT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Vs.currentPopupAction&&Vs.currentPopupAction.cancel(),Vs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=fp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EI.get())};e()}}Vs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="pendingRedirect",Gc=new Map;class SI extends mT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const s=await wI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wI(r,e){const n=CI(e),s=RI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function bI(r,e){Gc.set(r._key(),e)}function RI(r){return Zi(r._redirectPersistence)}function CI(r){return Fc(AI,r.config.apiKey,r.name)}async function II(r,e,n=!1){if(Kn(r.app))return Promise.reject(Us(r));const s=bh(r),o=dT(s,e),f=await new SI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=10*60*1e3;class DI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!pT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Qn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NI&&this.cachedEventUids.clear(),this.cachedEventUids.has(K_(e))}saveEventToCache(e){this.cachedEventUids.add(K_(e)),this.lastProcessedEventTime=Date.now()}}function K_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function pT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function OI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(r,e={}){return co(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kI=/^https?/;async function VI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await xI(r);for(const n of e)try{if(PI(n))return}catch{}Ti(r,"unauthorized-domain")}function PI(r){const e=bm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!kI.test(n))return!1;if(MI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=new eu(3e4,6e4);function Y_(){const r=gi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function UI(r){return new Promise((e,n)=>{var s,o,u;function f(){Y_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Y_(),n(Qn(r,"network-request-failed"))},timeout:LI.get()})}if(!((o=(s=gi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=gi().gapi)===null||u===void 0)&&u.load)f();else{const m=qC("iframefcb");return gi()[m]=()=>{gapi.load?f():n(Qn(r,"network-request-failed"))},BC(`${HC()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function jI(r){return Kc=Kc||UI(r),Kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=new eu(5e3,15e3),BI="__/auth/iframe",HI="emulator/auth/iframe",qI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GI(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?ap(e,HI):`https://${r.config.authDomain}/${BI}`,s={apiKey:e.apiKey,appName:r.name,v:uo},o=FI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Wl(s).slice(1)}`}async function KI(r){const e=await jI(r),n=gi().gapi;return be(n,r,"internal-error"),e.open({where:document.body,url:GI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Qn(r,"network-request-failed"),m=gi().setTimeout(()=>{u(f)},zI.get());function p(){gi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QI=500,$I=600,XI="_blank",JI="http://localhost";class Q_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZI(r,e,n,s=QI,o=$I){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},YI),{width:s.toString(),height:o.toString(),top:u,left:f}),g=en().toLowerCase();n&&(m=$0(g)?XI:n),Y0(g)&&(e=e||JI,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[I,x])=>`${S}${I}=${x},`,"");if(MC(g)&&m!=="_self")return WI(e||"",m),new Q_(null);const w=window.open(e||"",m,E);be(w,r,"popup-blocked");try{w.focus()}catch{}return new Q_(w)}function WI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="__/auth/handler",tN="emulator/auth/handler",nN=encodeURIComponent("fac");async function $_(r,e,n,s,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:uo,eventId:o};if(e instanceof hp){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",W1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof tu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${nN}=${encodeURIComponent(p)}`:"";return`${iN(r)}?${Wl(m).slice(1)}${g}`}function iN({config:r}){return r.emulator?ap(r,tN):`https://${r.authDomain}/${eN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="webStorageSupport";class rN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lT,this._completeRedirectFn=II,this._overrideRedirectResult=bI}async _openPopup(e,n,s,o){var u;ir((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await $_(e,n,s,bm(),o);return ZI(e,f,fp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await $_(e,n,s,bm(),o);return oI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ir(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await KI(e),s=new DI(e);return n.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(um,{type:um},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[um];f!==void 0&&n(!!f),Ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eT()||Q0()||up()}}const sN=rN;var X_="@firebase/auth",J_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lN(r){Ei(new Xn("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tT(r)},g=new jC(s,o,u,p);return GC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ei(new Xn("auth-internal",e=>{const n=bh(e.getProvider("auth").getImmediate());return(s=>new aN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jn(X_,J_,oN(r)),jn(X_,J_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=5*60,cN=I0("authIdTokenMaxAge")||uN;let Z_=null;const hN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>cN)return;const o=n==null?void 0:n.token;Z_!==o&&(Z_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function fN(r=np()){const e=Ys(r,"auth");if(e.isInitialized())return e.getImmediate();const n=FC(r,{popupRedirectResolver:sN,persistence:[gI,rI,lT]}),s=I0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=hN(u.toString());eI(n,f,()=>f(n.currentUser)),WC(n,m=>f(m))}}const o=R0("auth");return o&&KC(n,`http://${o}`),n}function dN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}zC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Qn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",dN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lN("Browser");var W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hr,gT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,C){function N(){}N.prototype=C.prototype,P.D=C.prototype,P.prototype=new N,P.prototype.constructor=P,P.C=function(b,D,k){for(var R=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)R[Te-2]=arguments[Te];return C.prototype[D].apply(b,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,C,N){N||(N=0);var b=Array(16);if(typeof C=="string")for(var D=0;16>D;++D)b[D]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(D=0;16>D;++D)b[D]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=P.g[0],N=P.g[1],D=P.g[2];var k=P.g[3],R=C+(k^N&(D^k))+b[0]+3614090360&4294967295;C=N+(R<<7&4294967295|R>>>25),R=k+(D^C&(N^D))+b[1]+3905402710&4294967295,k=C+(R<<12&4294967295|R>>>20),R=D+(N^k&(C^N))+b[2]+606105819&4294967295,D=k+(R<<17&4294967295|R>>>15),R=N+(C^D&(k^C))+b[3]+3250441966&4294967295,N=D+(R<<22&4294967295|R>>>10),R=C+(k^N&(D^k))+b[4]+4118548399&4294967295,C=N+(R<<7&4294967295|R>>>25),R=k+(D^C&(N^D))+b[5]+1200080426&4294967295,k=C+(R<<12&4294967295|R>>>20),R=D+(N^k&(C^N))+b[6]+2821735955&4294967295,D=k+(R<<17&4294967295|R>>>15),R=N+(C^D&(k^C))+b[7]+4249261313&4294967295,N=D+(R<<22&4294967295|R>>>10),R=C+(k^N&(D^k))+b[8]+1770035416&4294967295,C=N+(R<<7&4294967295|R>>>25),R=k+(D^C&(N^D))+b[9]+2336552879&4294967295,k=C+(R<<12&4294967295|R>>>20),R=D+(N^k&(C^N))+b[10]+4294925233&4294967295,D=k+(R<<17&4294967295|R>>>15),R=N+(C^D&(k^C))+b[11]+2304563134&4294967295,N=D+(R<<22&4294967295|R>>>10),R=C+(k^N&(D^k))+b[12]+1804603682&4294967295,C=N+(R<<7&4294967295|R>>>25),R=k+(D^C&(N^D))+b[13]+4254626195&4294967295,k=C+(R<<12&4294967295|R>>>20),R=D+(N^k&(C^N))+b[14]+2792965006&4294967295,D=k+(R<<17&4294967295|R>>>15),R=N+(C^D&(k^C))+b[15]+1236535329&4294967295,N=D+(R<<22&4294967295|R>>>10),R=C+(D^k&(N^D))+b[1]+4129170786&4294967295,C=N+(R<<5&4294967295|R>>>27),R=k+(N^D&(C^N))+b[6]+3225465664&4294967295,k=C+(R<<9&4294967295|R>>>23),R=D+(C^N&(k^C))+b[11]+643717713&4294967295,D=k+(R<<14&4294967295|R>>>18),R=N+(k^C&(D^k))+b[0]+3921069994&4294967295,N=D+(R<<20&4294967295|R>>>12),R=C+(D^k&(N^D))+b[5]+3593408605&4294967295,C=N+(R<<5&4294967295|R>>>27),R=k+(N^D&(C^N))+b[10]+38016083&4294967295,k=C+(R<<9&4294967295|R>>>23),R=D+(C^N&(k^C))+b[15]+3634488961&4294967295,D=k+(R<<14&4294967295|R>>>18),R=N+(k^C&(D^k))+b[4]+3889429448&4294967295,N=D+(R<<20&4294967295|R>>>12),R=C+(D^k&(N^D))+b[9]+568446438&4294967295,C=N+(R<<5&4294967295|R>>>27),R=k+(N^D&(C^N))+b[14]+3275163606&4294967295,k=C+(R<<9&4294967295|R>>>23),R=D+(C^N&(k^C))+b[3]+4107603335&4294967295,D=k+(R<<14&4294967295|R>>>18),R=N+(k^C&(D^k))+b[8]+1163531501&4294967295,N=D+(R<<20&4294967295|R>>>12),R=C+(D^k&(N^D))+b[13]+2850285829&4294967295,C=N+(R<<5&4294967295|R>>>27),R=k+(N^D&(C^N))+b[2]+4243563512&4294967295,k=C+(R<<9&4294967295|R>>>23),R=D+(C^N&(k^C))+b[7]+1735328473&4294967295,D=k+(R<<14&4294967295|R>>>18),R=N+(k^C&(D^k))+b[12]+2368359562&4294967295,N=D+(R<<20&4294967295|R>>>12),R=C+(N^D^k)+b[5]+4294588738&4294967295,C=N+(R<<4&4294967295|R>>>28),R=k+(C^N^D)+b[8]+2272392833&4294967295,k=C+(R<<11&4294967295|R>>>21),R=D+(k^C^N)+b[11]+1839030562&4294967295,D=k+(R<<16&4294967295|R>>>16),R=N+(D^k^C)+b[14]+4259657740&4294967295,N=D+(R<<23&4294967295|R>>>9),R=C+(N^D^k)+b[1]+2763975236&4294967295,C=N+(R<<4&4294967295|R>>>28),R=k+(C^N^D)+b[4]+1272893353&4294967295,k=C+(R<<11&4294967295|R>>>21),R=D+(k^C^N)+b[7]+4139469664&4294967295,D=k+(R<<16&4294967295|R>>>16),R=N+(D^k^C)+b[10]+3200236656&4294967295,N=D+(R<<23&4294967295|R>>>9),R=C+(N^D^k)+b[13]+681279174&4294967295,C=N+(R<<4&4294967295|R>>>28),R=k+(C^N^D)+b[0]+3936430074&4294967295,k=C+(R<<11&4294967295|R>>>21),R=D+(k^C^N)+b[3]+3572445317&4294967295,D=k+(R<<16&4294967295|R>>>16),R=N+(D^k^C)+b[6]+76029189&4294967295,N=D+(R<<23&4294967295|R>>>9),R=C+(N^D^k)+b[9]+3654602809&4294967295,C=N+(R<<4&4294967295|R>>>28),R=k+(C^N^D)+b[12]+3873151461&4294967295,k=C+(R<<11&4294967295|R>>>21),R=D+(k^C^N)+b[15]+530742520&4294967295,D=k+(R<<16&4294967295|R>>>16),R=N+(D^k^C)+b[2]+3299628645&4294967295,N=D+(R<<23&4294967295|R>>>9),R=C+(D^(N|~k))+b[0]+4096336452&4294967295,C=N+(R<<6&4294967295|R>>>26),R=k+(N^(C|~D))+b[7]+1126891415&4294967295,k=C+(R<<10&4294967295|R>>>22),R=D+(C^(k|~N))+b[14]+2878612391&4294967295,D=k+(R<<15&4294967295|R>>>17),R=N+(k^(D|~C))+b[5]+4237533241&4294967295,N=D+(R<<21&4294967295|R>>>11),R=C+(D^(N|~k))+b[12]+1700485571&4294967295,C=N+(R<<6&4294967295|R>>>26),R=k+(N^(C|~D))+b[3]+2399980690&4294967295,k=C+(R<<10&4294967295|R>>>22),R=D+(C^(k|~N))+b[10]+4293915773&4294967295,D=k+(R<<15&4294967295|R>>>17),R=N+(k^(D|~C))+b[1]+2240044497&4294967295,N=D+(R<<21&4294967295|R>>>11),R=C+(D^(N|~k))+b[8]+1873313359&4294967295,C=N+(R<<6&4294967295|R>>>26),R=k+(N^(C|~D))+b[15]+4264355552&4294967295,k=C+(R<<10&4294967295|R>>>22),R=D+(C^(k|~N))+b[6]+2734768916&4294967295,D=k+(R<<15&4294967295|R>>>17),R=N+(k^(D|~C))+b[13]+1309151649&4294967295,N=D+(R<<21&4294967295|R>>>11),R=C+(D^(N|~k))+b[4]+4149444226&4294967295,C=N+(R<<6&4294967295|R>>>26),R=k+(N^(C|~D))+b[11]+3174756917&4294967295,k=C+(R<<10&4294967295|R>>>22),R=D+(C^(k|~N))+b[2]+718787259&4294967295,D=k+(R<<15&4294967295|R>>>17),R=N+(k^(D|~C))+b[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,P.g[2]=P.g[2]+D&4294967295,P.g[3]=P.g[3]+k&4294967295}s.prototype.u=function(P,C){C===void 0&&(C=P.length);for(var N=C-this.blockSize,b=this.B,D=this.h,k=0;k<C;){if(D==0)for(;k<=N;)o(this,P,k),k+=this.blockSize;if(typeof P=="string"){for(;k<C;)if(b[D++]=P.charCodeAt(k++),D==this.blockSize){o(this,b),D=0;break}}else for(;k<C;)if(b[D++]=P[k++],D==this.blockSize){o(this,b),D=0;break}}this.h=D,this.o+=C},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;var N=8*this.o;for(C=P.length-8;C<P.length;++C)P[C]=N&255,N/=256;for(this.u(P),P=Array(16),C=N=0;4>C;++C)for(var b=0;32>b;b+=8)P[N++]=this.g[C]>>>b&255;return P};function u(P,C){var N=m;return Object.prototype.hasOwnProperty.call(N,P)?N[P]:N[P]=C(P)}function f(P,C){this.h=C;for(var N=[],b=!0,D=P.length-1;0<=D;D--){var k=P[D]|0;b&&k==C||(N[D]=k,b=!1)}this.g=N}var m={};function p(P){return-128<=P&&128>P?u(P,function(C){return new f([C|0],0>C?-1:0)}):new f([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return w;if(0>P)return z(g(-P));for(var C=[],N=1,b=0;P>=N;b++)C[b]=P/N|0,N*=4294967296;return new f(C,0)}function E(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return z(E(P.substring(1),C));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=g(Math.pow(C,8)),b=w,D=0;D<P.length;D+=8){var k=Math.min(8,P.length-D),R=parseInt(P.substring(D,D+k),C);8>k?(k=g(Math.pow(C,k)),b=b.j(k).add(g(R))):(b=b.j(N),b=b.add(g(R)))}return b}var w=p(0),S=p(1),I=p(16777216);r=f.prototype,r.m=function(){if(U(this))return-z(this).m();for(var P=0,C=1,N=0;N<this.g.length;N++){var b=this.i(N);P+=(0<=b?b:4294967296+b)*C,C*=4294967296}return P},r.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(x(this))return"0";if(U(this))return"-"+z(this).toString(P);for(var C=g(Math.pow(P,6)),N=this,b="";;){var D=fe(N,C).g;N=$(N,D.j(C));var k=((0<N.g.length?N.g[0]:N.h)>>>0).toString(P);if(N=D,x(N))return k+b;for(;6>k.length;)k="0"+k;b=k+b}},r.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function x(P){if(P.h!=0)return!1;for(var C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function U(P){return P.h==-1}r.l=function(P){return P=$(this,P),U(P)?-1:x(P)?0:1};function z(P){for(var C=P.g.length,N=[],b=0;b<C;b++)N[b]=~P.g[b];return new f(N,~P.h).add(S)}r.abs=function(){return U(this)?z(this):this},r.add=function(P){for(var C=Math.max(this.g.length,P.g.length),N=[],b=0,D=0;D<=C;D++){var k=b+(this.i(D)&65535)+(P.i(D)&65535),R=(k>>>16)+(this.i(D)>>>16)+(P.i(D)>>>16);b=R>>>16,k&=65535,R&=65535,N[D]=R<<16|k}return new f(N,N[N.length-1]&-2147483648?-1:0)};function $(P,C){return P.add(z(C))}r.j=function(P){if(x(this)||x(P))return w;if(U(this))return U(P)?z(this).j(z(P)):z(z(this).j(P));if(U(P))return z(this.j(z(P)));if(0>this.l(I)&&0>P.l(I))return g(this.m()*P.m());for(var C=this.g.length+P.g.length,N=[],b=0;b<2*C;b++)N[b]=0;for(b=0;b<this.g.length;b++)for(var D=0;D<P.g.length;D++){var k=this.i(b)>>>16,R=this.i(b)&65535,Te=P.i(D)>>>16,ve=P.i(D)&65535;N[2*b+2*D]+=R*ve,X(N,2*b+2*D),N[2*b+2*D+1]+=k*ve,X(N,2*b+2*D+1),N[2*b+2*D+1]+=R*Te,X(N,2*b+2*D+1),N[2*b+2*D+2]+=k*Te,X(N,2*b+2*D+2)}for(b=0;b<C;b++)N[b]=N[2*b+1]<<16|N[2*b];for(b=C;b<2*C;b++)N[b]=0;return new f(N,0)};function X(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function re(P,C){this.g=P,this.h=C}function fe(P,C){if(x(C))throw Error("division by zero");if(x(P))return new re(w,w);if(U(P))return C=fe(z(P),C),new re(z(C.g),z(C.h));if(U(C))return C=fe(P,z(C)),new re(z(C.g),C.h);if(30<P.g.length){if(U(P)||U(C))throw Error("slowDivide_ only works with positive integers.");for(var N=S,b=C;0>=b.l(P);)N=ue(N),b=ue(b);var D=Re(N,1),k=Re(b,1);for(b=Re(b,2),N=Re(N,2);!x(b);){var R=k.add(b);0>=R.l(P)&&(D=D.add(N),k=R),b=Re(b,1),N=Re(N,1)}return C=$(P,D.j(C)),new re(D,C)}for(D=w;0<=P.l(C);){for(N=Math.max(1,Math.floor(P.m()/C.m())),b=Math.ceil(Math.log(N)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),k=g(N),R=k.j(C);U(R)||0<R.l(P);)N-=b,k=g(N),R=k.j(C);x(k)&&(k=S),D=D.add(k),P=$(P,R)}return new re(D,P)}r.A=function(P){return fe(this,P).h},r.and=function(P){for(var C=Math.max(this.g.length,P.g.length),N=[],b=0;b<C;b++)N[b]=this.i(b)&P.i(b);return new f(N,this.h&P.h)},r.or=function(P){for(var C=Math.max(this.g.length,P.g.length),N=[],b=0;b<C;b++)N[b]=this.i(b)|P.i(b);return new f(N,this.h|P.h)},r.xor=function(P){for(var C=Math.max(this.g.length,P.g.length),N=[],b=0;b<C;b++)N[b]=this.i(b)^P.i(b);return new f(N,this.h^P.h)};function ue(P){for(var C=P.g.length+1,N=[],b=0;b<C;b++)N[b]=P.i(b)<<1|P.i(b-1)>>>31;return new f(N,P.h)}function Re(P,C){var N=C>>5;C%=32;for(var b=P.g.length-N,D=[],k=0;k<b;k++)D[k]=0<C?P.i(k+N)>>>C|P.i(k+N+1)<<32-C:P.i(k+N);return new f(D,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,gT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Hr=f}).apply(typeof W_<"u"?W_:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yT,Nl,vT,Yc,Im,_T,ET,TT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var B=c[A];if(!(B in v))break e;v=v[B]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,A=!1,B={next:function(){if(!A&&v<c.length){var Q=v++;return{value:y(Q,c[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function w(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,A),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,S.apply(null,arguments)}function I(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function x(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,B,Q){for(var oe=Array(arguments.length-2),je=2;je<arguments.length;je++)oe[je-2]=arguments[je];return y.prototype[B].apply(A,oe)}}function U(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function z(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const B=c.length||0,Q=A.length||0;c.length=B+Q;for(let oe=0;oe<Q;oe++)c[B+oe]=A[oe]}else c.push(A)}}class ${constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function fe(c){return fe[" "](c),c}fe[" "]=function(){};var ue=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function Re(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function P(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function C(c){const y={};for(const v in c)y[v]=c[v];return y}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,y){let v,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(v in A)c[v]=A[v];for(let Q=0;Q<N.length;Q++)v=N[Q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function D(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function k(c){m.setTimeout(()=>{throw c},0)}function R(){var c=De;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Te{constructor(){this.h=this.g=null}add(y,v){const A=ve.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ve=new $(()=>new F,c=>c.reset());class F{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,le=!1,De=new Te,V=()=>{const c=m.Promise.resolve(void 0);ne=()=>{c.then(W)}};var W=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(v){k(v)}var y=ve;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}le=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function Ie(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ue){e:{try{fe(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}x(Ie,se);var Ae={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _t="closure_listenable_"+(1e6*Math.random()|0),Je=0;function on(c,y,v,A,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=B,this.key=++Je,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ge(c){this.src=c,this.g={},this.h=0}Ge.prototype.add=function(c,y,v,A,B){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var oe=tn(c,y,A,B);return-1<oe?(y=c[oe],v||(y.fa=!1)):(y=new on(y,this.src,Q,!!A,B),y.fa=v,c.push(y)),y};function lt(c,y){var v=y.type;if(v in c.g){var A=c.g[v],B=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=0<=B)&&Array.prototype.splice.call(A,B,1),Q&&(de(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function tn(c,y,v,A){for(var B=0;B<c.length;++B){var Q=c[B];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==A)return B}return-1}var mt="closure_lm_"+(1e6*Math.random()|0),go={};function uu(c,y,v,A,B){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)uu(c,y[Q],v,A,B);return null}return v=cu(v),c&&c[_t]?c.K(y,v,g(A)?!!A.capture:!1,B):Rn(c,y,v,!1,A,B)}function Rn(c,y,v,A,B,Q){if(!y)throw Error("Invalid event type");var oe=g(B)?!!B.capture:!!B,je=Js(c);if(je||(c[mt]=je=new Ge(c)),v=je.add(y,v,A,oe,Q),v.proxy)return v;if(A=Qh(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)me||(B=oe),B===void 0&&(B=!1),c.addEventListener(y.toString(),A,B);else if(c.attachEvent)c.attachEvent(es(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Qh(){function c(v){return y.call(c.src,c.listener,v)}const y=$h;return c}function yo(c,y,v,A,B){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)yo(c,y[Q],v,A,B);else A=g(A)?!!A.capture:!!A,v=cu(v),c&&c[_t]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],v=tn(Q,v,A,B),-1<v&&(de(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=Js(c))&&(y=c.g[y.toString()],c=-1,y&&(c=tn(y,v,A,B)),(v=-1<c?y[c]:null)&&Xs(v))}function Xs(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[_t])lt(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(es(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=Js(y))?(lt(v,c),v.h==0&&(v.src=null,y[mt]=null)):de(c)}}}function es(c){return c in go?go[c]:go[c]="on"+c}function $h(c,y){if(c.da)c=!0;else{y=new Ie(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&Xs(c),c=v.call(A,y)}return c}function Js(c){return c=c[mt],c instanceof Ge?c:null}var vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function cu(c){return typeof c=="function"?c:(c[vo]||(c[vo]=function(y){return c.handleEvent(y)}),c[vo])}function ht(){ae.call(this),this.i=new Ge(this),this.M=this,this.F=null}x(ht,ae),ht.prototype[_t]=!0,ht.prototype.removeEventListener=function(c,y,v,A){yo(this,c,y,v,A)};function Qe(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var B=y;y=new se(A,c),b(y,B)}if(B=!0,v)for(var Q=v.length-1;0<=Q;Q--){var oe=y.g=v[Q];B=pn(oe,A,!0,y)&&B}if(oe=y.g=c,B=pn(oe,A,!0,y)&&B,B=pn(oe,A,!1,y)&&B,v)for(Q=0;Q<v.length;Q++)oe=y.g=v[Q],B=pn(oe,A,!1,y)&&B}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)de(v[A]);delete c.g[y],c.h--}}this.F=null},ht.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},ht.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function pn(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Q=0;Q<y.length;++Q){var oe=y[Q];if(oe&&!oe.da&&oe.capture==v){var je=oe.listener,Rt=oe.ha||oe.src;oe.fa&&lt(c.i,oe),B=je.call(Rt,A)!==!1&&B}}return B&&!A.defaultPrevented}function Qt(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function hu(c){c.g=Qt(()=>{c.g=null,c.i&&(c.i=!1,hu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Xh extends ae{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:hu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(c){ae.call(this),this.h=c,this.g={}}x(ts,ae);var ns=[];function is(c){Re(c.g,function(y,v){this.g.hasOwnProperty(v)&&Xs(y)},c),c.g={}}ts.prototype.N=function(){ts.aa.N.call(this),is(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=m.JSON.stringify,Zs=m.JSON.parse,rs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function _o(){}_o.prototype.h=null;function Eo(c){return c.h||(c.h=c.i())}function To(){}var bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ri(){se.call(this,"d")}x(Ri,se);function Ao(){se.call(this,"c")}x(Ao,se);var Wn={},So=null;function or(){return So=So||new ht}Wn.La="serverreachability";function Ws(c){se.call(this,Wn.La,c)}x(Ws,se);function lr(c){const y=or();Qe(y,new Ws(y))}Wn.STAT_EVENT="statevent";function fu(c,y){se.call(this,Wn.STAT_EVENT,c),this.stat=y}x(fu,se);function rt(c){const y=or();Qe(y,new fu(y,c))}Wn.Ma="timingevent";function bt(c,y){se.call(this,Wn.Ma,c),this.size=y}x(bt,se);function Et(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function wo(c,y,v,A,B,Q){c.info(function(){if(c.g)if(Q)for(var oe="",je=Q.split("&"),Rt=0;Rt<je.length;Rt++){var ze=je[Rt].split("=");if(1<ze.length){var kt=ze[0];ze=ze[1];var Ct=kt.split("_");oe=2<=Ct.length&&Ct[1]=="type"?oe+(kt+"="+ze+"&"):oe+(kt+"=redacted&")}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+v+`
`+oe})}function Jh(c,y,v,A,B,Q,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+v+`
`+Q+" "+oe})}function ur(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ss(c,v)+(A?" "+A:"")})}function du(c,y){c.info(function(){return"TIMEOUT: "+y})}Cn.prototype.info=function(){};function ss(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var B=A[1];if(Array.isArray(B)&&!(1>B.length)){var Q=B[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var oe=1;oe<B.length;oe++)B[oe]=""}}}}return zn(v)}catch{return y}}var cr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ei;function ti(){}x(ti,_o),ti.prototype.g=function(){return new XMLHttpRequest},ti.prototype.i=function(){return{}},ei=new ti;function nn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var bo={},ea={};function Bn(c,y,v){c.L=1,c.v=cs(gn(y)),c.m=v,c.P=!0,Ii(c,null)}function Ii(c,y){c.F=Date.now(),as(c),c.A=gn(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Oo(v.i,"t",A),c.C=0,v=c.j.J,c.h=new pt,c.g=Nu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Xh(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(ns[0]=B.toString()),B=ns);for(var Q=0;Q<B.length;Q++){var oe=uu(v,B[Q],A||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),lr(),wo(c.i,c.u,c.A,c.l,c.R,c.m)}nn.prototype.ca=function(c){c=c.target;const y=this.M;y&&On(c)==3?y.j():this.Y(c)},nn.prototype.Y=function(c){try{if(c==this.g)e:{const Ct=On(this.g);var y=this.g.Ba();const Pi=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Tu(this.g)))){this.J||Ct!=4||y==7||(y==8||0>=Pi?lr(3):lr(2)),hr(this);var v=this.g.Z();this.X=v;t:if(mu(this)){var A=Tu(this.g);c="";var B=A.length,Q=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zt(this),ni(this);var oe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Q&&y==B-1)});A.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,Jh(this.i,this.u,this.A,this.l,this.R,Ct,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Rt=this.g;if((je=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(je)){var ze=je;break t}}ze=null}if(v=ze)ur(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,os(this,v);else{this.o=!1,this.s=3,rt(12),zt(this),ni(this);break e}}if(this.P){v=!0;let Bt;for(;!this.J&&this.C<oe.length;)if(Bt=pu(this,oe),Bt==ea){Ct==4&&(this.s=4,rt(14),v=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==bo){this.s=4,rt(15),ur(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else ur(this.i,this.l,Bt,null),os(this,Bt);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||oe.length!=0||this.h.h||(this.s=1,rt(16),v=!1),this.o=this.o&&v,!v)ur(this.i,this.l,oe,"[Invalid Chunked Response]"),zt(this),ni(this);else if(0<oe.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),vs(kt),kt.M=!0,rt(11))}}else ur(this.i,this.l,oe,null),os(this,oe);Ct==4&&zt(this),this.o&&!this.J&&(Ct==4?Ru(this.j,this):(this.o=!1,as(this)))}else nf(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),zt(this),ni(this)}}}catch{}finally{}};function mu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function pu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?ea:(v=Number(y.substring(v,A)),isNaN(v)?bo:(A+=1,A+v>y.length?ea:(y=y.slice(A,A+v),c.C=A+v,y)))}nn.prototype.cancel=function(){this.J=!0,zt(this)};function as(c){c.S=Date.now()+c.I,gu(c,c.I)}function gu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Et(S(c.ba,c),y)}function hr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}nn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(du(this.i,this.A),this.L!=2&&(lr(),rt(17)),zt(this),this.s=2,ni(this)):gu(this,this.S-c)};function ni(c){c.j.G==0||c.J||Ru(c.j,c)}function zt(c){hr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,is(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function os(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Ro(v.h,c))){if(!c.K&&Ro(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)fa(v),ca(v);else break e;Po(v),rt(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=Et(S(v.Za,v),6e3));if(1>=na(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Vi(v,11)}else if((c.K||v.g==c)&&fa(v),!X(y))for(B=v.Da.g.parse(y),y=0;y<B.length;y++){let ze=B[y];if(v.T=ze[0],ze=ze[1],v.G==2)if(ze[0]=="c"){v.K=ze[1],v.ia=ze[2];const kt=ze[3];kt!=null&&(v.la=kt,v.j.info("VER="+v.la));const Ct=ze[4];Ct!=null&&(v.Aa=Ct,v.j.info("SVER="+v.Aa));const Pi=ze[5];Pi!=null&&typeof Pi=="number"&&0<Pi&&(A=1.5*Pi,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Bt=c.g;if(Bt){const ui=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var Q=A.h;Q.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ia(Q,Q.h),Q.h=null))}if(A.D){const Uo=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;Uo&&(A.ya=Uo,Ze(A.I,A.D,Uo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var oe=c;if(A.qa=Iu(A,A.J?A.ia:null,A.W),oe.K){rn(A.h,oe);var je=oe,Rt=A.L;Rt&&(je.I=Rt),je.B&&(hr(je),as(je)),A.g=oe}else wu(A);0<v.i.length&&ha(v)}else ze[0]!="stop"&&ze[0]!="close"||Vi(v,7);else v.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Vi(v,7):ko(v):ze[0]!="noop"&&v.l&&v.l.ta(ze),v.v=0)}}lr(4)}catch{}}var yu=class{constructor(c,y){this.g=c,this.map=y}};function Ni(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ta(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function na(c){return c.h?1:c.g?c.g.size:0}function Ro(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ia(c,y){c.g?c.g.add(y):c.h=y}function rn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ni.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Co(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return U(c.i)}function Zh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function ra(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function Io(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=ra(c),A=Zh(c),B=A.length,Q=0;Q<B;Q++)y.call(void 0,A[Q],v&&v[Q],c)}var ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wh(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),B=null;if(0<=A){var Q=c[v].substring(0,A);B=c[v].substring(A+1)}else Q=c[v];y(Q,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Tt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tt){this.h=c.h,us(this,c.j),this.o=c.o,this.g=c.g,fr(this,c.s),this.l=c.l;var y=c.i,v=new Oi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Di(this,v),this.m=c.m}else c&&(y=String(c).match(ls))?(this.h=!1,us(this,y[1]||"",!0),this.o=In(y[2]||""),this.g=In(y[3]||"",!0),fr(this,y[4]),this.l=In(y[5]||"",!0),Di(this,y[6]||"",!0),this.m=In(y[7]||"")):(this.h=!1,this.i=new Oi(null,this.h))}Tt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(hs(y,No,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(hs(y,No,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(hs(v,v.charAt(0)=="/"?ef:Do,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",hs(v,sa)),c.join("")};function gn(c){return new Tt(c)}function us(c,y,v){c.j=v?In(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function fr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Di(c,y,v){y instanceof Oi?(c.i=y,_u(c.i,c.h)):(v||(y=hs(y,tf)),c.i=new Oi(y,c.h))}function Ze(c,y,v){c.i.set(y,v)}function cs(c){return Ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function In(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function hs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,vu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var No=/[#\/\?@]/g,Do=/[#\?:]/g,ef=/[#\?]/g,tf=/[#\?@]/g,sa=/#/g;function Oi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&Wh(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Oi.prototype,r.add=function(c,y){Nn(this),this.i=null,c=ii(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function xi(c,y){Nn(c),y=ii(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Mi(c,y){return Nn(c),y=ii(c,y),c.g.has(y)}r.forEach=function(c,y){Nn(this),this.g.forEach(function(v,A){v.forEach(function(B){c.call(y,B,A,this)},this)},this)},r.na=function(){Nn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const B=c[A];for(let Q=0;Q<B.length;Q++)v.push(y[A])}return v},r.V=function(c){Nn(this);let y=[];if(typeof c=="string")Mi(this,c)&&(y=y.concat(this.g.get(ii(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return Nn(this),this.i=null,c=ii(this,c),Mi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Oo(c,y,v){xi(c,y),0<v.length&&(c.i=null,c.g.set(ii(c,y),U(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const Q=encodeURIComponent(String(A)),oe=this.V(A);for(A=0;A<oe.length;A++){var B=Q;oe[A]!==""&&(B+="="+encodeURIComponent(String(oe[A]))),c.push(B)}}return this.i=c.join("&")};function ii(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function _u(c,y){y&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(v,A){var B=A.toLowerCase();A!=B&&(xi(this,A),Oo(this,B,v))},c)),c.j=y}function fs(c,y){const v=new Cn;if(m.Image){const A=new Image;A.onload=I(Dn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=I(Dn,v,"TestLoadImage: error",!1,y,A),A.onabort=I(Dn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=I(Dn,v,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Hn(c,y){const v=new Cn,A=new AbortController,B=setTimeout(()=>{A.abort(),Dn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(B),Q.ok?Dn(v,"TestPingServer: ok",!0,y):Dn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Dn(v,"TestPingServer: error",!1,y)})}function Dn(c,y,v,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(v)}catch{}}function ds(){this.g=new rs}function ri(c,y,v){const A=v||"";try{Io(c,function(B,Q){let oe=B;g(B)&&(oe=zn(B)),y.push(A+Q+"="+encodeURIComponent(oe))})}catch(B){throw y.push(A+"type="+encodeURIComponent("_badmap")),B}}function dr(c){this.l=c.Ub||null,this.j=c.eb||!1}x(dr,_o),dr.prototype.g=function(){return new ki(this.l,this.j)},dr.prototype.i=function(c){return function(){return c}}({});function ki(c,y){ht.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(ki,ht),r=ki.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ai(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function xo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?si(this):ai(this),this.readyState==3&&xo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,si(this))},r.Qa=function(c){this.g&&(this.response=c,si(this))},r.ga=function(){this.g&&si(this)};function si(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ai(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ai(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mo(c){let y="";return Re(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Mt(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Mo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ze(c,y,v))}function Ke(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ke,ht);var aa=/^https?$/i,ms=["POST","PUT"];r=Ke.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ei.g(),this.v=this.o?Eo(this.o):Eo(ei),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Eu(this,Q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)v.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())v.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ms,y,void 0))||A||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of v)this.g.setRequestHeader(Q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ps(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Eu(this,Q)}};function Eu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,oa(c),oi(c)}function oa(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),oi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oi(this,!0)),Ke.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?la(this):this.bb())},r.bb=function(){la(this)};function la(c){if(c.h&&typeof f<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Qt(c.Ea,0,c);else if(Qe(c,"readystatechange"),On(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=oe===0){var B=String(c.D).match(ls)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),A=!aa.test(B?B.toLowerCase():"")}v=A}if(v)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var Q=2<On(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",oa(c)}}finally{oi(c)}}}}function oi(c,y){if(c.g){ps(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Qe(c,"ready");try{v.onreadystatechange=A}catch{}}}function ps(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Zs(y)}};function Tu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function nf(c){const y={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(X(c[A]))continue;var v=D(c[A]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[B]||[];y[B]=Q,Q.push(v)}P(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function ua(c){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gs("baseRetryDelayMs",5e3,c),this.cb=gs("retryDelaySeedMs",1e4,c),this.Wa=gs("forwardChannelMaxRetries",2,c),this.wa=gs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ni(c&&c.concurrentRequestLimit),this.Da=new ds,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ua.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,A){rt(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Iu(this,null,this.W),ha(this)};function ko(c){if(Au(c),c.G==3){var y=c.U++,v=gn(c.I);if(Ze(v,"SID",c.K),Ze(v,"RID",y),Ze(v,"TYPE","terminate"),ys(c,v),y=new nn(c,c.j,y),y.L=2,y.v=cs(gn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Nu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),as(y)}Cu(c)}function ca(c){c.g&&(vs(c),c.g.cancel(),c.g=null)}function Au(c){ca(c),c.u&&(m.clearTimeout(c.u),c.u=null),fa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ha(c){if(!ta(c.h)&&!c.s){c.s=!0;var y=c.Ga;ne||V(),le||(ne(),le=!0),De.add(y,c),c.B=0}}function rf(c,y){return na(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Et(S(c.Ga,c,y),Lo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new nn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=C(Q),b(Q,this.S)):Q=this.S),this.m!==null||this.O||(B.H=Q,Q=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Su(this,B,y),v=gn(this.I),Ze(v,"RID",c),Ze(v,"CVER",22),this.D&&Ze(v,"X-HTTP-Session-Id",this.D),ys(this,v),Q&&(this.O?y="headers="+encodeURIComponent(String(Mo(Q)))+"&"+y:this.m&&Mt(v,this.m,Q)),ia(this.h,B),this.Ua&&Ze(v,"TYPE","init"),this.P?(Ze(v,"$req",y),Ze(v,"SID","null"),B.T=!0,Bn(B,v,null)):Bn(B,v,y),this.G=2}}else this.G==3&&(c?Vo(this,c):this.i.length==0||ta(this.h)||Vo(this))};function Vo(c,y){var v;y?v=y.l:v=c.U++;const A=gn(c.I);Ze(A,"SID",c.K),Ze(A,"RID",v),Ze(A,"AID",c.T),ys(c,A),c.m&&c.o&&Mt(A,c.m,c.o),v=new nn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Su(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ia(c.h,v),Bn(v,A,y)}function ys(c,y){c.H&&Re(c.H,function(v,A){Ze(y,A,v)}),c.l&&Io({},function(v,A){Ze(y,A,v)})}function Su(c,y,v){v=Math.min(c.i.length,v);var A=c.l?S(c.l.Na,c.l,c):null;e:{var B=c.i;let Q=-1;for(;;){const oe=["count="+v];Q==-1?0<v?(Q=B[0].g,oe.push("ofs="+Q)):Q=0:oe.push("ofs="+Q);let je=!0;for(let Rt=0;Rt<v;Rt++){let ze=B[Rt].g;const kt=B[Rt].map;if(ze-=Q,0>ze)Q=Math.max(0,B[Rt].g-100),je=!1;else try{ri(kt,oe,"req"+ze+"_")}catch{A&&A(kt)}}if(je){A=oe.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function wu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ne||V(),le||(ne(),le=!0),De.add(y,c),c.v=0}}function Po(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Et(S(c.Fa,c),Lo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,bu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Et(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),ca(this),bu(this))};function vs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function bu(c){c.g=new nn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=gn(c.qa);Ze(y,"RID","rpc"),Ze(y,"SID",c.K),Ze(y,"AID",c.T),Ze(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ze(y,"TO",c.ja),Ze(y,"TYPE","xmlhttp"),ys(c,y),c.m&&c.o&&Mt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=cs(gn(y)),v.m=null,v.P=!0,Ii(v,c)}r.Za=function(){this.C!=null&&(this.C=null,ca(this),Po(this),rt(19))};function fa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ru(c,y){var v=null;if(c.g==y){fa(c),vs(c),c.g=null;var A=2}else if(Ro(c.h,y))v=y.D,rn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;A=or(),Qe(A,new bt(A,v)),ha(c)}else wu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(A==1&&rf(c,y)||A==2&&Po(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),B){case 1:Vi(c,5);break;case 4:Vi(c,10);break;case 3:Vi(c,6);break;default:Vi(c,2)}}}function Lo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Vi(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),A=c.Xa;const B=!A;A=new Tt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||us(A,"https"),cs(A),B?fs(A.toString(),v):Hn(A.toString(),v)}else rt(2);c.G=0,c.l&&c.l.sa(y),Cu(c),Au(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Cu(c){if(c.G=0,c.ka=[],c.l){const y=Co(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ka,y),z(c.ka,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.ra()}}function Iu(c,y,v){var A=v instanceof Tt?gn(v):new Tt(v);if(A.g!="")y&&(A.g=y+"."+A.g),fr(A,A.s);else{var B=m.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Q=new Tt(null);A&&us(Q,A),y&&(Q.g=y),B&&fr(Q,B),v&&(Q.l=v),A=Q}return v=c.D,y=c.ya,v&&y&&Ze(A,v,y),Ze(A,"VER",c.la),ys(c,A),A}function Nu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ke(new dr({eb:v})):new Ke(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}r=Du.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function da(){}da.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){ht.call(this),this.g=new ua(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!X(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new li(this)}x(sn,ht),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){ko(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=zn(c),c=v);y.i.push(new yu(y.Ya++,c)),y.G==3&&ha(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,ko(this.g),delete this.g,sn.aa.N.call(this)};function Ou(c){Ri.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}x(Ou,Ri);function xu(){Ao.call(this),this.status=1}x(xu,Ao);function li(c){this.g=c}x(li,Du),li.prototype.ua=function(){Qe(this.g,"a")},li.prototype.ta=function(c){Qe(this.g,new Ou(c))},li.prototype.sa=function(c){Qe(this.g,new xu)},li.prototype.ra=function(){Qe(this.g,"b")},da.prototype.createWebChannel=da.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,TT=function(){return new da},ET=function(){return or()},_T=Wn,Im={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,Yc=cr,Ci.COMPLETE="complete",vT=Ci,To.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Nl=To,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,yT=Ke}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const eE="@firebase/firestore",tE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ho="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new wh("@firebase/firestore");function qa(){return Bs.logLevel}function ce(r,...e){if(Bs.logLevel<=Le.DEBUG){const n=e.map(mp);Bs.debug(`Firestore (${ho}): ${r}`,...n)}}function rr(r,...e){if(Bs.logLevel<=Le.ERROR){const n=e.map(mp);Bs.error(`Firestore (${ho}): ${r}`,...n)}}function Za(r,...e){if(Bs.logLevel<=Le.WARN){const n=e.map(mp);Bs.warn(`Firestore (${ho}): ${r}`,...n)}}function mp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,AT(r,s,n)}function AT(r,e,n){let s=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw rr(s),new Error(s)}function Ye(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||AT(e,o,s)}function Ne(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Zn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class pN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gN{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new er;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new er,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new er)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new ST(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class yN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new yN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _N{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new nE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new nE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=EN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Me(r,e){return r<e?-1:r>e?1:0}function Nm(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Me(s,o);{const u=wT(),f=TN(u.encode(iE(r,n)),u.encode(iE(e,n)));return f!==0?f:Me(s,o)}}n+=s>65535?2:1}return Me(r.length,e.length)}function iE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function TN(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Me(r[n],e[n]);return Me(r.length,e.length)}function Wa(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=-62135596800,sE=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*sE);return new Ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rE)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sE}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-rE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Ot(0,0))}static max(){return new Ce(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="__name__";class pi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=pi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Me(e.length,n.length)}static compareSegments(e,n){const s=pi.isNumericId(e),o=pi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?pi.extractNumericId(e).compare(pi.extractNumericId(n)):Nm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hr.fromString(e.substring(4,e.length-2))}}class at extends pi{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new at(n)}static emptyPath(){return new at([])}}const AN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends pi{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return AN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aE}static keyField(){return new Kt([aE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ge(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ge(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(at.fromString(e))}static fromName(e){return new ye(at.fromString(e).popFirst(5))}static empty(){return new ye(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new at(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=-1;function SN(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(s===1e9?new Ot(n+1,0):new Ot(n,s));return new Gr(o,ye.empty(),e)}function wN(r){return new Gr(r.readTime,r.key,ql)}class Gr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Gr(Ce.min(),ye.empty(),ql)}static max(){return new Gr(Ce.max(),ye.empty(),ql)}}function bN(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Me(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==RN)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,s)=>{n(e)})}static reject(e){return new te((n,s)=>{s(e)})}static waitFor(e){return new te((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next(o=>o?te.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new te((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new te((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function IN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ih.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=-1;function Nh(r){return r==null}function lh(r){return r===0&&1/r==-1/0}function NN(r){return typeof r=="number"&&Number.isInteger(r)&&!lh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="";function DN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=oE(e)),e=ON(r.get(n),e);return oE(e)}function ON(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case RT:n+="";break;default:n+=u}}return n}function oE(r){return r+RT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Zr(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function CT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Gt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uE(this.data.getIterator())}getIteratorFrom(e){return new uE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class uE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new xt(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new IT("Invalid base64 string: "+u):u}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const xN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(r){if(Ye(!!r,39018),typeof r=="string"){let e=0;const n=xN.exec(r);if(Ye(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Yr(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="server_timestamp",DT="__type__",OT="__previous_value__",xT="__local_write_time__";function gp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[DT])===null||n===void 0?void 0:n.stringValue)===NT}function Dh(r){const e=r.mapValue.fields[OT];return gp(e)?Dh(e):e}function Fl(r){const e=Kr(r.mapValue.fields[xT].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const uh="(default)";class Gl{constructor(e,n){this.projectId=e,this.database=n||uh}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="__type__",kN="__max__",Uc={mapValue:{}},kT="__vector__",ch="value";function Qr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?gp(r)?4:PN(r)?9007199254740991:VN(r)?10:11:Se(28295,{value:r})}function Ai(r,e){if(r===e)return!0;const n=Qr(r);if(n!==Qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Fl(r).isEqual(Fl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Kr(o.timestampValue),m=Kr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Yr(o.bytesValue).isEqual(Yr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?lh(f)===lh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Wa(r.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(lE(f)!==lE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ai(f[p],m[p])))return!1;return!0}(r,e);default:return Se(52216,{left:r})}}function Kl(r,e){return(r.values||[]).find(n=>Ai(n,e))!==void 0}function eo(r,e){if(r===e)return 0;const n=Qr(r),s=Qr(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=vt(u.integerValue||u.doubleValue),p=vt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return cE(r.timestampValue,e.timestampValue);case 4:return cE(Fl(r),Fl(e));case 5:return Nm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Yr(u),p=Yr(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Me(m[g],p[g]);if(E!==0)return E}return Me(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Me(vt(u.latitude),vt(f.latitude));return m!==0?m:Me(vt(u.longitude),vt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return hE(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const w=u.fields||{},S=f.fields||{},I=(m=w[ch])===null||m===void 0?void 0:m.arrayValue,x=(p=S[ch])===null||p===void 0?void 0:p.arrayValue,U=Me(((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0,((E=x==null?void 0:x.values)===null||E===void 0?void 0:E.length)||0);return U!==0?U:hE(I,x)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Uc.mapValue&&f===Uc.mapValue)return 0;if(u===Uc.mapValue)return 1;if(f===Uc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const S=Nm(p[w],E[w]);if(S!==0)return S;const I=eo(m[p[w]],g[E[w]]);if(I!==0)return I}return Me(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Se(23264,{Pe:n})}}function cE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Me(r,e);const n=Kr(r),s=Kr(e),o=Me(n.seconds,s.seconds);return o!==0?o:Me(n.nanos,s.nanos)}function hE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=eo(n[o],s[o]);if(u)return u}return Me(n.length,s.length)}function to(r){return Dm(r)}function Dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Kr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Yr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Dm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Dm(n.fields[f])}`;return o+"}"}(r.mapValue):Se(61005,{value:r})}function Qc(r){switch(Qr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dh(r);return e?16+Qc(e):16;case 5:return 2*r.stringValue.length;case 6:return Yr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Qc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Zr(s.fields,(u,f)=>{o+=u.length+Qc(f)}),o}(r.mapValue);default:throw Se(13486,{value:r})}}function Om(r){return!!r&&"integerValue"in r}function yp(r){return!!r&&"arrayValue"in r}function fE(r){return!!r&&"nullValue"in r}function dE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function $c(r){return!!r&&"mapValue"in r}function VN(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[MT])===null||n===void 0?void 0:n.stringValue)===kT}function Vl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Zr(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Vl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function PN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===kN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!$c(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Vl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());$c(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];$c(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Zr(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new fn(Vl(this.value))}}function VT(r){const e=[];return Zr(r.fields,(n,s)=>{const o=new Kt([n]);if($c(s)){const u=VT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,Ce.min(),Ce.min(),Ce.min(),fn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,Ce.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,Ce.min(),Ce.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Ce.min(),Ce.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n){this.position=e,this.inclusive=n}}function mE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=eo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function pE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ai(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n="asc"){this.field=e,this.dir=n}}function LN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{}class Dt extends PT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new jN(e,n,s):n==="array-contains"?new HN(e,s):n==="in"?new qN(e,s):n==="not-in"?new FN(e,s):n==="array-contains-any"?new GN(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new zN(e,s):new BN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(eo(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends PT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Si(e,n)}matches(e){return LT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function LT(r){return r.op==="and"}function UT(r){return UN(r)&&LT(r)}function UN(r){for(const e of r.filters)if(e instanceof Si)return!1;return!0}function xm(r){if(r instanceof Dt)return r.field.canonicalString()+r.op.toString()+to(r.value);if(UT(r))return r.filters.map(e=>xm(e)).join(",");{const e=r.filters.map(n=>xm(n)).join(",");return`${r.op}(${e})`}}function jT(r,e){return r instanceof Dt?function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&Ai(s.value,o.value)}(r,e):r instanceof Si?function(s,o){return o instanceof Si&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&jT(f,o.filters[m]),!0):!1}(r,e):void Se(19439)}function zT(r){return r instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${to(n.value)}`}(r):r instanceof Si?function(n){return n.op.toString()+" {"+n.getFilters().map(zT).join(" ,")+"}"}(r):"Filter"}class jN extends Dt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class zN extends Dt{constructor(e,n){super(e,"in",n),this.keys=BT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class BN extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=BT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class HN extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yp(n)&&Kl(n.arrayValue,this.value)}}class qN extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kl(this.value.arrayValue,n)}}class FN extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kl(this.value.arrayValue,n)}}class GN extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Kl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function gE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new KN(r,e,n,s,o,u,f)}function vp(r){const e=Ne(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>xm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Nh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>to(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>to(s)).join(",")),e.Ie=n}return e.Ie}function _p(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!LN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!jT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!pE(r.startAt,e.startAt)&&pE(r.endAt,e.endAt)}function Mm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function YN(r,e,n,s,o,u,f,m){return new Oh(r,e,n,s,o,u,f,m)}function Ep(r){return new Oh(r)}function yE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function QN(r){return r.collectionGroup!==null}function Pl(r){const e=Ne(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xt(Kt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new fh(u,s))}),n.has(Kt.keyField().canonicalString())||e.Ee.push(new fh(Kt.keyField(),s))}return e.Ee}function yi(r){const e=Ne(r);return e.de||(e.de=$N(e,Pl(r))),e.de}function $N(r,e){if(r.limitType==="F")return gE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new fh(o.field,u)});const n=r.endAt?new hh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new hh(r.startAt.position,r.startAt.inclusive):null;return gE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function km(r,e,n){return new Oh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function xh(r,e){return _p(yi(r),yi(e))&&r.limitType===e.limitType}function HT(r){return`${vp(yi(r))}|lt:${r.limitType}`}function Fa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>zT(o)).join(", ")}]`),Nh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>to(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>to(o)).join(",")),`Target(${s})`}(yi(r))}; limitType=${r.limitType})`}function Mh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Pl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=mE(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Pl(s),o)||s.endAt&&!function(f,m,p){const g=mE(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Pl(s),o))}(r,e)}function XN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function qT(r){return(e,n)=>{let s=!1;for(const o of Pl(r)){const u=JN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function JN(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?eo(p,g):Se(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return CT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new ct(ye.comparator);function sr(){return ZN}const FT=new ct(ye.comparator);function Dl(...r){let e=FT;for(const n of r)e=e.insert(n.key,n);return e}function GT(r){let e=FT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ps(){return Ll()}function KT(){return Ll()}function Ll(){return new Qs(r=>r.toString(),(r,e)=>r.isEqual(e))}const WN=new ct(ye.comparator),e2=new xt(ye.comparator);function Ue(...r){let e=e2;for(const n of r)e=e.add(n);return e}const t2=new xt(Me);function n2(){return t2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function YT(r){return{integerValue:""+r}}function i2(r,e){return NN(e)?YT(e):Tp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this._=void 0}}function r2(r,e,n){return r instanceof Yl?function(o,u){const f={fields:{[DT]:{stringValue:NT},[xT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&gp(u)&&(u=Dh(u)),u&&(f.fields[OT]=u),{mapValue:f}}(n,e):r instanceof Ql?$T(r,e):r instanceof $l?XT(r,e):function(o,u){const f=QT(o,u),m=vE(f)+vE(o.Re);return Om(f)&&Om(o.Re)?YT(m):Tp(o.serializer,m)}(r,e)}function s2(r,e,n){return r instanceof Ql?$T(r,e):r instanceof $l?XT(r,e):n}function QT(r,e){return r instanceof dh?function(s){return Om(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Yl extends kh{}class Ql extends kh{constructor(e){super(),this.elements=e}}function $T(r,e){const n=JT(e);for(const s of r.elements)n.some(o=>Ai(o,s))||n.push(s);return{arrayValue:{values:n}}}class $l extends kh{constructor(e){super(),this.elements=e}}function XT(r,e){let n=JT(e);for(const s of r.elements)n=n.filter(o=>!Ai(o,s));return{arrayValue:{values:n}}}class dh extends kh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function vE(r){return vt(r.integerValue||r.doubleValue)}function JT(r){return yp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n){this.field=e,this.transform=n}}function o2(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Ql&&o instanceof Ql||s instanceof $l&&o instanceof $l?Wa(s.elements,o.elements,Ai):s instanceof dh&&o instanceof dh?Ai(s.Re,o.Re):s instanceof Yl&&o instanceof Yl}(r.transform,e.transform)}class l2{constructor(e,n){this.version=e,this.transformResults=n}}class vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Vh{}function ZT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new eA(r.key,vi.none()):new iu(r.key,r.data,vi.none());{const n=r.data,s=fn.empty();let o=new xt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Wr(r.key,s,new wn(o.toArray()),vi.none())}}function u2(r,e,n){r instanceof iu?function(o,u,f){const m=o.value.clone(),p=EE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Wr?function(o,u,f){if(!Xc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=EE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(WT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Ul(r,e,n,s){return r instanceof iu?function(u,f,m,p){if(!Xc(u.precondition,f))return m;const g=u.value.clone(),E=TE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof Wr?function(u,f,m,p){if(!Xc(u.precondition,f))return m;const g=TE(u.fieldTransforms,p,f),E=f.data;return E.setAll(WT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,n,s):function(u,f,m){return Xc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function c2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=QT(s.transform,o||null);u!=null&&(n===null&&(n=fn.empty()),n.set(s.field,u))}return n||null}function _E(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Wa(s,o,(u,f)=>o2(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class iu extends Vh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Wr extends Vh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function WT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function EE(r,e,n){const s=new Map;Ye(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,s2(f,m,n[o]))}return s}function TE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,r2(u,f,e))}return s}class eA extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h2 extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&u2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ul(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ul(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=KT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=ZT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ce.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,(n,s)=>_E(n,s))&&Wa(this.baseMutations,e.baseMutations,(n,s)=>_E(n,s))}}class Ap{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return WN}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ap(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,He;function p2(r){switch(r){case ie.OK:return Se(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Se(15467,{code:r})}}function tA(r){if(r===void 0)return rr("GRPC error has no .code"),ie.UNKNOWN;switch(r){case wt.OK:return ie.OK;case wt.CANCELLED:return ie.CANCELLED;case wt.UNKNOWN:return ie.UNKNOWN;case wt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case wt.INTERNAL:return ie.INTERNAL;case wt.UNAVAILABLE:return ie.UNAVAILABLE;case wt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case wt.NOT_FOUND:return ie.NOT_FOUND;case wt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case wt.ABORTED:return ie.ABORTED;case wt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case wt.DATA_LOSS:return ie.DATA_LOSS;default:return Se(39323,{code:r})}}(He=wt||(wt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new Hr([4294967295,4294967295],0);function AE(r){const e=wT().encode(r),n=new gT;return n.update(e),new Uint8Array(n.digest())}function SE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Hr([n,s],0),new Hr([o,u],0)]}class Sp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ol(`Invalid padding: ${n}`);if(s<0)throw new Ol(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Hr.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(Hr.fromNumber(s)));return o.compare(g2)===1&&(o=new Hr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=AE(e),[s,o]=SE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Sp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=AE(e),[s,o]=SE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ph(Ce.min(),o,new ct(Me),sr(),Ue())}}class ru{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ru(s,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class nA{constructor(e,n){this.targetId=e,this.Ce=n}}class iA{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class wE{constructor(){this.Fe=0,this.Me=bE(),this.xe=Yt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ue(),n=Ue(),s=Ue();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:u})}}),new ru(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=bE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ye(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class y2{constructor(e){this.ze=e,this.je=new Map,this.He=sr(),this.Je=jc(),this.Ye=jc(),this.Ze=new ct(Me)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Mm(u))if(s===0){const f=new ye(u.path);this.tt(n,f,Wt.newNoDocument(f,Ce.min()))}else Ye(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Yr(s).toUint8Array()}catch(p){if(p instanceof IT)return Za("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Sp(f,o,u)}catch(p){return Za(p instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Mm(m.target)){const p=new ye(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Wt.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Ue();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Ph(e,n,this.Ze,this.He,s);return this.He=sr(),this.Je=jc(),this.Ye=jc(),this.Ze=new ct(Me),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new wE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new xt(Me),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new xt(Me),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new wE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function jc(){return new ct(ye.comparator)}function bE(){return new ct(ye.comparator)}const v2={asc:"ASCENDING",desc:"DESCENDING"},_2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E2={and:"AND",or:"OR"};class T2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vm(r,e){return r.useProto3Json||Nh(e)?e:{value:e}}function mh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function A2(r,e){return mh(r,e.toTimestamp())}function _i(r){return Ye(!!r,49232),Ce.fromTimestamp(function(n){const s=Kr(n);return new Ot(s.seconds,s.nanos)}(r))}function wp(r,e){return Pm(r,e).canonicalString()}function Pm(r,e){const n=function(o){return new at(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function sA(r){const e=at.fromString(r);return Ye(cA(e),10190,{key:e.toString()}),e}function Lm(r,e){return wp(r.databaseId,e.path)}function cm(r,e){const n=sA(e);if(n.get(1)!==r.databaseId.projectId)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(oA(n))}function aA(r,e){return wp(r.databaseId,e)}function S2(r){const e=sA(r);return e.length===4?at.emptyPath():oA(e)}function Um(r){return new at(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function oA(r){return Ye(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function RE(r,e,n){return{name:Lm(r,e),fields:n.value.mapValue.fields}}function w2(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ye(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?ie.UNKNOWN:tA(g.code);return new ge(E,g.message||"")}(f);n=new iA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=cm(r,s.document.name),u=_i(s.document.updateTime),f=s.document.createTime?_i(s.document.createTime):Ce.min(),m=new fn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Jc(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=cm(r,s.document),u=s.readTime?_i(s.readTime):Ce.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Jc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=cm(r,s.document),u=s.removedTargetIds||[];n=new Jc([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new m2(o,u),m=s.targetId;n=new nA(m,f)}}return n}function b2(r,e){let n;if(e instanceof iu)n={update:RE(r,e.key,e.value)};else if(e instanceof eA)n={delete:Lm(r,e.key)};else if(e instanceof Wr)n={update:RE(r,e.key,e.data),updateMask:k2(e.fieldMask)};else{if(!(e instanceof h2))return Se(16599,{ft:e.type});n={verify:Lm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Yl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ql)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof $l)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof dh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Se(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:A2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)}(r,e.precondition)),n}function R2(r,e){return r&&r.length>0?(Ye(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?_i(o.updateTime):_i(u);return f.isEqual(Ce.min())&&(f=_i(u)),new l2(f,o.transformResults||[])}(n,e))):[]}function C2(r,e){return{documents:[aA(r,e.path)]}}function I2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=aA(r,o);const u=function(g){if(g.length!==0)return uA(Si.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(S){return{field:Ga(S.field),direction:O2(S.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Vm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function N2(r){let e=S2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ye(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const S=lA(w);return S instanceof Si&&UT(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(S=>function(x){return new fh(Ka(x.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(w){let S;return S=typeof w=="object"?w.value:w,Nh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(w){const S=!!w.before,I=w.values||[];return new hh(I,S)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const S=!w.before,I=w.values||[];return new hh(I,S)}(n.endAt)),YN(e,o,f,u,m,"F",p,g)}function D2(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lA(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ka(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ka(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ka(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ka(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(r):r.fieldFilter!==void 0?function(n){return Dt.create(Ka(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Si.create(n.compositeFilter.filters.map(s=>lA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(n.compositeFilter.op))}(r):Se(30097,{filter:r})}function O2(r){return v2[r]}function x2(r){return _2[r]}function M2(r){return E2[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Ka(r){return Kt.fromServerFormat(r.fieldPath)}function uA(r){return r instanceof Dt?function(n){if(n.op==="=="){if(dE(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if(fE(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dE(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if(fE(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:x2(n.op),value:n.value}}}(r):r instanceof Si?function(n){const s=n.getFilters().map(o=>uA(o));return s.length===1?s[0]:{compositeFilter:{op:M2(n.op),filters:s}}}(r):Se(54877,{filter:r})}function k2(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,s,o,u=Ce.min(),f=Ce.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.wt=e}}function P2(r){const e=N2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?km(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.Cn=new U2}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Gr.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class U2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new xt(at.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hA=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(hA,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new no(0)}static lr(){return new no(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="LruGarbageCollector",j2=1048576;function NE([r,e],[n,s]){const o=Me(r,n);return o===0?Me(e,s):o}class z2{constructor(e){this.Er=e,this.buffer=new xt(NE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();NE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class B2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ce(IE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){mo(n)?ce(IE,"Ignoring IndexedDB error during garbage collection: ",n):await fo(n)}await this.mr(3e5)})}}class H2{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Ih.le);const s=new z2(n);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(CE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),qa()<=Le.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function q2(r,e){return new H2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.changes=new Qs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Ul(s.mutation,o,wn.empty(),Ot.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ue()){const o=Ps();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Dl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ps();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ue()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=sr();const f=Ll(),m=function(){return Ll()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Wr)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Ul(E.mutation,g,E.mutation.getFieldMask(),Ot.now())):f.set(g.key,wn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var w;return m.set(g,new G2(E,(w=f.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Ll();let o=new ct((f,m)=>f-m),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||wn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=KT();E.forEach(S=>{if(!u.has(S)){const I=ZT(n.get(S),s.get(S));I!==null&&w.set(S,I),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return te.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(Ps());let m=ql,p=u;return f.next(g=>te.forEach(g,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ue())).next(E=>({batchId:m,changes:GT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=Dl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Dl();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,p=>{const g=function(w,S){return new Oh(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((w,S)=>{f=f.insert(w,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))});let m=Dl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Ul(E.mutation,g,wn.empty(),Ot.now()),Mh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return te.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:_i(o.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:P2(o.bundledQuery),readTime:_i(o.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.overlays=new ct(ye.comparator),this.Qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ps();return te.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=Ps(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Ps(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Ps(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new d2(n,s));let u=this.Qr.get(n);u===void 0&&(u=Ue(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(){this.$r=new xt(Ut.Ur),this.Kr=new xt(Ut.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new Ut(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new ye(new at([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ye(new at([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=Ue();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Ut(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ye.comparator(e.key,n.key)||Me(e.Zr,n.Zr)}static Wr(e,n){return Me(e.Zr,n.Zr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new xt(Ut.Ur)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new f2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?pp:this.nr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const m=this.ei(f.Zr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new xt(Me);return n.forEach(o=>{const u=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{s=s.add(m.Zr)})}),te.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new ye(u),0);let m=new xt(Me);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},f),te.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ye(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return te.forEach(n.mutations,o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new Ut(n,0),o=this.Xr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.ii=e,this.docs=function(){return new ct(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=sr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=sr();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||bN(wN(E),s)<=0||(o.has(E.key)||Mh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Se(9500)}si(e,n){return te.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new Z2(this)}getSize(e){return te.resolve(this.size)}}class Z2 extends F2{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),te.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.persistence=e,this.oi=new Qs(n=>vp(n),_p),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this._i=0,this.ai=new bp,this.targetCount=0,this.ui=no.cr()}forEachTarget(e,n){return this.oi.forEach((s,o)=>n(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),te.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new no(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Tr(n),te.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,n){this.ci={},this.overlays={},this.li=new Ih(0),this.hi=!1,this.hi=!0,this.Pi=new $2,this.referenceDelegate=e(this),this.Ti=new W2(this),this.indexManager=new L2,this.remoteDocumentCache=function(o){return new J2(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new V2(n),this.Ei=new Y2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Q2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new X2(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new eD(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return te.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class eD extends CN{constructor(e){super(),this.currentSequenceNumber=e}}class Rp{constructor(e){this.persistence=e,this.Vi=new bp,this.mi=null}static fi(e){return new Rp(e)}get gi(){if(this.mi)return this.mi;throw Se(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.gi,s=>{const o=ye.fromPath(s);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Ce.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return te.or([()=>te.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class ph{constructor(e,n){this.persistence=e,this.yi=new Qs(s=>DN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=q2(this,n)}static fi(e,n){return new ph(e,n)}di(){}Ai(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return te.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?te.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,f=>this.Dr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ce.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),te.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qc(e.data.value)),n}Dr(e,n,s){return te.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ds=s,this.As=o}static Rs(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Cp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Q1()?8:IN(en())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ws(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new tD;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,f,m.size)})}).next(()=>u.result)}Ds(e,n,s,o){return s.documentReadCount<this.gs?(qa()<=Le.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),te.resolve()):(qa()<=Le.DEBUG&&ce("QueryEngine","Query:",Fa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(qa()<=Le.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(n))):te.resolve())}ws(e,n){if(yE(n))return te.resolve(null);let s=yi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=km(n,null,"F"),s=yi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ue(...u);return this.ys.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,f,p.readTime)?this.ws(e,km(n,null,"F")):this.Fs(e,g,n,p)}))})))}bs(e,n,s,o){return yE(n)||o.isEqual(Ce.min())?te.resolve(null):this.ys.getDocuments(e,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?te.resolve(null):(qa()<=Le.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fa(n)),this.Fs(e,f,n,SN(o,ql)).next(m=>m))})}vs(e,n){let s=new xt(qT(e));return n.forEach((o,u)=>{Mh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return qa()<=Le.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Fa(n)),this.ys.getDocumentsMatchingQuery(e,n,Gr.min(),s)}Fs(e,n,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="LocalStore",iD=3e8;class rD{constructor(e,n,s,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new ct(Me),this.Os=new Qs(u=>vp(u),_p),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new K2(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function sD(r,e,n,s){return new rD(r,e,n,s)}async function dA(r,e){const n=Ne(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ue();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:f,addedBatchIds:m}))})})}function aD(r,e){const n=Ne(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const w=g.batch,S=w.keys();let I=te.resolve();return S.forEach(x=>{I=I.next(()=>E.getEntry(p,x)).next(U=>{const z=g.docVersions.get(x);Ye(z!==null,48541),U.version.compareTo(z)<0&&(w.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),E.addEntry(U)))})}),I.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function mA(r){const e=Ne(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function oD(r,e){const n=Ne(r),s=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((E,w)=>{const S=o.get(w);if(!S)return;m.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,w)));let I=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?I=I.withResumeToken(Yt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):E.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(E.resumeToken,s)),o=o.insert(w,I),function(U,z,$){return U.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=iD?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(S,I,E)&&m.push(n.Ti.updateTargetData(u,I))});let p=sr(),g=Ue();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(lD(u,f,e.documentUpdates).next(E=>{p=E.qs,g=E.Qs})),!s.isEqual(Ce.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(w=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return te.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function lD(r,e,n){let s=Ue(),o=Ue();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=sr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce(Ip,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function uD(r,e){const n=Ne(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=pp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function cD(r,e){const n=Ne(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new jr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function jm(r,e,n){const s=Ne(r),o=s.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!mo(f))throw f;ce(Ip,`Failed to update sequence numbers for target ${e}: ${f}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function DE(r,e,n){const s=Ne(r);let o=Ce.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const w=Ne(p),S=w.Os.get(E);return S!==void 0?te.resolve(w.xs.get(S)):w.Ti.getTargetData(g,E)}(s,f,yi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,e,n?o:Ce.min(),n?u:Ue())).next(m=>(hD(s,XN(e),m),{documents:m,$s:u})))}function hD(r,e,n){let s=r.Ns.get(e)||Ce.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ns.set(e,s)}class OE{constructor(){this.activeTargetIds=n2()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fD{constructor(){this.xo=new OE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new OE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="ConnectivityMonitor";class ME{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ce(xE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ce(xE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc=null;function zm(){return zc===null?zc=function(){return 268435456+Math.round(2147483648*Math.random())}():zc++,"0x"+zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="RestConnection",mD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pD{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===uh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,n,s,o,u){const f=zm(),m=this.jo(e,n.toUriEncodedString());ce(hm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),E=lo(g);return this.Jo(e,m,p,s,E).then(w=>(ce(hm,`Received RPC '${e}' ${f}: `,w),w),w=>{throw Za(hm,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w})}Yo(e,n,s,o,u,f){return this.zo(e,n,s,o,u)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ho}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const s=mD[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class yD extends pD{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=zm();return new Promise((m,p)=>{const g=new yT;g.setWithCredentials(!0),g.listenOnce(vT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Yc.NO_ERROR:const w=g.getResponseJson();ce(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case Yc.TIMEOUT:ce(Jt,`RPC '${e}' ${f} timed out`),p(new ge(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const S=g.getStatus();if(ce(Jt,`RPC '${e}' ${f} failed with status:`,S,"response text:",g.getResponseText()),S>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const x=I==null?void 0:I.error;if(x&&x.status&&x.message){const U=function($){const X=$.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(X)>=0?X:ie.UNKNOWN}(x.status);p(new ge(U,x.message))}else p(new ge(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ge(ie.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{h_:e,streamId:f,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{ce(Jt,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);ce(Jt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}I_(e,n,s){const o=zm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=TT(),m=ET(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(Jt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);this.E_(w);let S=!1,I=!1;const x=new gD({Zo:z=>{I?ce(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(S||(ce(Jt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),ce(Jt,`RPC '${e}' stream ${o} sending:`,z),w.send(z))},Xo:()=>w.close()}),U=(z,$,X)=>{z.listen($,re=>{try{X(re)}catch(fe){setTimeout(()=>{throw fe},0)}})};return U(w,Nl.EventType.OPEN,()=>{I||(ce(Jt,`RPC '${e}' stream ${o} transport opened.`),x.__())}),U(w,Nl.EventType.CLOSE,()=>{I||(I=!0,ce(Jt,`RPC '${e}' stream ${o} transport closed`),x.u_(),this.d_(w))}),U(w,Nl.EventType.ERROR,z=>{I||(I=!0,Za(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),x.u_(new ge(ie.UNAVAILABLE,"The operation could not be completed")))}),U(w,Nl.EventType.MESSAGE,z=>{var $;if(!I){const X=z.data[0];Ye(!!X,16349);const re=X,fe=(re==null?void 0:re.error)||(($=re[0])===null||$===void 0?void 0:$.error);if(fe){ce(Jt,`RPC '${e}' stream ${o} received error:`,fe);const ue=fe.status;let Re=function(N){const b=wt[N];if(b!==void 0)return tA(b)}(ue),P=fe.message;Re===void 0&&(Re=ie.INTERNAL,P="Unknown error status: "+ue+" with message "+fe.message),I=!0,x.u_(new ge(Re,P)),w.close()}else ce(Jt,`RPC '${e}' stream ${o} received:`,X),x.c_(X)}}),U(m,_T.STAT_EVENT,z=>{z.stat===Im.PROXY?ce(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===Im.NOPROXY&&ce(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function fm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(r){return new T2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="PersistentStream";class gA{constructor(e,n,s,o,u,f,m,p){this.xi=e,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new pA(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===n&&this.z_(s,o)},s=>{e(()=>{const o=new ge(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ce(kE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(ce(kE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vD extends gA{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=w2(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ce.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ce.min():f.readTime?_i(f.readTime):Ce.min()}(e);return this.listener.Y_(n,s)}Z_(e){const n={};n.database=Um(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Mm(p)?{documents:C2(u,p)}:{query:I2(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=rA(u,f.resumeToken);const g=Vm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ce.min())>0){m.readTime=mh(u,f.snapshotVersion.toTimestamp());const g=Vm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=D2(this.serializer,e);s&&(n.labels=s),this.Q_(n)}X_(e){const n={};n.database=Um(this.serializer),n.removeTarget=e,this.Q_(n)}}class _D extends gA{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=R2(e.writeResults,e.commitTime),s=_i(e.commitTime);return this.listener.ra(s,n)}ia(){const e={};e.database=Um(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>b2(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{}class TD extends ED{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(e,Pm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ie.UNKNOWN,u.toString())})}Yo(e,n,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(e,Pm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ge(ie.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class AD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(rr(n),this.ua=!1):ce("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="RemoteStore";class SD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{s.enqueueAndForget(async()=>{$s(this)&&(ce(Hs,"Restarting streams for network reachability change."),await async function(p){const g=Ne(p);g.da.add(4),await su(g),g.Va.set("Unknown"),g.da.delete(4),await Uh(g)}(this))})}),this.Va=new AD(s,o)}}async function Uh(r){if($s(r))for(const e of r.Aa)await e(!0)}async function su(r){for(const e of r.Aa)await e(!1)}function yA(r,e){const n=Ne(r);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),xp(n)?Op(n):po(n).N_()&&Dp(n,e))}function Np(r,e){const n=Ne(r),s=po(n);n.Ea.delete(e),s.N_()&&vA(n,e),n.Ea.size===0&&(s.N_()?s.k_():$s(n)&&n.Va.set("Unknown"))}function Dp(r,e){if(r.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}po(r).Z_(e)}function vA(r,e){r.ma.Ke(e),po(r).X_(e)}function Op(r){r.ma=new y2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Ea.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),po(r).start(),r.Va.ca()}function xp(r){return $s(r)&&!po(r).O_()&&r.Ea.size>0}function $s(r){return Ne(r).da.size===0}function _A(r){r.ma=void 0}async function wD(r){r.Va.set("Online")}async function bD(r){r.Ea.forEach((e,n)=>{Dp(r,e)})}async function RD(r,e){_A(r),xp(r)?(r.Va.Pa(e),Op(r)):r.Va.set("Unknown")}async function CD(r,e,n){if(r.Va.set("Online"),e instanceof iA&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ea.delete(m),o.ma.removeTarget(m))}(r,e)}catch(s){ce(Hs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await gh(r,s)}else if(e instanceof Jc?r.ma.Xe(e):e instanceof nA?r.ma.ot(e):r.ma.nt(e),!n.isEqual(Ce.min()))try{const s=await mA(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.ma.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ea.get(g);E&&u.Ea.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ea.get(p);if(!E)return;u.Ea.set(p,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),vA(u,p);const w=new jr(E.target,p,g,E.sequenceNumber);Dp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ce(Hs,"Failed to raise snapshot:",s),await gh(r,s)}}async function gh(r,e,n){if(!mo(e))throw e;r.da.add(1),await su(r),r.Va.set("Offline"),n||(n=()=>mA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ce(Hs,"Retrying IndexedDB access"),await n(),r.da.delete(1),await Uh(r)})}function EA(r,e){return e().catch(n=>gh(r,n,e))}async function jh(r){const e=Ne(r),n=$r(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:pp;for(;ID(e);)try{const o=await uD(e.localStore,s);if(o===null){e.Ia.length===0&&n.k_();break}s=o.batchId,ND(e,o)}catch(o){await gh(e,o)}TA(e)&&AA(e)}function ID(r){return $s(r)&&r.Ia.length<10}function ND(r,e){r.Ia.push(e);const n=$r(r);n.N_()&&n.ea&&n.ta(e.mutations)}function TA(r){return $s(r)&&!$r(r).O_()&&r.Ia.length>0}function AA(r){$r(r).start()}async function DD(r){$r(r).ia()}async function OD(r){const e=$r(r);for(const n of r.Ia)e.ta(n.mutations)}async function xD(r,e,n){const s=r.Ia.shift(),o=Ap.from(s,e,n);await EA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await jh(r)}async function MD(r,e){e&&$r(r).ea&&await async function(s,o){if(function(f){return p2(f)&&f!==ie.ABORTED}(o.code)){const u=s.Ia.shift();$r(s).L_(),await EA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await jh(s)}}(r,e),TA(r)&&AA(r)}async function VE(r,e){const n=Ne(r);n.asyncQueue.verifyOperationInProgress(),ce(Hs,"RemoteStore received new credentials");const s=$s(n);n.da.add(3),await su(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Uh(n)}async function kD(r,e){const n=Ne(r);e?(n.da.delete(2),await Uh(n)):e||(n.da.add(2),await su(n),n.Va.set("Unknown"))}function po(r){return r.fa||(r.fa=function(n,s,o){const u=Ne(n);return u.oa(),new vD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:wD.bind(null,r),n_:bD.bind(null,r),i_:RD.bind(null,r),Y_:CD.bind(null,r)}),r.Aa.push(async e=>{e?(r.fa.L_(),xp(r)?Op(r):r.Va.set("Unknown")):(await r.fa.stop(),_A(r))})),r.fa}function $r(r){return r.ga||(r.ga=function(n,s,o){const u=Ne(n);return u.oa(),new _D(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:DD.bind(null,r),i_:MD.bind(null,r),na:OD.bind(null,r),ra:xD.bind(null,r)}),r.Aa.push(async e=>{e?(r.ga.L_(),await jh(r)):(await r.ga.stop(),r.Ia.length>0&&(ce(Hs,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Mp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kp(r,e){if(rr("AsyncQueue",`${e}: ${r}`),mo(r))return new ge(ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{static emptySet(e){return new Xa(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Dl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Xa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.pa=new ct(ye.comparator)}track(e){const n=e.doc.key,s=this.pa.get(n);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(n,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(n):e.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Se(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,s)=>{e.push(s)}),e}}class io{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new io(e,n,Xa.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class PD{constructor(){this.queries=LE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ne(n),u=o.queries;o.queries=LE(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new ge(ie.ABORTED,"Firestore shutting down"))}}function LE(){return new Qs(r=>HT(r),xh)}async function SA(r,e){const n=Ne(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(s=2):(u=new VD,s=e.va()?0:1);try{switch(s){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=kp(f,`Initialization of query '${Fa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&Vp(n)}async function wA(r,e){const n=Ne(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function LD(r,e){const n=Ne(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Ma(o)&&(s=!0);f.ba=o}}s&&Vp(n)}function UD(r,e,n){const s=Ne(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Vp(r){r.Ca.forEach(e=>{e.next()})}var Bm,UE;(UE=Bm||(Bm={})).xa="default",UE.Cache="cache";class bA{constructor(e,n,s){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new io(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.key=e}}class CA{constructor(e){this.key=e}}class jD{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.Za=qT(e),this.Xa=new Xa(this.Za)}get eu(){return this.Ha}tu(e,n){const s=n?n.nu:new PE,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const S=o.get(E),I=Mh(this.query,w)?w:null,x=!!S&&this.mutatedKeys.has(S.key),U=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let z=!1;S&&I?S.data.isEqual(I.data)?x!==U&&(s.track({type:3,doc:I}),z=!0):this.ru(S,I)||(s.track({type:2,doc:I}),z=!0,(p&&this.Za(I,p)>0||g&&this.Za(I,g)<0)&&(m=!0)):!S&&I?(s.track({type:0,doc:I}),z=!0):S&&!I&&(s.track({type:1,doc:S}),z=!0,(p||g)&&(m=!0)),z&&(I?(f=f.add(I),u=U?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Xa:f,nu:s,Cs:m,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const f=e.nu.wa();f.sort((E,w)=>function(I,x){const U=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:z})}};return U(I)-U(x)}(E.type,w.type)||this.Za(E.doc,w.doc)),this.iu(s),o=o!=null&&o;const m=n&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,f.length!==0||g?{snapshot:new io(this.query,e.Xa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new PE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new CA(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new RA(s))}),n}au(e){this.Ha=e.$s,this.Ya=Ue();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return io.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Pp="SyncEngine";class zD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class BD{constructor(e){this.key=e,this.cu=!1}}class HD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new Qs(m=>HT(m),xh),this.Pu=new Map,this.Tu=new Set,this.Iu=new ct(ye.comparator),this.Eu=new Map,this.du=new bp,this.Au={},this.Ru=new Map,this.Vu=no.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function qD(r,e,n=!0){const s=MA(r);let o;const u=s.hu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await IA(s,e,n,!0),o}async function FD(r,e){const n=MA(r);await IA(n,e,!0,!1)}async function IA(r,e,n,s){const o=await cD(r.localStore,yi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await GD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&yA(r.remoteStore,o),m}async function GD(r,e,n,s,o){r.fu=(w,S,I)=>async function(U,z,$,X){let re=z.view.tu($);re.Cs&&(re=await DE(U.localStore,z.query,!1).then(({documents:P})=>z.view.tu(P,re)));const fe=X&&X.targetChanges.get(z.targetId),ue=X&&X.targetMismatches.get(z.targetId)!=null,Re=z.view.applyChanges(re,U.isPrimaryClient,fe,ue);return zE(U,z.targetId,Re.ou),Re.snapshot}(r,w,S,I);const u=await DE(r.localStore,e,!0),f=new jD(e,u.$s),m=f.tu(u.documents),p=ru.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);zE(r,n,g.ou);const E=new zD(e,n,f);return r.hu.set(e,E),r.Pu.has(n)?r.Pu.get(n).push(e):r.Pu.set(n,[e]),g.snapshot}async function KD(r,e,n){const s=Ne(r),o=s.hu.get(e),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(f=>!xh(f,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await jm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Np(s.remoteStore,o.targetId),Hm(s,o.targetId)}).catch(fo)):(Hm(s,o.targetId),await jm(s.localStore,o.targetId,!0))}async function YD(r,e){const n=Ne(r),s=n.hu.get(e),o=n.Pu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Np(n.remoteStore,s.targetId))}async function QD(r,e,n){const s=tO(r);try{const o=await function(f,m){const p=Ne(f),g=Ot.now(),E=m.reduce((I,x)=>I.add(x.key),Ue());let w,S;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let x=sr(),U=Ue();return p.Bs.getEntries(I,E).next(z=>{x=z,x.forEach(($,X)=>{X.isValidDocument()||(U=U.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,x)).next(z=>{w=z;const $=[];for(const X of m){const re=c2(X,w.get(X.key).overlayedDocument);re!=null&&$.push(new Wr(X.key,re,VT(re.value.mapValue),vi.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,$,m)}).next(z=>{S=z;const $=z.applyToLocalDocumentSet(w,U);return p.documentOverlayCache.saveOverlays(I,z.batchId,$)})}).then(()=>({batchId:S.batchId,changes:GT(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Au[f.currentUser.toKey()];g||(g=new ct(Me)),g=g.insert(m,p),f.Au[f.currentUser.toKey()]=g}(s,o.batchId,n),await au(s,o.changes),await jh(s.remoteStore)}catch(o){const u=kp(o,"Failed to persist write");n.reject(u)}}async function NA(r,e){const n=Ne(r);try{const s=await oD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?Ye(f.cu,14607):o.removedDocuments.size>0&&(Ye(f.cu,42227),f.cu=!1))}),await au(n,s,e)}catch(s){await fo(s)}}function jE(r,e,n){const s=Ne(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.hu.forEach((u,f)=>{const m=f.view.Fa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ne(f);p.onlineState=m;let g=!1;p.queries.forEach((E,w)=>{for(const S of w.Sa)S.Fa(m)&&(g=!0)}),g&&Vp(p)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function $D(r,e,n){const s=Ne(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new ct(ye.comparator);f=f.insert(u,Wt.newNoDocument(u,Ce.min()));const m=Ue().add(u),p=new Ph(Ce.min(),new Map,new ct(Me),f,m);await NA(s,p),s.Iu=s.Iu.remove(u),s.Eu.delete(e),Lp(s)}else await jm(s.localStore,e,!1).then(()=>Hm(s,e,n)).catch(fo)}async function XD(r,e){const n=Ne(r),s=e.batch.batchId;try{const o=await aD(n.localStore,e);OA(n,s,null),DA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await au(n,o)}catch(o){await fo(o)}}async function JD(r,e,n){const s=Ne(r);try{const o=await function(f,m){const p=Ne(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(Ye(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);OA(s,e,n),DA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await au(s,o)}catch(o){await fo(o)}}function DA(r,e){(r.Ru.get(e)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(e)}function OA(r,e,n){const s=Ne(r);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Au[s.currentUser.toKey()]=o}}function Hm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Pu.get(e))r.hu.delete(s),n&&r.lu.gu(s,n);r.Pu.delete(e),r.isPrimaryClient&&r.du.Hr(e).forEach(s=>{r.du.containsKey(s)||xA(r,s)})}function xA(r,e){r.Tu.delete(e.path.canonicalString());const n=r.Iu.get(e);n!==null&&(Np(r.remoteStore,n),r.Iu=r.Iu.remove(e),r.Eu.delete(n),Lp(r))}function zE(r,e,n){for(const s of n)s instanceof RA?(r.du.addReference(s.key,e),ZD(r,s)):s instanceof CA?(ce(Pp,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,e),r.du.containsKey(s.key)||xA(r,s.key)):Se(19791,{pu:s})}function ZD(r,e){const n=e.key,s=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(s)||(ce(Pp,"New document in limbo: "+n),r.Tu.add(s),Lp(r))}function Lp(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const e=r.Tu.values().next().value;r.Tu.delete(e);const n=new ye(at.fromString(e)),s=r.Vu.next();r.Eu.set(s,new BD(n)),r.Iu=r.Iu.insert(n,s),yA(r.remoteStore,new jr(yi(Ep(n.path)),s,"TargetPurposeLimboResolution",Ih.le))}}async function au(r,e,n){const s=Ne(r),o=[],u=[],f=[];s.hu.isEmpty()||(s.hu.forEach((m,p)=>{f.push(s.fu(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Cp.Rs(p.targetId,g);u.push(w)}}))}),await Promise.all(f),s.lu.Y_(o),await async function(p,g){const E=Ne(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>te.forEach(g,S=>te.forEach(S.ds,I=>E.persistence.referenceDelegate.addReference(w,S.targetId,I)).next(()=>te.forEach(S.As,I=>E.persistence.referenceDelegate.removeReference(w,S.targetId,I)))))}catch(w){if(!mo(w))throw w;ce(Ip,"Failed to update sequence numbers: "+w)}for(const w of g){const S=w.targetId;if(!w.fromCache){const I=E.xs.get(S),x=I.snapshotVersion,U=I.withLastLimboFreeSnapshotVersion(x);E.xs=E.xs.insert(S,U)}}}(s.localStore,u))}async function WD(r,e){const n=Ne(r);if(!n.currentUser.isEqual(e)){ce(Pp,"User change. New user:",e.toKey());const s=await dA(n.localStore,e);n.currentUser=e,function(u,f){u.Ru.forEach(m=>{m.forEach(p=>{p.reject(new ge(ie.CANCELLED,f))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await au(n,s.ks)}}function eO(r,e){const n=Ne(r),s=n.Eu.get(e);if(s&&s.cu)return Ue().add(s.key);{let o=Ue();const u=n.Pu.get(e);if(!u)return o;for(const f of u){const m=n.hu.get(f);o=o.unionWith(m.view.eu)}return o}}function MA(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=NA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$D.bind(null,e),e.lu.Y_=LD.bind(null,e.eventManager),e.lu.gu=UD.bind(null,e.eventManager),e}function tO(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JD.bind(null,e),e}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return sD(this.persistence,new nD,e.initialUser,this.serializer)}Su(e){return new fA(Rp.fi,this.serializer)}bu(e){return new fD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class nO extends yh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Ye(this.persistence.referenceDelegate instanceof ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new B2(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new fA(s=>ph.fi(s,n),this.serializer)}}class qm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>jE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=WD.bind(null,this.syncEngine),await kD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PD}()}createDatastore(e){const n=Lh(e.databaseInfo.databaseId),s=function(u){return new yD(u)}(e.databaseInfo);return function(u,f,m,p){return new TD(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new SD(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>jE(this.syncEngine,n,0),function(){return ME.C()?new ME:new dD}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const w=new HD(o,u,f,m,p,g);return E&&(w.mu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ne(o);ce(Hs,"RemoteStore shutting down."),u.da.add(5),await su(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}qm.provider={build:()=>new qm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="FirestoreClient";class iO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=bT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ce(Xr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ce(Xr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=kp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function dm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(Xr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await dA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function BE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await rO(r);ce(Xr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>VE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>VE(e.remoteStore,o)),r._onlineComponents=e}async function rO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(Xr,"Using user provided OfflineComponentProvider");try{await dm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Za("Error using user provided cache. Falling back to memory cache: "+n),await dm(r,new yh)}}else ce(Xr,"Using default OfflineComponentProvider"),await dm(r,new nO(void 0));return r._offlineComponents}async function VA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(Xr,"Using user provided OnlineComponentProvider"),await BE(r,r._uninitializedComponentsProvider._online)):(ce(Xr,"Using default OnlineComponentProvider"),await BE(r,new qm))),r._onlineComponents}function sO(r){return VA(r).then(e=>e.syncEngine)}async function PA(r){const e=await VA(r),n=e.eventManager;return n.onListen=qD.bind(null,e.syncEngine),n.onUnlisten=KD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YD.bind(null,e.syncEngine),n}function aO(r,e,n={}){const s=new er;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new kA({next:S=>{E.xu(),f.enqueueAndForget(()=>wA(u,w));const I=S.docs.has(m);!I&&S.fromCache?g.reject(new ge(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&S.fromCache&&p&&p.source==="server"?g.reject(new ge(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new bA(Ep(m.path),E,{includeMetadataChanges:!0,Qa:!0});return SA(u,w)}(await PA(r),r.asyncQueue,e,n,s)),s.promise}function oO(r,e,n={}){const s=new er;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new kA({next:S=>{E.xu(),f.enqueueAndForget(()=>wA(u,w)),S.fromCache&&p.source==="server"?g.reject(new ge(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new bA(m,E,{includeMetadataChanges:!0,Qa:!0});return SA(u,w)}(await PA(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(r,e,n){if(!n)throw new ge(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function lO(r,e,n,s){if(e===!0&&s===!0)throw new ge(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function qE(r){if(!ye.isDocumentKey(r))throw new ge(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function FE(r){if(ye.isDocumentKey(r))throw new ge(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Up(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se(12329,{type:typeof r})}function ar(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Up(r);throw new ge(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="firestore.googleapis.com",GE=!0;class KE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jA,this.ssl=GE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:GE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<j2)throw new ge(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new mN;switch(s.type){case"firstParty":return new vN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=HE.get(n);s&&(ce("ComponentProvider","Removing Datastore"),HE.delete(n),s.terminate())}(this),Promise.resolve()}}function uO(r,e,n,s={}){var o;r=ar(r,zh);const u=lo(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u&&(N0(`https://${p}`),D0("Firestore",!0)),f.host!==jA&&f.host!==p&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Fr(g,m)&&(r._setSettings(g),s.mockUserToken)){let E,w;if(typeof s.mockUserToken=="string")E=s.mockUserToken,w=Zt.MOCK_USER;else{E=z1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ge(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Zt(S)}r._authCredentials=new pN(new ST(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Bh(this.firestore,e,this._query)}}class dn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class qr extends Bh{constructor(e,n,s){super(e,n,Ep(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new ye(e))}withConverter(e){return new qr(this.firestore,e,this._path)}}function zA(r,e,...n){if(r=jt(r),UA("collection","path",e),r instanceof zh){const s=at.fromString(e,...n);return FE(s),new qr(r,null,s)}{if(!(r instanceof dn||r instanceof qr))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(at.fromString(e,...n));return FE(s),new qr(r.firestore,null,s)}}function Xl(r,e,...n){if(r=jt(r),arguments.length===1&&(e=bT.newId()),UA("doc","path",e),r instanceof zh){const s=at.fromString(e,...n);return qE(s),new dn(r,null,new ye(s))}{if(!(r instanceof dn||r instanceof qr))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(at.fromString(e,...n));return qE(s),new dn(r.firestore,r instanceof qr?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="AsyncQueue";class QE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new pA(this,"async_queue_retry"),this.rc=()=>{const s=fm();s&&ce(YE,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=fm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new er;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!mo(e))throw e;ce(YE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,rr("INTERNAL UNHANDLED ERROR: ",$E(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=Mp.createAndSchedule(this,e,n,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Se(47125,{cc:$E(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function $E(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ou extends zh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new QE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new QE(e),this._firestoreClient=void 0,await e}}}function cO(r,e){const n=typeof r=="object"?r:np(),s=typeof r=="string"?r:uh,o=Ys(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=U1("firestore");u&&uO(o,...u)}return o}function jp(r){if(r._terminated)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||hO(r),r._firestoreClient}function hO(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new MN(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,LA(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new iO(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ro(Yt.fromBase64String(e))}catch(n){throw new ge(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ro(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=/^__.*__$/;class dO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Wr(e,this.data,this.fieldMask,n,this.fieldTransforms):new iu(e,this.data,n,this.fieldTransforms)}}class BA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Wr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ic:r})}}class Hp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Hp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Vc(e),o}mc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return vh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(HA(this.Ic)&&fO.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class mO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Lh(e)}bc(e,n,s,o=!1){return new Hp({Ic:e,methodName:n,wc:s,path:Kt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qA(r){const e=r._freezeSettings(),n=Lh(r._databaseId);return new mO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function pO(r,e,n,s,o,u={}){const f=r.bc(u.merge||u.mergeFields?2:0,e,n,o);Fp("Data must be an object, but it was:",f,s);const m=FA(s,f);let p,g;if(u.merge)p=new wn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const S=Fm(e,w,n);if(!f.contains(S))throw new ge(ie.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);KA(E,S)||E.push(S)}p=new wn(E),g=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=f.fieldTransforms;return new dO(new fn(m),p,g)}class Fh extends qh{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fh}}class qp extends qh{_toFieldTransform(e){return new a2(e.path,new Yl)}isEqual(e){return e instanceof qp}}function gO(r,e,n,s){const o=r.bc(1,e,n);Fp("Data must be an object, but it was:",o,s);const u=[],f=fn.empty();Zr(s,(p,g)=>{const E=Gp(e,p,n);g=jt(g);const w=o.mc(E);if(g instanceof Fh)u.push(E);else{const S=Gh(g,w);S!=null&&(u.push(E),f.set(E,S))}});const m=new wn(u);return new BA(f,m,o.fieldTransforms)}function yO(r,e,n,s,o,u){const f=r.bc(1,e,n),m=[Fm(e,s,n)],p=[o];if(u.length%2!=0)throw new ge(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Fm(e,u[S])),p.push(u[S+1]);const g=[],E=fn.empty();for(let S=m.length-1;S>=0;--S)if(!KA(g,m[S])){const I=m[S];let x=p[S];x=jt(x);const U=f.mc(I);if(x instanceof Fh)g.push(I);else{const z=Gh(x,U);z!=null&&(g.push(I),E.set(I,z))}}const w=new wn(g);return new BA(E,w,f.fieldTransforms)}function Gh(r,e){if(GA(r=jt(r)))return Fp("Unsupported field value:",e,r),FA(r,e);if(r instanceof qh)return function(s,o){if(!HA(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Gh(m,o.fc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return i2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ot.fromDate(s);return{timestampValue:mh(o.serializer,u)}}if(s instanceof Ot){const u=new Ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:mh(o.serializer,u)}}if(s instanceof zp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ro)return{bytesValue:rA(o.serializer,s._byteString)};if(s instanceof dn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:wp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Bp)return function(f,m){return{mapValue:{fields:{[MT]:{stringValue:kT},[ch]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.gc("VectorValues must only contain numeric values.");return Tp(m.serializer,g)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${Up(s)}`)}(r,e)}function FA(r,e){const n={};return CT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(r,(s,o)=>{const u=Gh(o,e.Ac(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function GA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ot||r instanceof zp||r instanceof ro||r instanceof dn||r instanceof qh||r instanceof Bp)}function Fp(r,e,n){if(!GA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Up(n);throw s==="an object"?e.gc(r+" a custom object"):e.gc(r+" "+s)}}function Fm(r,e,n){if((e=jt(e))instanceof Hh)return e._internalPath;if(typeof e=="string")return Gp(r,e);throw vh("Field path arguments must be of type string or ",r,!1,void 0,n)}const vO=new RegExp("[~\\*/\\[\\]]");function Gp(r,e,n){if(e.search(vO)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Hh(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function vh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ge(ie.INVALID_ARGUMENT,m+r+p)}function KA(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _O(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(QA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _O extends YA{data(){return super.data()}}function QA(r,e){return typeof e=="string"?Gp(r,e):e instanceof Hh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ge(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class TO{convertValue(e,n="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Zr(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[ch].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>vt(f.doubleValue));return new Bp(u)}convertGeoPoint(e){return new zp(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Dh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const n=Kr(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);Ye(cA(s),9688,{name:e});const o=new Gl(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||rr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $A extends YA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(QA("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Zc extends $A{data(e={}){return super.data(e)}}class SO{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new xl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Zc(this._firestore,this._userDataWriter,s.key,s,new xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Zc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Zc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:wO(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function wO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(r){r=ar(r,dn);const e=ar(r.firestore,ou);return aO(jp(e),r._key).then(n=>bO(e,r,n))}class XA extends TO{constructor(e){super(),this.firestore=e}convertBytes(e){return new ro(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function JA(r){r=ar(r,Bh);const e=ar(r.firestore,ou),n=jp(e),s=new XA(e);return EO(r._query),oO(n,r._query).then(o=>new SO(e,s,r,o))}function XE(r,e,n){r=ar(r,dn);const s=ar(r.firestore,ou),o=AO(r.converter,e,n);return WA(s,[pO(qA(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,vi.none())])}function ZA(r,e,n,...s){r=ar(r,dn);const o=ar(r.firestore,ou),u=qA(o);let f;return f=typeof(e=jt(e))=="string"||e instanceof Hh?yO(u,"updateDoc",r._key,e,n,s):gO(u,"updateDoc",r._key,e),WA(o,[f.toMutation(r._key,vi.exists(!0))])}function WA(r,e){return function(s,o){const u=new er;return s.asyncQueue.enqueueAndForget(async()=>QD(await sO(s),o,u)),u.promise}(jp(r),e)}function bO(r,e,n){const s=n.docs.get(e._key),o=new XA(r);return new $A(r,o,e._key,s,new xl(n.hasPendingWrites,n.fromCache),e.converter)}function Il(){return new qp("serverTimestamp")}(function(e,n=!0){(function(o){ho=o})(uo),Ei(new Xn("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ou(new gN(s.getProvider("auth-internal")),new _N(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),jn(eE,tE,e),jn(eE,tE,"esm2017")})();var RO="firebase",CO="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn(RO,CO,"app");const eS="@firebase/installations",Kp="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=1e4,nS=`w:${Kp}`,iS="FIS_v2",IO="https://firebaseinstallations.googleapis.com/v1",NO=60*60*1e3,DO="installations",OO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},qs=new Ks(DO,OO,xO);function rS(r){return r instanceof Zn&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS({projectId:r}){return`${IO}/projects/${r}/installations`}function aS(r){return{token:r.token,requestStatus:2,expiresIn:kO(r.expiresIn),creationTime:Date.now()}}async function oS(r,e){const s=(await e.json()).error;return qs.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function lS({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function MO(r,{refreshToken:e}){const n=lS(r);return n.append("Authorization",VO(e)),n}async function uS(r){const e=await r();return e.status>=500&&e.status<600?r():e}function kO(r){return Number(r.replace("s","000"))}function VO(r){return`${iS} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const s=sS(r),o=lS(r),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:n,authVersion:iS,appId:r.appId,sdkVersion:nS},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await uS(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:aS(g.authToken)}}else throw await oS("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=/^[cdef][\w-]{21}$/,Km="";function jO(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=zO(r);return UO.test(n)?n:Km}catch{return Km}}function zO(r){return LO(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=new Map;function fS(r,e){const n=Kh(r);dS(n,e),BO(n,e)}function dS(r,e){const n=hS.get(r);if(n)for(const s of n)s(e)}function BO(r,e){const n=HO();n&&n.postMessage({key:r,fid:e}),qO()}let Ls=null;function HO(){return!Ls&&"BroadcastChannel"in self&&(Ls=new BroadcastChannel("[Firebase] FID Change"),Ls.onmessage=r=>{dS(r.data.key,r.data.fid)}),Ls}function qO(){hS.size===0&&Ls&&(Ls.close(),Ls=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="firebase-installations-database",GO=1,Fs="firebase-installations-store";let mm=null;function Yp(){return mm||(mm=P0(FO,GO,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Fs)}}})),mm}async function _h(r,e){const n=Kh(r),o=(await Yp()).transaction(Fs,"readwrite"),u=o.objectStore(Fs),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&fS(r,e.fid),e}async function mS(r){const e=Kh(r),s=(await Yp()).transaction(Fs,"readwrite");await s.objectStore(Fs).delete(e),await s.done}async function Yh(r,e){const n=Kh(r),o=(await Yp()).transaction(Fs,"readwrite"),u=o.objectStore(Fs),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&fS(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qp(r){let e;const n=await Yh(r.appConfig,s=>{const o=KO(s),u=YO(r,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Km?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function KO(r){const e=r||{fid:jO(),registrationStatus:0};return pS(e)}function YO(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(qs.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=QO(r,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:$O(r)}:{installationEntry:e}}async function QO(r,e){try{const n=await PO(r,e);return _h(r.appConfig,n)}catch(n){throw rS(n)&&n.customData.serverCode===409?await mS(r.appConfig):await _h(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function $O(r){let e=await JE(r.appConfig);for(;e.registrationStatus===1;)await cS(100),e=await JE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Qp(r);return s||n}return e}function JE(r){return Yh(r,e=>{if(!e)throw qs.create("installation-not-found");return pS(e)})}function pS(r){return XO(r)?{fid:r.fid,registrationStatus:0}:r}function XO(r){return r.registrationStatus===1&&r.registrationTime+tS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO({appConfig:r,heartbeatServiceProvider:e},n){const s=ZO(r,n),o=MO(r,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:nS,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await uS(()=>fetch(s,m));if(p.ok){const g=await p.json();return aS(g)}else throw await oS("Generate Auth Token",p)}function ZO(r,{fid:e}){return`${sS(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $p(r,e=!1){let n;const s=await Yh(r.appConfig,u=>{if(!gS(u))throw qs.create("not-registered");const f=u.authToken;if(!e&&tx(f))return u;if(f.requestStatus===1)return n=WO(r,e),u;{if(!navigator.onLine)throw qs.create("app-offline");const m=ix(u);return n=ex(r,m),m}});return n?await n:s.authToken}async function WO(r,e){let n=await ZE(r.appConfig);for(;n.authToken.requestStatus===1;)await cS(100),n=await ZE(r.appConfig);const s=n.authToken;return s.requestStatus===0?$p(r,e):s}function ZE(r){return Yh(r,e=>{if(!gS(e))throw qs.create("not-registered");const n=e.authToken;return rx(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function ex(r,e){try{const n=await JO(r,e),s=Object.assign(Object.assign({},e),{authToken:n});return await _h(r.appConfig,s),n}catch(n){if(rS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await mS(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await _h(r.appConfig,s)}throw n}}function gS(r){return r!==void 0&&r.registrationStatus===2}function tx(r){return r.requestStatus===2&&!nx(r)}function nx(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+NO}function ix(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function rx(r){return r.requestStatus===1&&r.requestTime+tS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sx(r){const e=r,{installationEntry:n,registrationPromise:s}=await Qp(e);return s?s.catch(console.error):$p(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ax(r,e=!1){const n=r;return await ox(n),(await $p(n,e)).token}async function ox(r){const{registrationPromise:e}=await Qp(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(r){if(!r||!r.options)throw pm("App Configuration");if(!r.name)throw pm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw pm(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function pm(r){return qs.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="installations",ux="installations-internal",cx=r=>{const e=r.getProvider("app").getImmediate(),n=lx(e),s=Ys(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},hx=r=>{const e=r.getProvider("app").getImmediate(),n=Ys(e,yS).getImmediate();return{getId:()=>sx(n),getToken:o=>ax(n,o)}};function fx(){Ei(new Xn(yS,cx,"PUBLIC")),Ei(new Xn(ux,hx,"PRIVATE"))}fx();jn(eS,Kp);jn(eS,Kp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh="analytics",dx="firebase_id",mx="origin",px=60*1e3,gx="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn=new wh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},bn=new Ks("analytics","Analytics",yx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(r){if(!r.startsWith(Xp)){const e=bn.create("invalid-gtag-resource",{gtagURL:r});return mn.warn(e.message),""}return r}function vS(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function _x(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function Ex(r,e){const n=_x("firebase-js-sdk-policy",{createScriptURL:vx}),s=document.createElement("script"),o=`${Xp}?l=${r}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function Tx(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function Ax(r,e,n,s,o,u){const f=s[o];try{if(f)await e[f];else{const p=(await vS(n)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){mn.error(m)}r("config",o,u)}async function Sx(r,e,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await vS(n);for(const p of f){const g=m.find(w=>w.measurementId===p),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",s,o||{})}catch(u){mn.error(u)}}function wx(r,e,n,s){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await Sx(r,e,n,m,p)}else if(u==="config"){const[m,p]=f;await Ax(r,e,n,s,m,p)}else if(u==="consent"){const[m,p]=f;r("consent",m,p)}else if(u==="get"){const[m,p,g]=f;r("get",m,p,g)}else if(u==="set"){const[m]=f;r("set",m)}else r(u,...f)}catch(m){mn.error(m)}}return o}function bx(r,e,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=wx(u,r,e,n),{gtagCore:u,wrappedGtag:window[o]}}function Rx(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Xp)&&n.src.includes(r))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=30,Ix=1e3;class Nx{constructor(e={},n=Ix){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const _S=new Nx;function Dx(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function Ox(r){var e;const{appId:n,apiKey:s}=r,o={method:"GET",headers:Dx(s)},u=gx.replace("{app-id}",n),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let m="";try{const p=await f.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function xx(r,e=_S,n){const{appId:s,apiKey:o,measurementId:u}=r.options;if(!s)throw bn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw bn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new Vx;return setTimeout(async()=>{m.abort()},px),ES({appId:s,apiKey:o,measurementId:u},f,m,e)}async function ES(r,{throttleEndTimeMillis:e,backoffCount:n},s,o=_S){var u;const{appId:f,measurementId:m}=r;try{await Mx(s,e)}catch(p){if(m)return mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:m};throw p}try{const p=await Ox(r);return o.deleteThrottleMetadata(f),p}catch(p){const g=p;if(!kx(g)){if(o.deleteThrottleMetadata(f),m)return mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:f,measurementId:m};throw p}const E=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?C_(n,o.intervalMillis,Cx):C_(n,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return o.setThrottleMetadata(f,w),mn.debug(`Calling attemptFetch again in ${E} millis`),ES(r,w,s,o)}}function Mx(r,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),s(bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function kx(r){if(!(r instanceof Zn)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class Vx{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Px(r,e,n,s,o){if(o&&o.global){r("event",n,s);return}else{const u=await e,f=Object.assign(Object.assign({},s),{send_to:u});r("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(){if(x0())try{await M0()}catch(r){return mn.warn(bn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return mn.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Ux(r,e,n,s,o,u,f){var m;const p=xx(r);p.then(I=>{n[I.measurementId]=I.appId,r.options.measurementId&&I.measurementId!==r.options.measurementId&&mn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>mn.error(I)),e.push(p);const g=Lx().then(I=>{if(I)return s.getId()}),[E,w]=await Promise.all([p,g]);Rx(u)||Ex(u,E.measurementId),o("js",new Date);const S=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return S[mx]="firebase",S.update=!0,w!=null&&(S[dx]=w),o("config",E.measurementId,S),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.app=e}_delete(){return delete jl[this.app.options.appId],Promise.resolve()}}let jl={},WE=[];const e0={};let gm="dataLayer",zx="gtag",t0,TS,n0=!1;function Bx(){const r=[];if(O0()&&r.push("This is a browser extension environment."),$1()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=bn.create("invalid-analytics-context",{errorInfo:e});mn.warn(n.message)}}function Hx(r,e,n){Bx();const s=r.options.appId;if(!s)throw bn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bn.create("no-api-key");if(jl[s]!=null)throw bn.create("already-exists",{id:s});if(!n0){Tx(gm);const{wrappedGtag:u,gtagCore:f}=bx(jl,WE,e0,gm,zx);TS=u,t0=f,n0=!0}return jl[s]=Ux(r,WE,e0,e,t0,gm,n),new jx(r)}function qx(r=np()){r=jt(r);const e=Ys(r,Eh);return e.isInitialized()?e.getImmediate():Fx(r)}function Fx(r,e={}){const n=Ys(r,Eh);if(n.isInitialized()){const o=n.getImmediate();if(Fr(e,n.getOptions()))return o;throw bn.create("already-initialized")}return n.initialize({options:e})}function Gx(r,e,n,s){r=jt(r),Px(TS,jl[r.app.options.appId],e,n,s).catch(o=>mn.error(o))}const i0="@firebase/analytics",r0="0.10.16";function Kx(){Ei(new Xn(Eh,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return Hx(s,o,n)},"PUBLIC")),Ei(new Xn("analytics-internal",r,"PRIVATE")),jn(i0,r0),jn(i0,r0,"esm2017");function r(e){try{const n=e.getProvider(Eh).getImmediate();return{logEvent:(s,o,u)=>Gx(n,s,o,u)}}catch(n){throw bn.create("interop-component-reg-failed",{reason:n})}}}Kx();const Yx={apiKey:"AIzaSyDC_YL8wau3PKK1r2ZYYHc32TtnoXe5giQ",authDomain:"stanford-lastchances.firebaseapp.com",projectId:"stanford-lastchances",storageBucket:"stanford-lastchances.firebasestorage.app",messagingSenderId:"792276801448",appId:"1:792276801448:web:84a43cc96308673321ef9d",measurementId:"G-HLD1E4T34S"},Jp=L0(Yx),Ha=fN(Jp),Gs=cO(Jp);qx(Jp);const AS=new Xi;AS.setCustomParameters({hd:"stanford.edu"});const js=["Nicolas Abad","Khaled Abdulkarim","Layla Aboukhater","Kate Kabat (Adams)","Max Adams","Krupa Adusumilli","Sabrina Afroz","Megha Agarwal","Will Agathis","Qurrat Ahmad","Naza Aibar","SimoneTess Aisiks","Tireni Ajilore","Maha Al Fahim","Khalid Alajlan","Jude Alawa","Aziz Aldawood","Bea Alessio","Faisal Alhindi","Noor Alsharif","Mubarak Alliyu","João Pedro Almeida","Mia Amin","Ricardo Anaya","Travis Anderson","Andrew Raffi Ansell","Mark Garo Ansell","Sonja Anton","Zahra Asghar","Ruby Au","Yalcin Aydin","Mohammed Azhari","Mo Babeker","Kathryn Bacher","Michael Bakan","Niranjan Balachandar","Alvaro Baleato Varela","Pranay Balijepalli","Alan Balson","Philip Balson","Erica Barry","Erin Barrett","Itai Barsade","Juan Bautista Baistrocchi","Savannah Baum","Ryan Bayne","Chris Beckmann","Pedro Benoit","Helen Berhanu","Anya Bharadwaj","Mallika Bhandari","Lauren Bilbo","Becca Blais","Caroline Blanck","Jake Blank","Mira Bodek (Mibo)","Piali Bopanna","Chris Bradbury","Sam Braunseis","Caden Broussard","Sarah Brown","Carolyn Bruckmann","Cyrus Buckman","Sabrina (Namato) Bukenya","Courtney Burton","Holly Burwick","Jesse Cai","Keith Calix","Daniela Camargo Carrillo","Maria Cano","Georgia Carroll","Tom Carroll","Zooey Wilkinson","Amir Chain Nemtala","Avis Chan","Charlotte Chang","Richa Chaturvedi","Devika Chatwani","Zoë Chazen","Anli Chen","Caroline Chen","Caro Chen","Grace Chen","Jinny Chen","Kimberly Chen","Sophia Chen","Xixi Chen","Catherine Cheng","Mariami Chikovani","Yody Chiu","Henry Choi","Wonjun Choi","Olivia Christensen","Stephen Chu","Will Clark","Eugenio Claro","Josh Cohen","Chloë Conacher","Camila Cordara","Colter Corish","Mateus Costa","Rakiya Cunningham","Bryan Danielson","Owen Davies","Joshua Davis","Ryan Davis","Ian De Luna","Nico deLuna","Batu Demir","Lydia Deneen","Gabriela Diaz","Catherine Didier","Marcos Diehl","Trey Dodson","Amir Donath","Omer Doron","Meera Doshi","Hob Du","Noelle Durkin","Zach Dyce","Iain Edmundson","Fatma Elshenawy","Nico Enriquez","Tyler Erb","Lauren Esrig","Esteban Estevez Juttner","Noelle Eveland","Valerie Fanelle","Hamza Farrukh","Andreas Fatschel","Jessica Feng","Paty Fernandez de Castro","Eliana Field-Marsham","Sofia Figueroa","Stephen Flynn","Eugénie Fontugne","Paige Frank","Daniel Freedland","Leif Frey","Mengdi (Mandy) Gao","Santiago García Vargas","Anirudh Garg","Max Garrett","Ishwar Gawande","Ben Gedeon","Uma Girkar","Dhanush Girish","David Goehring","Pablo Golac","Cayo Gonzalez","Ana Gonzalez Galindo","Carmen Gordon","Tom Gorman","Carlton Gossett","Chris Gramling","Olivia Greenberg","Sam Greenberg","Esther Gross","Katie Gudeman","Julia Guillemot","Sean Guo","Juliette Hackett","Isa Haegg","Hans Halvorsen","Richard Hamrick","Farrukh Hamza","Michelle Han","Conor Harrity","Tess Hartigan","Madi Harvey","Rachel Hersh","Sonia Hernandez","Jon Hoey","Vinicius Hojo","Kristen Hong","Royi Horowitz","Irving Hsu","Zhi Huang","Madison Hughes","Lizzie Hunpatin","Winston Huynh","Toshi Imamura","Henry Iseman","Muhammad Awais Islam","Joao Jablonski","Stephen Jacobs","Akshita Jain","Katharine Jessiman-Ketcham","Sandhya Jetty","Karen Jiang","Chloe Jin","Kripanshi Jindal","Imren Johar","Joel Johnson","Barclay Jones","Jake Jordaan","Akshatha Kamath","Esther Kamgaing","Vikram Kanodia","Chad Kanoff","Amee Kapadia","Ayesha Karnik","Allison Kaslow","Tamara Kawash","Chris Kay","Larken Kemp","Farha Khan","Sakshi Khanna","Cyrus Kharche","Laura Vanessa Kiehl","Hokuto Kikuchi","Brendan Kim","Rachel Kim","Ethan Klein","Kelsey Klein","Annie Klosowicz","Bruno Koba","Peter Koch","Ankita Kodavoor","Steven Koh","Mackenzie Kosseim","Aakash Kotak","Tomi Kovanen","Tushar Krishnan","Tomo Kumahira","Catherine Lacy","Ana Laginha","Norma Langdon","Krystal Lau","Gahong (Grace) Lee","Katrina Lee","Mark Lee","Mia Lee","Paul Lee","Conor Leen","Mikos Legrand","Tyler Lehman","Caroline Levy","Quinn Lewis","Nicki Liang","Lyn Li","Yue Li","Zhenyan (Jane) Li","Adam Lifshitz","Lexie Lin","Alice Liu","Michael Liu","Andrew Lobel","Alex Lubkin","Henry Lu","Jessica Lu","Maisie Lynton","Lucy Ma","Mark Ma","Andrea Madero","Matt Mahowald","Ndirangu (Bryan) Maina","Zac Maslia","Fernando Mata","Anthony Mattar El Raachini","Keita Matsumoto","Lauren Maymar","Alexander McCarthy","Elizabeth McNally","Ian McRae","Holley McShan","Cam McWatt","Arnav Mehta","Adam Merrill","Eric Meyers","Salome Mikadze-Struk","Jordan Miller","Mckenna Miller","Hiroaki Minoo","Madison Minsk","Bryce Mitchell","Suhani Mohan","Mehek Mohan","Munim Moiz","Mason Montgomery","Cariana Morales","Gherardo Morona","Yoshimi Muneta","Hannah Murdoch","Matt Murphy","Harshi Murthy","Carson Muscat","Marin Nagase Tominaga","Karn Nahata","Joe Nail","Sasha Nanda","Chase Navellier","Elliot Nell","Kyle Nelson","Ludwig Neumann","Shelly Ngo","Floriane Ngako Kameni","Danielle Nguyen","Kha-ai Nguyen","Michelle Nguyen","Dru Nkansah","Joan Nolla Suárez","Arinze Nwagbata","Gabby Nyman","Matías Oberpaur","Jerry O'Connor","Gloria Odoemelam","Ewoma Ogbaudu","John Onderdonk","Bobby O'Reilly","Sidney Owen","Michael Paretzky","Chanwoo Park","James Park","Joon Park","Terry Park","Sravan Patchala","Kayan Patel","Neal Patel","Shivam Patel","Ken Pattarasittiwate","Andrew Paulmeno","Juan Pablo","Kelli Pedersen","Kiera Peltz","Olivia Peniston","Anirudh Pennathur","Nathan Petrie","Stephanie Pham","Doug Phipps","Alan Pimstein","Jackson Polatnick","Meagan Prins-McKinney","Christina Puccinelli","Vibha Puri","Riley Quinn","Claire Rafson","Liam Rahman","Vasundhara Rakesh","Alex Rakestraw","James Ramsay","Angeline Rao","Pragati Rastogi","Advait Reddy","Glenn Reddy","Rachael Rhee","Anya Ring","Joseph Robillard","Aria Rodli","Javi Rodriguez","Abu Rogers","Katharina Rohr","Maria Rojas","Matt Rojas","Micaela Romero Valdez","Olivia Rosen","Aislin Roth","Anna Rowe","Jonathan Rozenberg","Eduardo Rubini","Rob Rush","Priscilla Russo","Shailee Samar","Payaum Sanatkar","Sonia Sarda","Philipp Schellhaas","Stefano Schiappacasse","Sophie Schick","Paul Sédille","Priyanka Seegobin","Sean Sellers","Joon Seo","Ishir Seth","Jay Shah","Mirai Shah","Shreya Shah","Evelyn Shao","Akanksha Sharma","Arushi Sharma","Annabel Shaw","Dina Sheira","Michelle Shen","Daniel Sheppard","Chris Shim","Amit Shimshi","Ila Shon","Jack Shumway","Saman Siddiqui","Billy Silk","Ramon Silva","Jackson Simon","Rohan Sinha","Patrick Skehan","Mykhailo Skrobach","Meredith Slifkin","MinJae Song","Shikhar Sood","Preetam Soundararajan","Marc-Aurele Stark","Adam Starr","Mara Steiu","Eli Stern","Jack Stone","Jack Strauss","Amanda Studebaker","Sushant Sudheendranath","Julia Sun","Kailash Sundaram","Leah Surratt","Max Susman","Gabriela Tafur","Lydia Tahraoui","Sarah Tang","Eliza Teach","Nofel Teldjoune","Emily Tench","Nattanon (Pat) Thitisarnsiri","Seyon Thomas","Claire Thompson","Nicholas Tobin","Sydney Tomlinson","Gustavo Tori","Henry Townley","Devan Trammel","Jamie Tym","Shievani Upadhyay","Christian Antonio Urrutia","Isabel Vallina Garcia","Jessica Garcia","Katie Van Dyk","Mahek Vara","Dhananjay (DJ) Varma","Agustin Villarreal","Jessica Villarreal","Sea Wachakorn","Callie Walker","Tyler Walker","Alex Wang","Ricky Wang","Jake Waskowitz","Colin Weidmann","Melanie Weinsten","Henry Welsh","Chris West","Cort White","Sadiki Wiltshire","Joseph Wise","Walter Woo","Andre Xiong","Fang (Frank) Xu","Yingkai (Kevin) Xu","Haoxiang (Mike) Yang","Talha Yousaf","Theresa Yu","Michael Yuan","Dario Zarrabian","Elena Zhang","Henry Zhang","Jade Zhang","Ruoyao Zhang","Max Zhou","Will Zhou","Bastiaan Zwanenburg","Test Account"],SS=G.createContext(null),lu=()=>{const r=G.useContext(SS);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},s0="/files/default-profile.png";function Qx(r,e){if(!r||!e)return{allowed:!1,reason:"Missing display name or email"};const n=r.trim().toLowerCase().replace(/\s+/g," ");if(js.some(u=>u.toLowerCase().replace(/\s+/g," ")===n))return{allowed:!0};const o=n.split(" ");if(o.length>=2){const u=`${o[0]} ${o[o.length-1]}`;if(js.some(m=>{const p=m.toLowerCase().replace(/\s+/g," ").split(" ");return p.length>=2?`${p[0]} ${p[p.length-1]}`===u:!1}))return{allowed:!0}}return{allowed:!1,reason:`Your name "${r}" was not found in the GSB Class of 2025 roster. Please contact the administrator if you believe this is an error.`}}const $x=({children:r})=>{const[e,n]=G.useState(null),[s,o]=G.useState(null),[u,f]=G.useState(!0),m=I=>!I||!Array.isArray(I)?[]:I.map(x=>typeof x=="string"?{name:x,email:x.toLowerCase().replace(/\s+/g,".")+"@stanford.edu"}:x&&typeof x=="object"&&x.name&&x.email?{name:x.name,email:x.email}:{name:"Unknown",email:"unknown@stanford.edu"}),p=async()=>{if(!(e!=null&&e.uid)){console.warn("refreshUserData called without user");return}try{const I=Xl(Gs,"users",e.uid),x=await Gm(I);if(x.exists()){const U=x.data(),z={uid:U.uid,email:U.email,displayName:U.displayName,photoURL:U.photoURL,verifiedName:U.verifiedName||"",crushes:U.crushes||[],lockedCrushes:U.lockedCrushes||[],matches:m(U.matches),crushCount:U.crushCount||0,createdAt:U.createdAt,updatedAt:U.updatedAt,lastLogin:U.lastLogin};o(z)}else console.error("User document does not exist after creation"),o(null)}catch(I){console.error("Error refreshing user data:",I),o(null)}},g=async I=>{var U,z;if(!I.uid)return null;const x=Xl(Gs,"users",I.uid);try{const $=await Gm(x);if($.exists()){const X=$.data(),re={uid:X.uid,email:X.email,displayName:I.displayName||X.displayName,photoURL:I.photoURL||X.photoURL||s0,verifiedName:X.verifiedName||"",crushes:X.crushes||[],lockedCrushes:X.lockedCrushes||[],matches:m(X.matches),crushCount:X.crushCount||0,createdAt:X.createdAt,updatedAt:Il(),lastLogin:Il()};return await XE(x,re,{merge:!0}),console.log("User document updated:",I.email),o(re),re}else{const X=Qx(I.displayName||((U=I.email)==null?void 0:U.split("@")[0])||"",I.email||"");if(!X.allowed)return console.log("User not allowed to sign up:",X.reason),await Vc(Ha),alert(X.reason||"You are not authorized to access this application."),null;const re={uid:I.uid,email:I.email||"",displayName:I.displayName||((z=I.email)==null?void 0:z.split("@")[0])||"",photoURL:I.photoURL||s0,verifiedName:"",crushes:[],lockedCrushes:[],matches:[],crushCount:0,createdAt:Il(),updatedAt:Il(),lastLogin:Il()};return await XE(x,re),console.log("New user document created:",I.email),o(re),re}}catch($){return console.error("Error creating/updating user document:",$),null}};G.useEffect(()=>tI(Ha,async x=>{var U;console.log("Auth state changed:",x==null?void 0:x.email),x?(U=x.email)!=null&&U.endsWith("@stanford.edu")?(n(x),await g(x),f(!1)):(console.log("Invalid email domain:",x.email),await Vc(Ha),n(null),o(null),f(!1),alert("Only @stanford.edu email addresses are allowed. Please sign in with your Stanford account.")):(n(null),o(null),f(!1))}),[]);const S={user:e,userData:s,loading:u,signInWithGoogle:async()=>{var I;try{console.log("Attempting Google sign-in...");const x=await TI(Ha,AS);if(console.log("Sign-in successful:",x.user.email),!((I=x.user.email)!=null&&I.endsWith("@stanford.edu")))throw await Vc(Ha),new Error("Only @stanford.edu email addresses are allowed")}catch(x){console.error("Login error:",x),x.code==="auth/configuration-not-found"?alert("Authentication is not properly configured. Please contact the administrator."):x.code==="auth/popup-closed-by-user"?console.log("Sign-in popup was closed by user"):x.code==="auth/cancelled-popup-request"?console.log("Another sign-in popup is already open"):alert("Login failed. Please make sure you're using a @stanford.edu email address.")}},logout:async()=>{try{await Vc(Ha),o(null),console.log("User signed out successfully")}catch(I){console.error("Logout error:",I)}},refreshUserData:p};return M.jsx(SS.Provider,{value:S,children:r})},Xx=()=>{const{signInWithGoogle:r}=lu();return M.jsx("div",{className:"login-container",children:M.jsxs("div",{className:"login-card",children:[M.jsx("h1",{children:"Stanford Last Chances"}),M.jsx("h2",{children:"GSB Class of 2025"}),M.jsxs("p",{children:["Inspired by Dartmouth's famous ",M.jsx("i",{children:"Last Chances"})," tradition for graduating seniors",M.jsx("br",{}),M.jsx("br",{}),"Share your crushes anonymously and see if there's a mutual connection 👀",M.jsx("br",{}),M.jsx("br",{}),"The site will remain active until our Stanford accounts expire in October 2025"]}),M.jsx("div",{className:"login-content",children:M.jsxs("button",{className:"google-signin-btn",onClick:r,children:[M.jsxs("svg",{className:"google-icon",viewBox:"0 0 24 24",children:[M.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),M.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),M.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),M.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with your @stanford.edu"]})})]})})},Jx=({user:r})=>{const[e,n]=G.useState([]),[s,o]=G.useState(!1),[u,f]=G.useState(""),[m,p]=G.useState(null),[g,E]=G.useState("all"),[w,S]=G.useState("analytics"),[I,x]=G.useState(null),U=G.useCallback(b=>!b||typeof b!="string"?"":b.trim().toLowerCase().replace(/\s+/g," "),[]),z=G.useCallback((b,D)=>{if(!b||!b.trim())return null;const k=U(b);let R=D.find(ve=>ve.verifiedName&&U(ve.verifiedName)===k);if(R||(R=D.find(ve=>ve.displayName&&U(ve.displayName)===k),R))return R;const Te=k.split(" ");if(Te.length>=2){const ve=`${Te[0]} ${Te[Te.length-1]}`;if(R=D.find(F=>{if(F.verifiedName){const ne=U(F.verifiedName).split(" ");if(ne.length>=2)return`${ne[0]} ${ne[ne.length-1]}`===ve}return!1}),R)return R;R=D.find(F=>{if(F.displayName){const ne=U(F.displayName).split(" ");if(ne.length>=2)return`${ne[0]} ${ne[ne.length-1]}`===ve}return!1})}return R||null},[U]),$=G.useCallback(b=>{const D=[],k=b.verifiedName;return k&&e.forEach(R=>{if(R.uid===b.uid||R.isGhost)return;(R.crushes||[]).includes(k)&&D.push({name:R.verifiedName||R.displayName,email:R.email})}),D},[e]),X=G.useCallback(()=>{const b=e.filter(de=>!de.isGhost),D=b.length,k=b.filter(de=>de.verifiedName&&de.verifiedName.trim()).length,R=new Set;b.forEach(de=>{const Ge=de.matches||[];Array.isArray(Ge)&&Ge.length>0&&Ge.forEach(lt=>{const tn=lt.name||lt,mt=[de.verifiedName||de.displayName,tn].sort().join(" ↔ ");R.add(mt)})});const Te=R.size,ve=Array.from(R).sort(),F=new Map,ne=new Map;let le=0;b.forEach(de=>{const Ge=de.crushes||[];le+=Ge.length,Ge.forEach(lt=>{const tn=z(lt,e);if(tn){const mt=tn.verifiedName||tn.displayName;mt&&(F.set(mt,(F.get(mt)||0)+1),ne.has(mt)||ne.set(mt,[]),ne.get(mt).push(de.verifiedName||de.displayName))}else F.set(lt,(F.get(lt)||0)+1),ne.has(lt)||ne.set(lt,[]),ne.get(lt).push(de.verifiedName||de.displayName)})});const De=Array.from(F.keys()).filter(de=>F.get(de)>0).length,V=D>0?le/D:0,W=b.filter(de=>de.crushes.length>0).length,ae=b.filter(de=>de.matches.length>0).length,se=D>0?W/D*100:0,me=js.length>0?W/js.length*100:0,Ie=[],Ae=new Set;b.forEach(de=>{(de.crushes||[]).forEach(lt=>{Ae.add(lt)})}),Ae.forEach(de=>{z(de,e)||Ie.push(de)});const _t=Array.from(F.entries()).map(([de,Ge])=>({name:de,count:Ge,crushers:ne.get(de)||[]})).sort((de,Ge)=>Ge.count-de.count).slice(0,20),Je=b.map(de=>({name:de.verifiedName||de.displayName,count:de.crushes.length,crushNames:de.crushes})).sort((de,Ge)=>Ge.count-de.count).slice(0,20),on=[];return b.forEach(de=>{if(de.crushCount>0){const Ge=!!(de.verifiedName&&de.verifiedName.trim()),lt=!!(de.crushes&&de.crushes.length>0);if(!Ge||!lt){const tn=$(de);let mt="";!Ge&&!lt?mt="No verified name and no crushes submitted":Ge?lt||(mt="No crushes submitted"):mt="No verified name",on.push({name:de.verifiedName||de.displayName,email:de.email,crushCount:de.crushCount,reason:mt,crushers:tn})}}}),on.sort((de,Ge)=>Ge.crushCount-de.crushCount),{totalUsers:D,totalTakenNames:k,totalMatches:Te,matchedPairs:ve,totalCrushes:le,peopleWithCrushes:De,avgCrushes:Number(V.toFixed(2)),usersWithCrushes:W,usersWithMatches:ae,participationRate:Number(se.toFixed(2)),classParticipationRate:Number(me.toFixed(2)),orphanedCrushes:Ie,topCrushReceivers:_t,topCrushSenders:Je,inactiveReceivers:on}},[e,z,$]),re=G.useCallback(async()=>{o(!0);try{const b=await JA(zA(Gs,"users")),D=[];b.forEach(F=>{const ne=F.data();D.push({...ne,uid:F.id})});const k=new Set;D.forEach(F=>{(F.crushes||[]).forEach(le=>{k.add(le)})});const R=new Set(D.map(F=>F.verifiedName).filter(Boolean)),Te=[];js.forEach(F=>{if(R.has(F))return;let ne=0;D.forEach(V=>{(V.crushes||[]).includes(F)&&ne++});const le=`ghost-${U(F).replace(/\s+/g,"-")}`,De=`${F.toLowerCase().replace(/\s+/g,".")}@stanford.edu`;Te.push({uid:le,email:De,displayName:F,photoURL:"/files/default-profile.png",verifiedName:F,crushes:[],lockedCrushes:[],matches:[],crushCount:ne,isGhost:!0,ghostType:ne>0?"with-crushes":"no-crushes",createdAt:null,updatedAt:null,lastLogin:null})});const ve=[...D,...Te];ve.sort((F,ne)=>{const le=F.isGhost||!1,De=ne.isGhost||!1,V=F.ghostType,W=ne.ghostType;if(!le&&De)return-1;if(le&&!De)return 1;if(le&&De){if(V==="with-crushes"&&W==="no-crushes")return-1;if(V==="no-crushes"&&W==="with-crushes")return 1}const ae=F.verifiedName||F.displayName||F.email||"",se=ne.verifiedName||ne.displayName||ne.email||"";return ae.localeCompare(se)}),n(ve)}catch(b){console.error("Error loading all users:",b)}finally{o(!1)}},[U]);G.useEffect(()=>{r&&re()},[r,re]),G.useEffect(()=>{e.length>0&&x(X())},[e,X]);const fe=G.useMemo(()=>{let b=e;switch(g){case"active":b=b.filter(k=>!k.isGhost);break;case"ghost":b=b.filter(k=>k.isGhost&&k.ghostType==="with-crushes");break;case"inactive":b=b.filter(k=>k.isGhost&&k.ghostType==="no-crushes");break}if(!u.trim())return b;const D=u.toLowerCase();return b.filter(k=>{const R=(k.verifiedName||"").toLowerCase(),Te=(k.displayName||"").toLowerCase(),ve=(k.email||"").toLowerCase();return R.includes(D)||Te.includes(D)||ve.includes(D)})},[e,u,g]),ue=G.useMemo(()=>{const b=e.filter(R=>!R.isGhost),D=e.filter(R=>R.ghostType==="with-crushes"),k=e.filter(R=>R.ghostType==="no-crushes");return{realUsers:b.length,ghostsWithCrushes:D.length,ghostsWithoutCrushes:k.length,total:e.length}},[e]),Re=b=>{f(b.target.value)},P=b=>{p(m===b?null:b)},C=()=>M.jsxs("div",{className:"admin-overview",children:[M.jsx("div",{className:"admin-quick-insights",children:M.jsxs("div",{className:"admin-insight-card",children:[M.jsx("h4",{children:"Platform Activity"}),M.jsxs("p",{children:[(I==null?void 0:I.usersWithCrushes)||0," users have sent crushes"]}),M.jsxs("p",{children:[(I==null?void 0:I.usersWithMatches)||0," users have matches"]}),M.jsxs("p",{children:[(I==null?void 0:I.avgCrushes)||0," average crushes sent per user"]})]})}),M.jsxs("div",{className:"admin-analytics",children:[M.jsxs("div",{className:"admin-analytics-section",children:[M.jsxs("h4",{children:["All Matches (",(I==null?void 0:I.totalMatches)||0,")"]}),I!=null&&I.matchedPairs.length?M.jsx("div",{className:"admin-matches-list",children:I.matchedPairs.map((b,D)=>M.jsxs("div",{className:"admin-match-item",children:[D+1,". ",b]},D))}):M.jsx("p",{children:"No matches found yet."})]}),M.jsxs("div",{className:"admin-analytics-section",children:[M.jsx("h4",{children:"Top Crush Receivers"}),M.jsx("div",{className:"admin-list",children:I==null?void 0:I.topCrushReceivers.map((b,D)=>M.jsxs("div",{className:"admin-list-item",children:[M.jsxs("span",{children:[D+1,". ",b.name]}),M.jsxs("span",{children:[b.count," crushes"]})]},b.name))})]}),M.jsxs("div",{className:"admin-analytics-section",children:[M.jsx("h4",{children:"Top Crush Senders"}),M.jsx("div",{className:"admin-list",children:I==null?void 0:I.topCrushSenders.map((b,D)=>M.jsxs("div",{className:"admin-list-item",children:[M.jsxs("span",{children:[D+1,". ",b.name]}),M.jsxs("span",{children:[b.count," crushes sent"]})]},b.name))})]}),M.jsxs("div",{className:"admin-analytics-section",children:[M.jsxs("h4",{children:["Inactive Receivers (",(I==null?void 0:I.inactiveReceivers.length)||0,")"]}),M.jsx("div",{className:"admin-list",children:I==null?void 0:I.inactiveReceivers.map((b,D)=>M.jsxs("div",{className:"admin-inactive-item",children:[M.jsxs("div",{className:"admin-inactive-header",children:[M.jsxs("span",{children:[D+1,". ",b.name]}),M.jsxs("span",{children:[b.crushCount," crushes"]})]}),M.jsxs("div",{className:"admin-inactive-details",children:[M.jsxs("p",{children:["Email: ",b.email]}),M.jsxs("p",{children:["Reason: ",b.reason]}),M.jsxs("p",{children:["Crushers: ",b.crushers.map(k=>k.name).join(", ")]})]})]},b.email))})]})]})]}),N=()=>M.jsxs("div",{className:"admin-users",children:[M.jsxs("div",{className:"admin-controls",children:[M.jsx("div",{className:"admin-search-section",children:M.jsx("input",{type:"text",placeholder:"Search users...",value:u,onChange:Re,className:"admin-search-input"})}),M.jsx("div",{className:"admin-filter-section",children:M.jsxs("select",{value:g,onChange:b=>E(b.target.value),className:"admin-filter-dropdown",children:[M.jsxs("option",{value:"all",children:["All Users (",ue.total,")"]}),M.jsxs("option",{value:"active",children:["Active Users (",ue.realUsers,")"]}),M.jsxs("option",{value:"ghost",children:["Ghost Users (",ue.ghostsWithCrushes,")"]}),M.jsxs("option",{value:"inactive",children:["Inactive Users (",ue.ghostsWithoutCrushes,")"]})]})})]}),s?M.jsx("div",{className:"loading",children:"Loading users..."}):M.jsxs("div",{className:"admin-users-container",children:[fe.map(b=>{var le,De,V,W;const D=m===b.uid,k=b.crushCount||0,R=$(b),Te=b.isGhost||!1,ve=b.ghostType,F=b.verifiedName||b.displayName||b.email,ne=!!(b.verifiedName&&b.verifiedName.trim());return M.jsxs("div",{className:`admin-user-item ${Te?`admin-user-ghost admin-user-ghost-${ve}`:""}`,children:[M.jsxs("div",{className:"admin-user-header",children:[M.jsxs("div",{className:"admin-user-info",children:[M.jsxs("div",{className:"admin-user-name",children:[F,Te&&ve==="with-crushes"&&M.jsx("span",{style:{color:"#dc3545",marginLeft:"8px",fontSize:"11px"},children:"👻 Ghost User"}),Te&&ve==="no-crushes"&&M.jsx("span",{style:{color:"#6c757d",marginLeft:"8px",fontSize:"11px"},children:"💤 Inactive User"}),!Te&&!ne&&M.jsx("span",{style:{color:"#dc3545",marginLeft:"8px",fontSize:"11px"},children:"(Not verified)"})]}),M.jsx("div",{className:"admin-user-email",children:b.email}),M.jsxs("div",{className:"admin-user-stats",children:[k," crushing • ",((le=b.matches)==null?void 0:le.length)||0," matches • ",((De=b.crushes)==null?void 0:De.length)||0," selected",!Te&&k!==R.length&&M.jsxs("span",{style:{color:"#dc3545",marginLeft:"8px"},children:["(calc: ",R.length,")"]})]})]}),M.jsx("button",{onClick:()=>P(b.uid),className:"admin-view-btn",disabled:Te&&ve==="no-crushes",children:Te&&ve==="no-crushes"?"No Data":D?"Collapse":"View"})]}),D&&!(Te&&ve==="no-crushes")&&M.jsxs("div",{className:"admin-user-expanded",children:[M.jsx("div",{className:"admin-view-header",children:M.jsxs("h4",{children:["Data for ",F,":"]})}),M.jsxs("div",{className:"admin-data-grid",children:[M.jsxs("div",{className:"admin-data-card",children:[M.jsx("div",{className:"admin-data-number",children:k}),M.jsx("div",{className:"admin-data-label",children:"People Crushing On Them"}),R.length>0&&M.jsx("div",{className:"admin-data-names",children:R.map((ae,se)=>M.jsx("div",{className:"admin-name-item",children:ae.name},se))}),!Te&&k!==R.length&&M.jsxs("div",{className:"admin-discrepancy",children:["⚠️ DB shows ",k,", calc shows ",R.length]})]}),M.jsxs("div",{className:"admin-data-card",children:[M.jsx("div",{className:"admin-data-number",children:((V=b.matches)==null?void 0:V.length)||0}),M.jsx("div",{className:"admin-data-label",children:"Matches"}),b.matches&&b.matches.length>0&&M.jsx("div",{className:"admin-data-names",children:b.matches.map((ae,se)=>M.jsx("div",{className:"admin-name-item",children:ae.name},se))}),Te&&M.jsx("div",{className:"admin-no-activity",children:"Ghost users cannot have matches yet"})]}),M.jsxs("div",{className:"admin-data-card",children:[M.jsx("div",{className:"admin-data-number",children:((W=b.crushes)==null?void 0:W.length)||0}),M.jsx("div",{className:"admin-data-label",children:"Crushes Sent"}),b.crushes&&b.crushes.length>0&&M.jsx("div",{className:"admin-data-names",children:b.crushes.map((ae,se)=>{var Ie;const me=(Ie=b.lockedCrushes)==null?void 0:Ie.includes(ae);return M.jsxs("div",{className:`admin-name-item ${me?"locked":""}`,children:[ae," ",me&&"🔒"]},se)})}),Te&&M.jsx("div",{className:"admin-no-activity",children:"Ghost users haven't signed up yet"})]})]}),!Te&&k===0&&(!b.matches||b.matches.length===0)&&(!b.crushes||b.crushes.length===0)&&M.jsx("div",{className:"admin-no-activity",children:"No activity"})]})]},b.uid)}),fe.length===0&&M.jsx("div",{className:"no-results",children:u?"No users found.":"No users available."})]})]});return M.jsxs("div",{className:"admin-section",children:[M.jsx("h3",{children:"Admin Dashboard"}),M.jsxs("div",{className:"admin-definitions",children:[M.jsxs("p",{children:[M.jsx("strong",{children:"Active Users:"})," Students who have signed up, verified their Stanford email, and selected their name from the class roster. They can send crushes and receive matches."]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Ghost Users:"}),` Students from the class roster who haven't signed up yet but are receiving crushes from active users. They appear as "taken" names but can't send crushes or see matches until they sign up.`]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Inactive Users:"})," Students from the class roster who haven't signed up and are not receiving any crushes. They don't appear in the system except in the complete class count."]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Inactive Receivers:"})," Active users who are receiving crushes but haven't engaged properly - either they haven't verified their name or haven't sent any crushes themselves. These users need follow-up."]})]}),M.jsxs("div",{className:"admin-nav",children:[M.jsx("button",{onClick:()=>S("analytics"),className:`admin-nav-btn ${w==="analytics"?"active":""}`,children:"Analytics"}),M.jsxs("button",{onClick:()=>S("users"),className:`admin-nav-btn ${w==="users"?"active":""}`,children:["Users (",ue.total,")"]})]}),M.jsxs("div",{className:"admin-content",children:[w==="analytics"&&C(),w==="users"&&N()]})]})},Zx=({userData:r,searchTerm:e,setSearchTerm:n,selectedNames:s,savedNames:o,updating:u,error:f,handleNameToggle:m,handleRemoveSelected:p,handleUpdatePreferences:g})=>{const E=(r==null?void 0:r.matches)&&r.matches.length>0,w=(r==null?void 0:r.crushCount)||0,S=(r==null?void 0:r.lockedCrushes)||[],I=JSON.stringify(s.sort())!==JSON.stringify(o.sort()),x=Zw.useMemo(()=>{const U=[...s];r!=null&&r.verifiedName&&U.push(r.verifiedName);const z=js.filter($=>!U.includes($));return e?z.filter($=>$.toLowerCase().includes(e.toLowerCase())):z},[s,e,r==null?void 0:r.verifiedName]);return M.jsxs(M.Fragment,{children:[w>0&&M.jsx("div",{className:"crush-count-section",children:M.jsxs("h2",{children:[w," ",w===1?"person is":"people are"," crushing on you!"]})}),E&&M.jsxs("div",{className:"matches-section",children:[M.jsxs("h2",{children:["🎉 You have ",r.matches.length," match",r.matches.length>1?"es":"","!"]}),M.jsx("div",{className:"matches-list",children:r.matches.map((U,z)=>M.jsxs("div",{className:"match-item",children:[M.jsx("div",{className:"match-name",children:U.name}),M.jsx("div",{className:"match-email",children:U.email})]},z))})]}),M.jsx("div",{className:"header-section",children:M.jsx("div",{className:"instructions",children:M.jsxs("ol",{children:[M.jsx("li",{children:"Select any classmates you'd like to connect with. Your selections are completely private - only you can see who you've chosen."}),M.jsx("li",{children:`Click "Update Preferences" to save your changes. Matches appear automatically when someone you've selected also selects you. Matches are completely private.`}),M.jsx("li",{children:"You can add or remove names anytime. There's no limit on how many people you can select, and you can change your preferences as often as you want."}),M.jsx("li",{children:"Once you match with someone, you cannot remove them from your list."})]})})}),M.jsxs("div",{className:"selection-counter",children:[s.length," selected",I&&M.jsx("span",{className:"unsaved-badge",children:"UNSAVED CHANGES"})]}),s.length>0&&M.jsxs("div",{className:"selected-names",children:[M.jsxs("h3",{children:["Your Selections (",s.length,")"]}),M.jsx("div",{className:"name-chips",children:s.map(U=>{const z=S.includes(U);return M.jsxs("div",{className:`name-chip ${z?"locked":"selected"}`,children:[M.jsx("span",{children:U}),z?M.jsx("span",{className:"lock-icon",title:"Locked - you have matched with this person",children:"🔒"}):M.jsx("button",{onClick:()=>p(U),className:"remove-btn","aria-label":`Remove ${U}`,disabled:u,children:"×"})]},U)})})]}),M.jsx("div",{className:"search-section",children:M.jsx("input",{type:"text",placeholder:"Search names...",value:e,onChange:U=>n(U.target.value),className:"search-input"})}),M.jsxs("div",{className:"available-names",children:[M.jsxs("h3",{children:["Classmates",e&&` (${x.length} found)`]}),M.jsxs("div",{className:"names-simple-list",children:[x.map(U=>M.jsxs("div",{onClick:()=>!u&&m(U),className:`name-list-item ${u?"disabled":""}`,children:[M.jsx("span",{className:"name-text",children:U}),M.jsx("span",{className:"add-btn",children:"+"})]},U)),x.length===0&&M.jsx("div",{className:"no-results",children:e?"No names found matching your search.":"All classmates have been selected!"})]})]}),M.jsx("div",{className:"action-section",children:M.jsx("div",{className:"action-buttons",children:M.jsx("button",{onClick:g,disabled:u||!I,className:"update-btn",children:u?"Updating...":"Update Preferences"})})}),f&&M.jsx("div",{className:"error-message",style:{color:"red",textAlign:"center",marginTop:"15px"},children:f})]})},Wx=()=>{const{user:r,userData:e,logout:n,refreshUserData:s}=lu(),[o,u]=G.useState(!1),[f,m]=G.useState(""),[p,g]=G.useState([]),[E,w]=G.useState([]),[S,I]=G.useState(!0),[x,U]=G.useState(!1),[z,$]=G.useState(null),[X,re]=G.useState(!1),fe=(r==null?void 0:r.email)==="jpark22@stanford.edu",ue=G.useCallback(async()=>{if(r)try{const D=Xl(Gs,"users",r.uid),k=await Gm(D);if(k.exists()){const R=k.data();R.crushes&&Array.isArray(R.crushes)&&(g(R.crushes),w(R.crushes))}}catch(D){console.error("Error loading user selections:",D),$("Failed to load your previous selections.")}},[r]);G.useEffect(()=>{(async()=>{try{$(null),r&&await ue()}catch(k){console.error("Error loading data:",k),$("Failed to load your data. Please refresh the page.")}finally{I(!1)}})()},[r,ue]);const Re=G.useCallback(()=>{u(!0)},[]),P=G.useCallback(()=>o?"/files/default-profile.png":(e==null?void 0:e.photoURL)||"/files/default-profile.png",[o,e==null?void 0:e.photoURL]),C=G.useCallback(D=>{x||g(k=>k.includes(D)?k.filter(R=>R!==D):[...k,D])},[x]),N=G.useCallback(D=>{x||((e==null?void 0:e.lockedCrushes)||[]).includes(D)||g(R=>R.filter(Te=>Te!==D))},[x,e==null?void 0:e.lockedCrushes]),b=G.useCallback(async()=>{if(!r||x)return;const D=(e==null?void 0:e.lockedCrushes)||[];if(D.filter(R=>!p.includes(R)).length>0){const R=[...new Set([...p,...D])];g(R)}U(!0),$(null);try{const R=Xl(Gs,"users",r.uid),Te=[...new Set([...p,...D])];await ZA(R,{crushes:Te,updatedAt:new Date}),g(Te),w(Te),await s();const ve=document.createElement("div");ve.textContent="Preferences updated successfully!",ve.style.cssText=`
                position: fixed;
                top: 20px;
                right: 20px;
                background: #28a745;
                color: white;
                padding: 12px 20px;
                border-radius: 8px;
                z-index: 1000;
                font-weight: 500;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            `,document.body.appendChild(ve),setTimeout(()=>{document.body.contains(ve)&&document.body.removeChild(ve)},3e3)}catch(R){console.error("Error updating preferences:",R),$("Failed to update preferences. Please try again.")}finally{U(!1)}},[r,x,p,e==null?void 0:e.lockedCrushes,s]);return S?M.jsx("div",{className:"loading",children:"Loading..."}):z?M.jsxs("div",{className:"loading",children:[M.jsx("p",{style:{color:"red"},children:z}),M.jsx("button",{onClick:()=>window.location.reload(),children:"Refresh Page"})]}):M.jsx("div",{className:"dashboard-container",children:M.jsxs("div",{className:"dashboard-card",children:[M.jsxs("div",{className:"dashboard-header",children:[M.jsx("h1",{children:"Stanford Last Chances"}),M.jsxs("div",{className:"user-info",children:[M.jsxs("div",{className:"user-details",children:[M.jsx("img",{src:P(),alt:"Profile",className:"profile-pic",onError:Re,onLoad:()=>u(!1)}),M.jsxs("div",{children:[M.jsx("div",{className:"user-name",children:(e==null?void 0:e.verifiedName)||(e==null?void 0:e.displayName)||(r==null?void 0:r.displayName)}),M.jsx("div",{className:"user-email",children:r==null?void 0:r.email})]})]}),M.jsxs("div",{className:"header-actions",children:[fe&&M.jsx("button",{onClick:()=>re(!X),className:"admin-toggle-btn",children:X?"Exit Admin View":"Admin View"}),M.jsx("button",{className:"logout-btn",onClick:n,children:"Logout"})]})]})]}),M.jsx("div",{className:"dashboard-content",children:X&&fe?M.jsx(Jx,{user:r}):M.jsx(Zx,{userData:e,searchTerm:f,setSearchTerm:m,selectedNames:p,savedNames:E,updating:x,error:z,handleNameToggle:C,handleRemoveSelected:N,handleUpdatePreferences:b})})]})})},eM=()=>{const{user:r,refreshUserData:e,logout:n}=lu(),[s,o]=G.useState(""),[u,f]=G.useState(!1),[m,p]=G.useState(!0),[g,E]=G.useState(null),[w,S]=G.useState(new Set);G.useEffect(()=>{r&&(async()=>{try{p(!0),E(null);const z=zA(Gs,"takenNames"),$=await JA(z),X=new Set;$.forEach(re=>{X.add(re.id)}),S(X)}catch(z){console.error("Error fetching taken names:",z),E("Failed to load available names. Please refresh the page.")}finally{p(!1)}})()},[r]);const I=G.useMemo(()=>js.map(U=>({name:U,isTaken:w.has(U),matchesSearch:!s||U.toLowerCase().includes(s.toLowerCase())})).filter(U=>U.matchesSearch),[s,w]),x=G.useCallback(async U=>{if(!(!r||u)){if(w.has(U)){E("This name has already been taken by another user. Please select a different name.");return}f(!0),E(null);try{const z=Xl(Gs,"users",r.uid);await ZA(z,{verifiedName:U,updatedAt:new Date}),await e()}catch(z){console.error("Error saving verified name:",z),E("Failed to save your selection. Please try again.")}finally{f(!1)}}},[r,u,e,w]);return m?M.jsx("div",{className:"loading",children:"Loading available names..."}):g&&w.size===0?M.jsxs("div",{className:"loading",children:[M.jsx("p",{style:{color:"red"},children:g}),M.jsx("button",{onClick:()=>window.location.reload(),children:"Refresh Page"})]}):M.jsx("div",{className:"verification-container",children:M.jsxs("div",{className:"verification-card",children:[M.jsxs("div",{className:"verification-header",children:[M.jsx("h1",{children:"Stanford Last Chances"}),M.jsxs("div",{className:"user-info",children:[M.jsx("span",{children:r==null?void 0:r.email}),M.jsx("button",{className:"logout-btn",onClick:n,children:"Logout"})]})]}),M.jsxs("div",{className:"verification-content",children:[M.jsx("h2",{children:"To ensure accuracy of matches, which Class of 2025 student are you?"}),M.jsxs("p",{children:["Please select ",M.jsx("b",{children:"your name"})," from the list below, not your crush's name."]}),M.jsx("div",{className:"search-section",children:M.jsx("input",{type:"text",placeholder:"Search for your name...",value:s,onChange:U=>o(U.target.value),className:"search-input"})}),M.jsx("br",{}),M.jsxs("div",{className:"names-list",children:[M.jsxs("h3",{children:["GSB MBA Class of 2025",s&&` (${I.length} found)`]}),M.jsxs("div",{className:"names-verification-list",children:[I.map(({name:U,isTaken:z})=>M.jsxs("div",{onClick:()=>!u&&!z&&x(U),className:`name-verification-item ${u||z?"disabled":""}`,children:[M.jsx("span",{className:"name-text",children:U}),M.jsx("span",{className:`select-btn ${z?"taken":""}`,children:z?"Taken":"Select"})]},U)),I.length===0&&M.jsx("div",{className:"no-results",children:s?"No available names found matching your search.":"No names available."})]})]}),u&&M.jsx("div",{className:"saving-indicator",children:"Saving your selection..."}),g&&M.jsx("div",{className:"error-message",style:{color:"red",textAlign:"center",marginTop:"15px"},children:g})]})]})})},tM=({children:r})=>{const{user:e,userData:n,loading:s}=lu();return s?M.jsx("div",{className:"loading",children:"Loading..."}):e?n?!n.verifiedName||n.verifiedName.trim()===""?M.jsx(eM,{}):M.jsx(M.Fragment,{children:r}):M.jsx("div",{className:"loading",children:"Setting up your account..."}):M.jsx(g0,{to:"/login"})},nM=({children:r})=>{const{user:e,loading:n}=lu();return n?M.jsx("div",{className:"loading",children:"Loading..."}):e?M.jsx(g0,{to:"/"}):M.jsx(M.Fragment,{children:r})};function iM(){return M.jsx($x,{children:M.jsx(E1,{children:M.jsx("div",{className:"App",children:M.jsxs(Xb,{children:[M.jsx(vm,{path:"/login",element:M.jsx(nM,{children:M.jsx(Xx,{})})}),M.jsx(vm,{path:"/",element:M.jsx(tM,{children:M.jsx(Wx,{})})})]})})})})}sb.createRoot(document.getElementById("root")).render(M.jsx(G.StrictMode,{children:M.jsx(iM,{})}));
