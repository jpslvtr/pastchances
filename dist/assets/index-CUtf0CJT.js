(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function cb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var tm={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function hb(){if(R_)return Il;R_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Il.Fragment=e,Il.jsx=n,Il.jsxs=n,Il}var I_;function fb(){return I_||(I_=1,tm.exports=hb()),tm.exports}var O=fb(),nm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function db(){if(C_)return Ce;C_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,j={};function U(M,ne,le){this.props=M,this.context=ne,this.refs=j,this.updater=le||P}U.prototype.isReactComponent={},U.prototype.setState=function(M,ne){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ne,"setState")},U.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function q(){}q.prototype=U.prototype;function X(M,ne,le){this.props=M,this.context=ne,this.refs=j,this.updater=le||P}var ie=X.prototype=new q;ie.constructor=X,V(ie,U.prototype),ie.isPureReactComponent=!0;var oe=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},_e=Object.prototype.hasOwnProperty;function x(M,ne,le,re,ye,De){return le=De.ref,{$$typeof:i,type:M,key:ne,ref:le!==void 0?le:null,props:De}}function b(M,ne){return x(M.type,ne,void 0,void 0,void 0,M.props)}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function N(M){var ne={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(le){return ne[le]})}var C=/\/+/g;function k(M,ne){return typeof M=="object"&&M!==null&&M.key!=null?N(""+M.key):ne.toString(36)}function I(){}function Ve(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(I,I):(M.status="pending",M.then(function(ne){M.status==="pending"&&(M.status="fulfilled",M.value=ne)},function(ne){M.status==="pending"&&(M.status="rejected",M.reason=ne)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function pe(M,ne,le,re,ye){var De=typeof M;(De==="undefined"||De==="boolean")&&(M=null);var Se=!1;if(M===null)Se=!0;else switch(De){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(M.$$typeof){case i:case e:Se=!0;break;case E:return Se=M._init,pe(Se(M._payload),ne,le,re,ye)}}if(Se)return ye=ye(M),Se=re===""?"."+k(M,0):re,oe(ye)?(le="",Se!=null&&(le=Se.replace(C,"$&/")+"/"),pe(ye,ne,le,"",function(Xe){return Xe})):ye!=null&&(R(ye)&&(ye=b(ye,le+(ye.key==null||M&&M.key===ye.key?"":(""+ye.key).replace(C,"$&/")+"/")+Se)),ne.push(ye)),1;Se=0;var ut=re===""?".":re+":";if(oe(M))for(var ce=0;ce<M.length;ce++)re=M[ce],De=ut+k(re,ce),Se+=pe(re,ne,le,De,ye);else if(ce=S(M),typeof ce=="function")for(M=ce.call(M),ce=0;!(re=M.next()).done;)re=re.value,De=ut+k(re,ce++),Se+=pe(re,ne,le,De,ye);else if(De==="object"){if(typeof M.then=="function")return pe(Ve(M),ne,le,re,ye);throw ne=String(M),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Se}function Q(M,ne,le){if(M==null)return M;var re=[],ye=0;return pe(M,re,"","",function(De){return ne.call(le,De,ye++)}),re}function se(M){if(M._status===-1){var ne=M._result;ne=ne(),ne.then(function(le){(M._status===0||M._status===-1)&&(M._status=1,M._result=le)},function(le){(M._status===0||M._status===-1)&&(M._status=2,M._result=le)}),M._status===-1&&(M._status=0,M._result=ne)}if(M._status===1)return M._result.default;throw M._result}var he=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Ne(){}return Ce.Children={map:Q,forEach:function(M,ne,le){Q(M,function(){ne.apply(this,arguments)},le)},count:function(M){var ne=0;return Q(M,function(){ne++}),ne},toArray:function(M){return Q(M,function(ne){return ne})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ce.Component=U,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=X,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(M){return ue.H.useMemoCache(M)}},Ce.cache=function(M){return function(){return M.apply(null,arguments)}},Ce.cloneElement=function(M,ne,le){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var re=V({},M.props),ye=M.key,De=void 0;if(ne!=null)for(Se in ne.ref!==void 0&&(De=void 0),ne.key!==void 0&&(ye=""+ne.key),ne)!_e.call(ne,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ne.ref===void 0||(re[Se]=ne[Se]);var Se=arguments.length-2;if(Se===1)re.children=le;else if(1<Se){for(var ut=Array(Se),ce=0;ce<Se;ce++)ut[ce]=arguments[ce+2];re.children=ut}return x(M.type,ye,void 0,void 0,De,re)},Ce.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ce.createElement=function(M,ne,le){var re,ye={},De=null;if(ne!=null)for(re in ne.key!==void 0&&(De=""+ne.key),ne)_e.call(ne,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ye[re]=ne[re]);var Se=arguments.length-2;if(Se===1)ye.children=le;else if(1<Se){for(var ut=Array(Se),ce=0;ce<Se;ce++)ut[ce]=arguments[ce+2];ye.children=ut}if(M&&M.defaultProps)for(re in Se=M.defaultProps,Se)ye[re]===void 0&&(ye[re]=Se[re]);return x(M,De,void 0,void 0,null,ye)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(M){return{$$typeof:m,render:M}},Ce.isValidElement=R,Ce.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:se}},Ce.memo=function(M,ne){return{$$typeof:g,type:M,compare:ne===void 0?null:ne}},Ce.startTransition=function(M){var ne=ue.T,le={};ue.T=le;try{var re=M(),ye=ue.S;ye!==null&&ye(le,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Ne,he)}catch(De){he(De)}finally{ue.T=ne}},Ce.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Ce.use=function(M){return ue.H.use(M)},Ce.useActionState=function(M,ne,le){return ue.H.useActionState(M,ne,le)},Ce.useCallback=function(M,ne){return ue.H.useCallback(M,ne)},Ce.useContext=function(M){return ue.H.useContext(M)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(M,ne){return ue.H.useDeferredValue(M,ne)},Ce.useEffect=function(M,ne,le){var re=ue.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(M,ne)},Ce.useId=function(){return ue.H.useId()},Ce.useImperativeHandle=function(M,ne,le){return ue.H.useImperativeHandle(M,ne,le)},Ce.useInsertionEffect=function(M,ne){return ue.H.useInsertionEffect(M,ne)},Ce.useLayoutEffect=function(M,ne){return ue.H.useLayoutEffect(M,ne)},Ce.useMemo=function(M,ne){return ue.H.useMemo(M,ne)},Ce.useOptimistic=function(M,ne){return ue.H.useOptimistic(M,ne)},Ce.useReducer=function(M,ne,le){return ue.H.useReducer(M,ne,le)},Ce.useRef=function(M){return ue.H.useRef(M)},Ce.useState=function(M){return ue.H.useState(M)},Ce.useSyncExternalStore=function(M,ne,le){return ue.H.useSyncExternalStore(M,ne,le)},Ce.useTransition=function(){return ue.H.useTransition()},Ce.version="19.1.0",Ce}var N_;function tp(){return N_||(N_=1,nm.exports=db()),nm.exports}var G=tp();const mb=cb(G);var im={exports:{}},Cl={},rm={exports:{}},sm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function pb(){return D_||(D_=1,function(i){function e(Q,se){var he=Q.length;Q.push(se);e:for(;0<he;){var Ne=he-1>>>1,M=Q[Ne];if(0<o(M,se))Q[Ne]=se,Q[he]=M,he=Ne;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var se=Q[0],he=Q.pop();if(he!==se){Q[0]=he;e:for(var Ne=0,M=Q.length,ne=M>>>1;Ne<ne;){var le=2*(Ne+1)-1,re=Q[le],ye=le+1,De=Q[ye];if(0>o(re,he))ye<M&&0>o(De,re)?(Q[Ne]=De,Q[ye]=he,Ne=ye):(Q[Ne]=re,Q[le]=he,Ne=le);else if(ye<M&&0>o(De,he))Q[Ne]=De,Q[ye]=he,Ne=ye;else break e}}return se}function o(Q,se){var he=Q.sortIndex-se.sortIndex;return he!==0?he:Q.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,A=null,S=3,P=!1,V=!1,j=!1,U=!1,q=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function oe(Q){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=Q)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function ue(Q){if(j=!1,oe(Q),!V)if(n(p)!==null)V=!0,_e||(_e=!0,k());else{var se=n(g);se!==null&&pe(ue,se.startTime-Q)}}var _e=!1,x=-1,b=5,R=-1;function N(){return U?!0:!(i.unstable_now()-R<b)}function C(){if(U=!1,_e){var Q=i.unstable_now();R=Q;var se=!0;try{e:{V=!1,j&&(j=!1,X(x),x=-1),P=!0;var he=S;try{t:{for(oe(Q),A=n(p);A!==null&&!(A.expirationTime>Q&&N());){var Ne=A.callback;if(typeof Ne=="function"){A.callback=null,S=A.priorityLevel;var M=Ne(A.expirationTime<=Q);if(Q=i.unstable_now(),typeof M=="function"){A.callback=M,oe(Q),se=!0;break t}A===n(p)&&s(p),oe(Q)}else s(p);A=n(p)}if(A!==null)se=!0;else{var ne=n(g);ne!==null&&pe(ue,ne.startTime-Q),se=!1}}break e}finally{A=null,S=he,P=!1}se=void 0}}finally{se?k():_e=!1}}}var k;if(typeof ie=="function")k=function(){ie(C)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ve=I.port2;I.port1.onmessage=C,k=function(){Ve.postMessage(null)}}else k=function(){q(C,0)};function pe(Q,se){x=q(function(){Q(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var he=S;S=se;try{return Q()}finally{S=he}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var he=S;S=Q;try{return se()}finally{S=he}},i.unstable_scheduleCallback=function(Q,se,he){var Ne=i.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ne+he:Ne):he=Ne,Q){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=he+M,Q={id:E++,callback:se,priorityLevel:Q,startTime:he,expirationTime:M,sortIndex:-1},he>Ne?(Q.sortIndex=he,e(g,Q),n(p)===null&&Q===n(g)&&(j?(X(x),x=-1):j=!0,pe(ue,he-Ne))):(Q.sortIndex=M,e(p,Q),V||P||(V=!0,_e||(_e=!0,k()))),Q},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(Q){var se=S;return function(){var he=S;S=se;try{return Q.apply(this,arguments)}finally{S=he}}}}(sm)),sm}var O_;function gb(){return O_||(O_=1,rm.exports=pb()),rm.exports}var am={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function yb(){if(x_)return $t;x_=1;var i=tp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},$t.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},$t.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},$t.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$t.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:S,fetchPriority:P}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:S,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$t.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},$t.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$t.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},$t.requestFormReset=function(p){s.d.r(p)},$t.unstable_batchedUpdates=function(p,g){return p(g)},$t.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.1.0",$t}var M_;function vb(){if(M_)return am.exports;M_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),am.exports=yb(),am.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function _b(){if(V_)return Cl;V_=1;var i=gb(),e=tp(),n=vb();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case U:return"Profiler";case j:return"StrictMode";case ue:return"Suspense";case _e:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case X:return(t._context.displayName||"Context")+".Consumer";case oe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return r=t.displayName||null,r!==null?r:Ve(t.type)||"Memo";case b:r=t._payload,t=t._init;try{return Ve(t(r))}catch{}}return null}var pe=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Ne=[],M=-1;function ne(t){return{current:t}}function le(t){0>M||(t.current=Ne[M],Ne[M]=null,M--)}function re(t,r){M++,Ne[M]=t.current,t.current=r}var ye=ne(null),De=ne(null),Se=ne(null),ut=ne(null);function ce(t,r){switch(re(Se,r),re(De,t),re(ye,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?e_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=e_(r),t=t_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(ye),re(ye,t)}function Xe(){le(ye),le(De),le(Se)}function ct(t){t.memoizedState!==null&&re(ut,t);var r=ye.current,a=t_(r,t.type);r!==a&&(re(De,t),re(ye,a))}function an(t){De.current===t&&(le(ye),le(De)),ut.current===t&&(le(ut),Al._currentValue=he)}var Kt=Object.prototype.hasOwnProperty,es=i.unstable_scheduleCallback,ts=i.unstable_cancelCallback,_o=i.unstable_shouldYield,du=i.unstable_requestPaint,wn=i.unstable_now,ef=i.unstable_getCurrentPriorityLevel,Eo=i.unstable_ImmediatePriority,Zs=i.unstable_UserBlockingPriority,ns=i.unstable_NormalPriority,tf=i.unstable_LowPriority,Ws=i.unstable_IdlePriority,To=i.log,mu=i.unstable_setDisableYieldValue,ht=null,Ye=null;function dn(t){if(typeof To=="function"&&mu(t),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(ht,t)}catch{}}var Yt=Math.clz32?Math.clz32:is,pu=Math.log,nf=Math.LN2;function is(t){return t>>>=0,t===0?32:31-(pu(t)/nf|0)|0}var rs=256,ss=4194304;function zn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ea(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=zn(l):(_&=T,_!==0?h=zn(_):a||(a=T&~t,a!==0&&(h=zn(a))))):(T=l&~d,T!==0?h=zn(T):_!==0?h=zn(_):a||(a=l&~t,a!==0&&(h=zn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function as(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Ao(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(){var t=rs;return rs<<=1,(rs&4194048)===0&&(rs=256),t}function wo(){var t=ss;return ss<<=1,(ss&62914560)===0&&(ss=4194304),t}function wi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function bi(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bo(t,r,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var J=31-Yt(a),W=1<<J;T[J]=0,D[J]=-1;var K=F[J];if(K!==null)for(F[J]=null,J=0;J<K.length;J++){var Y=K[J];Y!==null&&(Y.lane&=-536870913)}a&=~W}l!==0&&Wn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function Wn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Yt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Ro(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Yt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ta(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lr(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:E_(t.type))}function gu(t,r){var a=se.p;try{return se.p=t,r()}finally{se.p=a}}var rt=Math.random().toString(36).slice(2),bt="__reactFiber$"+rt,vt="__reactProps$"+rt,bn="__reactContainer$"+rt,Io="__reactEvents$"+rt,rf="__reactListeners$"+rt,ur="__reactHandles$"+rt,yu="__reactResources$"+rt,os="__reactMarker$"+rt;function cr(t){delete t[bt],delete t[vt],delete t[Io],delete t[rf],delete t[ur]}function Ri(t){var r=t[bt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[bn]||a[bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=s_(t);t!==null;){if(a=t[bt])return a;t=s_(t)}return r}t=a,a=t.parentNode}return null}function ei(t){if(t=t[bt]||t[bn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function ti(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function tn(t){var r=t[yu];return r||(r=t[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function mt(t){t[os]=!0}var Co=new Set,na={};function jn(t,r){Ii(t,r),Ii(t+"Capture",r)}function Ii(t,r){for(na[t]=r,t=0;t<r.length;t++)Co.add(r[t])}var vu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_u={},ls={};function Eu(t){return Kt.call(ls,t)?!0:Kt.call(_u,t)?!1:vu.test(t)?ls[t]=!0:(_u[t]=!0,!1)}function hr(t,r,a){if(Eu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ni(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Ut(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var us,Tu;function Ci(t){if(us===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);us=r&&r[1]||"",Tu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+us+t+Tu}var ia=!1;function ra(t,r){if(!t||ia)return"";ia=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Y){var K=Y}Reflect.construct(t,[],W)}else{try{W.call()}catch(Y){K=Y}t.call(W.prototype)}}else{try{throw Error()}catch(Y){K=Y}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var D=_.split(`
`),F=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===F.length)for(l=D.length-1,h=F.length-1;1<=l&&0<=h&&D[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==F[h]){var J=`
`+D[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{ia=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ci(a):""}function No(t){switch(t.tag){case 26:case 27:case 5:return Ci(t.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return ra(t.type,!1);case 11:return ra(t.type.render,!1);case 1:return ra(t.type,!0);case 31:return Ci("Activity");default:return""}}function sa(t){try{var r="";do r+=No(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Do(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function sf(t){var r=Do(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function aa(t){t._valueTracker||(t._valueTracker=sf(t))}function Oo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Do(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function cs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var af=/[\n"\\]/g;function _t(t){return t.replace(af,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function mn(t,r,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+nn(r)):t.value!==""+nn(r)&&(t.value=""+nn(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?fr(t,_,nn(r)):a!=null?fr(t,_,nn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+nn(T):t.removeAttribute("name")}function hs(t,r,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+nn(a):"",r=r!=null?""+nn(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function fr(t,r,a){r==="number"&&cs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ni(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+nn(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Je(t,r,a){if(r!=null&&(r=""+nn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+nn(a):""}function fs(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(pe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=nn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Rn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var ds=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Au(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||ds.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function xo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Au(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Au(t,d,r[d])}function Mo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(t){return lf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Di=null;function In(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oi=null,xi=null;function Vo(t){var r=ei(t);if(r&&(t=r.stateNode)){var a=t[vt]||null;e:switch(t=r.stateNode,r.type){case"input":if(mn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_t(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[vt]||null;if(!h)throw Error(s(90));mn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Oo(l)}break e;case"textarea":Je(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ni(t,!!a.multiple,r,!1)}}}var ii=!1;function Su(t,r,a){if(ii)return t(r,a);ii=!0;try{var l=t(r);return l}finally{if(ii=!1,(Oi!==null||xi!==null)&&(gc(),Oi&&(r=Oi,t=xi,xi=Oi=null,Vo(r),t)))for(r=0;r<t.length;r++)Vo(t[r])}}function ms(t,r){var a=t.stateNode;if(a===null)return null;var l=a[vt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cn=!1;if(Bn)try{var ps={};Object.defineProperty(ps,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",ps,ps),window.removeEventListener("test",ps,ps)}catch{Cn=!1}var ri=null,dr=null,Mi=null;function ko(){if(Mi)return Mi;var t,r=dr,a=r.length,l,h="value"in ri?ri.value:ri.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===h[d-l];l++);return Mi=h.slice(t,1<l?1-l:void 0)}function si(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ai(){return!0}function Po(){return!1}function xt(t){function r(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ai:Po,this.isPropagationStopped=Po,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),r}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=xt(Ge),gs=E({},Ge,{view:0,detail:0}),wu=xt(gs),ua,ca,oi,ys=E({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?(ua=t.screenX-oi.screenX,ca=t.screenY-oi.screenY):ca=ua=0,oi=t),ua)},movementY:function(t){return"movementY"in t?t.movementY:ca}}),Nn=xt(ys),bu=E({},ys,{dataTransfer:0}),uf=xt(bu),vs=E({},gs,{relatedTarget:0}),ha=xt(vs),Lo=E({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),fa=xt(Lo),Ru=E({},Ge,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),da=xt(Ru),cf=E({},Ge,{data:0}),Uo=xt(cf),_s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Cu[t])?!!r[t]:!1}function Es(){return zo}var Nu=E({},gs,{key:function(t){if(t.key){var r=_s[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=si(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(t){return t.type==="keypress"?si(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?si(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ma=xt(Nu),Du=E({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jo=xt(Du),Vi=E({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),Ou=xt(Vi),xu=E({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mu=xt(xu),Vu=E({},ys,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pa=xt(Vu),rn=E({},Ge,{newState:0,oldState:0}),ku=xt(rn),Pu=[9,13,27,32],li=Bn&&"CompositionEvent"in window,c=null;Bn&&"documentMode"in document&&(c=document.documentMode);var y=Bn&&"TextEvent"in window&&!c,v=Bn&&(!li||c&&8<c&&11>=c),w=" ",B=!1;function $(t,r){switch(t){case"keyup":return Pu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ze=!1;function Rt(t,r){switch(t){case"compositionend":return ae(r);case"keypress":return r.which!==32?null:(B=!0,w);case"textInput":return t=r.data,t===w&&B?null:t;default:return null}}function je(t,r){if(ze)return t==="compositionend"||!li&&$(t,r)?(t=ko(),Mi=dr=ri=null,ze=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function It(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Mt[t.type]:r==="textarea"}function ki(t,r,a,l){Oi?xi?xi.push(l):xi=[l]:Oi=l,r=Ac(r,"onChange"),0<r.length&&(a=new la("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var zt=null,ui=null;function Bo(t){$v(t,0)}function Lu(t){var r=ti(t);if(Oo(r))return t}function gg(t,r){if(t==="change")return r}var yg=!1;if(Bn){var hf;if(Bn){var ff="oninput"in document;if(!ff){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),ff=typeof vg.oninput=="function"}hf=ff}else hf=!1;yg=hf&&(!document.documentMode||9<document.documentMode)}function _g(){zt&&(zt.detachEvent("onpropertychange",Eg),ui=zt=null)}function Eg(t){if(t.propertyName==="value"&&Lu(ui)){var r=[];ki(r,ui,t,In(t)),Su(Bo,r)}}function jS(t,r,a){t==="focusin"?(_g(),zt=r,ui=a,zt.attachEvent("onpropertychange",Eg)):t==="focusout"&&_g()}function BS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(ui)}function qS(t,r){if(t==="click")return Lu(r)}function HS(t,r){if(t==="input"||t==="change")return Lu(r)}function FS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var pn=typeof Object.is=="function"?Object.is:FS;function qo(t,r){if(pn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Kt.call(r,h)||!pn(t[h],r[h]))return!1}return!0}function Tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ag(t,r){var a=Tg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tg(a)}}function Sg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Sg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function wg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=cs(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=cs(t.document)}return r}function df(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var GS=Bn&&"documentMode"in document&&11>=document.documentMode,ga=null,mf=null,Ho=null,pf=!1;function bg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||ga==null||ga!==cs(l)||(l=ga,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ho&&qo(Ho,l)||(Ho=l,l=Ac(mf,"onSelect"),0<l.length&&(r=new la("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=ga)))}function Ts(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var ya={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},gf={},Rg={};Bn&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function As(t){if(gf[t])return gf[t];if(!ya[t])return t;var r=ya[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Rg)return gf[t]=r[a];return t}var Ig=As("animationend"),Cg=As("animationiteration"),Ng=As("animationstart"),KS=As("transitionrun"),YS=As("transitionstart"),QS=As("transitioncancel"),Dg=As("transitionend"),Og=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function qn(t,r){Og.set(t,r),jn(r,[t])}var xg=new WeakMap;function Dn(t,r){if(typeof t=="object"&&t!==null){var a=xg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:sa(r)},xg.set(t,r),r)}return{value:t,source:r,stack:sa(r)}}var On=[],va=0,vf=0;function Uu(){for(var t=va,r=vf=va=0;r<t;){var a=On[r];On[r++]=null;var l=On[r];On[r++]=null;var h=On[r];On[r++]=null;var d=On[r];if(On[r++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Mg(a,h,d)}}function zu(t,r,a,l){On[va++]=t,On[va++]=r,On[va++]=a,On[va++]=l,vf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function _f(t,r,a,l){return zu(t,r,a,l),ju(t)}function _a(t,r){return zu(t,null,null,r),ju(t)}function Mg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Yt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function ju(t){if(50<ml)throw ml=0,bd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ea={};function $S(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,r,a,l){return new $S(t,r,a,l)}function Ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pi(t,r){var a=t.alternate;return a===null?(a=gn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Vg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Bu(t,r,a,l,h,d){var _=0;if(l=t,typeof t=="function")Ef(t)&&(_=1);else if(typeof t=="string")_=Jw(t,a,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=gn(31,a,r,h),t.elementType=R,t.lanes=d,t;case V:return Ss(a.children,h,d,r);case j:_=8,h|=24;break;case U:return t=gn(12,a,r,h|2),t.elementType=U,t.lanes=d,t;case ue:return t=gn(13,a,r,h),t.elementType=ue,t.lanes=d,t;case _e:return t=gn(19,a,r,h),t.elementType=_e,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q:case ie:_=10;break e;case X:_=9;break e;case oe:_=11;break e;case x:_=14;break e;case b:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=gn(_,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Ss(t,r,a,l){return t=gn(7,t,l,r),t.lanes=a,t}function Tf(t,r,a){return t=gn(6,t,null,r),t.lanes=a,t}function Af(t,r,a){return r=gn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ta=[],Aa=0,qu=null,Hu=0,xn=[],Mn=0,ws=null,Li=1,Ui="";function bs(t,r){Ta[Aa++]=Hu,Ta[Aa++]=qu,qu=t,Hu=r}function kg(t,r,a){xn[Mn++]=Li,xn[Mn++]=Ui,xn[Mn++]=ws,ws=t;var l=Li;t=Ui;var h=32-Yt(l)-1;l&=~(1<<h),a+=1;var d=32-Yt(r)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Li=1<<32-Yt(r)+h|a<<h|l,Ui=d+t}else Li=1<<d|a<<h|l,Ui=t}function Sf(t){t.return!==null&&(bs(t,1),kg(t,1,0))}function wf(t){for(;t===qu;)qu=Ta[--Aa],Ta[Aa]=null,Hu=Ta[--Aa],Ta[Aa]=null;for(;t===ws;)ws=xn[--Mn],xn[Mn]=null,Ui=xn[--Mn],xn[Mn]=null,Li=xn[--Mn],xn[Mn]=null}var sn=null,ft=null,Fe=!1,Rs=null,ci=!1,bf=Error(s(519));function Is(t){var r=Error(s(418,""));throw Ko(Dn(r,t)),bf}function Pg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[bt]=t,r[vt]=l,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(a=0;a<gl.length;a++)Pe(gl[a],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),hs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),aa(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),fs(r,l.value,l.defaultValue,l.children),aa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Wv(r.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),l.onScroll!=null&&Pe("scroll",r),l.onScrollEnd!=null&&Pe("scrollend",r),l.onClick!=null&&(r.onclick=Sc),r=!0):r=!1,r||Is(t)}function Lg(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:sn=sn.return}}function Fo(t){if(t!==sn)return!1;if(!Fe)return Lg(t),Fe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bd(t.type,t.memoizedProps)),a=!a),a&&ft&&Is(t),Lg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ft=Fn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ft=null}}else r===27?(r=ft,Nr(t.type)?(t=Gd,Gd=null,ft=t):ft=r):ft=sn?Fn(t.stateNode.nextSibling):null;return!0}function Go(){ft=sn=null,Fe=!1}function Ug(){var t=Rs;return t!==null&&(un===null?un=t:un.push.apply(un,t),Rs=null),t}function Ko(t){Rs===null?Rs=[t]:Rs.push(t)}var Rf=ne(null),Cs=null,zi=null;function mr(t,r,a){re(Rf,r._currentValue),r._currentValue=a}function ji(t){t._currentValue=Rf.current,le(Rf)}function If(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Cf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var D=0;D<r.length;D++)if(T.context===r[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),If(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),If(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Yo(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;pn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===ut.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Al):t=[Al])}h=h.return}t!==null&&Cf(r,t,a,l),r.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ns(t){Cs=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return zg(Cs,t)}function Gu(t,r){return Cs===null&&Ns(t),zg(t,r)}function zg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},zi===null){if(t===null)throw Error(s(308));zi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else zi=zi.next=r;return a}var XS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},JS=i.unstable_scheduleCallback,ZS=i.unstable_NormalPriority,Ct={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new XS,data:new Map,refCount:0}}function Qo(t){t.refCount--,t.refCount===0&&JS(ZS,function(){t.controller.abort()})}var $o=null,Df=0,Sa=0,wa=null;function WS(t,r){if($o===null){var a=$o=[];Df=0,Sa=xd(),wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Df++,r.then(jg,jg),r}function jg(){if(--Df===0&&$o!==null){wa!==null&&(wa.status="fulfilled");var t=$o;$o=null,Sa=0,wa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function ew(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Bg=Q.S;Q.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&WS(t,r),Bg!==null&&Bg(t,r)};var Ds=ne(null);function Of(){var t=Ds.current;return t!==null?t:nt.pooledCache}function Ku(t,r){r===null?re(Ds,Ds.current):re(Ds,r.pool)}function qg(){var t=Of();return t===null?null:{parent:Ct._currentValue,pool:t}}var Xo=Error(s(460)),Hg=Error(s(474)),Yu=Error(s(542)),xf={then:function(){}};function Fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qu(){}function Gg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Qu,Qu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Yg(t),t;default:if(typeof r.status=="string")r.then(Qu,Qu);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Yg(t),t}throw Jo=r,Xo}}var Jo=null;function Kg(){if(Jo===null)throw Error(s(459));var t=Jo;return Jo=null,t}function Yg(t){if(t===Xo||t===Yu)throw Error(s(483))}var pr=!1;function Mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=ju(t),Mg(t,null,a),r}return zu(t,l,r,a),ju(t)}function Zo(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Ro(t,a)}}function kf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Pf=!1;function Wo(){if(Pf){var t=wa;if(t!==null)throw t}}function el(t,r,a,l){Pf=!1;var h=t.updateQueue;pr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,F=D.next;D.next=null,_===null?d=F:_.next=F,_=D;var J=t.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==_&&(T===null?J.firstBaseUpdate=F:T.next=F,J.lastBaseUpdate=D))}if(d!==null){var W=h.baseState;_=0,J=F=D=null,T=d;do{var K=T.lane&-536870913,Y=K!==T.lane;if(Y?(Be&K)===K:(l&K)===K){K!==0&&K===Sa&&(Pf=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var we=t,Ee=T;K=r;var et=a;switch(Ee.tag){case 1:if(we=Ee.payload,typeof we=="function"){W=we.call(et,W,K);break e}W=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ee.payload,K=typeof we=="function"?we.call(et,W,K):we,K==null)break e;W=E({},W,K);break e;case 2:pr=!0}}K=T.callback,K!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(F=J=Y,D=W):J=J.next=Y,_|=K;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);J===null&&(D=W),h.baseState=D,h.firstBaseUpdate=F,h.lastBaseUpdate=J,d===null&&(h.shared.lanes=0),br|=_,t.lanes=_,t.memoizedState=W}}function Qg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function $g(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Qg(a[t],r)}var ba=ne(null),$u=ne(0);function Xg(t,r){t=Yi,re($u,t),re(ba,r),Yi=t|r.baseLanes}function Lf(){re($u,Yi),re(ba,ba.current)}function Uf(){Yi=$u.current,le(ba),le($u)}var vr=0,Oe=null,Ze=null,Et=null,Xu=!1,Ra=!1,Os=!1,Ju=0,tl=0,Ia=null,tw=0;function pt(){throw Error(s(321))}function zf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!pn(t[a],r[a]))return!1;return!0}function jf(t,r,a,l,h,d){return vr=d,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?My:Vy,Os=!1,d=a(l,h),Os=!1,Ra&&(d=Zg(r,a,l,h)),Jg(t),d}function Jg(t){Q.H=ic;var r=Ze!==null&&Ze.next!==null;if(vr=0,Et=Ze=Oe=null,Xu=!1,tl=0,Ia=null,r)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&Fu(t)&&(Vt=!0))}function Zg(t,r,a,l){Oe=t;var h=0;do{if(Ra&&(Ia=null),tl=0,Ra=!1,25<=h)throw Error(s(301));if(h+=1,Et=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=lw,d=r(a,l)}while(Ra);return d}function nw(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?nl(r):r,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Oe.flags|=1024),r}function Bf(){var t=Ju!==0;return Ju=0,t}function qf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Hf(t){if(Xu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Xu=!1}vr=0,Et=Ze=Oe=null,Ra=!1,tl=Ju=0,Ia=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Oe.memoizedState=Et=t:Et=Et.next=t,Et}function Tt(){if(Ze===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var r=Et===null?Oe.memoizedState:Et.next;if(r!==null)Et=r,Ze=t;else{if(t===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Et===null?Oe.memoizedState=Et=t:Et=Et.next=t}return Et}function Ff(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(t){var r=tl;return tl+=1,Ia===null&&(Ia=[]),t=Gg(Ia,t,r),r=Oe,(Et===null?r.memoizedState:Et.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?My:Vy),t}function Zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nl(t);if(t.$$typeof===ie)return Qt(t)}throw Error(s(438,String(t)))}function Gf(t){var r=null,a=Oe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Ff(),Oe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=N;return r.index++,a}function Bi(t,r){return typeof r=="function"?r(t):r}function Wu(t){var r=Tt();return Kf(r,Ze,t)}function Kf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=_=null,D=null,F=r,J=!1;do{var W=F.lane&-536870913;if(W!==F.lane?(Be&W)===W:(vr&W)===W){var K=F.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),W===Sa&&(J=!0);else if((vr&K)===K){F=F.next,K===Sa&&(J=!0);continue}else W={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(T=D=W,_=d):D=D.next=W,Oe.lanes|=K,br|=K;W=F.action,Os&&a(d,W),d=F.hasEagerState?F.eagerState:a(d,W)}else K={lane:W,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(T=D=K,_=d):D=D.next=K,Oe.lanes|=W,br|=W;F=F.next}while(F!==null&&F!==r);if(D===null?_=d:D.next=T,!pn(d,t.memoizedState)&&(Vt=!0,J&&(a=wa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Yf(t){var r=Tt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);pn(d,r.memoizedState)||(Vt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Wg(t,r,a){var l=Oe,h=Tt(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!pn((Ze||h).memoizedState,a);_&&(h.memoizedState=a,Vt=!0),h=h.queue;var T=ny.bind(null,l,h,t);if(il(2048,8,T,[t]),h.getSnapshot!==r||_||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,Ca(9,ec(),ty.bind(null,l,h,a,r),null),nt===null)throw Error(s(349));d||(vr&124)!==0||ey(l,r,a)}return a}function ey(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Oe.updateQueue,r===null?(r=Ff(),Oe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function ty(t,r,a,l){r.value=a,r.getSnapshot=l,iy(r)&&ry(t)}function ny(t,r,a){return a(function(){iy(r)&&ry(t)})}function iy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!pn(t,a)}catch{return!0}}function ry(t){var r=_a(t,2);r!==null&&Tn(r,t,2)}function Qf(t){var r=on();if(typeof t=="function"){var a=t;if(t=a(),Os){dn(!0);try{a()}finally{dn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},r}function sy(t,r,a,l){return t.baseState=a,Kf(t,Ze,typeof l=="function"?l:Bi)}function iw(t,r,a,l,h){if(nc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,ay(r,d)):(d.next=a.next,r.pending=a.next=d)}}function ay(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=Q.T,_={};Q.T=_;try{var T=a(h,l),D=Q.S;D!==null&&D(_,T),oy(t,r,T)}catch(F){$f(t,r,F)}finally{Q.T=d}}else try{d=a(h,l),oy(t,r,d)}catch(F){$f(t,r,F)}}function oy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ly(t,r,l)},function(l){return $f(t,r,l)}):ly(t,r,a)}function ly(t,r,a){r.status="fulfilled",r.value=a,uy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,ay(t,a)))}function $f(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,uy(r),r=r.next;while(r!==l)}t.action=null}function uy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function cy(t,r){return r}function hy(t,r){if(Fe){var a=nt.formState;if(a!==null){e:{var l=Oe;if(Fe){if(ft){t:{for(var h=ft,d=ci;h.nodeType!==8;){if(!d){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ft=Fn(h.nextSibling),l=h.data==="F!";break e}}Is(l)}l=!1}l&&(r=a[0])}}return a=on(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cy,lastRenderedState:r},a.queue=l,a=Dy.bind(null,Oe,l),l.dispatch=a,l=Qf(!1),d=ed.bind(null,Oe,!1,l.queue),l=on(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=iw.bind(null,Oe,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function fy(t){var r=Tt();return dy(r,Ze,t)}function dy(t,r,a){if(r=Kf(t,r,cy)[0],t=Wu(Bi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=nl(r)}catch(_){throw _===Xo?Yu:_}else l=r;r=Tt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Oe.flags|=2048,Ca(9,ec(),rw.bind(null,h,a),null)),[l,d,t]}function rw(t,r){t.action=r}function my(t){var r=Tt(),a=Ze;if(a!==null)return dy(r,a,t);Tt(),r=r.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ca(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=Ff(),Oe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function ec(){return{destroy:void 0,resource:void 0}}function py(){return Tt().memoizedState}function tc(t,r,a,l){var h=on();l=l===void 0?null:l,Oe.flags|=t,h.memoizedState=Ca(1|r,ec(),a,l)}function il(t,r,a,l){var h=Tt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&zf(l,Ze.memoizedState.deps)?h.memoizedState=Ca(r,d,a,l):(Oe.flags|=t,h.memoizedState=Ca(1|r,d,a,l))}function gy(t,r){tc(8390656,8,t,r)}function yy(t,r){il(2048,8,t,r)}function vy(t,r){return il(4,2,t,r)}function _y(t,r){return il(4,4,t,r)}function Ey(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Ty(t,r,a){a=a!=null?a.concat([t]):null,il(4,4,Ey.bind(null,r,t),a)}function Xf(){}function Ay(t,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&zf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Sy(t,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&zf(r,l[1]))return l[0];if(l=t(),Os){dn(!0);try{t()}finally{dn(!1)}}return a.memoizedState=[l,r],l}function Jf(t,r,a){return a===void 0||(vr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=Rv(),Oe.lanes|=t,br|=t,a)}function wy(t,r,a,l){return pn(a,r)?a:ba.current!==null?(t=Jf(t,a,l),pn(t,r)||(Vt=!0),t):(vr&42)===0?(Vt=!0,t.memoizedState=a):(t=Rv(),Oe.lanes|=t,br|=t,r)}function by(t,r,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=Q.T,T={};Q.T=T,ed(t,!1,r,a);try{var D=h(),F=Q.S;if(F!==null&&F(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=ew(D,l);rl(t,r,J,En(t))}else rl(t,r,l,En(t))}catch(W){rl(t,r,{then:function(){},status:"rejected",reason:W},En())}finally{se.p=d,Q.T=_}}function sw(){}function Zf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=Ry(t).queue;by(t,h,r,he,a===null?sw:function(){return Iy(t),a(l)})}function Ry(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:he},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Iy(t){var r=Ry(t).next.queue;rl(t,r,{},En())}function Wf(){return Qt(Al)}function Cy(){return Tt().memoizedState}function Ny(){return Tt().memoizedState}function aw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=En();t=gr(a);var l=yr(r,t,a);l!==null&&(Tn(l,r,a),Zo(l,r,a)),r={cache:Nf()},t.payload=r;return}r=r.return}}function ow(t,r,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},nc(t)?Oy(r,a):(a=_f(t,r,a,l),a!==null&&(Tn(a,t,l),xy(a,r,l)))}function Dy(t,r,a){var l=En();rl(t,r,a,l)}function rl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(nc(t))Oy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,pn(T,_))return zu(t,r,h,0),nt===null&&Uu(),!1}catch{}finally{}if(a=_f(t,r,h,l),a!==null)return Tn(a,t,l),xy(a,r,l),!0}return!1}function ed(t,r,a,l){if(l={lane:2,revertLane:xd(),action:l,hasEagerState:!1,eagerState:null,next:null},nc(t)){if(r)throw Error(s(479))}else r=_f(t,a,l,2),r!==null&&Tn(r,t,2)}function nc(t){var r=t.alternate;return t===Oe||r!==null&&r===Oe}function Oy(t,r){Ra=Xu=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function xy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Ro(t,a)}}var ic={readContext:Qt,use:Zu,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},My={readContext:Qt,use:Zu,useCallback:function(t,r){return on().memoizedState=[t,r===void 0?null:r],t},useContext:Qt,useEffect:gy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,tc(4194308,4,Ey.bind(null,r,t),a)},useLayoutEffect:function(t,r){return tc(4194308,4,t,r)},useInsertionEffect:function(t,r){tc(4,2,t,r)},useMemo:function(t,r){var a=on();r=r===void 0?null:r;var l=t();if(Os){dn(!0);try{t()}finally{dn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=on();if(a!==void 0){var h=a(r);if(Os){dn(!0);try{a(r)}finally{dn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=ow.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var r=on();return t={current:t},r.memoizedState=t},useState:function(t){t=Qf(t);var r=t.queue,a=Dy.bind(null,Oe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Xf,useDeferredValue:function(t,r){var a=on();return Jf(a,t,r)},useTransition:function(){var t=Qf(!1);return t=by.bind(null,Oe,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Oe,h=on();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(Be&124)!==0||ey(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,gy(ny.bind(null,l,d,t),[t]),l.flags|=2048,Ca(9,ec(),ty.bind(null,l,d,a,r),null),a},useId:function(){var t=on(),r=nt.identifierPrefix;if(Fe){var a=Ui,l=Li;a=(l&~(1<<32-Yt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=Ju++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=tw++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:Wf,useFormState:hy,useActionState:hy,useOptimistic:function(t){var r=on();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ed.bind(null,Oe,!0,a),a.dispatch=r,[t,r]},useMemoCache:Gf,useCacheRefresh:function(){return on().memoizedState=aw.bind(null,Oe)}},Vy={readContext:Qt,use:Zu,useCallback:Ay,useContext:Qt,useEffect:yy,useImperativeHandle:Ty,useInsertionEffect:vy,useLayoutEffect:_y,useMemo:Sy,useReducer:Wu,useRef:py,useState:function(){return Wu(Bi)},useDebugValue:Xf,useDeferredValue:function(t,r){var a=Tt();return wy(a,Ze.memoizedState,t,r)},useTransition:function(){var t=Wu(Bi)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:nl(t),r]},useSyncExternalStore:Wg,useId:Cy,useHostTransitionStatus:Wf,useFormState:fy,useActionState:fy,useOptimistic:function(t,r){var a=Tt();return sy(a,Ze,t,r)},useMemoCache:Gf,useCacheRefresh:Ny},lw={readContext:Qt,use:Zu,useCallback:Ay,useContext:Qt,useEffect:yy,useImperativeHandle:Ty,useInsertionEffect:vy,useLayoutEffect:_y,useMemo:Sy,useReducer:Yf,useRef:py,useState:function(){return Yf(Bi)},useDebugValue:Xf,useDeferredValue:function(t,r){var a=Tt();return Ze===null?Jf(a,t,r):wy(a,Ze.memoizedState,t,r)},useTransition:function(){var t=Yf(Bi)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:nl(t),r]},useSyncExternalStore:Wg,useId:Cy,useHostTransitionStatus:Wf,useFormState:my,useActionState:my,useOptimistic:function(t,r){var a=Tt();return Ze!==null?sy(a,Ze,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Gf,useCacheRefresh:Ny},Na=null,sl=0;function rc(t){var r=sl;return sl+=1,Na===null&&(Na=[]),Gg(Na,t,r)}function al(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function sc(t,r){throw r.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function ky(t){var r=t._init;return r(t._payload)}function Py(t){function r(z,L){if(t){var H=z.deletions;H===null?(z.deletions=[L],z.flags|=16):H.push(L)}}function a(z,L){if(!t)return null;for(;L!==null;)r(z,L),L=L.sibling;return null}function l(z){for(var L=new Map;z!==null;)z.key!==null?L.set(z.key,z):L.set(z.index,z),z=z.sibling;return L}function h(z,L){return z=Pi(z,L),z.index=0,z.sibling=null,z}function d(z,L,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<L?(z.flags|=67108866,L):H):(z.flags|=67108866,L)):(z.flags|=1048576,L)}function _(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,L,H,Z){return L===null||L.tag!==6?(L=Tf(H,z.mode,Z),L.return=z,L):(L=h(L,H),L.return=z,L)}function D(z,L,H,Z){var me=H.type;return me===V?J(z,L,H.props.children,Z,H.key):L!==null&&(L.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===b&&ky(me)===L.type)?(L=h(L,H.props),al(L,H),L.return=z,L):(L=Bu(H.type,H.key,H.props,null,z.mode,Z),al(L,H),L.return=z,L)}function F(z,L,H,Z){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=Af(H,z.mode,Z),L.return=z,L):(L=h(L,H.children||[]),L.return=z,L)}function J(z,L,H,Z,me){return L===null||L.tag!==7?(L=Ss(H,z.mode,Z,me),L.return=z,L):(L=h(L,H),L.return=z,L)}function W(z,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Tf(""+L,z.mode,H),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return H=Bu(L.type,L.key,L.props,null,z.mode,H),al(H,L),H.return=z,H;case P:return L=Af(L,z.mode,H),L.return=z,L;case b:var Z=L._init;return L=Z(L._payload),W(z,L,H)}if(pe(L)||k(L))return L=Ss(L,z.mode,H,null),L.return=z,L;if(typeof L.then=="function")return W(z,rc(L),H);if(L.$$typeof===ie)return W(z,Gu(z,L),H);sc(z,L)}return null}function K(z,L,H,Z){var me=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return me!==null?null:T(z,L,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return H.key===me?D(z,L,H,Z):null;case P:return H.key===me?F(z,L,H,Z):null;case b:return me=H._init,H=me(H._payload),K(z,L,H,Z)}if(pe(H)||k(H))return me!==null?null:J(z,L,H,Z,null);if(typeof H.then=="function")return K(z,L,rc(H),Z);if(H.$$typeof===ie)return K(z,L,Gu(z,H),Z);sc(z,H)}return null}function Y(z,L,H,Z,me){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(H)||null,T(L,z,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return z=z.get(Z.key===null?H:Z.key)||null,D(L,z,Z,me);case P:return z=z.get(Z.key===null?H:Z.key)||null,F(L,z,Z,me);case b:var Me=Z._init;return Z=Me(Z._payload),Y(z,L,H,Z,me)}if(pe(Z)||k(Z))return z=z.get(H)||null,J(L,z,Z,me,null);if(typeof Z.then=="function")return Y(z,L,H,rc(Z),me);if(Z.$$typeof===ie)return Y(z,L,H,Gu(L,Z),me);sc(L,Z)}return null}function we(z,L,H,Z){for(var me=null,Me=null,ge=L,Te=L=0,Pt=null;ge!==null&&Te<H.length;Te++){ge.index>Te?(Pt=ge,ge=null):Pt=ge.sibling;var He=K(z,ge,H[Te],Z);if(He===null){ge===null&&(ge=Pt);break}t&&ge&&He.alternate===null&&r(z,ge),L=d(He,L,Te),Me===null?me=He:Me.sibling=He,Me=He,ge=Pt}if(Te===H.length)return a(z,ge),Fe&&bs(z,Te),me;if(ge===null){for(;Te<H.length;Te++)ge=W(z,H[Te],Z),ge!==null&&(L=d(ge,L,Te),Me===null?me=ge:Me.sibling=ge,Me=ge);return Fe&&bs(z,Te),me}for(ge=l(ge);Te<H.length;Te++)Pt=Y(ge,z,Te,H[Te],Z),Pt!==null&&(t&&Pt.alternate!==null&&ge.delete(Pt.key===null?Te:Pt.key),L=d(Pt,L,Te),Me===null?me=Pt:Me.sibling=Pt,Me=Pt);return t&&ge.forEach(function(Vr){return r(z,Vr)}),Fe&&bs(z,Te),me}function Ee(z,L,H,Z){if(H==null)throw Error(s(151));for(var me=null,Me=null,ge=L,Te=L=0,Pt=null,He=H.next();ge!==null&&!He.done;Te++,He=H.next()){ge.index>Te?(Pt=ge,ge=null):Pt=ge.sibling;var Vr=K(z,ge,He.value,Z);if(Vr===null){ge===null&&(ge=Pt);break}t&&ge&&Vr.alternate===null&&r(z,ge),L=d(Vr,L,Te),Me===null?me=Vr:Me.sibling=Vr,Me=Vr,ge=Pt}if(He.done)return a(z,ge),Fe&&bs(z,Te),me;if(ge===null){for(;!He.done;Te++,He=H.next())He=W(z,He.value,Z),He!==null&&(L=d(He,L,Te),Me===null?me=He:Me.sibling=He,Me=He);return Fe&&bs(z,Te),me}for(ge=l(ge);!He.done;Te++,He=H.next())He=Y(ge,z,Te,He.value,Z),He!==null&&(t&&He.alternate!==null&&ge.delete(He.key===null?Te:He.key),L=d(He,L,Te),Me===null?me=He:Me.sibling=He,Me=He);return t&&ge.forEach(function(ub){return r(z,ub)}),Fe&&bs(z,Te),me}function et(z,L,H,Z){if(typeof H=="object"&&H!==null&&H.type===V&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case S:e:{for(var me=H.key;L!==null;){if(L.key===me){if(me=H.type,me===V){if(L.tag===7){a(z,L.sibling),Z=h(L,H.props.children),Z.return=z,z=Z;break e}}else if(L.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===b&&ky(me)===L.type){a(z,L.sibling),Z=h(L,H.props),al(Z,H),Z.return=z,z=Z;break e}a(z,L);break}else r(z,L);L=L.sibling}H.type===V?(Z=Ss(H.props.children,z.mode,Z,H.key),Z.return=z,z=Z):(Z=Bu(H.type,H.key,H.props,null,z.mode,Z),al(Z,H),Z.return=z,z=Z)}return _(z);case P:e:{for(me=H.key;L!==null;){if(L.key===me)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){a(z,L.sibling),Z=h(L,H.children||[]),Z.return=z,z=Z;break e}else{a(z,L);break}else r(z,L);L=L.sibling}Z=Af(H,z.mode,Z),Z.return=z,z=Z}return _(z);case b:return me=H._init,H=me(H._payload),et(z,L,H,Z)}if(pe(H))return we(z,L,H,Z);if(k(H)){if(me=k(H),typeof me!="function")throw Error(s(150));return H=me.call(H),Ee(z,L,H,Z)}if(typeof H.then=="function")return et(z,L,rc(H),Z);if(H.$$typeof===ie)return et(z,L,Gu(z,H),Z);sc(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(a(z,L.sibling),Z=h(L,H),Z.return=z,z=Z):(a(z,L),Z=Tf(H,z.mode,Z),Z.return=z,z=Z),_(z)):a(z,L)}return function(z,L,H,Z){try{sl=0;var me=et(z,L,H,Z);return Na=null,me}catch(ge){if(ge===Xo||ge===Yu)throw ge;var Me=gn(29,ge,null,z.mode);return Me.lanes=Z,Me.return=z,Me}finally{}}}var Da=Py(!0),Ly=Py(!1),Vn=ne(null),hi=null;function _r(t){var r=t.alternate;re(Nt,Nt.current&1),re(Vn,t),hi===null&&(r===null||ba.current!==null||r.memoizedState!==null)&&(hi=t)}function Uy(t){if(t.tag===22){if(re(Nt,Nt.current),re(Vn,t),hi===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(hi=t)}}else Er()}function Er(){re(Nt,Nt.current),re(Vn,Vn.current)}function qi(t){le(Vn),hi===t&&(hi=null),le(Nt)}var Nt=ne(0);function ac(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Fd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function td(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var nd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=En(),h=gr(l);h.payload=r,a!=null&&(h.callback=a),r=yr(t,h,l),r!==null&&(Tn(r,t,l),Zo(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=En(),h=gr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=yr(t,h,l),r!==null&&(Tn(r,t,l),Zo(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=En(),l=gr(a);l.tag=2,r!=null&&(l.callback=r),r=yr(t,l,a),r!==null&&(Tn(r,t,a),Zo(r,t,a))}};function zy(t,r,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!qo(a,l)||!qo(h,d):!0}function jy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&nd.enqueueReplaceState(r,r.state,null)}function xs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var oc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function By(t){oc(t)}function qy(t){console.error(t)}function Hy(t){oc(t)}function lc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Fy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function id(t,r,a){return a=gr(a),a.tag=3,a.payload={element:null},a.callback=function(){lc(t,r)},a}function Gy(t){return t=gr(t),t.tag=3,t}function Ky(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Fy(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Fy(r,a,l),typeof h!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function uw(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Yo(r,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 13:return hi===null?Id():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===xf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Nd(t,l,h)),!1;case 22:return a.flags|=65536,l===xf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Nd(t,l,h)),!1}throw Error(s(435,a.tag))}return Nd(t,l,h),Id(),!1}if(Fe)return r=Vn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==bf&&(t=Error(s(422),{cause:l}),Ko(Dn(t,a)))):(l!==bf&&(r=Error(s(423),{cause:l}),Ko(Dn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Dn(l,a),h=id(t.stateNode,l,h),kf(t,h),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),dl===null?dl=[d]:dl.push(d),dt!==4&&(dt=2),r===null)return!0;l=Dn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=id(a.stateNode,l,t),kf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Rr===null||!Rr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Gy(h),Ky(h,t,a,l),kf(a,h),!1}a=a.return}while(a!==null);return!1}var Yy=Error(s(461)),Vt=!1;function jt(t,r,a,l){r.child=t===null?Ly(r,null,a,l):Da(r,t.child,a,l)}function Qy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ns(r),l=jf(t,r,a,_,d,h),T=Bf(),t!==null&&!Vt?(qf(t,r,h),Hi(t,r,h)):(Fe&&T&&Sf(r),r.flags|=1,jt(t,r,l,h),r.child)}function $y(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Ef(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Xy(t,r,d,l,h)):(t=Bu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!hd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:qo,a(_,l)&&t.ref===r.ref)return Hi(t,r,h)}return r.flags|=1,t=Pi(d,l),t.ref=r.ref,t.return=r,r.child=t}function Xy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(qo(d,l)&&t.ref===r.ref)if(Vt=!1,r.pendingProps=l=d,hd(t,h))(t.flags&131072)!==0&&(Vt=!0);else return r.lanes=t.lanes,Hi(t,r,h)}return rd(t,r,a,l,h)}function Jy(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Zy(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ku(r,d!==null?d.cachePool:null),d!==null?Xg(r,d):Lf(),Uy(r);else return r.lanes=r.childLanes=536870912,Zy(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ku(r,d.cachePool),Xg(r,d),Er(),r.memoizedState=null):(t!==null&&Ku(r,null),Lf(),Er());return jt(t,r,h,a),r.child}function Zy(t,r,a,l){var h=Of();return h=h===null?null:{parent:Ct._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&Ku(r,null),Lf(),Uy(r),t!==null&&Yo(t,r,l,!0),null}function uc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function rd(t,r,a,l,h){return Ns(r),a=jf(t,r,a,l,void 0,h),l=Bf(),t!==null&&!Vt?(qf(t,r,h),Hi(t,r,h)):(Fe&&l&&Sf(r),r.flags|=1,jt(t,r,a,h),r.child)}function Wy(t,r,a,l,h,d){return Ns(r),r.updateQueue=null,a=Zg(r,l,a,h),Jg(t),l=Bf(),t!==null&&!Vt?(qf(t,r,d),Hi(t,r,d)):(Fe&&l&&Sf(r),r.flags|=1,jt(t,r,a,d),r.child)}function ev(t,r,a,l,h){if(Ns(r),r.stateNode===null){var d=Ea,_=a.contextType;typeof _=="object"&&_!==null&&(d=Qt(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Mf(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Qt(_):Ea,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(td(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&nd.enqueueReplaceState(d,d.state,null),el(r,l,d,h),Wo(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,D=xs(a,T);d.props=D;var F=d.context,J=a.contextType;_=Ea,typeof J=="object"&&J!==null&&(_=Qt(J));var W=a.getDerivedStateFromProps;J=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||F!==_)&&jy(r,d,l,_),pr=!1;var K=r.memoizedState;d.state=K,el(r,l,d,h),Wo(),F=r.memoizedState,T||K!==F||pr?(typeof W=="function"&&(td(r,a,W,l),F=r.memoizedState),(D=pr||zy(r,a,D,l,K,F,_))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Vf(t,r),_=r.memoizedProps,J=xs(a,_),d.props=J,W=r.pendingProps,K=d.context,F=a.contextType,D=Ea,typeof F=="object"&&F!==null&&(D=Qt(F)),T=a.getDerivedStateFromProps,(F=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||K!==D)&&jy(r,d,l,D),pr=!1,K=r.memoizedState,d.state=K,el(r,l,d,h),Wo();var Y=r.memoizedState;_!==W||K!==Y||pr||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof T=="function"&&(td(r,a,T,l),Y=r.memoizedState),(J=pr||zy(r,a,J,l,K,Y,D)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,D)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),d.props=l,d.state=Y,d.context=D,l=J):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,uc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Da(r,t.child,null,h),r.child=Da(r,null,a,h)):jt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Hi(t,r,h),t}function tv(t,r,a,l){return Go(),r.flags|=256,jt(t,r,a,l),r.child}var sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ad(t){return{baseLanes:t,cachePool:qg()}}function od(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=kn),t}function nv(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Nt.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Fe){if(h?_r(r):Er(),Fe){var T=ft,D;if(D=T){e:{for(D=T,T=ci;D.nodeType!==8;){if(!T){T=null;break e}if(D=Fn(D.nextSibling),D===null){T=null;break e}}T=D}T!==null?(r.memoizedState={dehydrated:T,treeContext:ws!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},D=gn(18,null,null,0),D.stateNode=T,D.return=r,r.child=D,sn=r,ft=null,D=!0):D=!1}D||Is(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Fd(T)?r.lanes=32:r.lanes=536870912,null;qi(r)}return T=l.children,l=l.fallback,h?(Er(),h=r.mode,T=cc({mode:"hidden",children:T},h),l=Ss(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=ad(a),h.childLanes=od(t,_,a),r.memoizedState=sd,l):(_r(r),ld(r,T))}if(D=t.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(d)r.flags&256?(_r(r),r.flags&=-257,r=ud(t,r,a)):r.memoizedState!==null?(Er(),r.child=t.child,r.flags|=128,r=null):(Er(),h=l.fallback,T=r.mode,l=cc({mode:"visible",children:l.children},T),h=Ss(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Da(r,t.child,null,a),l=r.child,l.memoizedState=ad(a),l.childLanes=od(t,_,a),r.memoizedState=sd,r=h);else if(_r(r),Fd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,Ko({value:l,source:null,stack:null}),r=ud(t,r,a)}else if(Vt||Yo(t,r,a,!1),_=(a&t.childLanes)!==0,Vt||_){if(_=nt,_!==null&&(l=a&-a,l=(l&42)!==0?1:or(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,_a(t,l),Tn(_,t,l),Yy;T.data==="$?"||Id(),r=ud(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=D.treeContext,ft=Fn(T.nextSibling),sn=r,Fe=!0,Rs=null,ci=!1,t!==null&&(xn[Mn++]=Li,xn[Mn++]=Ui,xn[Mn++]=ws,Li=t.id,Ui=t.overflow,ws=r),r=ld(r,l.children),r.flags|=4096);return r}return h?(Er(),h=l.fallback,T=r.mode,D=t.child,F=D.sibling,l=Pi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,F!==null?h=Pi(F,h):(h=Ss(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=ad(a):(D=T.cachePool,D!==null?(F=Ct._currentValue,D=D.parent!==F?{parent:F,pool:F}:D):D=qg(),T={baseLanes:T.baseLanes|a,cachePool:D}),h.memoizedState=T,h.childLanes=od(t,_,a),r.memoizedState=sd,l):(_r(r),a=t.child,t=a.sibling,a=Pi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function ld(t,r){return r=cc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function cc(t,r){return t=gn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ud(t,r,a){return Da(r,t.child,null,a),t=ld(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function iv(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),If(t.return,r,a)}function cd(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function rv(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(jt(t,r,l.children,a),l=Nt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iv(t,a,r);else if(t.tag===19)iv(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(re(Nt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&ac(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),cd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&ac(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}cd(r,!0,a,null,d);break;case"together":cd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Hi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),br|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Yo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Pi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Pi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function hd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function cw(t,r,a){switch(r.tag){case 3:ce(r,r.stateNode.containerInfo),mr(r,Ct,t.memoizedState.cache),Go();break;case 27:case 5:ct(r);break;case 4:ce(r,r.stateNode.containerInfo);break;case 10:mr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(_r(r),r.flags|=128,null):(a&r.child.childLanes)!==0?nv(t,r,a):(_r(r),t=Hi(t,r,a),t!==null?t.sibling:null);_r(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Yo(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return rv(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Nt,Nt.current),l)break;return null;case 22:case 23:return r.lanes=0,Jy(t,r,a);case 24:mr(r,Ct,t.memoizedState.cache)}return Hi(t,r,a)}function sv(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Vt=!0;else{if(!hd(t,a)&&(r.flags&128)===0)return Vt=!1,cw(t,r,a);Vt=(t.flags&131072)!==0}else Vt=!1,Fe&&(r.flags&1048576)!==0&&kg(r,Hu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Ef(l)?(t=xs(l,t),r.tag=1,r=ev(null,r,l,t,a)):(r.tag=0,r=rd(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===oe){r.tag=11,r=Qy(null,r,l,t,a);break e}else if(h===x){r.tag=14,r=$y(null,r,l,t,a);break e}}throw r=Ve(l)||l,Error(s(306,r,""))}}return r;case 0:return rd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=xs(l,r.pendingProps),ev(t,r,l,h,a);case 3:e:{if(ce(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Vf(t,r),el(r,l,null,a);var _=r.memoizedState;if(l=_.cache,mr(r,Ct,l),l!==d.cache&&Cf(r,[Ct],a,!0),Wo(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=tv(t,r,l,a);break e}else if(l!==h){h=Dn(Error(s(424)),r),Ko(h),r=tv(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ft=Fn(t.firstChild),sn=r,Fe=!0,Rs=null,ci=!0,a=Ly(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Go(),l===h){r=Hi(t,r,a);break e}jt(t,r,l,a)}r=r.child}return r;case 26:return uc(t,r),t===null?(a=u_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Fe||(a=r.type,t=r.pendingProps,l=wc(Se.current).createElement(a),l[bt]=r,l[vt]=t,qt(l,a,t),mt(l),r.stateNode=l):r.memoizedState=u_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ct(r),t===null&&Fe&&(l=r.stateNode=a_(r.type,r.pendingProps,Se.current),sn=r,ci=!0,h=ft,Nr(r.type)?(Gd=h,ft=Fn(l.firstChild)):ft=h),jt(t,r,r.pendingProps.children,a),uc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Fe&&((h=l=ft)&&(l=Uw(l,r.type,r.pendingProps,ci),l!==null?(r.stateNode=l,sn=r,ft=Fn(l.firstChild),ci=!1,h=!0):h=!1),h||Is(r)),ct(r),h=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Bd(h,d)?l=null:_!==null&&Bd(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=jf(t,r,nw,null,null,a),Al._currentValue=h),uc(t,r),jt(t,r,l,a),r.child;case 6:return t===null&&Fe&&((t=a=ft)&&(a=zw(a,r.pendingProps,ci),a!==null?(r.stateNode=a,sn=r,ft=null,t=!0):t=!1),t||Is(r)),null;case 13:return nv(t,r,a);case 4:return ce(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Da(r,null,l,a):jt(t,r,l,a),r.child;case 11:return Qy(t,r,r.type,r.pendingProps,a);case 7:return jt(t,r,r.pendingProps,a),r.child;case 8:return jt(t,r,r.pendingProps.children,a),r.child;case 12:return jt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,mr(r,r.type,l.value),jt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ns(r),h=Qt(h),l=l(h),r.flags|=1,jt(t,r,l,a),r.child;case 14:return $y(t,r,r.type,r.pendingProps,a);case 15:return Xy(t,r,r.type,r.pendingProps,a);case 19:return rv(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=cc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Pi(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Jy(t,r,a);case 24:return Ns(r),l=Qt(Ct),t===null?(h=Of(),h===null&&(h=nt,d=Nf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Mf(r),mr(r,Ct,h)):((t.lanes&a)!==0&&(Vf(t,r),el(r,null,null,a),Wo()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),mr(r,Ct,l)):(l=d.cache,mr(r,Ct,l),l!==h.cache&&Cf(r,[Ct],a,!0))),jt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Fi(t){t.flags|=4}function av(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!m_(r)){if(r=Vn.current,r!==null&&((Be&4194048)===Be?hi!==null:(Be&62914560)!==Be&&(Be&536870912)===0||r!==hi))throw Jo=xf,Hg;t.flags|=8192}}function hc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?wo():536870912,t.lanes|=r,Va|=r)}function ol(t,r){if(!Fe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function hw(t,r,a){var l=r.pendingProps;switch(wf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ji(Ct),Xe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Fo(r)?Fi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ug())),ot(r),null;case 26:return a=r.memoizedState,t===null?(Fi(r),a!==null?(ot(r),av(r,a)):(ot(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Fi(r),ot(r),av(r,a)):(ot(r),r.flags&=-16777217):(t.memoizedProps!==l&&Fi(r),ot(r),r.flags&=-16777217),null;case 27:an(r),a=Se.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Fi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}t=ye.current,Fo(r)?Pg(r):(t=a_(h,l,a),r.stateNode=t,Fi(r))}return ot(r),null;case 5:if(an(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Fi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(t=ye.current,Fo(r))Pg(r);else{switch(h=wc(Se.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[bt]=r,t[vt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Fi(r)}}return ot(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Fi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Se.current,Fo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=sn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Wv(t.nodeValue,a)),t||Is(r)}else t=wc(t).createTextNode(l),t[bt]=r,r.stateNode=t}return ot(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Fo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[bt]=r}else Go(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),h=!1}else h=Ug(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(qi(r),r):(qi(r),null)}if(qi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),hc(r,r.updateQueue),ot(r),null;case 4:return Xe(),t===null&&Pd(r.stateNode.containerInfo),ot(r),null;case 10:return ji(r.type),ot(r),null;case 19:if(le(Nt),h=r.memoizedState,h===null)return ot(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)ol(h,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=ac(t),d!==null){for(r.flags|=128,ol(h,!1),t=d.updateQueue,r.updateQueue=t,hc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Vg(a,t),a=a.sibling;return re(Nt,Nt.current&1|2),r.child}t=t.sibling}h.tail!==null&&wn()>mc&&(r.flags|=128,l=!0,ol(h,!1),r.lanes=4194304)}else{if(!l)if(t=ac(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,hc(r,t),ol(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Fe)return ot(r),null}else 2*wn()-h.renderingStartTime>mc&&a!==536870912&&(r.flags|=128,l=!0,ol(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=wn(),r.sibling=null,t=Nt.current,re(Nt,l?t&1|2:t&1),r):(ot(r),null);case 22:case 23:return qi(r),Uf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),a=r.updateQueue,a!==null&&hc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&le(Ds),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ji(Ct),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function fw(t,r){switch(wf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ji(Ct),Xe(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return an(r),null;case 13:if(qi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Go()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return le(Nt),null;case 4:return Xe(),null;case 10:return ji(r.type),null;case 22:case 23:return qi(r),Uf(),t!==null&&le(Ds),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ji(Ct),null;case 25:return null;default:return null}}function ov(t,r){switch(wf(r),r.tag){case 3:ji(Ct),Xe();break;case 26:case 27:case 5:an(r);break;case 4:Xe();break;case 13:qi(r);break;case 19:le(Nt);break;case 10:ji(r.type);break;case 22:case 23:qi(r),Uf(),t!==null&&le(Ds);break;case 24:ji(Ct)}}function ll(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){tt(r,r.return,T)}}function Tr(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=r;var D=a,F=T;try{F()}catch(J){tt(h,D,J)}}}l=l.next}while(l!==d)}}catch(J){tt(r,r.return,J)}}function lv(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{$g(r,a)}catch(l){tt(t,t.return,l)}}}function uv(t,r,a){a.props=xs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){tt(t,r,l)}}function ul(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){tt(t,r,h)}}function fi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){tt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){tt(t,r,h)}else a.current=null}function cv(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){tt(t,t.return,h)}}function fd(t,r,a){try{var l=t.stateNode;Mw(l,t.type,a,r),l[vt]=r}catch(h){tt(t,t.return,h)}}function hv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Nr(t.type)||t.tag===4}function dd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Nr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function md(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Sc));else if(l!==4&&(l===27&&Nr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(md(t,r,a),t=t.sibling;t!==null;)md(t,r,a),t=t.sibling}function fc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Nr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(fc(t,r,a),t=t.sibling;t!==null;)fc(t,r,a),t=t.sibling}function fv(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);qt(r,l,a),r[bt]=t,r[vt]=a}catch(d){tt(t,t.return,d)}}var Gi=!1,gt=!1,pd=!1,dv=typeof WeakSet=="function"?WeakSet:Set,kt=null;function dw(t,r){if(t=t.containerInfo,zd=Dc,t=wg(t),df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,D=-1,F=0,J=0,W=t,K=null;t:for(;;){for(var Y;W!==a||h!==0&&W.nodeType!==3||(T=_+h),W!==d||l!==0&&W.nodeType!==3||(D=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(Y=W.firstChild)!==null;)K=W,W=Y;for(;;){if(W===t)break t;if(K===a&&++F===h&&(T=_),K===d&&++J===l&&(D=_),(Y=W.nextSibling)!==null)break;W=K,K=W.parentNode}W=Y}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(jd={focusedElem:t,selectionRange:a},Dc=!1,kt=r;kt!==null;)if(r=kt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,kt=t;else for(;kt!==null;){switch(r=kt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var we=xs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){tt(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Hd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,kt=t;break}kt=r.return}}function mv(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ar(t,a),l&4&&ll(5,a);break;case 1:if(Ar(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){tt(a,a.return,_)}else{var h=xs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){tt(a,a.return,_)}}l&64&&lv(a),l&512&&ul(a,a.return);break;case 3:if(Ar(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{$g(t,r)}catch(_){tt(a,a.return,_)}}break;case 27:r===null&&l&4&&fv(a);case 26:case 5:Ar(t,a),r===null&&l&4&&cv(a),l&512&&ul(a,a.return);break;case 12:Ar(t,a);break;case 13:Ar(t,a),l&4&&yv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Aw.bind(null,a),jw(t,a))));break;case 22:if(l=a.memoizedState!==null||Gi,!l){r=r!==null&&r.memoizedState!==null||gt,h=Gi;var d=gt;Gi=l,(gt=r)&&!d?Sr(t,a,(a.subtreeFlags&8772)!==0):Ar(t,a),Gi=h,gt=d}break;case 30:break;default:Ar(t,a)}}function pv(t){var r=t.alternate;r!==null&&(t.alternate=null,pv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&cr(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,ln=!1;function Ki(t,r,a){for(a=a.child;a!==null;)gv(t,r,a),a=a.sibling}function gv(t,r,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(ht,a)}catch{}switch(a.tag){case 26:gt||fi(a,r),Ki(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gt||fi(a,r);var l=st,h=ln;Nr(a.type)&&(st=a.stateNode,ln=!1),Ki(t,r,a),vl(a.stateNode),st=l,ln=h;break;case 5:gt||fi(a,r);case 6:if(l=st,h=ln,st=null,Ki(t,r,a),st=l,ln=h,st!==null)if(ln)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(d){tt(a,r,d)}else try{st.removeChild(a.stateNode)}catch(d){tt(a,r,d)}break;case 18:st!==null&&(ln?(t=st,r_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Rl(t)):r_(st,a.stateNode));break;case 4:l=st,h=ln,st=a.stateNode.containerInfo,ln=!0,Ki(t,r,a),st=l,ln=h;break;case 0:case 11:case 14:case 15:gt||Tr(2,a,r),gt||Tr(4,a,r),Ki(t,r,a);break;case 1:gt||(fi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&uv(a,r,l)),Ki(t,r,a);break;case 21:Ki(t,r,a);break;case 22:gt=(l=gt)||a.memoizedState!==null,Ki(t,r,a),gt=l;break;default:Ki(t,r,a)}}function yv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Rl(t)}catch(a){tt(r,r.return,a)}}function mw(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new dv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new dv),r;default:throw Error(s(435,t.tag))}}function gd(t,r){var a=mw(t);r.forEach(function(l){var h=Sw.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function yn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Nr(T.type)){st=T.stateNode,ln=!1;break e}break;case 5:st=T.stateNode,ln=!1;break e;case 3:case 4:st=T.stateNode.containerInfo,ln=!0;break e}T=T.return}if(st===null)throw Error(s(160));gv(d,_,h),st=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)vv(r,t),r=r.sibling}var Hn=null;function vv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(r,t),vn(t),l&4&&(Tr(3,t,t.return),ll(3,t),Tr(5,t,t.return));break;case 1:yn(r,t),vn(t),l&512&&(gt||a===null||fi(a,a.return)),l&64&&Gi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Hn;if(yn(r,t),vn(t),l&512&&(gt||a===null||fi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[os]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,a),d[bt]=t,mt(d),l=d;break e;case"link":var _=f_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=f_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,mt(d),l=d}t.stateNode=l}else d_(h,t.type,t.stateNode);else t.stateNode=h_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?d_(h,t.type,t.stateNode):h_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&fd(t,t.memoizedProps,a.memoizedProps)}break;case 27:yn(r,t),vn(t),l&512&&(gt||a===null||fi(a,a.return)),a!==null&&l&4&&fd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(yn(r,t),vn(t),l&512&&(gt||a===null||fi(a,a.return)),t.flags&32){h=t.stateNode;try{Rn(h,"")}catch(Y){tt(t,t.return,Y)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,fd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(pd=!0);break;case 6:if(yn(r,t),vn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Y){tt(t,t.return,Y)}}break;case 3:if(Ic=null,h=Hn,Hn=bc(r.containerInfo),yn(r,t),Hn=h,vn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Rl(r.containerInfo)}catch(Y){tt(t,t.return,Y)}pd&&(pd=!1,_v(t));break;case 4:l=Hn,Hn=bc(t.stateNode.containerInfo),yn(r,t),vn(t),Hn=l;break;case 12:yn(r,t),vn(t);break;case 13:yn(r,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ad=wn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gd(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,F=Gi,J=gt;if(Gi=F||h,gt=J||D,yn(r,t),gt=J,Gi=F,vn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||D||Gi||gt||Ms(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var W=D.memoizedProps.style,K=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Y){tt(D,D.return,Y)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(Y){tt(D,D.return,Y)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gd(t,a))));break;case 19:yn(r,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gd(t,l)));break;case 30:break;case 21:break;default:yn(r,t),vn(t)}}function vn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(hv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=dd(t);fc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Rn(_,""),a.flags&=-33);var T=dd(t);fc(t,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,F=dd(t);md(t,F,D);break;default:throw Error(s(161))}}catch(J){tt(t,t.return,J)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function _v(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;_v(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ar(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)mv(t,r.alternate,r),r=r.sibling}function Ms(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Tr(4,r,r.return),Ms(r);break;case 1:fi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&uv(r,r.return,a),Ms(r);break;case 27:vl(r.stateNode);case 26:case 5:fi(r,r.return),Ms(r);break;case 22:r.memoizedState===null&&Ms(r);break;case 30:Ms(r);break;default:Ms(r)}t=t.sibling}}function Sr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:Sr(h,d,a),ll(4,d);break;case 1:if(Sr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){tt(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Qg(D[h],T)}catch(F){tt(l,l.return,F)}}a&&_&64&&lv(d),ul(d,d.return);break;case 27:fv(d);case 26:case 5:Sr(h,d,a),a&&l===null&&_&4&&cv(d),ul(d,d.return);break;case 12:Sr(h,d,a);break;case 13:Sr(h,d,a),a&&_&4&&yv(h,d);break;case 22:d.memoizedState===null&&Sr(h,d,a),ul(d,d.return);break;case 30:break;default:Sr(h,d,a)}r=r.sibling}}function yd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Qo(a))}function vd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Qo(t))}function di(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ev(t,r,a,l),r=r.sibling}function Ev(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:di(t,r,a,l),h&2048&&ll(9,r);break;case 1:di(t,r,a,l);break;case 3:di(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Qo(t)));break;case 12:if(h&2048){di(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){tt(r,r.return,D)}}else di(t,r,a,l);break;case 13:di(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?di(t,r,a,l):cl(t,r):d._visibility&2?di(t,r,a,l):(d._visibility|=2,Oa(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&yd(_,r);break;case 24:di(t,r,a,l),h&2048&&vd(r.alternate,r);break;default:di(t,r,a,l)}}function Oa(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,_=r,T=a,D=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:Oa(d,_,T,D,h),ll(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?Oa(d,_,T,D,h):cl(d,_):(J._visibility|=2,Oa(d,_,T,D,h)),h&&F&2048&&yd(_.alternate,_);break;case 24:Oa(d,_,T,D,h),h&&F&2048&&vd(_.alternate,_);break;default:Oa(d,_,T,D,h)}r=r.sibling}}function cl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:cl(a,l),h&2048&&yd(l.alternate,l);break;case 24:cl(a,l),h&2048&&vd(l.alternate,l);break;default:cl(a,l)}r=r.sibling}}var hl=8192;function xa(t){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)Tv(t),t=t.sibling}function Tv(t){switch(t.tag){case 26:xa(t),t.flags&hl&&t.memoizedState!==null&&Ww(Hn,t.memoizedState,t.memoizedProps);break;case 5:xa(t);break;case 3:case 4:var r=Hn;Hn=bc(t.stateNode.containerInfo),xa(t),Hn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=hl,hl=16777216,xa(t),hl=r):xa(t));break;default:xa(t)}}function Av(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function fl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,wv(l,t)}Av(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sv(t),t=t.sibling}function Sv(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&Tr(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,dc(t)):fl(t);break;default:fl(t)}}function dc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,wv(l,t)}Av(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Tr(8,r,r.return),dc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,dc(r));break;default:dc(r)}t=t.sibling}}function wv(t,r){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:Tr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Qo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,kt=l;else e:for(a=t;kt!==null;){l=kt;var h=l.sibling,d=l.return;if(pv(l),l===a){kt=null;break e}if(h!==null){h.return=d,kt=h;break e}kt=d}}}var pw={getCacheForType:function(t){var r=Qt(Ct),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},gw=typeof WeakMap=="function"?WeakMap:Map,Qe=0,nt=null,ke=null,Be=0,$e=0,_n=null,wr=!1,Ma=!1,_d=!1,Yi=0,dt=0,br=0,Vs=0,Ed=0,kn=0,Va=0,dl=null,un=null,Td=!1,Ad=0,mc=1/0,pc=null,Rr=null,Bt=0,Ir=null,ka=null,Pa=0,Sd=0,wd=null,bv=null,ml=0,bd=null;function En(){if((Qe&2)!==0&&Be!==0)return Be&-Be;if(Q.T!==null){var t=Sa;return t!==0?t:xd()}return lr()}function Rv(){kn===0&&(kn=(Be&536870912)===0||Fe?So():536870912);var t=Vn.current;return t!==null&&(t.flags|=32),kn}function Tn(t,r,a){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(La(t,0),Cr(t,Be,kn,!1)),bi(t,a),((Qe&2)===0||t!==nt)&&(t===nt&&((Qe&2)===0&&(Vs|=a),dt===4&&Cr(t,Be,kn,!1)),mi(t))}function Iv(t,r,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||as(t,r),h=l?_w(t,r):Cd(t,r,!0),d=l;do{if(h===0){Ma&&!l&&Cr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!yw(a)){h=Cd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var T=t;h=dl;var D=T.current.memoizedState.isDehydrated;if(D&&(La(T,_).flags|=256),_=Cd(T,_,!1),_!==2){if(_d&&!D){T.errorRecoveryDisabledLanes|=d,Vs|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){La(t,0),Cr(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Cr(l,r,kn,!wr);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Ad+300-wn(),10<h)){if(Cr(l,r,kn,!wr),ea(l,0,!0)!==0)break e;l.timeoutHandle=n_(Cv.bind(null,l,a,un,pc,Td,r,kn,Vs,Va,wr,d,2,-0,0),h);break e}Cv(l,a,un,pc,Td,r,kn,Vs,Va,wr,d,0,-0,0)}}break}while(!0);mi(t)}function Cv(t,r,a,l,h,d,_,T,D,F,J,W,K,Y){if(t.timeoutHandle=-1,W=r.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(Tl={stylesheets:null,count:0,unsuspend:Zw},Tv(r),W=eb(),W!==null)){t.cancelPendingCommit=W(kv.bind(null,t,r,d,a,l,h,_,T,D,J,1,K,Y)),Cr(t,d,_,!F);return}kv(t,r,d,a,l,h,_,T,D)}function yw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Cr(t,r,a,l){r&=~Ed,r&=~Vs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Yt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Wn(t,a,r)}function gc(){return(Qe&6)===0?(pl(0),!1):!0}function Rd(){if(ke!==null){if($e===0)var t=ke.return;else t=ke,zi=Cs=null,Hf(t),Na=null,sl=0,t=ke;for(;t!==null;)ov(t.alternate,t),t=t.return;ke=null}}function La(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,kw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Rd(),nt=t,ke=a=Pi(t.current,null),Be=r,$e=0,_n=null,wr=!1,Ma=as(t,r),_d=!1,Va=kn=Ed=Vs=br=dt=0,un=dl=null,Td=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Yt(l),d=1<<h;r|=t[h],l&=~d}return Yi=r,Uu(),a}function Nv(t,r){Oe=null,Q.H=ic,r===Xo||r===Yu?(r=Kg(),$e=3):r===Hg?(r=Kg(),$e=4):$e=r===Yy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,_n=r,ke===null&&(dt=1,lc(t,Dn(r,t.current)))}function Dv(){var t=Q.H;return Q.H=ic,t===null?ic:t}function Ov(){var t=Q.A;return Q.A=pw,t}function Id(){dt=4,wr||(Be&4194048)!==Be&&Vn.current!==null||(Ma=!0),(br&134217727)===0&&(Vs&134217727)===0||nt===null||Cr(nt,Be,kn,!1)}function Cd(t,r,a){var l=Qe;Qe|=2;var h=Dv(),d=Ov();(nt!==t||Be!==r)&&(pc=null,La(t,r)),r=!1;var _=dt;e:do try{if($e!==0&&ke!==null){var T=ke,D=_n;switch($e){case 8:Rd(),_=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(r=!0);var F=$e;if($e=0,_n=null,Ua(t,T,D,F),a&&Ma){_=0;break e}break;default:F=$e,$e=0,_n=null,Ua(t,T,D,F)}}vw(),_=dt;break}catch(J){Nv(t,J)}while(!0);return r&&t.shellSuspendCounter++,zi=Cs=null,Qe=l,Q.H=h,Q.A=d,ke===null&&(nt=null,Be=0,Uu()),_}function vw(){for(;ke!==null;)xv(ke)}function _w(t,r){var a=Qe;Qe|=2;var l=Dv(),h=Ov();nt!==t||Be!==r?(pc=null,mc=wn()+500,La(t,r)):Ma=as(t,r);e:do try{if($e!==0&&ke!==null){r=ke;var d=_n;t:switch($e){case 1:$e=0,_n=null,Ua(t,r,d,1);break;case 2:case 9:if(Fg(d)){$e=0,_n=null,Mv(r);break}r=function(){$e!==2&&$e!==9||nt!==t||($e=7),mi(t)},d.then(r,r);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Fg(d)?($e=0,_n=null,Mv(r)):($e=0,_n=null,Ua(t,r,d,7));break;case 5:var _=null;switch(ke.tag){case 26:_=ke.memoizedState;case 5:case 27:var T=ke;if(!_||m_(_)){$e=0,_n=null;var D=T.sibling;if(D!==null)ke=D;else{var F=T.return;F!==null?(ke=F,yc(F)):ke=null}break t}}$e=0,_n=null,Ua(t,r,d,5);break;case 6:$e=0,_n=null,Ua(t,r,d,6);break;case 8:Rd(),dt=6;break e;default:throw Error(s(462))}}Ew();break}catch(J){Nv(t,J)}while(!0);return zi=Cs=null,Q.H=l,Q.A=h,Qe=a,ke!==null?0:(nt=null,Be=0,Uu(),dt)}function Ew(){for(;ke!==null&&!_o();)xv(ke)}function xv(t){var r=sv(t.alternate,t,Yi);t.memoizedProps=t.pendingProps,r===null?yc(t):ke=r}function Mv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Wy(a,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=Wy(a,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:Hf(r);default:ov(a,r),r=ke=Vg(r,Yi),r=sv(a,r,Yi)}t.memoizedProps=t.pendingProps,r===null?yc(t):ke=r}function Ua(t,r,a,l){zi=Cs=null,Hf(r),Na=null,sl=0;var h=r.return;try{if(uw(t,h,r,a,Be)){dt=1,lc(t,Dn(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;dt=1,lc(t,Dn(a,t.current)),ke=null;return}r.flags&32768?(Fe||l===1?t=!0:Ma||(Be&536870912)!==0?t=!1:(wr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Vv(r,t)):yc(r)}function yc(t){var r=t;do{if((r.flags&32768)!==0){Vv(r,wr);return}t=r.return;var a=hw(r.alternate,r,Yi);if(a!==null){ke=a;return}if(r=r.sibling,r!==null){ke=r;return}ke=r=t}while(r!==null);dt===0&&(dt=5)}function Vv(t,r){do{var a=fw(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);dt=6,ke=null}function kv(t,r,a,l,h,d,_,T,D){t.cancelPendingCommit=null;do vc();while(Bt!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=vf,bo(t,a,d,_,T,D),t===nt&&(ke=nt=null,Be=0),ka=r,Ir=t,Pa=a,Sd=d,wd=h,bv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ww(ns,function(){return jv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=se.p,se.p=2,_=Qe,Qe|=4;try{dw(t,r,a)}finally{Qe=_,se.p=h,Q.T=l}}Bt=1,Pv(),Lv(),Uv()}}function Pv(){if(Bt===1){Bt=0;var t=Ir,r=ka,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var h=Qe;Qe|=4;try{vv(r,t);var d=jd,_=wg(t.containerInfo),T=d.focusedElem,D=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Sg(T.ownerDocument.documentElement,T)){if(D!==null&&df(T)){var F=D.start,J=D.end;if(J===void 0&&(J=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min(J,T.value.length);else{var W=T.ownerDocument||document,K=W&&W.defaultView||window;if(K.getSelection){var Y=K.getSelection(),we=T.textContent.length,Ee=Math.min(D.start,we),et=D.end===void 0?Ee:Math.min(D.end,we);!Y.extend&&Ee>et&&(_=et,et=Ee,Ee=_);var z=Ag(T,Ee),L=Ag(T,et);if(z&&L&&(Y.rangeCount!==1||Y.anchorNode!==z.node||Y.anchorOffset!==z.offset||Y.focusNode!==L.node||Y.focusOffset!==L.offset)){var H=W.createRange();H.setStart(z.node,z.offset),Y.removeAllRanges(),Ee>et?(Y.addRange(H),Y.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),Y.addRange(H))}}}}for(W=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&W.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var Z=W[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Dc=!!zd,jd=zd=null}finally{Qe=h,se.p=l,Q.T=a}}t.current=r,Bt=2}}function Lv(){if(Bt===2){Bt=0;var t=Ir,r=ka,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var h=Qe;Qe|=4;try{mv(t,r.alternate,r)}finally{Qe=h,se.p=l,Q.T=a}}Bt=3}}function Uv(){if(Bt===4||Bt===3){Bt=0,du();var t=Ir,r=ka,a=Pa,l=bv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Bt=5:(Bt=0,ka=Ir=null,zv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Rr=null),ta(a),r=r.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(ht,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,h=se.p,se.p=2,Q.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{Q.T=r,se.p=h}}(Pa&3)!==0&&vc(),mi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===bd?ml++:(ml=0,bd=t):ml=0,pl(0)}}function zv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Qo(r)))}function vc(t){return Pv(),Lv(),Uv(),jv()}function jv(){if(Bt!==5)return!1;var t=Ir,r=Sd;Sd=0;var a=ta(Pa),l=Q.T,h=se.p;try{se.p=32>a?32:a,Q.T=null,a=wd,wd=null;var d=Ir,_=Pa;if(Bt=0,ka=Ir=null,Pa=0,(Qe&6)!==0)throw Error(s(331));var T=Qe;if(Qe|=4,Sv(d.current),Ev(d,d.current,_,a),Qe=T,pl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(ht,d)}catch{}return!0}finally{se.p=h,Q.T=l,zv(t,r)}}function Bv(t,r,a){r=Dn(a,r),r=id(t.stateNode,r,2),t=yr(t,r,2),t!==null&&(bi(t,2),mi(t))}function tt(t,r,a){if(t.tag===3)Bv(t,t,a);else for(;r!==null;){if(r.tag===3){Bv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rr===null||!Rr.has(l))){t=Dn(a,t),a=Gy(2),l=yr(r,a,2),l!==null&&(Ky(a,l,r,t),bi(l,2),mi(l));break}}r=r.return}}function Nd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new gw;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(_d=!0,h.add(a),t=Tw.bind(null,t,r,a),r.then(t,t))}function Tw(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Be&a)===a&&(dt===4||dt===3&&(Be&62914560)===Be&&300>wn()-Ad?(Qe&2)===0&&La(t,0):Ed|=a,Va===Be&&(Va=0)),mi(t)}function qv(t,r){r===0&&(r=wo()),t=_a(t,r),t!==null&&(bi(t,r),mi(t))}function Aw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),qv(t,a)}function Sw(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),qv(t,a)}function ww(t,r){return es(t,r)}var _c=null,za=null,Dd=!1,Ec=!1,Od=!1,ks=0;function mi(t){t!==za&&t.next===null&&(za===null?_c=za=t:za=za.next=t),Ec=!0,Dd||(Dd=!0,Rw())}function pl(t,r){if(!Od&&Ec){Od=!0;do for(var a=!1,l=_c;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Yt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Kv(l,d))}else d=Be,d=ea(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||as(l,d)||(a=!0,Kv(l,d));l=l.next}while(a);Od=!1}}function bw(){Hv()}function Hv(){Ec=Dd=!1;var t=0;ks!==0&&(Vw()&&(t=ks),ks=0);for(var r=wn(),a=null,l=_c;l!==null;){var h=l.next,d=Fv(l,r);d===0?(l.next=null,a===null?_c=h:a.next=h,h===null&&(za=a)):(a=l,(t!==0||(d&3)!==0)&&(Ec=!0)),l=h}pl(t)}function Fv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Yt(d),T=1<<_,D=h[_];D===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Ao(T,r)):D<=r&&(t.expiredLanes|=T),d&=~T}if(r=nt,a=Be,a=ea(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ts(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||as(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&ts(l),ta(a)){case 2:case 8:a=Zs;break;case 32:a=ns;break;case 268435456:a=Ws;break;default:a=ns}return l=Gv.bind(null,t),a=es(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&ts(l),t.callbackPriority=2,t.callbackNode=null,2}function Gv(t,r){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(vc()&&t.callbackNode!==a)return null;var l=Be;return l=ea(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Iv(t,l,r),Fv(t,wn()),t.callbackNode!=null&&t.callbackNode===a?Gv.bind(null,t):null)}function Kv(t,r){if(vc())return null;Iv(t,r,!0)}function Rw(){Pw(function(){(Qe&6)!==0?es(Eo,bw):Hv()})}function xd(){return ks===0&&(ks=So()),ks}function Yv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:oa(""+t)}function Qv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Iw(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=Yv((h[vt]||null).action),_=l.submitter;_&&(r=(r=_[vt]||null)?Yv(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var T=new la("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ks!==0){var D=_?Qv(h,_):new FormData(h);Zf(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=_?Qv(h,_):new FormData(h),Zf(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Md=0;Md<yf.length;Md++){var Vd=yf[Md],Cw=Vd.toLowerCase(),Nw=Vd[0].toUpperCase()+Vd.slice(1);qn(Cw,"on"+Nw)}qn(Ig,"onAnimationEnd"),qn(Cg,"onAnimationIteration"),qn(Ng,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(KS,"onTransitionRun"),qn(YS,"onTransitionStart"),qn(QS,"onTransitionCancel"),qn(Dg,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function $v(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,F=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=F;try{d(h)}catch(J){oc(J)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,F=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=F;try{d(h)}catch(J){oc(J)}h.currentTarget=null,d=D}}}}function Pe(t,r){var a=r[Io];a===void 0&&(a=r[Io]=new Set);var l=t+"__bubble";a.has(l)||(Xv(r,t,2,!1),a.add(l))}function kd(t,r,a){var l=0;r&&(l|=4),Xv(a,t,l,r)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function Pd(t){if(!t[Tc]){t[Tc]=!0,Co.forEach(function(a){a!=="selectionchange"&&(Dw.has(a)||kd(a,!1,t),kd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Tc]||(r[Tc]=!0,kd("selectionchange",!1,r))}}function Xv(t,r,a,l){switch(E_(r)){case 2:var h=ib;break;case 8:h=rb;break;default:h=Xd}a=h.bind(null,r,a,t),h=void 0,!Cn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Ld(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Ri(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Su(function(){var F=d,J=In(a),W=[];e:{var K=Og.get(t);if(K!==void 0){var Y=la,we=t;switch(t){case"keypress":if(si(a)===0)break e;case"keydown":case"keyup":Y=ma;break;case"focusin":we="focus",Y=ha;break;case"focusout":we="blur",Y=ha;break;case"beforeblur":case"afterblur":Y=ha;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Ou;break;case Ig:case Cg:case Ng:Y=fa;break;case Dg:Y=Mu;break;case"scroll":case"scrollend":Y=wu;break;case"wheel":Y=pa;break;case"copy":case"cut":case"paste":Y=da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=jo;break;case"toggle":case"beforetoggle":Y=ku}var Ee=(r&4)!==0,et=!Ee&&(t==="scroll"||t==="scrollend"),z=Ee?K!==null?K+"Capture":null:K;Ee=[];for(var L=F,H;L!==null;){var Z=L;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||z===null||(Z=ms(L,z),Z!=null&&Ee.push(yl(L,Z,H))),et)break;L=L.return}0<Ee.length&&(K=new Y(K,we,null,a,J),W.push({event:K,listeners:Ee}))}}if((r&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",K&&a!==Di&&(we=a.relatedTarget||a.fromElement)&&(Ri(we)||we[bn]))break e;if((Y||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(we=a.relatedTarget||a.toElement,Y=F,we=we?Ri(we):null,we!==null&&(et=u(we),Ee=we.tag,we!==et||Ee!==5&&Ee!==27&&Ee!==6)&&(we=null)):(Y=null,we=F),Y!==we)){if(Ee=Nn,Z="onMouseLeave",z="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=jo,Z="onPointerLeave",z="onPointerEnter",L="pointer"),et=Y==null?K:ti(Y),H=we==null?K:ti(we),K=new Ee(Z,L+"leave",Y,a,J),K.target=et,K.relatedTarget=H,Z=null,Ri(J)===F&&(Ee=new Ee(z,L+"enter",we,a,J),Ee.target=H,Ee.relatedTarget=et,Z=Ee),et=Z,Y&&we)t:{for(Ee=Y,z=we,L=0,H=Ee;H;H=ja(H))L++;for(H=0,Z=z;Z;Z=ja(Z))H++;for(;0<L-H;)Ee=ja(Ee),L--;for(;0<H-L;)z=ja(z),H--;for(;L--;){if(Ee===z||z!==null&&Ee===z.alternate)break t;Ee=ja(Ee),z=ja(z)}Ee=null}else Ee=null;Y!==null&&Jv(W,K,Y,Ee,!1),we!==null&&et!==null&&Jv(W,et,we,Ee,!0)}}e:{if(K=F?ti(F):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var me=gg;else if(It(K))if(yg)me=HS;else{me=BS;var Me=jS}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?F&&Mo(F.elementType)&&(me=gg):me=qS;if(me&&(me=me(t,F))){ki(W,me,a,J);break e}Me&&Me(t,K,F),t==="focusout"&&F&&K.type==="number"&&F.memoizedProps.value!=null&&fr(K,"number",K.value)}switch(Me=F?ti(F):window,t){case"focusin":(It(Me)||Me.contentEditable==="true")&&(ga=Me,mf=F,Ho=null);break;case"focusout":Ho=mf=ga=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,bg(W,a,J);break;case"selectionchange":if(GS)break;case"keydown":case"keyup":bg(W,a,J)}var ge;if(li)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else ze?$(t,a)&&(Te="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(v&&a.locale!=="ko"&&(ze||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&ze&&(ge=ko()):(ri=J,dr="value"in ri?ri.value:ri.textContent,ze=!0)),Me=Ac(F,Te),0<Me.length&&(Te=new Uo(Te,t,null,a,J),W.push({event:Te,listeners:Me}),ge?Te.data=ge:(ge=ae(a),ge!==null&&(Te.data=ge)))),(ge=y?Rt(t,a):je(t,a))&&(Te=Ac(F,"onBeforeInput"),0<Te.length&&(Me=new Uo("onBeforeInput","beforeinput",null,a,J),W.push({event:Me,listeners:Te}),Me.data=ge)),Iw(W,t,F,a,J)}$v(W,r)})}function yl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Ac(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ms(t,a),h!=null&&l.unshift(yl(t,h,d)),h=ms(t,r),h!=null&&l.push(yl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function ja(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Jv(t,r,a,l,h){for(var d=r._reactName,_=[];a!==null&&a!==l;){var T=a,D=T.alternate,F=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||F===null||(D=F,h?(F=ms(a,d),F!=null&&_.unshift(yl(a,F,D))):h||(F=ms(a,d),F!=null&&_.push(yl(a,F,D)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var Ow=/\r\n?/g,xw=/\u0000|\uFFFD/g;function Zv(t){return(typeof t=="string"?t:""+t).replace(Ow,`
`).replace(xw,"")}function Wv(t,r){return r=Zv(r),Zv(t)===r}function Sc(){}function We(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Rn(t,""+l);break;case"className":ni(t,"class",l);break;case"tabIndex":ni(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(t,a,l);break;case"style":xo(t,l,d);break;case"data":if(r!=="object"){ni(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=oa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&We(t,r,"name",h.name,h,null),We(t,r,"formEncType",h.formEncType,h,null),We(t,r,"formMethod",h.formMethod,h,null),We(t,r,"formTarget",h.formTarget,h,null)):(We(t,r,"encType",h.encType,h,null),We(t,r,"method",h.method,h,null),We(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=oa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Sc);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=oa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),hr(t,"popover",l);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=of.get(a)||a,hr(t,a,l))}}function Ud(t,r,a,l,h,d){switch(a){case"style":xo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&Rn(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Sc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!na.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[vt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):hr(t,a,l)}}}function qt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,d,_,a,null)}}h&&We(t,r,"srcSet",a.srcSet,a,null),l&&We(t,r,"src",a.src,a,null);return;case"input":Pe("invalid",t);var T=d=_=h=null,D=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":h=J;break;case"type":_=J;break;case"checked":D=J;break;case"defaultChecked":F=J;break;case"value":d=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:We(t,r,l,J,a,null)}}hs(t,d,T,D,F,_,h,!1),aa(t);return;case"select":Pe("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:We(t,r,h,T,a,null)}r=d,a=_,t.multiple=!!l,r!=null?Ni(t,!!l,r,!1):a!=null&&Ni(t,!!l,a,!0);return;case"textarea":Pe("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:We(t,r,_,T,a,null)}fs(t,l,h,d),aa(t);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,r,D,l,a,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<gl.length;l++)Pe(gl[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,F,l,a,null)}return;default:if(Mo(r)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Ud(t,r,J,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&We(t,r,T,l,a,null))}function Mw(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,D=null,F=null,J=null;for(Y in a){var W=a[Y];if(a.hasOwnProperty(Y)&&W!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=W;default:l.hasOwnProperty(Y)||We(t,r,Y,null,l,W)}}for(var K in l){var Y=l[K];if(W=a[K],l.hasOwnProperty(K)&&(Y!=null||W!=null))switch(K){case"type":d=Y;break;case"name":h=Y;break;case"checked":F=Y;break;case"defaultChecked":J=Y;break;case"value":_=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==W&&We(t,r,K,Y,l,W)}}mn(t,_,T,D,F,J,d,h);return;case"select":Y=_=T=K=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Y=D;default:l.hasOwnProperty(d)||We(t,r,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":K=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==D&&We(t,r,h,d,l,D)}r=T,a=_,l=Y,K!=null?Ni(t,!!a,K,!1):!!l!=!!a&&(r!=null?Ni(t,!!a,r,!0):Ni(t,!!a,a?[]:"",!1));return;case"textarea":Y=K=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(t,r,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":K=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,r,_,h,l,d)}Je(t,K,Y);return;case"option":for(var we in a)if(K=a[we],a.hasOwnProperty(we)&&K!=null&&!l.hasOwnProperty(we))switch(we){case"selected":t.selected=!1;break;default:We(t,r,we,null,l,K)}for(D in l)if(K=l[D],Y=a[D],l.hasOwnProperty(D)&&K!==Y&&(K!=null||Y!=null))switch(D){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:We(t,r,D,K,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)K=a[Ee],a.hasOwnProperty(Ee)&&K!=null&&!l.hasOwnProperty(Ee)&&We(t,r,Ee,null,l,K);for(F in l)if(K=l[F],Y=a[F],l.hasOwnProperty(F)&&K!==Y&&(K!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:We(t,r,F,K,l,Y)}return;default:if(Mo(r)){for(var et in a)K=a[et],a.hasOwnProperty(et)&&K!==void 0&&!l.hasOwnProperty(et)&&Ud(t,r,et,void 0,l,K);for(J in l)K=l[J],Y=a[J],!l.hasOwnProperty(J)||K===Y||K===void 0&&Y===void 0||Ud(t,r,J,K,l,Y);return}}for(var z in a)K=a[z],a.hasOwnProperty(z)&&K!=null&&!l.hasOwnProperty(z)&&We(t,r,z,null,l,K);for(W in l)K=l[W],Y=a[W],!l.hasOwnProperty(W)||K===Y||K==null&&Y==null||We(t,r,W,K,l,Y)}var zd=null,jd=null;function wc(t){return t.nodeType===9?t:t.ownerDocument}function e_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Bd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var qd=null;function Vw(){var t=window.event;return t&&t.type==="popstate"?t===qd?!1:(qd=t,!0):(qd=null,!1)}var n_=typeof setTimeout=="function"?setTimeout:void 0,kw=typeof clearTimeout=="function"?clearTimeout:void 0,i_=typeof Promise=="function"?Promise:void 0,Pw=typeof queueMicrotask=="function"?queueMicrotask:typeof i_<"u"?function(t){return i_.resolve(null).then(t).catch(Lw)}:n_;function Lw(t){setTimeout(function(){throw t})}function Nr(t){return t==="head"}function r_(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=t.ownerDocument;if(a&1&&vl(_.documentElement),a&2&&vl(_.body),a&4)for(a=_.head,vl(a),_=a.firstChild;_;){var T=_.nextSibling,D=_.nodeName;_[os]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=T}}if(h===0){t.removeChild(d),Rl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Rl(r)}function Hd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hd(a),cr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Uw(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[os])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function zw(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fn(t.nextSibling),t===null))return null;return t}function Fd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function jw(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Fn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Gd=null;function s_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function a_(t,r,a){switch(r=wc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function vl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);cr(t)}var Pn=new Map,o_=new Set;function bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qi=se.d;se.d={f:Bw,r:qw,D:Hw,C:Fw,L:Gw,m:Kw,X:Qw,S:Yw,M:$w};function Bw(){var t=Qi.f(),r=gc();return t||r}function qw(t){var r=ei(t);r!==null&&r.tag===5&&r.type==="form"?Iy(r):Qi.r(t)}var Ba=typeof document>"u"?null:document;function l_(t,r,a){var l=Ba;if(l&&typeof r=="string"&&r){var h=_t(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),o_.has(h)||(o_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),qt(r,"link",t),mt(r),l.head.appendChild(r)))}}function Hw(t){Qi.D(t),l_("dns-prefetch",t,null)}function Fw(t,r){Qi.C(t,r),l_("preconnect",t,r)}function Gw(t,r,a){Qi.L(t,r,a);var l=Ba;if(l&&t&&r){var h='link[rel="preload"][as="'+_t(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+_t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+_t(a.imageSizes)+'"]')):h+='[href="'+_t(t)+'"]';var d=h;switch(r){case"style":d=qa(t);break;case"script":d=Ha(t)}Pn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Pn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(_l(d))||r==="script"&&l.querySelector(El(d))||(r=l.createElement("link"),qt(r,"link",t),mt(r),l.head.appendChild(r)))}}function Kw(t,r){Qi.m(t,r);var a=Ba;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+_t(l)+'"][href="'+_t(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ha(t)}if(!Pn.has(d)&&(t=E({rel:"modulepreload",href:t},r),Pn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(d)))return}l=a.createElement("link"),qt(l,"link",t),mt(l),a.head.appendChild(l)}}}function Yw(t,r,a){Qi.S(t,r,a);var l=Ba;if(l&&t){var h=tn(l).hoistableStyles,d=qa(t);r=r||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(_l(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Pn.get(d))&&Kd(t,a);var D=_=l.createElement("link");mt(D),qt(D,"link",t),D._p=new Promise(function(F,J){D.onload=F,D.onerror=J}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Rc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function Qw(t,r){Qi.X(t,r);var a=Ba;if(a&&t){var l=tn(a).hoistableScripts,h=Ha(t),d=l.get(h);d||(d=a.querySelector(El(h)),d||(t=E({src:t,async:!0},r),(r=Pn.get(h))&&Yd(t,r),d=a.createElement("script"),mt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function $w(t,r){Qi.M(t,r);var a=Ba;if(a&&t){var l=tn(a).hoistableScripts,h=Ha(t),d=l.get(h);d||(d=a.querySelector(El(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Pn.get(h))&&Yd(t,r),d=a.createElement("script"),mt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function u_(t,r,a,l){var h=(h=Se.current)?bc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=qa(a.href),a=tn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=qa(a.href);var d=tn(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(_l(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Pn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(t,a),d||Xw(h,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ha(a),a=tn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function qa(t){return'href="'+_t(t)+'"'}function _l(t){return'link[rel="stylesheet"]['+t+"]"}function c_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function Xw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),qt(r,"link",a),mt(r),t.head.appendChild(r))}function Ha(t){return'[src="'+_t(t)+'"]'}function El(t){return"script[async]"+t}function h_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+_t(a.href)+'"]');if(l)return r.instance=l,mt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),mt(l),qt(l,"style",h),Rc(l,a.precedence,t),r.instance=l;case"stylesheet":h=qa(a.href);var d=t.querySelector(_l(h));if(d)return r.state.loading|=4,r.instance=d,mt(d),d;l=c_(a),(h=Pn.get(h))&&Kd(l,h),d=(t.ownerDocument||t).createElement("link"),mt(d);var _=d;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),qt(d,"link",l),r.state.loading|=4,Rc(d,a.precedence,t),r.instance=d;case"script":return d=Ha(a.src),(h=t.querySelector(El(d)))?(r.instance=h,mt(h),h):(l=a,(h=Pn.get(d))&&(l=E({},a),Yd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),mt(h),qt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Rc(l,a.precedence,t));return r.instance}function Rc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Kd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Yd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Ic=null;function f_(t,r,a){if(Ic===null){var l=new Map,h=Ic=new Map;h.set(a,l)}else h=Ic,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[os]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function d_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function Jw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function m_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Tl=null;function Zw(){}function Ww(t,r,a){if(Tl===null)throw Error(s(475));var l=Tl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=qa(a.href),d=t.querySelector(_l(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Cc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,mt(d);return}d=t.ownerDocument||t,a=c_(a),(h=Pn.get(h))&&Kd(a,h),d=d.createElement("link"),mt(d);var _=d;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),qt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Cc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function eb(){if(Tl===null)throw Error(s(475));var t=Tl;return t.stylesheets&&t.count===0&&Qd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Qd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Cc(){if(this.count--,this.count===0){if(this.stylesheets)Qd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Nc=null;function Qd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Nc=new Map,r.forEach(tb,t),Nc=null,Cc.call(t))}function tb(t,r){if(!(r.state.loading&4)){var a=Nc.get(t);if(a)var l=a.get(null);else{a=new Map,Nc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=r.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Al={$$typeof:ie,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function nb(t,r,a,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function p_(t,r,a,l,h,d,_,T,D,F,J,W){return t=new nb(t,r,a,_,T,D,F,W),r=1,d===!0&&(r|=24),d=gn(3,null,null,r),t.current=d,d.stateNode=t,r=Nf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Mf(d),t}function g_(t){return t?(t=Ea,t):Ea}function y_(t,r,a,l,h,d){h=g_(h),l.context===null?l.context=h:l.pendingContext=h,l=gr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=yr(t,l,r),a!==null&&(Tn(a,t,r),Zo(a,t,r))}function v_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function $d(t,r){v_(t,r),(t=t.alternate)&&v_(t,r)}function __(t){if(t.tag===13){var r=_a(t,67108864);r!==null&&Tn(r,t,67108864),$d(t,67108864)}}var Dc=!0;function ib(t,r,a,l){var h=Q.T;Q.T=null;var d=se.p;try{se.p=2,Xd(t,r,a,l)}finally{se.p=d,Q.T=h}}function rb(t,r,a,l){var h=Q.T;Q.T=null;var d=se.p;try{se.p=8,Xd(t,r,a,l)}finally{se.p=d,Q.T=h}}function Xd(t,r,a,l){if(Dc){var h=Jd(l);if(h===null)Ld(t,r,l,Oc,a),T_(t,l);else if(ab(h,t,r,a,l))l.stopPropagation();else if(T_(t,l),r&4&&-1<sb.indexOf(t)){for(;h!==null;){var d=ei(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=zn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-Yt(_);T.entanglements[1]|=D,_&=~D}mi(d),(Qe&6)===0&&(mc=wn()+500,pl(0))}}break;case 13:T=_a(d,2),T!==null&&Tn(T,d,2),gc(),$d(d,2)}if(d=Jd(l),d===null&&Ld(t,r,l,Oc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ld(t,r,l,null,a)}}function Jd(t){return t=In(t),Zd(t)}var Oc=null;function Zd(t){if(Oc=null,t=Ri(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Oc=t,null}function E_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ef()){case Eo:return 2;case Zs:return 8;case ns:case tf:return 32;case Ws:return 268435456;default:return 32}default:return 32}}var Wd=!1,Dr=null,Or=null,xr=null,Sl=new Map,wl=new Map,Mr=[],sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T_(t,r){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":Sl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(r.pointerId)}}function bl(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=ei(r),r!==null&&__(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function ab(t,r,a,l,h){switch(r){case"focusin":return Dr=bl(Dr,t,r,a,l,h),!0;case"dragenter":return Or=bl(Or,t,r,a,l,h),!0;case"mouseover":return xr=bl(xr,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Sl.set(d,bl(Sl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,wl.set(d,bl(wl.get(d)||null,t,r,a,l,h)),!0}return!1}function A_(t){var r=Ri(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,gu(t.priority,function(){if(a.tag===13){var l=En();l=or(l);var h=_a(a,l);h!==null&&Tn(h,a,l),$d(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Jd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Di=l,a.target.dispatchEvent(l),Di=null}else return r=ei(a),r!==null&&__(r),t.blockedOn=a,!1;r.shift()}return!0}function S_(t,r,a){xc(t)&&a.delete(r)}function ob(){Wd=!1,Dr!==null&&xc(Dr)&&(Dr=null),Or!==null&&xc(Or)&&(Or=null),xr!==null&&xc(xr)&&(xr=null),Sl.forEach(S_),wl.forEach(S_)}function Mc(t,r){t.blockedOn===r&&(t.blockedOn=null,Wd||(Wd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ob)))}var Vc=null;function w_(t){Vc!==t&&(Vc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Vc===t&&(Vc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Zd(l||a)===null)continue;break}var d=ei(a);d!==null&&(t.splice(r,3),r-=3,Zf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Rl(t){function r(D){return Mc(D,t)}Dr!==null&&Mc(Dr,t),Or!==null&&Mc(Or,t),xr!==null&&Mc(xr,t),Sl.forEach(r),wl.forEach(r);for(var a=0;a<Mr.length;a++){var l=Mr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Mr.length&&(a=Mr[0],a.blockedOn===null);)A_(a),a.blockedOn===null&&Mr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[vt]||null;if(typeof d=="function")_||w_(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[vt]||null)T=_.formAction;else if(Zd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),w_(a)}}}function em(t){this._internalRoot=t}kc.prototype.render=em.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=En();y_(a,l,t,r,null,null)},kc.prototype.unmount=em.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;y_(t.current,2,null,t,null,null),gc(),r[bn]=null}};function kc(t){this._internalRoot=t}kc.prototype.unstable_scheduleHydration=function(t){if(t){var r=lr();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Mr.length&&r!==0&&r<Mr[a].priority;a++);Mr.splice(a,0,t),a===0&&A_(t)}};var b_=e.version;if(b_!=="19.1.0")throw Error(s(527,b_,"19.1.0"));se.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var lb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{ht=Pc.inject(lb),Ye=Pc}catch{}}return Cl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=By,d=qy,_=Hy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=p_(t,1,!1,null,null,a,l,h,d,_,T,null),t[bn]=r.current,Pd(t),new em(r)},Cl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=By,_=qy,T=Hy,D=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),r=p_(t,1,!0,r,a??null,l,h,d,_,T,D,F),r.context=g_(null),a=r.current,l=En(),l=or(l),h=gr(l),h.callback=null,yr(a,h,l),a=l,r.current.lanes=a,bi(r,a),mi(r),t[bn]=r.current,Pd(t),new kc(r)},Cl.version="19.1.0",Cl}var k_;function Eb(){if(k_)return im.exports;k_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),im.exports=_b(),im.exports}var Tb=Eb(),Nl={},P_;function Ab(){if(P_)return Nl;P_=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.parse=f,Nl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,P){const V=new u,j=S.length;if(j<2)return V;const U=(P==null?void 0:P.decode)||E;let q=0;do{const X=S.indexOf("=",q);if(X===-1)break;const ie=S.indexOf(";",q),oe=ie===-1?j:ie;if(X>oe){q=S.lastIndexOf(";",X-1)+1;continue}const ue=m(S,q,X),_e=p(S,X,ue),x=S.slice(ue,_e);if(V[x]===void 0){let b=m(S,X+1,oe),R=p(S,oe,b);const N=U(S.slice(b,R));V[x]=N}q=oe+1}while(q<j);return V}function m(S,P,V){do{const j=S.charCodeAt(P);if(j!==32&&j!==9)return P}while(++P<V);return V}function p(S,P,V){for(;P>V;){const j=S.charCodeAt(--P);if(j!==32&&j!==9)return P+1}return V}function g(S,P,V){const j=(V==null?void 0:V.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const U=j(P);if(!e.test(U))throw new TypeError(`argument val is invalid: ${P}`);let q=S+"="+U;if(!V)return q;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);q+="; Max-Age="+V.maxAge}if(V.domain){if(!n.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);q+="; Domain="+V.domain}if(V.path){if(!s.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);q+="; Path="+V.path}if(V.expires){if(!A(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);q+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(q+="; HttpOnly"),V.secure&&(q+="; Secure"),V.partitioned&&(q+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return q}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function A(S){return o.call(S)==="[object Date]"}return Nl}Ab();var L_="popstate";function Sb(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return bm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Fl(o)}return bb(e,n,null,i)}function at(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Qn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wb(){return Math.random().toString(36).substring(2,10)}function U_(i,e){return{usr:i.state,key:i.key,idx:e}}function bm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?oo(e):e,state:n,key:e&&e.key||s||wb()}}function Fl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function oo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function bb(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let U=E(),q=U==null?null:U-g;g=U,p&&p({action:m,location:j.location,delta:q})}function S(U,q){m="PUSH";let X=bm(j.location,U,q);g=E()+1;let ie=U_(X,g),oe=j.createHref(X);try{f.pushState(ie,"",oe)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(oe)}u&&p&&p({action:m,location:j.location,delta:1})}function P(U,q){m="REPLACE";let X=bm(j.location,U,q);g=E();let ie=U_(X,g),oe=j.createHref(X);f.replaceState(ie,"",oe),u&&p&&p({action:m,location:j.location,delta:0})}function V(U){return Rb(U)}let j={get action(){return m},get location(){return i(o,f)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(L_,A),p=U,()=>{o.removeEventListener(L_,A),p=null}},createHref(U){return e(o,U)},createURL:V,encodeLocation(U){let q=V(U);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:S,replace:P,go(U){return f.go(U)}};return j}function Rb(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),at(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Fl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function C0(i,e,n="/"){return Ib(i,e,n,!1)}function Ib(i,e,n,s){let o=typeof e=="string"?oo(e):e,u=tr(o.pathname||"/",n);if(u==null)return null;let f=N0(i);Cb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=zb(u);m=Lb(f[p],g,s)}return m}function N0(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Wi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),N0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:kb(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of D0(u.path))o(u,f,p)}),e}function D0(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=D0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Cb(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Pb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Nb=/^:[\w-]+$/,Db=3,Ob=2,xb=1,Mb=10,Vb=-2,z_=i=>i==="*";function kb(i,e){let n=i.split("/"),s=n.length;return n.some(z_)&&(s+=Vb),e&&(s+=Ob),n.filter(o=>!z_(o)).reduce((o,u)=>o+(Nb.test(u)?Db:u===""?xb:Mb),s)}function Pb(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Lb(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Wi([u,A.pathname]),pathnameBase:Hb(Wi([u,A.pathnameBase])),route:S}),A.pathnameBase!=="/"&&(u=Wi([u,A.pathnameBase]))}return f}function rh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=Ub(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},S)=>{if(E==="*"){let V=m[S]||"";f=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const P=m[S];return A&&!P?g[E]=void 0:g[E]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function Ub(i,e=!1,n=!0){Qn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function zb(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function tr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function jb(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?oo(i):i;return{pathname:n?n.startsWith("/")?n:Bb(n,e):e,search:Fb(s),hash:Gb(o)}}function Bb(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function om(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qb(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function np(i){let e=qb(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ip(i,e,n,s=!1){let o;typeof i=="string"?o=oo(i):(o={...i},at(!o.pathname||!o.pathname.includes("?"),om("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),om("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),om("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),A-=1;o.pathname=S.join("/")}m=A>=0?e[A]:"/"}let p=jb(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Wi=i=>i.join("/").replace(/\/\/+/g,"/"),Hb=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Fb=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Gb=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Kb(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var O0=["POST","PUT","PATCH","DELETE"];new Set(O0);var Yb=["GET",...O0];new Set(Yb);var lo=G.createContext(null);lo.displayName="DataRouter";var Ih=G.createContext(null);Ih.displayName="DataRouterState";var x0=G.createContext({isTransitioning:!1});x0.displayName="ViewTransition";var Qb=G.createContext(new Map);Qb.displayName="Fetchers";var $b=G.createContext(null);$b.displayName="Await";var Jn=G.createContext(null);Jn.displayName="Navigation";var tu=G.createContext(null);tu.displayName="Location";var Si=G.createContext({outlet:null,matches:[],isDataRoute:!1});Si.displayName="Route";var rp=G.createContext(null);rp.displayName="RouteError";function Xb(i,{relative:e}={}){at(uo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(Jn),{hash:o,pathname:u,search:f}=nu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Wi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function uo(){return G.useContext(tu)!=null}function Jr(){return at(uo(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(tu).location}var M0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function V0(i){G.useContext(Jn).static||G.useLayoutEffect(i)}function k0(){let{isDataRoute:i}=G.useContext(Si);return i?u1():Jb()}function Jb(){at(uo(),"useNavigate() may be used only in the context of a <Router> component.");let i=G.useContext(lo),{basename:e,navigator:n}=G.useContext(Jn),{matches:s}=G.useContext(Si),{pathname:o}=Jr(),u=JSON.stringify(np(s)),f=G.useRef(!1);return V0(()=>{f.current=!0}),G.useCallback((p,g={})=>{if(Qn(f.current,M0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=ip(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Wi([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}G.createContext(null);function nu(i,{relative:e}={}){let{matches:n}=G.useContext(Si),{pathname:s}=Jr(),o=JSON.stringify(np(n));return G.useMemo(()=>ip(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Zb(i,e){return P0(i,e)}function P0(i,e,n,s){var q;at(uo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=G.useContext(Jn),{matches:u}=G.useContext(Si),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let X=E&&E.path||"";L0(p,!E||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let A=Jr(),S;if(e){let X=typeof e=="string"?oo(e):e;at(g==="/"||((q=X.pathname)==null?void 0:q.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${X.pathname}" was given in the \`location\` prop.`),S=X}else S=A;let P=S.pathname||"/",V=P;if(g!=="/"){let X=g.replace(/^\//,"").split("/");V="/"+P.replace(/^\//,"").split("/").slice(X.length).join("/")}let j=C0(i,{pathname:V});Qn(E||j!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Qn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=i1(j&&j.map(X=>Object.assign({},X,{params:Object.assign({},m,X.params),pathname:Wi([g,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?g:Wi([g,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),u,n,s);return e&&U?G.createElement(tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},U):U}function Wb(){let i=l1(),e=Kb(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,f)}var e1=G.createElement(Wb,null),t1=class extends G.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?G.createElement(Si.Provider,{value:this.props.routeContext},G.createElement(rp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function n1({routeContext:i,match:e,children:n}){let s=G.useContext(lo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Si.Provider,{value:i},n)}function i1(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:A}=n,S=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let A,S=!1,P=null,V=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,P=g.route.errorElement||e1,f&&(m<0&&E===0?(L0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,V=null):m===E&&(S=!0,V=g.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,E+1)),U=()=>{let q;return A?q=P:S?q=V:g.route.Component?q=G.createElement(g.route.Component,null):g.route.element?q=g.route.element:q=p,G.createElement(n1,{match:g,routeContext:{outlet:p,matches:j,isDataRoute:n!=null},children:q})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?G.createElement(t1,{location:n.location,revalidation:n.revalidation,component:P,error:A,children:U(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):U()},null)}function sp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r1(i){let e=G.useContext(lo);return at(e,sp(i)),e}function s1(i){let e=G.useContext(Ih);return at(e,sp(i)),e}function a1(i){let e=G.useContext(Si);return at(e,sp(i)),e}function ap(i){let e=a1(i),n=e.matches[e.matches.length-1];return at(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function o1(){return ap("useRouteId")}function l1(){var s;let i=G.useContext(rp),e=s1("useRouteError"),n=ap("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function u1(){let{router:i}=r1("useNavigate"),e=ap("useNavigate"),n=G.useRef(!1);return V0(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{Qn(n.current,M0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var j_={};function L0(i,e,n){!e&&!j_[i]&&(j_[i]=!0,Qn(!1,n))}G.memo(c1);function c1({routes:i,future:e,state:n}){return P0(i,void 0,n,e)}function U0({to:i,replace:e,state:n,relative:s}){at(uo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(Jn);Qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(Si),{pathname:f}=Jr(),m=k0(),p=ip(i,np(u),f,s==="path"),g=JSON.stringify(p);return G.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Rm(i){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function h1({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){at(!uo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=oo(n));let{pathname:p="/",search:g="",hash:E="",state:A=null,key:S="default"}=n,P=G.useMemo(()=>{let V=tr(p,f);return V==null?null:{location:{pathname:V,search:g,hash:E,state:A,key:S},navigationType:s}},[f,p,g,E,A,S,s]);return Qn(P!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:G.createElement(Jn.Provider,{value:m},G.createElement(tu.Provider,{children:e,value:P}))}function f1({children:i,location:e}){return Zb(Im(i),e)}function Im(i,e=[]){let n=[];return G.Children.forEach(i,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){n.push.apply(n,Im(s.props.children,u));return}at(s.type===Rm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Im(s.props.children,u)),n.push(f)}),n}var Kc="get",Yc="application/x-www-form-urlencoded";function Ch(i){return i!=null&&typeof i.tagName=="string"}function d1(i){return Ch(i)&&i.tagName.toLowerCase()==="button"}function m1(i){return Ch(i)&&i.tagName.toLowerCase()==="form"}function p1(i){return Ch(i)&&i.tagName.toLowerCase()==="input"}function g1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function y1(i,e){return i.button===0&&(!e||e==="_self")&&!g1(i)}var Lc=null;function v1(){if(Lc===null)try{new FormData(document.createElement("form"),0),Lc=!1}catch{Lc=!0}return Lc}var _1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lm(i){return i!=null&&!_1.has(i)?(Qn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yc}"`),null):i}function E1(i,e){let n,s,o,u,f;if(m1(i)){let m=i.getAttribute("action");s=m?tr(m,e):null,n=i.getAttribute("method")||Kc,o=lm(i.getAttribute("enctype"))||Yc,u=new FormData(i)}else if(d1(i)||p1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?tr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Kc,o=lm(i.getAttribute("formenctype"))||lm(m.getAttribute("enctype"))||Yc,u=new FormData(m,i),!v1()){let{name:g,type:E,value:A}=i;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,A)}}else{if(Ch(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kc,s=null,o=Yc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function op(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function T1(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function A1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function S1(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await T1(u,n);return f.links?f.links():[]}return[]}));return I1(s.flat(1).filter(A1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function B_(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var A;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function w1(i,e,{includeHydrateFallback:n}={}){return b1(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function b1(i){return[...new Set(i)]}function R1(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function I1(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(R1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var C1=new Set([100,101,204,205]);function N1(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&tr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function z0(){let i=G.useContext(lo);return op(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function D1(){let i=G.useContext(Ih);return op(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var lp=G.createContext(void 0);lp.displayName="FrameworkContext";function j0(){let i=G.useContext(lp);return op(i,"You must render this element inside a <HydratedRouter> element"),i}function O1(i,e){let n=G.useContext(lp),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=e,S=G.useRef(null);G.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let j=q=>{q.forEach(X=>{f(X.isIntersecting)})},U=new IntersectionObserver(j,{threshold:.5});return S.current&&U.observe(S.current),()=>{U.disconnect()}}},[i]),G.useEffect(()=>{if(s){let j=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(j)}}},[s]);let P=()=>{o(!0)},V=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Dl(m,P),onBlur:Dl(p,V),onMouseEnter:Dl(g,P),onMouseLeave:Dl(E,V),onTouchStart:Dl(A,P)}]:[!1,S,{}]}function Dl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function x1({page:i,...e}){let{router:n}=z0(),s=G.useMemo(()=>C0(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?G.createElement(V1,{page:i,matches:s,...e}):null}function M1(i){let{manifest:e,routeModules:n}=j0(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return S1(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function V1({page:i,matches:e,...n}){let s=Jr(),{manifest:o,routeModules:u}=j0(),{basename:f}=z0(),{loaderData:m,matches:p}=D1(),g=G.useMemo(()=>B_(i,e,p,o,s,"data"),[i,e,p,o,s]),E=G.useMemo(()=>B_(i,e,p,o,s,"assets"),[i,e,p,o,s]),A=G.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let V=new Set,j=!1;if(e.forEach(q=>{var ie;let X=o.routes[q.route.id];!X||!X.hasLoader||(!g.some(oe=>oe.route.id===q.route.id)&&q.route.id in m&&((ie=u[q.route.id])!=null&&ie.shouldRevalidate)||X.hasClientLoader?j=!0:V.add(q.route.id))}),V.size===0)return[];let U=N1(i,f);return j&&V.size>0&&U.searchParams.set("_routes",e.filter(q=>V.has(q.route.id)).map(q=>q.route.id).join(",")),[U.pathname+U.search]},[f,m,s,o,g,e,i,u]),S=G.useMemo(()=>w1(E,o),[E,o]),P=M1(E);return G.createElement(G.Fragment,null,A.map(V=>G.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),S.map(V=>G.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),P.map(({key:V,link:j})=>G.createElement("link",{key:V,...j})))}function k1(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var B0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{B0&&(window.__reactRouterVersion="7.6.2")}catch{}function P1({basename:i,children:e,window:n}){let s=G.useRef();s.current==null&&(s.current=Sb({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>f(p))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(h1,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var q0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H0=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:A,...S},P){let{basename:V}=G.useContext(Jn),j=typeof g=="string"&&q0.test(g),U,q=!1;if(typeof g=="string"&&j&&(U=g,B0))try{let R=new URL(window.location.href),N=g.startsWith("//")?new URL(R.protocol+g):new URL(g),C=tr(N.pathname,V);N.origin===R.origin&&C!=null?g=C+N.search+N.hash:q=!0}catch{Qn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=Xb(g,{relative:o}),[ie,oe,ue]=O1(s,S),_e=j1(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A});function x(R){e&&e(R),R.defaultPrevented||_e(R)}let b=G.createElement("a",{...S,...ue,href:U||X,onClick:q||u?e:x,ref:k1(P,oe),target:p,"data-discover":!j&&n==="render"?"true":void 0});return ie&&!j?G.createElement(G.Fragment,null,b,G.createElement(x1,{page:X})):b});H0.displayName="Link";var L1=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let A=nu(f,{relative:g.relative}),S=Jr(),P=G.useContext(Ih),{navigator:V,basename:j}=G.useContext(Jn),U=P!=null&&G1(A)&&m===!0,q=V.encodeLocation?V.encodeLocation(A).pathname:A.pathname,X=S.pathname,ie=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(X=X.toLowerCase(),ie=ie?ie.toLowerCase():null,q=q.toLowerCase()),ie&&j&&(ie=tr(ie,j)||ie);const oe=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let ue=X===q||!o&&X.startsWith(q)&&X.charAt(oe)==="/",_e=ie!=null&&(ie===q||!o&&ie.startsWith(q)&&ie.charAt(q.length)==="/"),x={isActive:ue,isPending:_e,isTransitioning:U},b=ue?e:void 0,R;typeof s=="function"?R=s(x):R=[s,ue?"active":null,_e?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(x):u;return G.createElement(H0,{...g,"aria-current":b,className:R,ref:E,style:N,to:f,viewTransition:m},typeof p=="function"?p(x):p)});L1.displayName="NavLink";var U1=G.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Kc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:A,...S},P)=>{let V=H1(),j=F1(m,{relative:g}),U=f.toLowerCase()==="get"?"get":"post",q=typeof m=="string"&&q0.test(m),X=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let oe=ie.nativeEvent.submitter,ue=(oe==null?void 0:oe.getAttribute("formmethod"))||f;V(oe||ie.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return G.createElement("form",{ref:P,method:U,action:j,onSubmit:s?p:X,...S,"data-discover":!q&&i==="render"?"true":void 0})});U1.displayName="Form";function z1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F0(i){let e=G.useContext(lo);return at(e,z1(i)),e}function j1(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=k0(),p=Jr(),g=nu(i,{relative:u});return G.useCallback(E=>{if(y1(E,e)){E.preventDefault();let A=n!==void 0?n:Fl(p)===Fl(g);m(i,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var B1=0,q1=()=>`__${String(++B1)}__`;function H1(){let{router:i}=F0("useSubmit"),{basename:e}=G.useContext(Jn),n=o1();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=E1(s,e);if(o.navigate===!1){let E=o.fetcherKey||q1();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function F1(i,{relative:e}={}){let{basename:n}=G.useContext(Jn),s=G.useContext(Si);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...nu(i||".",{relative:e})},f=Jr();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Wi([n,u.pathname])),Fl(u)}function G1(i,e={}){let n=G.useContext(x0);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=F0("useViewTransitionState"),o=nu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=tr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=tr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return rh(o.pathname,f)!=null||rh(o.pathname,u)!=null}[...C1];const K1=()=>{};var q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Y1=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},K0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,P=g&63;p||(P=64,f||(S=64)),s.push(n[E],n[A],n[S],n[P])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(G0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Y1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const A=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new Q1;const S=u<<2|m>>4;if(s.push(S),g!==64){const P=m<<4&240|g>>2;if(s.push(P),A!==64){const V=g<<6&192|A;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Q1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $1=function(i){const e=G0(i);return K0.encodeByteArray(e,!0)},sh=function(i){return $1(i).replace(/\./g,"")},Y0=function(i){try{return K0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=()=>X1().__FIREBASE_DEFAULTS__,Z1=()=>{if(typeof process>"u"||typeof q_>"u")return;const i=q_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},W1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Y0(i[1]);return e&&JSON.parse(e)},Nh=()=>{try{return K1()||J1()||Z1()||W1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Q0=i=>{var e,n;return(n=(e=Nh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},eR=i=>{const e=Q0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},$0=()=>{var i;return(i=Nh())===null||i===void 0?void 0:i.config},X0=i=>{var e;return(e=Nh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(i){return i.endsWith(".cloudworkstations.dev")}async function J0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[sh(JSON.stringify(n)),sh(JSON.stringify(f)),""].join(".")}const kl={};function iR(){const i={prod:[],emulator:[]};for(const e of Object.keys(kl))kl[e]?i.emulator.push(e):i.prod.push(e);return i}function rR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let H_=!1;function Z0(i,e){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||kl[i]===e||kl[i]||H_)return;kl[i]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=iR().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,P){S.setAttribute("width","24"),S.setAttribute("id",P),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{H_=!0,f()},S}function E(S,P){S.setAttribute("id",P),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function A(){const S=rR(s),P=n("text"),V=document.getElementById(P)||document.createElement("span"),j=n("learnmore"),U=document.getElementById(j)||document.createElement("a"),q=n("preprendIcon"),X=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ie=S.element;m(ie),E(U,j);const oe=g();p(X,q),ie.append(X,V,U,oe),document.body.appendChild(ie)}u?(V.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function aR(){var i;const e=(i=Nh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function W0(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function lR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uR(){const i=en();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function cR(){return!aR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eT(){try{return typeof indexedDB=="object"}catch{return!1}}function tT(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}function hR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="FirebaseError";class Zn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=fR,Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qs.prototype.create)}}class Qs{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?dR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Zn(o,m,s)}}function dR(i,e){return i.replace(mR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const mR=/\{\$([^}]+)}/g;function pR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Fr(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(F_(u)&&F_(f)){if(!Fr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function F_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function gR(i,e){const n=new yR(i,e);return n.subscribe.bind(n)}class yR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");vR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=um),o.error===void 0&&(o.error=um),o.complete===void 0&&(o.complete=um);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function um(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=1e3,ER=2,TR=4*60*60*1e3,AR=.5;function G_(i,e=_R,n=ER){const s=e*Math.pow(n,i),o=Math.round(AR*s*(Math.random()-.5)*2);return Math.min(TR,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(i){return i&&i._delegate?i._delegate:i}class $n{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new tR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bR(e))try{this.getOrInitializeService({instanceIdentifier:Ps})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ps){return this.instances.has(e)}getOptions(e=Ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:wR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ps){return this.component?this.component.multipleInstances?e:Ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wR(i){return i===Ps?void 0:i}function bR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const IR={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},CR=Le.INFO,NR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},DR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=NR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dh{constructor(e){this.name=e,this._logLevel=CR,this._logHandler=DR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const OR=(i,e)=>e.some(n=>i instanceof n);let K_,Y_;function xR(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MR(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nT=new WeakMap,Cm=new WeakMap,iT=new WeakMap,cm=new WeakMap,up=new WeakMap;function VR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(jr(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&nT.set(n,i)}).catch(()=>{}),up.set(e,i),e}function kR(i){if(Cm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Cm.set(i,e)}let Nm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Cm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||iT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function PR(i){Nm=i(Nm)}function LR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(hm(this),e,...n);return iT.set(s,e.sort?e.sort():[e]),jr(s)}:MR().includes(i)?function(...e){return i.apply(hm(this),e),jr(nT.get(this))}:function(...e){return jr(i.apply(hm(this),e))}}function UR(i){return typeof i=="function"?LR(i):(i instanceof IDBTransaction&&kR(i),OR(i,xR())?new Proxy(i,Nm):i)}function jr(i){if(i instanceof IDBRequest)return VR(i);if(cm.has(i))return cm.get(i);const e=UR(i);return e!==i&&(cm.set(i,e),up.set(e,i)),e}const hm=i=>up.get(i);function rT(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=jr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(jr(f.result),p.oldVersion,p.newVersion,jr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const zR=["get","getKey","getAll","getAllKeys","count"],jR=["put","add","delete","clear"],fm=new Map;function Q_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(fm.get(e))return fm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=jR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||zR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return fm.set(e,u),u}PR(i=>({...i,get:(e,n,s)=>Q_(e,n)||i.get(e,n,s),has:(e,n)=>!!Q_(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function qR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dm="@firebase/app",$_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new Dh("@firebase/app"),HR="@firebase/app-compat",FR="@firebase/analytics-compat",GR="@firebase/analytics",KR="@firebase/app-check-compat",YR="@firebase/app-check",QR="@firebase/auth",$R="@firebase/auth-compat",XR="@firebase/database",JR="@firebase/data-connect",ZR="@firebase/database-compat",WR="@firebase/functions",eI="@firebase/functions-compat",tI="@firebase/installations",nI="@firebase/installations-compat",iI="@firebase/messaging",rI="@firebase/messaging-compat",sI="@firebase/performance",aI="@firebase/performance-compat",oI="@firebase/remote-config",lI="@firebase/remote-config-compat",uI="@firebase/storage",cI="@firebase/storage-compat",hI="@firebase/firestore",fI="@firebase/ai",dI="@firebase/firestore-compat",mI="firebase",pI="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="[DEFAULT]",gI={[Dm]:"fire-core",[HR]:"fire-core-compat",[GR]:"fire-analytics",[FR]:"fire-analytics-compat",[YR]:"fire-app-check",[KR]:"fire-app-check-compat",[QR]:"fire-auth",[$R]:"fire-auth-compat",[XR]:"fire-rtdb",[JR]:"fire-data-connect",[ZR]:"fire-rtdb-compat",[WR]:"fire-fn",[eI]:"fire-fn-compat",[tI]:"fire-iid",[nI]:"fire-iid-compat",[iI]:"fire-fcm",[rI]:"fire-fcm-compat",[sI]:"fire-perf",[aI]:"fire-perf-compat",[oI]:"fire-rc",[lI]:"fire-rc-compat",[uI]:"fire-gcs",[cI]:"fire-gcs-compat",[hI]:"fire-fst",[dI]:"fire-fst-compat",[fI]:"fire-vertex","fire-js":"fire-js",[mI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Map,yI=new Map,xm=new Map;function X_(i,e){try{i.container.addComponent(e)}catch(n){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ei(i){const e=i.name;if(xm.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;xm.set(e,i);for(const n of ah.values())X_(n,i);for(const n of yI.values())X_(n,i);return!0}function $s(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Gn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new Qs("app","Firebase",vI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new $n("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=pI;function sT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Om,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Br.create("bad-app-name",{appName:String(o)});if(n||(n=$0()),!n)throw Br.create("no-options");const u=ah.get(o);if(u){if(Fr(n,u.options)&&Fr(s,u.config))return u;throw Br.create("duplicate-app",{appName:o})}const f=new RR(o);for(const p of xm.values())f.addComponent(p);const m=new _I(n,s,f);return ah.set(o,m),m}function cp(i=Om){const e=ah.get(i);if(!e&&i===Om&&$0())return sT();if(!e)throw Br.create("no-app",{appName:i});return e}function Ln(i,e,n){var s;let o=(s=gI[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(m.join(" "));return}Ei(new $n(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="firebase-heartbeat-database",TI=1,Gl="firebase-heartbeat-store";let dm=null;function aT(){return dm||(dm=rT(EI,TI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Gl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Br.create("idb-open",{originalErrorMessage:i.message})})),dm}async function AI(i){try{const n=(await aT()).transaction(Gl),s=await n.objectStore(Gl).get(oT(i));return await n.done,s}catch(e){if(e instanceof Zn)nr.warn(e.message);else{const n=Br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nr.warn(n.message)}}}async function J_(i,e){try{const s=(await aT()).transaction(Gl,"readwrite");await s.objectStore(Gl).put(e,oT(i)),await s.done}catch(n){if(n instanceof Zn)nr.warn(n.message);else{const s=Br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});nr.warn(s.message)}}}function oT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=1024,wI=30;class bI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new II(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Z_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>wI){const f=CI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){nr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Z_(),{heartbeatsToSend:s,unsentEntries:o}=RI(this._heartbeatsCache.heartbeats),u=sh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return nr.warn(n),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function RI(i,e=SI){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),W_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),W_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class II{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eT()?tT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return J_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return J_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function W_(i){return sh(JSON.stringify({version:2,heartbeats:i})).length}function CI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(i){Ei(new $n("platform-logger",e=>new BR(e),"PRIVATE")),Ei(new $n("heartbeat",e=>new bI(e),"PRIVATE")),Ln(Dm,$_,i),Ln(Dm,$_,"esm2017"),Ln("fire-js","")}NI("");function hp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function lT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DI=lT,uT=new Qs("auth","Firebase",lT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new Dh("@firebase/auth");function OI(i,...e){oh.logLevel<=Le.WARN&&oh.warn(`Auth (${ho}): ${i}`,...e)}function Qc(i,...e){oh.logLevel<=Le.ERROR&&oh.error(`Auth (${ho}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(i,...e){throw dp(i,...e)}function Yn(i,...e){return dp(i,...e)}function fp(i,e,n){const s=Object.assign(Object.assign({},DI()),{[e]:n});return new Qs("auth","Firebase",s).create(e,{appName:i.name})}function js(i){return fp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xI(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ti(i,"argument-error"),fp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return uT.create(i,...e)}function be(i,e,...n){if(!i)throw dp(e,...n)}function Ji(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Qc(e),new Error(e)}function ir(i,e){i||Ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function MI(){return eE()==="http:"||eE()==="https:"}function eE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MI()||W0()||"connection"in navigator)?navigator.onLine:!0}function kI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,ir(n>e,"Short delay should be less than long delay!"),this.isMobile=sR()||lR()}get(){return VI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(i,e){ir(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UI=new ru(3e4,6e4);function pp(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function fo(i,e,n,s,o={}){return hT(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=iu(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return oR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&co(i.emulatorConfig.host)&&(g.credentials="include"),cT.fetch()(await fT(i,i.config.apiHost,n,m),g)})}async function hT(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},PI),e);try{const o=new jI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Uc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Uc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Uc(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw fp(i,E,g);Ti(i,E)}}catch(o){if(o instanceof Zn)throw o;Ti(i,"network-request-failed",{message:String(o)})}}async function zI(i,e,n,s,o={}){const u=await fo(i,e,n,s,o);return"mfaPendingCredential"in u&&Ti(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function fT(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?mp(i.config,o):`${i.config.apiScheme}://${o}`;return LI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class jI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Yn(this.auth,"network-request-failed")),UI.get())})}}function Uc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Yn(i,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(i,e){return fo(i,"POST","/v1/accounts:delete",e)}async function lh(i,e){return fo(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qI(i,e=!1){const n=wt(i),s=await n.getIdToken(e),o=gp(s);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Pl(mm(o.auth_time)),issuedAtTime:Pl(mm(o.iat)),expirationTime:Pl(mm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function mm(i){return Number(i)*1e3}function gp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Y0(n);return o?JSON.parse(o):(Qc("Failed to decode base64 JWT payload"),null)}catch(o){return Qc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function tE(i){const e=gp(i);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Zn&&HI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function HI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await Kl(i,lh(n,{idToken:s}));be(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?dT(u.providerUserInfo):[],m=KI(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Vm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,A)}async function GI(i){const e=wt(i);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function dT(i){return i.map(e=>{var{providerId:n}=e,s=hp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(i,e){const n=await hT(i,{},async()=>{const s=iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await fT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&co(i.emulatorConfig.host)&&(p.credentials="include"),cT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QI(i,e){return fo(i,"POST","/v2/accounts:revokeToken",pp(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=tE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await YI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new $a;return s&&(be(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(i,e){be(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Kn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=hp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Vm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qI(this,e)}reload(){return GI(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(js(this.auth));const e=await this.getIdToken();return await Kl(this,BI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,V=(f=n.photoURL)!==null&&f!==void 0?f:void 0,j=(m=n.tenantId)!==null&&m!==void 0?m:void 0,U=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,q=(g=n.createdAt)!==null&&g!==void 0?g:void 0,X=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ie,emailVerified:oe,isAnonymous:ue,providerData:_e,stsTokenManager:x}=n;be(ie&&x,e,"internal-error");const b=$a.fromJSON(this.name,x);be(typeof ie=="string",e,"internal-error"),kr(A,e.name),kr(S,e.name),be(typeof oe=="boolean",e,"internal-error"),be(typeof ue=="boolean",e,"internal-error"),kr(P,e.name),kr(V,e.name),kr(j,e.name),kr(U,e.name),kr(q,e.name),kr(X,e.name);const R=new Kn({uid:ie,auth:e,email:S,emailVerified:oe,displayName:A,isAnonymous:ue,photoURL:V,phoneNumber:P,tenantId:j,stsTokenManager:b,createdAt:q,lastLoginAt:X});return _e&&Array.isArray(_e)&&(R.providerData=_e.map(N=>Object.assign({},N))),U&&(R._redirectEventId=U),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new $a;o.updateFromServerResponse(n);const u=new Kn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await uh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?dT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new $a;m.updateFromIdToken(s);const p=new Kn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=new Map;function Zi(i){ir(i instanceof Function,"Expected a class definition");let e=nE.get(i);return e?(ir(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,nE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mT.type="NONE";const iE=mT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(i,e,n){return`firebase:${i}:${e}:${n}`}class Xa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=$c(this.userKey,o.apiKey,u),this.fullPersistenceKey=$c("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lh(this.auth,{idToken:e}).catch(()=>{});return n?Kn._fromGetAccountInfoResponse(this.auth,n,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Xa(Zi(iE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Zi(iE);const f=$c(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let A;if(typeof E=="string"){const S=await lh(e,{idToken:E}).catch(()=>{});if(!S)break;A=await Kn._fromGetAccountInfoResponse(e,S,E)}else A=Kn._fromJSON(e,E);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Xa(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Xa(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ET(e))return"Blackberry";if(TT(e))return"Webos";if(gT(e))return"Safari";if((e.includes("chrome/")||yT(e))&&!e.includes("edge/"))return"Chrome";if(_T(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function pT(i=en()){return/firefox\//i.test(i)}function gT(i=en()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yT(i=en()){return/crios\//i.test(i)}function vT(i=en()){return/iemobile/i.test(i)}function _T(i=en()){return/android/i.test(i)}function ET(i=en()){return/blackberry/i.test(i)}function TT(i=en()){return/webos/i.test(i)}function yp(i=en()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function $I(i=en()){var e;return yp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function XI(){return uR()&&document.documentMode===10}function AT(i=en()){return yp(i)||_T(i)||TT(i)||ET(i)||/windows phone/i.test(i)||vT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(i,e=[]){let n;switch(i){case"Browser":n=rE(en());break;case"Worker":n=`${rE(en())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ho}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(i,e={}){return fo(i,"GET","/v2/passwordPolicy",pp(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=6;class eC{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:WI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sE(this),this.idTokenSubscription=new sE(this),this.beforeStateQueue=new JI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Xa.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lh(this,{idToken:e}),s=await Kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(js(this));const n=e?wt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZI(this),n=new eC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qs("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await QI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zi(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ST(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&OI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Oh(i){return wt(i)}class sE{constructor(e){this.auth=e,this.observer=null,this.addObserver=gR(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nC(i){vp=i}function iC(i){return vp.loadJS(i)}function rC(){return vp.gapiScript}function sC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(i,e){const n=$s(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Fr(u,e??{}))return o;Ti(o,"already-initialized")}return n.initialize({options:e})}function oC(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Zi);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function lC(i,e,n){const s=Oh(i);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=wT(e),{host:f,port:m}=uC(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(Fr(g,s.config.emulator)&&Fr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,co(f)?(J0(`${u}//${f}${p}`),Z0("Auth",!0)):cC()}function wT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function uC(i){const e=wT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:aE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:aE(f)}}}function aE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function cC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,n){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(i,e){return zI(i,"POST","/v1/accounts:signInWithIdp",pp(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="http://localhost";class qs extends bT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=hp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new qs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ja(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ja(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ja(e,n)}buildRequest(){const e={requestUri:hC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=iu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends _p{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends su{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qs._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Xi.credential(n,s)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends su{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends su{constructor(){super("twitter.com")}static credential(e,n){return qs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ur.credential(n,s)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Kn._fromIdTokenResponse(e,s,o),f=oE(s);return new Wa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=oE(s);return new Wa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function oE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends Zn{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new ch(e,n,s,o)}}function RT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(i,u,e,s):u})}async function fC(i,e,n=!1){const s=await Kl(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Wa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(i,e,n=!1){const{auth:s}=i;if(Gn(s.app))return Promise.reject(js(s));const o="reauthenticate";try{const u=await Kl(i,RT(s,o,e,i),n);be(u.idToken,s,"internal-error");const f=gp(u.idToken);be(f,s,"internal-error");const{sub:m}=f;return be(i.uid===m,s,"user-mismatch"),Wa._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ti(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(i,e,n=!1){if(Gn(i.app))return Promise.reject(js(i));const s="signIn",o=await RT(i,s,e),u=await Wa._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}function pC(i,e,n,s){return wt(i).onIdTokenChanged(e,n,s)}function gC(i,e,n){return wt(i).beforeAuthStateChanged(e,n)}function yC(i,e,n,s){return wt(i).onAuthStateChanged(e,n,s)}function zc(i){return wt(i).signOut()}const hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=1e3,_C=10;class CT extends IT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);XI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_C):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},vC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CT.type="LOCAL";const EC=CT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT extends IT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NT.type="SESSION";const DT=NT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await TC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Ep("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const S=A;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return window}function SC(i){gi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function wC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bC(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function RC(){return OT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="firebaseLocalStorageDb",IC=1,fh="firebaseLocalStorage",MT="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mh(i,e){return i.transaction([fh],e?"readwrite":"readonly").objectStore(fh)}function CC(){const i=indexedDB.deleteDatabase(xT);return new au(i).toPromise()}function km(){const i=indexedDB.open(xT,IC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(fh,{keyPath:MT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(fh)?e(s):(s.close(),await CC(),e(await km()))})})}async function lE(i,e,n){const s=Mh(i,!0).put({[MT]:e,value:n});return new au(s).toPromise()}async function NC(i,e){const n=Mh(i,!1).get(e),s=await new au(n).toPromise();return s===void 0?null:s.value}function uE(i,e){const n=Mh(i,!0).delete(e);return new au(n).toPromise()}const DC=800,OC=3;class VT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>OC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(RC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wC(),!this.activeServiceWorker)return;this.sender=new AC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await km();return await lE(e,hh,"1"),await uE(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>lE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>NC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>uE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Mh(o,!1).getAll();return new au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VT.type="LOCAL";const xC=VT;new ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(i,e){return e?Zi(e):(be(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends bT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MC(i){return mC(i.auth,new Tp(i),i.bypassAuthState)}function VC(i){const{auth:e,user:n}=i;return be(n,e,"internal-error"),dC(n,new Tp(i),i.bypassAuthState)}async function kC(i){const{auth:e,user:n}=i;return be(n,e,"internal-error"),fC(n,new Tp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MC;case"linkViaPopup":case"linkViaRedirect":return kC;case"reauthViaPopup":case"reauthViaRedirect":return VC;default:Ti(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=new ru(2e3,1e4);async function LC(i,e,n){if(Gn(i.app))return Promise.reject(Yn(i,"operation-not-supported-in-this-environment"));const s=Oh(i);xI(i,e,_p);const o=kT(s,n);return new Ls(s,"signInViaPopup",e,o).executeNotNull()}class Ls extends PT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ls.currentPopupAction&&Ls.currentPopupAction.cancel(),Ls.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=Ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ls.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PC.get())};e()}}Ls.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="pendingRedirect",Xc=new Map;class zC extends PT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Xc.get(this.auth._key());if(!e){try{const s=await jC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Xc.set(this.auth._key(),e)}return this.bypassAuthState||Xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jC(i,e){const n=HC(e),s=qC(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function BC(i,e){Xc.set(i._key(),e)}function qC(i){return Zi(i._redirectPersistence)}function HC(i){return $c(UC,i.config.apiKey,i.name)}async function FC(i,e,n=!1){if(Gn(i.app))return Promise.reject(js(i));const s=Oh(i),o=kT(s,e),f=await new zC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=10*60*1e3;class KC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!LT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Yn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GC&&this.cachedEventUids.clear(),this.cachedEventUids.has(cE(e))}saveEventToCache(e){this.cachedEventUids.add(cE(e)),this.lastProcessedEventTime=Date.now()}}function cE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function LT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function YC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QC(i,e={}){return fo(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XC=/^https?/;async function JC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await QC(i);for(const n of e)try{if(ZC(n))return}catch{}Ti(i,"unauthorized-domain")}function ZC(i){const e=Mm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!XC.test(n))return!1;if($C.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new ru(3e4,6e4);function hE(){const i=gi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function e2(i){return new Promise((e,n)=>{var s,o,u;function f(){hE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hE(),n(Yn(i,"network-request-failed"))},timeout:WC.get()})}if(!((o=(s=gi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=gi().gapi)===null||u===void 0)&&u.load)f();else{const m=sC("iframefcb");return gi()[m]=()=>{gapi.load?f():n(Yn(i,"network-request-failed"))},iC(`${rC()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function t2(i){return Jc=Jc||e2(i),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=new ru(5e3,15e3),i2="__/auth/iframe",r2="emulator/auth/iframe",s2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o2(i){const e=i.config;be(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?mp(e,r2):`https://${i.config.authDomain}/${i2}`,s={apiKey:e.apiKey,appName:i.name,v:ho},o=a2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${iu(s).slice(1)}`}async function l2(i){const e=await t2(i),n=gi().gapi;return be(n,i,"internal-error"),e.open({where:document.body,url:o2(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Yn(i,"network-request-failed"),m=gi().setTimeout(()=>{u(f)},n2.get());function p(){gi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c2=500,h2=600,f2="_blank",d2="http://localhost";class fE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m2(i,e,n,s=c2,o=h2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},u2),{width:s.toString(),height:o.toString(),top:u,left:f}),g=en().toLowerCase();n&&(m=yT(g)?f2:n),pT(g)&&(e=e||d2,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[P,V])=>`${S}${P}=${V},`,"");if($I(g)&&m!=="_self")return p2(e||"",m),new fE(null);const A=window.open(e||"",m,E);be(A,i,"popup-blocked");try{A.focus()}catch{}return new fE(A)}function p2(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="__/auth/handler",y2="emulator/auth/handler",v2=encodeURIComponent("fac");async function dE(i,e,n,s,o,u){be(i.config.authDomain,i,"auth-domain-config-required"),be(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:ho,eventId:o};if(e instanceof _p){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",pR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof su){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${v2}=${encodeURIComponent(p)}`:"";return`${_2(i)}?${iu(m).slice(1)}${g}`}function _2({config:i}){return i.emulator?mp(i,y2):`https://${i.authDomain}/${g2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="webStorageSupport";class E2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DT,this._completeRedirectFn=FC,this._overrideRedirectResult=BC}async _openPopup(e,n,s,o){var u;ir((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await dE(e,n,s,Mm(),o);return m2(e,f,Ep())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await dE(e,n,s,Mm(),o);return SC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ir(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await l2(e),s=new KC(e);return n.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pm,{type:pm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[pm];f!==void 0&&n(!!f),Ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AT()||gT()||yp()}}const T2=E2;var mE="@firebase/auth",pE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w2(i){Ei(new $n("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ST(i)},g=new tC(s,o,u,p);return oC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ei(new $n("auth-internal",e=>{const n=Oh(e.getProvider("auth").getImmediate());return(s=>new A2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ln(mE,pE,S2(i)),Ln(mE,pE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=5*60,R2=X0("authIdTokenMaxAge")||b2;let gE=null;const I2=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>R2)return;const o=n==null?void 0:n.token;gE!==o&&(gE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function C2(i=cp()){const e=$s(i,"auth");if(e.isInitialized())return e.getImmediate();const n=aC(i,{popupRedirectResolver:T2,persistence:[xC,EC,DT]}),s=X0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=I2(u.toString());gC(n,f,()=>f(n.currentUser)),pC(n,m=>f(m))}}const o=Q0("auth");return o&&lC(n,`http://${o}`),n}function N2(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}nC({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Yn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",N2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w2("Browser");var yE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qr,UT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,b){function R(){}R.prototype=b.prototype,x.D=b.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(N,C,k){for(var I=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)I[Ve-2]=arguments[Ve];return b.prototype[C].apply(N,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,b,R){R||(R=0);var N=Array(16);if(typeof b=="string")for(var C=0;16>C;++C)N[C]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(C=0;16>C;++C)N[C]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=x.g[0],R=x.g[1],C=x.g[2];var k=x.g[3],I=b+(k^R&(C^k))+N[0]+3614090360&4294967295;b=R+(I<<7&4294967295|I>>>25),I=k+(C^b&(R^C))+N[1]+3905402710&4294967295,k=b+(I<<12&4294967295|I>>>20),I=C+(R^k&(b^R))+N[2]+606105819&4294967295,C=k+(I<<17&4294967295|I>>>15),I=R+(b^C&(k^b))+N[3]+3250441966&4294967295,R=C+(I<<22&4294967295|I>>>10),I=b+(k^R&(C^k))+N[4]+4118548399&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(C^b&(R^C))+N[5]+1200080426&4294967295,k=b+(I<<12&4294967295|I>>>20),I=C+(R^k&(b^R))+N[6]+2821735955&4294967295,C=k+(I<<17&4294967295|I>>>15),I=R+(b^C&(k^b))+N[7]+4249261313&4294967295,R=C+(I<<22&4294967295|I>>>10),I=b+(k^R&(C^k))+N[8]+1770035416&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(C^b&(R^C))+N[9]+2336552879&4294967295,k=b+(I<<12&4294967295|I>>>20),I=C+(R^k&(b^R))+N[10]+4294925233&4294967295,C=k+(I<<17&4294967295|I>>>15),I=R+(b^C&(k^b))+N[11]+2304563134&4294967295,R=C+(I<<22&4294967295|I>>>10),I=b+(k^R&(C^k))+N[12]+1804603682&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(C^b&(R^C))+N[13]+4254626195&4294967295,k=b+(I<<12&4294967295|I>>>20),I=C+(R^k&(b^R))+N[14]+2792965006&4294967295,C=k+(I<<17&4294967295|I>>>15),I=R+(b^C&(k^b))+N[15]+1236535329&4294967295,R=C+(I<<22&4294967295|I>>>10),I=b+(C^k&(R^C))+N[1]+4129170786&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^C&(b^R))+N[6]+3225465664&4294967295,k=b+(I<<9&4294967295|I>>>23),I=C+(b^R&(k^b))+N[11]+643717713&4294967295,C=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(C^k))+N[0]+3921069994&4294967295,R=C+(I<<20&4294967295|I>>>12),I=b+(C^k&(R^C))+N[5]+3593408605&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^C&(b^R))+N[10]+38016083&4294967295,k=b+(I<<9&4294967295|I>>>23),I=C+(b^R&(k^b))+N[15]+3634488961&4294967295,C=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(C^k))+N[4]+3889429448&4294967295,R=C+(I<<20&4294967295|I>>>12),I=b+(C^k&(R^C))+N[9]+568446438&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^C&(b^R))+N[14]+3275163606&4294967295,k=b+(I<<9&4294967295|I>>>23),I=C+(b^R&(k^b))+N[3]+4107603335&4294967295,C=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(C^k))+N[8]+1163531501&4294967295,R=C+(I<<20&4294967295|I>>>12),I=b+(C^k&(R^C))+N[13]+2850285829&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^C&(b^R))+N[2]+4243563512&4294967295,k=b+(I<<9&4294967295|I>>>23),I=C+(b^R&(k^b))+N[7]+1735328473&4294967295,C=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(C^k))+N[12]+2368359562&4294967295,R=C+(I<<20&4294967295|I>>>12),I=b+(R^C^k)+N[5]+4294588738&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^C)+N[8]+2272392833&4294967295,k=b+(I<<11&4294967295|I>>>21),I=C+(k^b^R)+N[11]+1839030562&4294967295,C=k+(I<<16&4294967295|I>>>16),I=R+(C^k^b)+N[14]+4259657740&4294967295,R=C+(I<<23&4294967295|I>>>9),I=b+(R^C^k)+N[1]+2763975236&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^C)+N[4]+1272893353&4294967295,k=b+(I<<11&4294967295|I>>>21),I=C+(k^b^R)+N[7]+4139469664&4294967295,C=k+(I<<16&4294967295|I>>>16),I=R+(C^k^b)+N[10]+3200236656&4294967295,R=C+(I<<23&4294967295|I>>>9),I=b+(R^C^k)+N[13]+681279174&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^C)+N[0]+3936430074&4294967295,k=b+(I<<11&4294967295|I>>>21),I=C+(k^b^R)+N[3]+3572445317&4294967295,C=k+(I<<16&4294967295|I>>>16),I=R+(C^k^b)+N[6]+76029189&4294967295,R=C+(I<<23&4294967295|I>>>9),I=b+(R^C^k)+N[9]+3654602809&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^C)+N[12]+3873151461&4294967295,k=b+(I<<11&4294967295|I>>>21),I=C+(k^b^R)+N[15]+530742520&4294967295,C=k+(I<<16&4294967295|I>>>16),I=R+(C^k^b)+N[2]+3299628645&4294967295,R=C+(I<<23&4294967295|I>>>9),I=b+(C^(R|~k))+N[0]+4096336452&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~C))+N[7]+1126891415&4294967295,k=b+(I<<10&4294967295|I>>>22),I=C+(b^(k|~R))+N[14]+2878612391&4294967295,C=k+(I<<15&4294967295|I>>>17),I=R+(k^(C|~b))+N[5]+4237533241&4294967295,R=C+(I<<21&4294967295|I>>>11),I=b+(C^(R|~k))+N[12]+1700485571&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~C))+N[3]+2399980690&4294967295,k=b+(I<<10&4294967295|I>>>22),I=C+(b^(k|~R))+N[10]+4293915773&4294967295,C=k+(I<<15&4294967295|I>>>17),I=R+(k^(C|~b))+N[1]+2240044497&4294967295,R=C+(I<<21&4294967295|I>>>11),I=b+(C^(R|~k))+N[8]+1873313359&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~C))+N[15]+4264355552&4294967295,k=b+(I<<10&4294967295|I>>>22),I=C+(b^(k|~R))+N[6]+2734768916&4294967295,C=k+(I<<15&4294967295|I>>>17),I=R+(k^(C|~b))+N[13]+1309151649&4294967295,R=C+(I<<21&4294967295|I>>>11),I=b+(C^(R|~k))+N[4]+4149444226&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~C))+N[11]+3174756917&4294967295,k=b+(I<<10&4294967295|I>>>22),I=C+(b^(k|~R))+N[2]+718787259&4294967295,C=k+(I<<15&4294967295|I>>>17),I=R+(k^(C|~b))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+C&4294967295,x.g[3]=x.g[3]+k&4294967295}s.prototype.u=function(x,b){b===void 0&&(b=x.length);for(var R=b-this.blockSize,N=this.B,C=this.h,k=0;k<b;){if(C==0)for(;k<=R;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<b;)if(N[C++]=x.charCodeAt(k++),C==this.blockSize){o(this,N),C=0;break}}else for(;k<b;)if(N[C++]=x[k++],C==this.blockSize){o(this,N),C=0;break}}this.h=C,this.o+=b},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;var R=8*this.o;for(b=x.length-8;b<x.length;++b)x[b]=R&255,R/=256;for(this.u(x),x=Array(16),b=R=0;4>b;++b)for(var N=0;32>N;N+=8)x[R++]=this.g[b]>>>N&255;return x};function u(x,b){var R=m;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=b(x)}function f(x,b){this.h=b;for(var R=[],N=!0,C=x.length-1;0<=C;C--){var k=x[C]|0;N&&k==b||(R[C]=k,N=!1)}this.g=R}var m={};function p(x){return-128<=x&&128>x?u(x,function(b){return new f([b|0],0>b?-1:0)}):new f([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return A;if(0>x)return U(g(-x));for(var b=[],R=1,N=0;x>=R;N++)b[N]=x/R|0,R*=4294967296;return new f(b,0)}function E(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return U(E(x.substring(1),b));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(b,8)),N=A,C=0;C<x.length;C+=8){var k=Math.min(8,x.length-C),I=parseInt(x.substring(C,C+k),b);8>k?(k=g(Math.pow(b,k)),N=N.j(k).add(g(I))):(N=N.j(R),N=N.add(g(I)))}return N}var A=p(0),S=p(1),P=p(16777216);i=f.prototype,i.m=function(){if(j(this))return-U(this).m();for(var x=0,b=1,R=0;R<this.g.length;R++){var N=this.i(R);x+=(0<=N?N:4294967296+N)*b,b*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(V(this))return"0";if(j(this))return"-"+U(this).toString(x);for(var b=g(Math.pow(x,6)),R=this,N="";;){var C=oe(R,b).g;R=q(R,C.j(b));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=C,V(R))return k+N;for(;6>k.length;)k="0"+k;N=k+N}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function V(x){if(x.h!=0)return!1;for(var b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function j(x){return x.h==-1}i.l=function(x){return x=q(this,x),j(x)?-1:V(x)?0:1};function U(x){for(var b=x.g.length,R=[],N=0;N<b;N++)R[N]=~x.g[N];return new f(R,~x.h).add(S)}i.abs=function(){return j(this)?U(this):this},i.add=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],N=0,C=0;C<=b;C++){var k=N+(this.i(C)&65535)+(x.i(C)&65535),I=(k>>>16)+(this.i(C)>>>16)+(x.i(C)>>>16);N=I>>>16,k&=65535,I&=65535,R[C]=I<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function q(x,b){return x.add(U(b))}i.j=function(x){if(V(this)||V(x))return A;if(j(this))return j(x)?U(this).j(U(x)):U(U(this).j(x));if(j(x))return U(this.j(U(x)));if(0>this.l(P)&&0>x.l(P))return g(this.m()*x.m());for(var b=this.g.length+x.g.length,R=[],N=0;N<2*b;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var C=0;C<x.g.length;C++){var k=this.i(N)>>>16,I=this.i(N)&65535,Ve=x.i(C)>>>16,pe=x.i(C)&65535;R[2*N+2*C]+=I*pe,X(R,2*N+2*C),R[2*N+2*C+1]+=k*pe,X(R,2*N+2*C+1),R[2*N+2*C+1]+=I*Ve,X(R,2*N+2*C+1),R[2*N+2*C+2]+=k*Ve,X(R,2*N+2*C+2)}for(N=0;N<b;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=b;N<2*b;N++)R[N]=0;return new f(R,0)};function X(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function ie(x,b){this.g=x,this.h=b}function oe(x,b){if(V(b))throw Error("division by zero");if(V(x))return new ie(A,A);if(j(x))return b=oe(U(x),b),new ie(U(b.g),U(b.h));if(j(b))return b=oe(x,U(b)),new ie(U(b.g),b.h);if(30<x.g.length){if(j(x)||j(b))throw Error("slowDivide_ only works with positive integers.");for(var R=S,N=b;0>=N.l(x);)R=ue(R),N=ue(N);var C=_e(R,1),k=_e(N,1);for(N=_e(N,2),R=_e(R,2);!V(N);){var I=k.add(N);0>=I.l(x)&&(C=C.add(R),k=I),N=_e(N,1),R=_e(R,1)}return b=q(x,C.j(b)),new ie(C,b)}for(C=A;0<=x.l(b);){for(R=Math.max(1,Math.floor(x.m()/b.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),k=g(R),I=k.j(b);j(I)||0<I.l(x);)R-=N,k=g(R),I=k.j(b);V(k)&&(k=S),C=C.add(k),x=q(x,I)}return new ie(C,x)}i.A=function(x){return oe(this,x).h},i.and=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)&x.i(N);return new f(R,this.h&x.h)},i.or=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)|x.i(N);return new f(R,this.h|x.h)},i.xor=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)^x.i(N);return new f(R,this.h^x.h)};function ue(x){for(var b=x.g.length+1,R=[],N=0;N<b;N++)R[N]=x.i(N)<<1|x.i(N-1)>>>31;return new f(R,x.h)}function _e(x,b){var R=b>>5;b%=32;for(var N=x.g.length-R,C=[],k=0;k<N;k++)C[k]=0<b?x.i(k+R)>>>b|x.i(k+R+1)<<32-b:x.i(k+R);return new f(C,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,UT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,qr=f}).apply(typeof yE<"u"?yE:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zT,Ol,jT,Zc,Pm,BT,qT,HT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var B=c[w];if(!(B in v))break e;v=v[B]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,w=!1,B={next:function(){if(!w&&v<c.length){var $=v++;return{value:y($,c[$]),done:!1}}return w=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function A(c,y,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,w),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,S.apply(null,arguments)}function P(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function V(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(w,B,$){for(var ae=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ae[ze-2]=arguments[ze];return y.prototype[B].apply(w,ae)}}function j(c){const y=c.length;if(0<y){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function U(c,y){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(p(w)){const B=c.length||0,$=w.length||0;c.length=B+$;for(let ae=0;ae<$;ae++)c[B+ae]=w[ae]}else c.push(w)}}class q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(c){return/^[\s\xa0]*$/.test(c)}function ie(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var ue=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function _e(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function x(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function b(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let v,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(v in w)c[v]=w[v];for(let $=0;$<R.length;$++)v=R[$],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function C(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function k(c){m.setTimeout(()=>{throw c},0)}function I(){var c=Ne;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ve{constructor(){this.h=this.g=null}add(y,v){const w=pe.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var pe=new q(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let se,he=!1,Ne=new Ve,M=()=>{const c=m.Promise.resolve(void 0);se=()=>{c.then(ne)}};var ne=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(v){k(v)}var y=pe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}he=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function De(c,y){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ue){e:{try{oe(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}V(De,re);var Se={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ut="closure_listenable_"+(1e6*Math.random()|0),ce=0;function Xe(c,y,v,w,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=B,this.key=++ce,this.da=this.fa=!1}function ct(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function an(c){this.src=c,this.g={},this.h=0}an.prototype.add=function(c,y,v,w,B){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ae=es(c,y,w,B);return-1<ae?(y=c[ae],v||(y.fa=!1)):(y=new Xe(y,this.src,$,!!w,B),y.fa=v,c.push(y)),y};function Kt(c,y){var v=y.type;if(v in c.g){var w=c.g[v],B=Array.prototype.indexOf.call(w,y,void 0),$;($=0<=B)&&Array.prototype.splice.call(w,B,1),$&&(ct(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function es(c,y,v,w){for(var B=0;B<c.length;++B){var $=c[B];if(!$.da&&$.listener==y&&$.capture==!!v&&$.ha==w)return B}return-1}var ts="closure_lm_"+(1e6*Math.random()|0),_o={};function du(c,y,v,w,B){if(Array.isArray(y)){for(var $=0;$<y.length;$++)du(c,y[$],v,w,B);return null}return v=mu(v),c&&c[ut]?c.K(y,v,g(w)?!!w.capture:!1,B):wn(c,y,v,!1,w,B)}function wn(c,y,v,w,B,$){if(!y)throw Error("Invalid event type");var ae=g(B)?!!B.capture:!!B,ze=Ws(c);if(ze||(c[ts]=ze=new an(c)),v=ze.add(y,v,w,ae,$),v.proxy)return v;if(w=ef(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)ye||(B=ae),B===void 0&&(B=!1),c.addEventListener(y.toString(),w,B);else if(c.attachEvent)c.attachEvent(ns(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ef(){function c(v){return y.call(c.src,c.listener,v)}const y=tf;return c}function Eo(c,y,v,w,B){if(Array.isArray(y))for(var $=0;$<y.length;$++)Eo(c,y[$],v,w,B);else w=g(w)?!!w.capture:!!w,v=mu(v),c&&c[ut]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],v=es($,v,w,B),-1<v&&(ct($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ws(c))&&(y=c.g[y.toString()],c=-1,y&&(c=es(y,v,w,B)),(v=-1<c?y[c]:null)&&Zs(v))}function Zs(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ut])Kt(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(ns(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=Ws(y))?(Kt(v,c),v.h==0&&(v.src=null,y[ts]=null)):ct(c)}}}function ns(c){return c in _o?_o[c]:_o[c]="on"+c}function tf(c,y){if(c.da)c=!0;else{y=new De(y,this);var v=c.listener,w=c.ha||c.src;c.fa&&Zs(c),c=v.call(w,y)}return c}function Ws(c){return c=c[ts],c instanceof an?c:null}var To="__closure_events_fn_"+(1e9*Math.random()>>>0);function mu(c){return typeof c=="function"?c:(c[To]||(c[To]=function(y){return c.handleEvent(y)}),c[To])}function ht(){le.call(this),this.i=new an(this),this.M=this,this.F=null}V(ht,le),ht.prototype[ut]=!0,ht.prototype.removeEventListener=function(c,y,v,w){Eo(this,c,y,v,w)};function Ye(c,y){var v,w=c.F;if(w)for(v=[];w;w=w.F)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new re(y,c);else if(y instanceof re)y.target=y.target||c;else{var B=y;y=new re(w,c),N(y,B)}if(B=!0,v)for(var $=v.length-1;0<=$;$--){var ae=y.g=v[$];B=dn(ae,w,!0,y)&&B}if(ae=y.g=c,B=dn(ae,w,!0,y)&&B,B=dn(ae,w,!1,y)&&B,v)for($=0;$<v.length;$++)ae=y.g=v[$],B=dn(ae,w,!1,y)&&B}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],w=0;w<v.length;w++)ct(v[w]);delete c.g[y],c.h--}}this.F=null},ht.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},ht.prototype.L=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function dn(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,$=0;$<y.length;++$){var ae=y[$];if(ae&&!ae.da&&ae.capture==v){var ze=ae.listener,Rt=ae.ha||ae.src;ae.fa&&Kt(c.i,ae),B=ze.call(Rt,w)!==!1&&B}}return B&&!w.defaultPrevented}function Yt(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function pu(c){c.g=Yt(()=>{c.g=null,c.i&&(c.i=!1,pu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nf extends le{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:pu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(c){le.call(this),this.h=c,this.g={}}V(is,le);var rs=[];function ss(c){_e(c.g,function(y,v){this.g.hasOwnProperty(v)&&Zs(y)},c),c.g={}}is.prototype.N=function(){is.aa.N.call(this),ss(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=m.JSON.stringify,ea=m.JSON.parse,as=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ao(){}Ao.prototype.h=null;function So(c){return c.h||(c.h=c.i())}function wo(){}var wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bi(){re.call(this,"d")}V(bi,re);function bo(){re.call(this,"c")}V(bo,re);var Wn={},Ro=null;function or(){return Ro=Ro||new ht}Wn.La="serverreachability";function ta(c){re.call(this,Wn.La,c)}V(ta,re);function lr(c){const y=or();Ye(y,new ta(y))}Wn.STAT_EVENT="statevent";function gu(c,y){re.call(this,Wn.STAT_EVENT,c),this.stat=y}V(gu,re);function rt(c){const y=or();Ye(y,new gu(y,c))}Wn.Ma="timingevent";function bt(c,y){re.call(this,Wn.Ma,c),this.size=y}V(bt,re);function vt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function bn(){this.g=!0}bn.prototype.xa=function(){this.g=!1};function Io(c,y,v,w,B,$){c.info(function(){if(c.g)if($)for(var ae="",ze=$.split("&"),Rt=0;Rt<ze.length;Rt++){var je=ze[Rt].split("=");if(1<je.length){var Mt=je[0];je=je[1];var It=Mt.split("_");ae=2<=It.length&&It[1]=="type"?ae+(Mt+"="+je+"&"):ae+(Mt+"=redacted&")}}else ae=null;else ae=$;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+y+`
`+v+`
`+ae})}function rf(c,y,v,w,B,$,ae){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+y+`
`+v+`
`+$+" "+ae})}function ur(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+os(c,v)+(w?" "+w:"")})}function yu(c,y){c.info(function(){return"TIMEOUT: "+y})}bn.prototype.info=function(){};function os(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var w=v[c];if(!(2>w.length)){var B=w[1];if(Array.isArray(B)&&!(1>B.length)){var $=B[0];if($!="noop"&&$!="stop"&&$!="close")for(var ae=1;ae<B.length;ae++)B[ae]=""}}}}return zn(v)}catch{return y}}var cr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ei;function ti(){}V(ti,Ao),ti.prototype.g=function(){return new XMLHttpRequest},ti.prototype.i=function(){return{}},ei=new ti;function tn(c,y,v,w){this.j=c,this.i=y,this.l=v,this.R=w||1,this.U=new is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}var Co={},na={};function jn(c,y,v){c.L=1,c.v=fs(mn(y)),c.m=v,c.P=!0,Ii(c,null)}function Ii(c,y){c.F=Date.now(),ls(c),c.A=mn(c.v);var v=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Vo(v.i,"t",w),c.C=0,v=c.j.J,c.h=new mt,c.g=Mu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new nf(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,w=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(rs[0]=B.toString()),B=rs);for(var $=0;$<B.length;$++){var ae=du(v,B[$],w||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),lr(),Io(c.i,c.u,c.A,c.l,c.R,c.m)}tn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Nn(c)==3?y.j():this.Y(c)},tn.prototype.Y=function(c){try{if(c==this.g)e:{const It=Nn(this.g);var y=this.g.Ba();const ki=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||bu(this.g)))){this.J||It!=4||y==7||(y==8||0>=ki?lr(3):lr(2)),hr(this);var v=this.g.Z();this.X=v;t:if(vu(this)){var w=bu(this.g);c="";var B=w.length,$=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),ni(this);var ae="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!($&&y==B-1)});w.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,rf(this.i,this.u,this.A,this.l,this.R,It,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Rt=this.g;if((ze=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(ze)){var je=ze;break t}}je=null}if(v=je)ur(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,us(this,v);else{this.o=!1,this.s=3,rt(12),Ut(this),ni(this);break e}}if(this.P){v=!0;let zt;for(;!this.J&&this.C<ae.length;)if(zt=_u(this,ae),zt==na){It==4&&(this.s=4,rt(14),v=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Co){this.s=4,rt(15),ur(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else ur(this.i,this.l,zt,null),us(this,zt);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||ae.length!=0||this.h.h||(this.s=1,rt(16),v=!1),this.o=this.o&&v,!v)ur(this.i,this.l,ae,"[Invalid Chunked Response]"),Ut(this),ni(this);else if(0<ae.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Es(Mt),Mt.M=!0,rt(11))}}else ur(this.i,this.l,ae,null),us(this,ae);It==4&&Ut(this),this.o&&!this.J&&(It==4?Du(this.j,this):(this.o=!1,ls(this)))}else uf(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Ut(this),ni(this)}}}catch{}finally{}};function vu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _u(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?na:(v=Number(y.substring(v,w)),isNaN(v)?Co:(w+=1,w+v>y.length?na:(y=y.slice(w,w+v),c.C=w+v,y)))}tn.prototype.cancel=function(){this.J=!0,Ut(this)};function ls(c){c.S=Date.now()+c.I,Eu(c,c.I)}function Eu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vt(S(c.ba,c),y)}function hr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}tn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(yu(this.i,this.A),this.L!=2&&(lr(),rt(17)),Ut(this),this.s=2,ni(this)):Eu(this,this.S-c)};function ni(c){c.j.G==0||c.J||Du(c.j,c)}function Ut(c){hr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ss(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function us(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||No(v.h,c))){if(!c.K&&No(v.h,c)&&v.G==3){try{var w=v.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ma(v),fa(v);else break e;zo(v),rt(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=vt(S(v.Za,v),6e3));if(1>=ra(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Vi(v,11)}else if((c.K||v.g==c)&&ma(v),!X(y))for(B=v.Da.g.parse(y),y=0;y<B.length;y++){let je=B[y];if(v.T=je[0],je=je[1],v.G==2)if(je[0]=="c"){v.K=je[1],v.ia=je[2];const Mt=je[3];Mt!=null&&(v.la=Mt,v.j.info("VER="+v.la));const It=je[4];It!=null&&(v.Aa=It,v.j.info("SVER="+v.Aa));const ki=je[5];ki!=null&&typeof ki=="number"&&0<ki&&(w=1.5*ki,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const zt=c.g;if(zt){const ui=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var $=w.h;$.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(sa($,$.h),$.h=null))}if(w.D){const Bo=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Bo&&(w.ya=Bo,Je(w.I,w.D,Bo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var ae=c;if(w.qa=xu(w,w.J?w.ia:null,w.W),ae.K){nn(w.h,ae);var ze=ae,Rt=w.L;Rt&&(ze.I=Rt),ze.B&&(hr(ze),ls(ze)),w.g=ae}else Cu(w);0<v.i.length&&da(v)}else je[0]!="stop"&&je[0]!="close"||Vi(v,7);else v.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Vi(v,7):Lo(v):je[0]!="noop"&&v.l&&v.l.ta(je),v.v=0)}}lr(4)}catch{}}var Tu=class{constructor(c,y){this.g=c,this.map=y}};function Ci(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ia(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ra(c){return c.h?1:c.g?c.g.size:0}function No(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function sa(c,y){c.g?c.g.add(y):c.h=y}function nn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ci.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Do(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return j(c.i)}function sf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,w=0;w<v;w++)y.push(c[w]);return y}y=[],v=0;for(w in c)y[v++]=c[w];return y}function aa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const w in c)y[v++]=w;return y}}}function Oo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=aa(c),w=sf(c),B=w.length,$=0;$<B;$++)y.call(void 0,w[$],v&&v[$],c)}var cs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function af(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),B=null;if(0<=w){var $=c[v].substring(0,w);B=c[v].substring(w+1)}else $=c[v];y($,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function _t(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _t){this.h=c.h,hs(this,c.j),this.o=c.o,this.g=c.g,fr(this,c.s),this.l=c.l;var y=c.i,v=new Di;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Ni(this,v),this.m=c.m}else c&&(y=String(c).match(cs))?(this.h=!1,hs(this,y[1]||"",!0),this.o=Rn(y[2]||""),this.g=Rn(y[3]||"",!0),fr(this,y[4]),this.l=Rn(y[5]||"",!0),Ni(this,y[6]||"",!0),this.m=Rn(y[7]||"")):(this.h=!1,this.i=new Di(null,this.h))}_t.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ds(y,xo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ds(y,xo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ds(v,v.charAt(0)=="/"?of:Mo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ds(v,oa)),c.join("")};function mn(c){return new _t(c)}function hs(c,y,v){c.j=v?Rn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function fr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ni(c,y,v){y instanceof Di?(c.i=y,Su(c.i,c.h)):(v||(y=ds(y,lf)),c.i=new Di(y,c.h))}function Je(c,y,v){c.i.set(y,v)}function fs(c){return Je(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ds(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Au),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Au(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var xo=/[#\/\?@]/g,Mo=/[#\?:]/g,of=/[#\?]/g,lf=/[#\?@]/g,oa=/#/g;function Di(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function In(c){c.g||(c.g=new Map,c.h=0,c.i&&af(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Di.prototype,i.add=function(c,y){In(this),this.i=null,c=ii(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Oi(c,y){In(c),y=ii(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function xi(c,y){return In(c),y=ii(c,y),c.g.has(y)}i.forEach=function(c,y){In(this),this.g.forEach(function(v,w){v.forEach(function(B){c.call(y,B,w,this)},this)},this)},i.na=function(){In(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let w=0;w<y.length;w++){const B=c[w];for(let $=0;$<B.length;$++)v.push(y[w])}return v},i.V=function(c){In(this);let y=[];if(typeof c=="string")xi(this,c)&&(y=y.concat(this.g.get(ii(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return In(this),this.i=null,c=ii(this,c),xi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Vo(c,y,v){Oi(c,y),0<v.length&&(c.i=null,c.g.set(ii(c,y),j(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var w=y[v];const $=encodeURIComponent(String(w)),ae=this.V(w);for(w=0;w<ae.length;w++){var B=$;ae[w]!==""&&(B+="="+encodeURIComponent(String(ae[w]))),c.push(B)}}return this.i=c.join("&")};function ii(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Su(c,y){y&&!c.j&&(In(c),c.i=null,c.g.forEach(function(v,w){var B=w.toLowerCase();w!=B&&(Oi(this,w),Vo(this,B,v))},c)),c.j=y}function ms(c,y){const v=new bn;if(m.Image){const w=new Image;w.onload=P(Cn,v,"TestLoadImage: loaded",!0,y,w),w.onerror=P(Cn,v,"TestLoadImage: error",!1,y,w),w.onabort=P(Cn,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=P(Cn,v,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Bn(c,y){const v=new bn,w=new AbortController,B=setTimeout(()=>{w.abort(),Cn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then($=>{clearTimeout(B),$.ok?Cn(v,"TestPingServer: ok",!0,y):Cn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Cn(v,"TestPingServer: error",!1,y)})}function Cn(c,y,v,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(v)}catch{}}function ps(){this.g=new as}function ri(c,y,v){const w=v||"";try{Oo(c,function(B,$){let ae=B;g(B)&&(ae=zn(B)),y.push(w+$+"="+encodeURIComponent(ae))})}catch(B){throw y.push(w+"type="+encodeURIComponent("_badmap")),B}}function dr(c){this.l=c.Ub||null,this.j=c.eb||!1}V(dr,Ao),dr.prototype.g=function(){return new Mi(this.l,this.j)},dr.prototype.i=function(c){return function(){return c}}({});function Mi(c,y){ht.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Mi,ht),i=Mi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ai(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?si(this):ai(this),this.readyState==3&&ko(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,si(this))},i.Qa=function(c){this.g&&(this.response=c,si(this))},i.ga=function(){this.g&&si(this)};function si(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ai(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ai(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Po(c){let y="";return _e(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function xt(c,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=Po(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Je(c,y,v))}function Ge(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Ge,ht);var la=/^https?$/i,gs=["POST","PUT"];i=Ge.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ei.g(),this.v=this.o?So(this.o):So(ei),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){wu(this,$);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)v.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())v.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(gs,y,void 0))||w||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ae]of v)this.g.setRequestHeader($,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ys(this),this.u=!0,this.g.send(c),this.u=!1}catch($){wu(this,$)}};function wu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ua(c),oi(c)}function ua(c){c.A||(c.A=!0,Ye(c,"complete"),Ye(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ye(this,"complete"),Ye(this,"abort"),oi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oi(this,!0)),Ge.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ca(this):this.bb())},i.bb=function(){ca(this)};function ca(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Nn(c)!=4||c.Z()!=2)){if(c.u&&Nn(c)==4)Yt(c.Ea,0,c);else if(Ye(c,"readystatechange"),Nn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=ae===0){var B=String(c.D).match(cs)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),w=!la.test(B?B.toLowerCase():"")}v=w}if(v)Ye(c,"complete"),Ye(c,"success");else{c.m=6;try{var $=2<Nn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",ua(c)}}finally{oi(c)}}}}function oi(c,y){if(c.g){ys(c);const v=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ye(c,"ready");try{v.onreadystatechange=w}catch{}}}function ys(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Nn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ea(y)}};function bu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function uf(c){const y={};c=(c.g&&2<=Nn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(X(c[w]))continue;var v=C(c[w]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=y[B]||[];y[B]=$,$.push(v)}x(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function ha(c){this.Aa=0,this.i=[],this.j=new bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vs("baseRetryDelayMs",5e3,c),this.cb=vs("retryDelaySeedMs",1e4,c),this.Wa=vs("forwardChannelMaxRetries",2,c),this.wa=vs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ci(c&&c.concurrentRequestLimit),this.Da=new ps,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ha.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,w){rt(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=xu(this,null,this.W),da(this)};function Lo(c){if(Ru(c),c.G==3){var y=c.U++,v=mn(c.I);if(Je(v,"SID",c.K),Je(v,"RID",y),Je(v,"TYPE","terminate"),_s(c,v),y=new tn(c,c.j,y),y.L=2,y.v=fs(mn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Mu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ls(y)}Ou(c)}function fa(c){c.g&&(Es(c),c.g.cancel(),c.g=null)}function Ru(c){fa(c),c.u&&(m.clearTimeout(c.u),c.u=null),ma(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function da(c){if(!ia(c.h)&&!c.s){c.s=!0;var y=c.Ga;se||M(),he||(se(),he=!0),Ne.add(y,c),c.B=0}}function cf(c,y){return ra(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vt(S(c.Ga,c,y),jo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new tn(this,this.j,c);let $=this.o;if(this.S&&($?($=b($),N($,this.S)):$=this.S),this.m!==null||this.O||(B.H=$,$=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Iu(this,B,y),v=mn(this.I),Je(v,"RID",c),Je(v,"CVER",22),this.D&&Je(v,"X-HTTP-Session-Id",this.D),_s(this,v),$&&(this.O?y="headers="+encodeURIComponent(String(Po($)))+"&"+y:this.m&&xt(v,this.m,$)),sa(this.h,B),this.Ua&&Je(v,"TYPE","init"),this.P?(Je(v,"$req",y),Je(v,"SID","null"),B.T=!0,jn(B,v,null)):jn(B,v,y),this.G=2}}else this.G==3&&(c?Uo(this,c):this.i.length==0||ia(this.h)||Uo(this))};function Uo(c,y){var v;y?v=y.l:v=c.U++;const w=mn(c.I);Je(w,"SID",c.K),Je(w,"RID",v),Je(w,"AID",c.T),_s(c,w),c.m&&c.o&&xt(w,c.m,c.o),v=new tn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Iu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),sa(c.h,v),jn(v,w,y)}function _s(c,y){c.H&&_e(c.H,function(v,w){Je(y,w,v)}),c.l&&Oo({},function(v,w){Je(y,w,v)})}function Iu(c,y,v){v=Math.min(c.i.length,v);var w=c.l?S(c.l.Na,c.l,c):null;e:{var B=c.i;let $=-1;for(;;){const ae=["count="+v];$==-1?0<v?($=B[0].g,ae.push("ofs="+$)):$=0:ae.push("ofs="+$);let ze=!0;for(let Rt=0;Rt<v;Rt++){let je=B[Rt].g;const Mt=B[Rt].map;if(je-=$,0>je)$=Math.max(0,B[Rt].g-100),ze=!1;else try{ri(Mt,ae,"req"+je+"_")}catch{w&&w(Mt)}}if(ze){w=ae.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,w}function Cu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;se||M(),he||(se(),he=!0),Ne.add(y,c),c.v=0}}function zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vt(S(c.Fa,c),jo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Nu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vt(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),fa(this),Nu(this))};function Es(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Nu(c){c.g=new tn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);Je(y,"RID","rpc"),Je(y,"SID",c.K),Je(y,"AID",c.T),Je(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Je(y,"TO",c.ja),Je(y,"TYPE","xmlhttp"),_s(c,y),c.m&&c.o&&xt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=fs(mn(y)),v.m=null,v.P=!0,Ii(v,c)}i.Za=function(){this.C!=null&&(this.C=null,fa(this),zo(this),rt(19))};function ma(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Du(c,y){var v=null;if(c.g==y){ma(c),Es(c),c.g=null;var w=2}else if(No(c.h,y))v=y.D,nn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;w=or(),Ye(w,new bt(w,v)),da(c)}else Cu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(w==1&&cf(c,y)||w==2&&zo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),B){case 1:Vi(c,5);break;case 4:Vi(c,10);break;case 3:Vi(c,6);break;default:Vi(c,2)}}}function jo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Vi(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),w=c.Xa;const B=!w;w=new _t(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||hs(w,"https"),fs(w),B?ms(w.toString(),v):Bn(w.toString(),v)}else rt(2);c.G=0,c.l&&c.l.sa(y),Ou(c),Ru(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Ou(c){if(c.G=0,c.ka=[],c.l){const y=Do(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function xu(c,y,v){var w=v instanceof _t?mn(v):new _t(v);if(w.g!="")y&&(w.g=y+"."+w.g),fr(w,w.s);else{var B=m.location;w=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var $=new _t(null);w&&hs($,w),y&&($.g=y),B&&fr($,B),v&&($.l=v),w=$}return v=c.D,y=c.ya,v&&y&&Je(w,v,y),Je(w,"VER",c.la),_s(c,w),w}function Mu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ge(new dr({eb:v})):new Ge(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}i=Vu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function pa(){}pa.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){ht.call(this),this.g=new ha(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!X(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new li(this)}V(rn,ht),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Lo(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=zn(c),c=v);y.i.push(new Tu(y.Ya++,c)),y.G==3&&da(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,rn.aa.N.call(this)};function ku(c){bi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(ku,bi);function Pu(){bo.call(this),this.status=1}V(Pu,bo);function li(c){this.g=c}V(li,Vu),li.prototype.ua=function(){Ye(this.g,"a")},li.prototype.ta=function(c){Ye(this.g,new ku(c))},li.prototype.sa=function(c){Ye(this.g,new Pu)},li.prototype.ra=function(){Ye(this.g,"b")},pa.prototype.createWebChannel=pa.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,HT=function(){return new pa},qT=function(){return or()},BT=Wn,Pm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,Zc=cr,Ri.COMPLETE="complete",jT=Ri,wo.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Ol=wo,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,zT=Ge}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});const vE="@firebase/firestore",_E="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new Dh("@firebase/firestore");function Ga(){return Hs.logLevel}function fe(i,...e){if(Hs.logLevel<=Le.DEBUG){const n=e.map(Ap);Hs.debug(`Firestore (${mo}): ${i}`,...n)}}function rr(i,...e){if(Hs.logLevel<=Le.ERROR){const n=e.map(Ap);Hs.error(`Firestore (${mo}): ${i}`,...n)}}function eo(i,...e){if(Hs.logLevel<=Le.WARN){const n=e.map(Ap);Hs.warn(`Firestore (${mo}): ${i}`,...n)}}function Ap(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,FT(i,s,n)}function FT(i,e,n){let s=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw rr(s),new Error(s)}function Ke(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||FT(e,o,s)}function Ie(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Zn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class O2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class x2{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new er;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new er,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new er)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new GT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class M2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new M2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class k2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new EE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new EE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=P2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function xe(i,e){return i<e?-1:i>e?1:0}function Lm(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return xe(s,o);{const u=KT(),f=L2(u.encode(TE(i,n)),u.encode(TE(e,n)));return f!==0?f:xe(s,o)}}n+=s>65535?2:1}return xe(i.length,e.length)}function TE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function L2(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return xe(i[n],e[n]);return xe(i.length,e.length)}function to(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=-62135596800,SE=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*SE);return new Dt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<AE)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/SE}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-AE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Dt(0,0))}static max(){return new Re(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="__name__";class pi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=pi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return xe(e.length,n.length)}static compareSegments(e,n){const s=pi.isNumericId(e),o=pi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?pi.extractNumericId(e).compare(pi.extractNumericId(n)):Lm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qr.fromString(e.substring(4,e.length-2))}}class it extends pi{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new it(n)}static emptyPath(){return new it([])}}const U2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends pi{construct(e,n,s){return new Ft(e,n,s)}static isValidIdentifier(e){return U2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wE}static keyField(){return new Ft([wE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new de(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(it.fromString(e))}static fromName(e){return new ve(it.fromString(e).popFirst(5))}static empty(){return new ve(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;function z2(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new Dt(n+1,0):new Dt(n,s));return new Gr(o,ve.empty(),e)}function j2(i){return new Gr(i.readTime,i.key,Yl)}class Gr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Gr(Re.min(),ve.empty(),Yl)}static max(){return new Gr(Re.max(),ve.empty(),Yl)}}function B2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(i.documentKey,e.documentKey),n!==0?n:xe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==q2)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,s)=>{n(e)})}static reject(e){return new te((n,s)=>{s(e)})}static waitFor(e){return new te((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next(o=>o?te.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new te((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new te((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function F2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function go(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Vh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=-1;function kh(i){return i==null}function dh(i){return i===0&&1/i==-1/0}function G2(i){return typeof i=="number"&&Number.isInteger(i)&&!dh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="";function K2(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=bE(e)),e=Y2(i.get(n),e);return bE(e)}function Y2(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case QT:n+="";break;default:n+=u}}return n}function bE(i){return i+QT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Zr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function $T(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ht(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new IE(this.data.getIterator())}getIteratorFrom(e){return new IE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class IE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new An([])}unionWith(e){let n=new Ot(Ft.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new XT("Invalid base64 string: "+u):u}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const Q2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(i){if(Ke(!!i,39018),typeof i=="string"){let e=0;const n=Q2.exec(i);if(Ke(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(i.seconds),nanos:yt(i.nanos)}}function yt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Yr(i){return typeof i=="string"?Gt.fromBase64String(i):Gt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="server_timestamp",ZT="__type__",WT="__previous_value__",eA="__local_write_time__";function wp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZT])===null||n===void 0?void 0:n.stringValue)===JT}function Ph(i){const e=i.mapValue.fields[WT];return wp(e)?Ph(e):e}function Ql(i){const e=Kr(i.mapValue.fields[eA].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const mh="(default)";class $l{constructor(e,n){this.projectId=e,this.database=n||mh}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===mh}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="__type__",X2="__max__",qc={mapValue:{}},nA="__vector__",ph="value";function Qr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?wp(i)?4:Z2(i)?9007199254740991:J2(i)?10:11:Ae(28295,{value:i})}function Ai(i,e){if(i===e)return!0;const n=Qr(i);if(n!==Qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ql(i).isEqual(Ql(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Kr(o.timestampValue),m=Kr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Yr(o.bytesValue).isEqual(Yr(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=yt(o.doubleValue),m=yt(u.doubleValue);return f===m?dh(f)===dh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return to(i.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(RE(f)!==RE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ai(f[p],m[p])))return!1;return!0}(i,e);default:return Ae(52216,{left:i})}}function Xl(i,e){return(i.values||[]).find(n=>Ai(n,e))!==void 0}function no(i,e){if(i===e)return 0;const n=Qr(i),s=Qr(e);if(n!==s)return xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=yt(u.integerValue||u.doubleValue),p=yt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return CE(i.timestampValue,e.timestampValue);case 4:return CE(Ql(i),Ql(e));case 5:return Lm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=Yr(u),p=Yr(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=xe(m[g],p[g]);if(E!==0)return E}return xe(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=xe(yt(u.latitude),yt(f.latitude));return m!==0?m:xe(yt(u.longitude),yt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return NE(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const A=u.fields||{},S=f.fields||{},P=(m=A[ph])===null||m===void 0?void 0:m.arrayValue,V=(p=S[ph])===null||p===void 0?void 0:p.arrayValue,j=xe(((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0,((E=V==null?void 0:V.values)===null||E===void 0?void 0:E.length)||0);return j!==0?j:NE(P,V)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===qc.mapValue&&f===qc.mapValue)return 0;if(u===qc.mapValue)return 1;if(f===qc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const S=Lm(p[A],E[A]);if(S!==0)return S;const P=no(m[p[A]],g[E[A]]);if(P!==0)return P}return xe(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Ae(23264,{Pe:n})}}function CE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return xe(i,e);const n=Kr(i),s=Kr(e),o=xe(n.seconds,s.seconds);return o!==0?o:xe(n.nanos,s.nanos)}function NE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=no(n[o],s[o]);if(u)return u}return xe(n.length,s.length)}function io(i){return Um(i)}function Um(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Kr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Yr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ve.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Um(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Um(n.fields[f])}`;return o+"}"}(i.mapValue):Ae(61005,{value:i})}function Wc(i){switch(Qr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(i);return e?16+Wc(e):16;case 5:return 2*i.stringValue.length;case 6:return Yr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Wc(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Zr(s.fields,(u,f)=>{o+=u.length+Wc(f)}),o}(i.mapValue);default:throw Ae(13486,{value:i})}}function DE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function zm(i){return!!i&&"integerValue"in i}function bp(i){return!!i&&"arrayValue"in i}function OE(i){return!!i&&"nullValue"in i}function xE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function eh(i){return!!i&&"mapValue"in i}function J2(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[tA])===null||n===void 0?void 0:n.stringValue)===nA}function Ll(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Zr(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ll(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ll(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Z2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===X2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(n)}setAll(e){let n=Ft.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ll(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Zr(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new hn(Ll(this.value))}}function iA(i){const e=[];return Zr(i.fields,(n,s)=>{const o=new Ft([n]);if(eh(s)){const u=iA(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Re.min(),Re.min(),Re.min(),hn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Re.min(),Re.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Re.min(),Re.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.position=e,this.inclusive=n}}function ME(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(f.referenceValue),n.key):s=no(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function VE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ai(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n="asc"){this.field=e,this.dir=n}}function W2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{}class St extends rA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new tN(e,n,s):n==="array-contains"?new rN(e,s):n==="in"?new sN(e,s):n==="not-in"?new aN(e,s):n==="array-contains-any"?new oN(e,s):new St(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new nN(e,s):new iN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(no(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends rA{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Xn(e,n)}matches(e){return sA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function sA(i){return i.op==="and"}function aA(i){return eN(i)&&sA(i)}function eN(i){for(const e of i.filters)if(e instanceof Xn)return!1;return!0}function jm(i){if(i instanceof St)return i.field.canonicalString()+i.op.toString()+io(i.value);if(aA(i))return i.filters.map(e=>jm(e)).join(",");{const e=i.filters.map(n=>jm(n)).join(",");return`${i.op}(${e})`}}function oA(i,e){return i instanceof St?function(s,o){return o instanceof St&&s.op===o.op&&s.field.isEqual(o.field)&&Ai(s.value,o.value)}(i,e):i instanceof Xn?function(s,o){return o instanceof Xn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&oA(f,o.filters[m]),!0):!1}(i,e):void Ae(19439)}function lA(i){return i instanceof St?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(i):i instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(lA).join(" ,")+"}"}(i):"Filter"}class tN extends St{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class nN extends St{constructor(e,n){super(e,"in",n),this.keys=uA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iN extends St{constructor(e,n){super(e,"not-in",n),this.keys=uA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uA(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ve.fromName(s.referenceValue))}class rN extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bp(n)&&Xl(n.arrayValue,this.value)}}class sN extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class aN extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xl(this.value.arrayValue,n)}}class oN extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Xl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function kE(i,e=null,n=[],s=[],o=null,u=null,f=null){return new lN(i,e,n,s,o,u,f)}function Rp(i){const e=Ie(i);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>jm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>io(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>io(s)).join(",")),e.Ie=n}return e.Ie}function Ip(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!W2(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!oA(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!VE(i.startAt,e.startAt)&&VE(i.endAt,e.endAt)}function Bm(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function uN(i,e,n,s,o,u,f,m){return new yo(i,e,n,s,o,u,f,m)}function Lh(i){return new yo(i)}function PE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function cA(i){return i.collectionGroup!==null}function Ul(i){const e=Ie(i);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ot(Ft.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Jl(u,s))}),n.has(Ft.keyField().canonicalString())||e.Ee.push(new Jl(Ft.keyField(),s))}return e.Ee}function yi(i){const e=Ie(i);return e.de||(e.de=cN(e,Ul(i))),e.de}function cN(i,e){if(i.limitType==="F")return kE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Jl(o.field,u)});const n=i.endAt?new gh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new gh(i.startAt.position,i.startAt.inclusive):null;return kE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function qm(i,e){const n=i.filters.concat([e]);return new yo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function yh(i,e,n){return new yo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Uh(i,e){return Ip(yi(i),yi(e))&&i.limitType===e.limitType}function hA(i){return`${Rp(yi(i))}|lt:${i.limitType}`}function Ka(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>lA(o)).join(", ")}]`),kh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>io(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>io(o)).join(",")),`Target(${s})`}(yi(i))}; limitType=${i.limitType})`}function zh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Ul(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=ME(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Ul(s),o)||s.endAt&&!function(f,m,p){const g=ME(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Ul(s),o))}(i,e)}function hN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function fA(i){return(e,n)=>{let s=!1;for(const o of Ul(i)){const u=fN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function fN(i,e,n){const s=i.field.isKeyField()?ve.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?no(p,g):Ae(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return $T(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new lt(ve.comparator);function sr(){return dN}const dA=new lt(ve.comparator);function xl(...i){let e=dA;for(const n of i)e=e.insert(n.key,n);return e}function mA(i){let e=dA;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Us(){return zl()}function pA(){return zl()}function zl(){return new Xs(i=>i.toString(),(i,e)=>i.isEqual(e))}const mN=new lt(ve.comparator),pN=new Ot(ve.comparator);function Ue(...i){let e=pN;for(const n of i)e=e.add(n);return e}const gN=new Ot(xe);function yN(){return gN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function gA(i){return{integerValue:""+i}}function vN(i,e){return G2(e)?gA(e):Cp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this._=void 0}}function _N(i,e,n){return i instanceof Zl?function(o,u){const f={fields:{[ZT]:{stringValue:JT},[eA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&wp(u)&&(u=Ph(u)),u&&(f.fields[WT]=u),{mapValue:f}}(n,e):i instanceof Wl?vA(i,e):i instanceof eu?_A(i,e):function(o,u){const f=yA(o,u),m=LE(f)+LE(o.Re);return zm(f)&&zm(o.Re)?gA(m):Cp(o.serializer,m)}(i,e)}function EN(i,e,n){return i instanceof Wl?vA(i,e):i instanceof eu?_A(i,e):n}function yA(i,e){return i instanceof vh?function(s){return zm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Zl extends jh{}class Wl extends jh{constructor(e){super(),this.elements=e}}function vA(i,e){const n=EA(e);for(const s of i.elements)n.some(o=>Ai(o,s))||n.push(s);return{arrayValue:{values:n}}}class eu extends jh{constructor(e){super(),this.elements=e}}function _A(i,e){let n=EA(e);for(const s of i.elements)n=n.filter(o=>!Ai(o,s));return{arrayValue:{values:n}}}class vh extends jh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function LE(i){return yt(i.integerValue||i.doubleValue)}function EA(i){return bp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n){this.field=e,this.transform=n}}function AN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Wl&&o instanceof Wl||s instanceof eu&&o instanceof eu?to(s.elements,o.elements,Ai):s instanceof vh&&o instanceof vh?Ai(s.Re,o.Re):s instanceof Zl&&o instanceof Zl}(i.transform,e.transform)}class SN{constructor(e,n){this.version=e,this.transformResults=n}}class vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Bh{}function TA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new SA(i.key,vi.none()):new ou(i.key,i.data,vi.none());{const n=i.data,s=hn.empty();let o=new Ot(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Wr(i.key,s,new An(o.toArray()),vi.none())}}function wN(i,e,n){i instanceof ou?function(o,u,f){const m=o.value.clone(),p=zE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Wr?function(o,u,f){if(!th(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=zE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(AA(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function jl(i,e,n,s){return i instanceof ou?function(u,f,m,p){if(!th(u.precondition,f))return m;const g=u.value.clone(),E=jE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof Wr?function(u,f,m,p){if(!th(u.precondition,f))return m;const g=jE(u.fieldTransforms,p,f),E=f.data;return E.setAll(AA(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,n,s):function(u,f,m){return th(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function bN(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=yA(s.transform,o||null);u!=null&&(n===null&&(n=hn.empty()),n.set(s.field,u))}return n||null}function UE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&to(s,o,(u,f)=>AN(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ou extends Bh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Wr extends Bh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function AA(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function zE(i,e,n){const s=new Map;Ke(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,EN(f,m,n[o]))}return s}function jE(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,_N(u,f,e))}return s}class SA extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RN extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&wN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=jl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=jl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=pA();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=TA(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Re.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(n,s)=>UE(n,s))&&to(this.baseMutations,e.baseMutations,(n,s)=>UE(n,s))}}class Np{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return mN}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Np(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,qe;function DN(i){switch(i){case ee.OK:return Ae(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ae(15467,{code:i})}}function wA(i){if(i===void 0)return rr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case At.OK:return ee.OK;case At.CANCELLED:return ee.CANCELLED;case At.UNKNOWN:return ee.UNKNOWN;case At.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case At.INTERNAL:return ee.INTERNAL;case At.UNAVAILABLE:return ee.UNAVAILABLE;case At.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case At.NOT_FOUND:return ee.NOT_FOUND;case At.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case At.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case At.ABORTED:return ee.ABORTED;case At.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case At.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case At.DATA_LOSS:return ee.DATA_LOSS;default:return Ae(39323,{code:i})}}(qe=At||(At={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new qr([4294967295,4294967295],0);function BE(i){const e=KT().encode(i),n=new UT;return n.update(e),new Uint8Array(n.digest())}function qE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new qr([n,s],0),new qr([o,u],0)]}class Dp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(s<0)throw new Ml(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=qr.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(qr.fromNumber(s)));return o.compare(ON)===1&&(o=new qr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=BE(e),[s,o]=qE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Dp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=BE(e),[s,o]=qE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new qh(Re.min(),o,new lt(xe),sr(),Ue())}}class lu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new lu(s,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class bA{constructor(e,n){this.targetId=e,this.Ce=n}}class RA{constructor(e,n,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class HE{constructor(){this.Fe=0,this.Me=FE(),this.xe=Gt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ue(),n=Ue(),s=Ue();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:u})}}),new lu(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=FE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ke(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class xN{constructor(e){this.ze=e,this.je=new Map,this.He=sr(),this.Je=Hc(),this.Ye=Hc(),this.Ze=new lt(xe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Bm(u))if(s===0){const f=new ve(u.path);this.tt(n,f,Zt.newNoDocument(f,Re.min()))}else Ke(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Yr(s).toUint8Array()}catch(p){if(p instanceof XT)return eo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Dp(f,o,u)}catch(p){return eo(p instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Bm(m.target)){const p=new ve(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Zt.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Ue();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new qh(e,n,this.Ze,this.He,s);return this.He=sr(),this.Je=Hc(),this.Ye=Hc(),this.Ze=new lt(xe),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new HE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ot(xe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ot(xe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new HE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Hc(){return new lt(ve.comparator)}function FE(){return new lt(ve.comparator)}const MN={asc:"ASCENDING",desc:"DESCENDING"},VN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kN={and:"AND",or:"OR"};class PN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hm(i,e){return i.useProto3Json||kh(e)?e:{value:e}}function _h(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function LN(i,e){return _h(i,e.toTimestamp())}function _i(i){return Ke(!!i,49232),Re.fromTimestamp(function(n){const s=Kr(n);return new Dt(s.seconds,s.nanos)}(i))}function Op(i,e){return Fm(i,e).canonicalString()}function Fm(i,e){const n=function(o){return new it(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function CA(i){const e=it.fromString(i);return Ke(MA(e),10190,{key:e.toString()}),e}function Gm(i,e){return Op(i.databaseId,e.path)}function gm(i,e){const n=CA(e);if(n.get(1)!==i.databaseId.projectId)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ve(DA(n))}function NA(i,e){return Op(i.databaseId,e)}function UN(i){const e=CA(i);return e.length===4?it.emptyPath():DA(e)}function Km(i){return new it(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function DA(i){return Ke(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function GE(i,e,n){return{name:Gm(i,e),fields:n.value.mapValue.fields}}function zN(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ke(E===void 0||typeof E=="string",58123),Gt.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Gt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?ee.UNKNOWN:wA(g.code);return new de(E,g.message||"")}(f);n=new RA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=gm(i,s.document.name),u=_i(s.document.updateTime),f=s.document.createTime?_i(s.document.createTime):Re.min(),m=new hn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new nh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=gm(i,s.document),u=s.readTime?_i(s.readTime):Re.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new nh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=gm(i,s.document),u=s.removedTargetIds||[];n=new nh([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new NN(o,u),m=s.targetId;n=new bA(m,f)}}return n}function jN(i,e){let n;if(e instanceof ou)n={update:GE(i,e.key,e.value)};else if(e instanceof SA)n={delete:Gm(i,e.key)};else if(e instanceof Wr)n={update:GE(i,e.key,e.data),updateMask:$N(e.fieldMask)};else{if(!(e instanceof RN))return Ae(16599,{ft:e.type});n={verify:Gm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Wl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof vh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Ae(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:LN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)}(i,e.precondition)),n}function BN(i,e){return i&&i.length>0?(Ke(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?_i(o.updateTime):_i(u);return f.isEqual(Re.min())&&(f=_i(u)),new SN(f,o.transformResults||[])}(n,e))):[]}function qN(i,e){return{documents:[NA(i,e.path)]}}function HN(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=NA(i,o);const u=function(g){if(g.length!==0)return xA(Xn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(S){return{field:Ya(S.field),direction:KN(S.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Hm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function FN(i){let e=UN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(A){const S=OA(A);return S instanceof Xn&&aA(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(S=>function(V){return new Jl(Qa(V.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(A){let S;return S=typeof A=="object"?A.value:A,kh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(A){const S=!!A.before,P=A.values||[];return new gh(P,S)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const S=!A.before,P=A.values||[];return new gh(P,S)}(n.endAt)),uN(e,o,f,u,m,"F",p,g)}function GN(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OA(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Qa(n.unaryFilter.field);return St.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Qa(n.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Qa(n.unaryFilter.field);return St.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Qa(n.unaryFilter.field);return St.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(i):i.fieldFilter!==void 0?function(n){return St.create(Qa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(s=>OA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(n.compositeFilter.op))}(i):Ae(30097,{filter:i})}function KN(i){return MN[i]}function YN(i){return VN[i]}function QN(i){return kN[i]}function Ya(i){return{fieldPath:i.canonicalString()}}function Qa(i){return Ft.fromServerFormat(i.fieldPath)}function xA(i){return i instanceof St?function(n){if(n.op==="=="){if(xE(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NAN"}};if(OE(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xE(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NAN"}};if(OE(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(n.field),op:YN(n.op),value:n.value}}}(i):i instanceof Xn?function(n){const s=n.getFilters().map(o=>xA(o));return s.length===1?s[0]:{compositeFilter:{op:QN(n.op),filters:s}}}(i):Ae(54877,{filter:i})}function $N(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n,s,o,u=Re.min(),f=Re.min(),m=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.wt=e}}function JN(i){const e=FN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?yh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.Cn=new WN}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Gr.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class WN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ot(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VA=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(VA,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ro(0)}static lr(){return new ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="LruGarbageCollector",eD=1048576;function QE([i,e],[n,s]){const o=xe(i,n);return o===0?xe(e,s):o}class tD{constructor(e){this.Er=e,this.buffer=new Ot(QE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();QE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){fe(YE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){go(n)?fe(YE,"Ignoring IndexedDB error during garbage collection: ",n):await po(n)}await this.mr(3e5)})}}class iD{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Vh.le);const s=new tD(n);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(KE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),Ga()<=Le.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function rD(i,e){return new iD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.changes=new Xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&jl(s.mutation,o,An.empty(),Dt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ue()){const o=Us();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=xl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Us();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ue()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=sr();const f=zl(),m=function(){return zl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Wr)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),jl(E.mutation,g,E.mutation.getFieldMask(),Dt.now())):f.set(g.key,An.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var A;return m.set(g,new aD(E,(A=f.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const s=zl();let o=new lt((f,m)=>f-m),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||An.empty();E=m.applyToLocalView(g,E),s.set(p,E);const A=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,A=pA();E.forEach(S=>{if(!u.has(S)){const P=TA(n.get(S),s.get(S));P!==null&&A.set(S,P),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,A))}return te.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ve.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(Us());let m=Yl,p=u;return f.next(g=>te.forEach(g,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ue())).next(E=>({batchId:m,changes:mA(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(s=>{let o=xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=xl();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,p=>{const g=function(A,S){return new yo(S,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((A,S)=>{f=f.insert(A,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))});let m=xl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&jl(E.mutation,g,An.empty(),Dt.now()),zh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return te.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:_i(o.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:JN(o.bundledQuery),readTime:_i(o.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.overlays=new lt(ve.comparator),this.Qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Us();return te.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=Us(),u=n.length+1,f=new ve(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new lt((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Us(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Us(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new CN(n,s));let u=this.Qr.get(n);u===void 0&&(u=Ue(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(){this.$r=new Ot(Lt.Ur),this.Kr=new Ot(Lt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new Lt(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new Lt(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new ve(new it([])),s=new Lt(n,e),o=new Lt(n,e+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ve(new it([])),s=new Lt(n,e),o=new Lt(n,e+1);let u=Ue();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Lt(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ve.comparator(e.key,n.key)||xe(e.Zr,n.Zr)}static Wr(e,n){return xe(e.Zr,n.Zr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ot(Lt.Ur)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new IN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Sp:this.nr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Lt(n,0),o=new Lt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const m=this.ei(f.Zr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(xe);return n.forEach(o=>{const u=new Lt(o,0),f=new Lt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{s=s.add(m.Zr)})}),te.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const f=new Lt(new ve(u),0);let m=new Ot(xe);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},f),te.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return te.forEach(n.mutations,o=>{const u=new Lt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new Lt(n,0),o=this.Xr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.ii=e,this.docs=function(){return new lt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=sr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=sr();const f=n.path,m=new ve(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||B2(j2(E),s)<=0||(o.has(E.key)||zh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ae(9500)}si(e,n){return te.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new dD(this)}getSize(e){return te.resolve(this.size)}}class dD extends sD{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),te.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.persistence=e,this.oi=new Xs(n=>Rp(n),Ip),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this._i=0,this.ai=new xp,this.targetCount=0,this.ui=ro.cr()}forEachTarget(e,n){return this.oi.forEach((s,o)=>n(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),te.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new ro(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Tr(n),te.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n){this.ci={},this.overlays={},this.li=new Vh(0),this.hi=!1,this.hi=!0,this.Pi=new cD,this.referenceDelegate=e(this),this.Ti=new mD(this),this.indexManager=new ZN,this.remoteDocumentCache=function(o){return new fD(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new XN(n),this.Ei=new lD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new hD(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new pD(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return te.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class pD extends H2{constructor(e){super(),this.currentSequenceNumber=e}}class Mp{constructor(e){this.persistence=e,this.Vi=new xp,this.mi=null}static fi(e){return new Mp(e)}get gi(){if(this.mi)return this.mi;throw Ae(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.gi,s=>{const o=ve.fromPath(s);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Re.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return te.or([()=>te.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Eh{constructor(e,n){this.persistence=e,this.yi=new Xs(s=>K2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=rD(this,n)}static fi(e,n){return new Eh(e,n)}di(){}Ai(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return te.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?te.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,f=>this.Dr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Re.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),te.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wc(e.data.value)),n}Dr(e,n,s){return te.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ds=s,this.As=o}static Rs(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Vp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return cR()?8:F2(en())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ws(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new gD;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,f,m.size)})}).next(()=>u.result)}Ds(e,n,s,o){return s.documentReadCount<this.gs?(Ga()<=Le.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),te.resolve()):(Ga()<=Le.DEBUG&&fe("QueryEngine","Query:",Ka(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Ga()<=Le.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(n))):te.resolve())}ws(e,n){if(PE(n))return te.resolve(null);let s=yi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=yh(n,null,"F"),s=yi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ue(...u);return this.ys.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,f,p.readTime)?this.ws(e,yh(n,null,"F")):this.Fs(e,g,n,p)}))})))}bs(e,n,s,o){return PE(n)||o.isEqual(Re.min())?te.resolve(null):this.ys.getDocuments(e,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?te.resolve(null):(Ga()<=Le.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ka(n)),this.Fs(e,f,n,z2(o,Yl)).next(m=>m))})}vs(e,n){let s=new Ot(fA(e));return n.forEach((o,u)=>{zh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ga()<=Le.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Ka(n)),this.ys.getDocumentsMatchingQuery(e,n,Gr.min(),s)}Fs(e,n,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="LocalStore",vD=3e8;class _D{constructor(e,n,s,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new lt(xe),this.Os=new Xs(u=>Rp(u),Ip),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function ED(i,e,n,s){return new _D(i,e,n,s)}async function PA(i,e){const n=Ie(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ue();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:f,addedBatchIds:m}))})})}function TD(i,e){const n=Ie(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const A=g.batch,S=A.keys();let P=te.resolve();return S.forEach(V=>{P=P.next(()=>E.getEntry(p,V)).next(j=>{const U=g.docVersions.get(V);Ke(U!==null,48541),j.version.compareTo(U)<0&&(A.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),E.addEntry(j)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function LA(i){const e=Ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function AD(i,e){const n=Ie(i),s=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((E,A)=>{const S=o.get(A);if(!S)return;m.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,A)));let P=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?P=P.withResumeToken(Gt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(A,P),function(j,U,q){return j.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=vD?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(S,P,E)&&m.push(n.Ti.updateTargetData(u,P))});let p=sr(),g=Ue();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(SD(u,f,e.documentUpdates).next(E=>{p=E.qs,g=E.Qs})),!s.isEqual(Re.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(A=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return te.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function SD(i,e,n){let s=Ue(),o=Ue();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=sr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):fe(kp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function wD(i,e){const n=Ie(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Sp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function bD(i,e){const n=Ie(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new zr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function Ym(i,e,n){const s=Ie(i),o=s.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!go(f))throw f;fe(kp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function $E(i,e,n){const s=Ie(i);let o=Re.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const A=Ie(p),S=A.Os.get(E);return S!==void 0?te.resolve(A.xs.get(S)):A.Ti.getTargetData(g,E)}(s,f,yi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,e,n?o:Re.min(),n?u:Ue())).next(m=>(RD(s,hN(e),m),{documents:m,$s:u})))}function RD(i,e,n){let s=i.Ns.get(e)||Re.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Ns.set(e,s)}class XE{constructor(){this.activeTargetIds=yN()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ID{constructor(){this.xo=new XE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new XE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="ConnectivityMonitor";class ZE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){fe(JE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){fe(JE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc=null;function Qm(){return Fc===null?Fc=function(){return 268435456+Math.round(2147483648*Math.random())}():Fc++,"0x"+Fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="RestConnection",ND={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DD{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===mh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,n,s,o,u){const f=Qm(),m=this.jo(e,n.toUriEncodedString());fe(ym,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),E=co(g);return this.Jo(e,m,p,s,E).then(A=>(fe(ym,`Received RPC '${e}' ${f}: `,A),A),A=>{throw eo(ym,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",s),A})}Yo(e,n,s,o,u,f){return this.zo(e,n,s,o,u)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const s=ND[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class xD extends DD{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Qm();return new Promise((m,p)=>{const g=new zT;g.setWithCredentials(!0),g.listenOnce(jT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Zc.NO_ERROR:const A=g.getResponseJson();fe(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case Zc.TIMEOUT:fe(Xt,`RPC '${e}' ${f} timed out`),p(new de(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const S=g.getStatus();if(fe(Xt,`RPC '${e}' ${f} failed with status:`,S,"response text:",g.getResponseText()),S>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const V=P==null?void 0:P.error;if(V&&V.status&&V.message){const j=function(q){const X=q.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(X)>=0?X:ee.UNKNOWN}(V.status);p(new de(j,V.message))}else p(new de(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new de(ee.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{h_:e,streamId:f,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{fe(Xt,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);fe(Xt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}I_(e,n,s){const o=Qm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=HT(),m=qT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");fe(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const A=f.createWebChannel(E,p);this.E_(A);let S=!1,P=!1;const V=new OD({Zo:U=>{P?fe(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(S||(fe(Xt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),S=!0),fe(Xt,`RPC '${e}' stream ${o} sending:`,U),A.send(U))},Xo:()=>A.close()}),j=(U,q,X)=>{U.listen(q,ie=>{try{X(ie)}catch(oe){setTimeout(()=>{throw oe},0)}})};return j(A,Ol.EventType.OPEN,()=>{P||(fe(Xt,`RPC '${e}' stream ${o} transport opened.`),V.__())}),j(A,Ol.EventType.CLOSE,()=>{P||(P=!0,fe(Xt,`RPC '${e}' stream ${o} transport closed`),V.u_(),this.d_(A))}),j(A,Ol.EventType.ERROR,U=>{P||(P=!0,eo(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),V.u_(new de(ee.UNAVAILABLE,"The operation could not be completed")))}),j(A,Ol.EventType.MESSAGE,U=>{var q;if(!P){const X=U.data[0];Ke(!!X,16349);const ie=X,oe=(ie==null?void 0:ie.error)||((q=ie[0])===null||q===void 0?void 0:q.error);if(oe){fe(Xt,`RPC '${e}' stream ${o} received error:`,oe);const ue=oe.status;let _e=function(R){const N=At[R];if(N!==void 0)return wA(N)}(ue),x=oe.message;_e===void 0&&(_e=ee.INTERNAL,x="Unknown error status: "+ue+" with message "+oe.message),P=!0,V.u_(new de(_e,x)),A.close()}else fe(Xt,`RPC '${e}' stream ${o} received:`,X),V.c_(X)}}),j(m,BT.STAT_EVENT,U=>{U.stat===Pm.PROXY?fe(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===Pm.NOPROXY&&fe(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.a_()},0),V}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(i){return new PN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="PersistentStream";class zA{constructor(e,n,s,o,u,f,m,p){this.xi=e,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new UA(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===n&&this.z_(s,o)},s=>{e(()=>{const o=new de(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return fe(WE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(fe(WE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MD extends zA{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=zN(this.serializer,e),s=function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?_i(f.readTime):Re.min()}(e);return this.listener.Y_(n,s)}Z_(e){const n={};n.database=Km(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Bm(p)?{documents:qN(u,p)}:{query:HN(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=IA(u,f.resumeToken);const g=Hm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Re.min())>0){m.readTime=_h(u,f.snapshotVersion.toTimestamp());const g=Hm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=GN(this.serializer,e);s&&(n.labels=s),this.Q_(n)}X_(e){const n={};n.database=Km(this.serializer),n.removeTarget=e,this.Q_(n)}}class VD extends zA{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=BN(e.writeResults,e.commitTime),s=_i(e.commitTime);return this.listener.ra(s,n)}ia(){const e={};e.database=Km(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>jN(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{}class PD extends kD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(e,Fm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ee.UNKNOWN,u.toString())})}Yo(e,n,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(e,Fm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(ee.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class LD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(rr(n),this.ua=!1):fe("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="RemoteStore";class UD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{s.enqueueAndForget(async()=>{Js(this)&&(fe(Fs,"Restarting streams for network reachability change."),await async function(p){const g=Ie(p);g.da.add(4),await uu(g),g.Va.set("Unknown"),g.da.delete(4),await Fh(g)}(this))})}),this.Va=new LD(s,o)}}async function Fh(i){if(Js(i))for(const e of i.Aa)await e(!0)}async function uu(i){for(const e of i.Aa)await e(!1)}function jA(i,e){const n=Ie(i);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),zp(n)?Up(n):vo(n).N_()&&Lp(n,e))}function Pp(i,e){const n=Ie(i),s=vo(n);n.Ea.delete(e),s.N_()&&BA(n,e),n.Ea.size===0&&(s.N_()?s.k_():Js(n)&&n.Va.set("Unknown"))}function Lp(i,e){if(i.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vo(i).Z_(e)}function BA(i,e){i.ma.Ke(e),vo(i).X_(e)}function Up(i){i.ma=new xN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Ea.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),vo(i).start(),i.Va.ca()}function zp(i){return Js(i)&&!vo(i).O_()&&i.Ea.size>0}function Js(i){return Ie(i).da.size===0}function qA(i){i.ma=void 0}async function zD(i){i.Va.set("Online")}async function jD(i){i.Ea.forEach((e,n)=>{Lp(i,e)})}async function BD(i,e){qA(i),zp(i)?(i.Va.Pa(e),Up(i)):i.Va.set("Unknown")}async function qD(i,e,n){if(i.Va.set("Online"),e instanceof RA&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ea.delete(m),o.ma.removeTarget(m))}(i,e)}catch(s){fe(Fs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Th(i,s)}else if(e instanceof nh?i.ma.Xe(e):e instanceof bA?i.ma.ot(e):i.ma.nt(e),!n.isEqual(Re.min()))try{const s=await LA(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.ma.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ea.get(g);E&&u.Ea.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ea.get(p);if(!E)return;u.Ea.set(p,E.withResumeToken(Gt.EMPTY_BYTE_STRING,E.snapshotVersion)),BA(u,p);const A=new zr(E.target,p,g,E.sequenceNumber);Lp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){fe(Fs,"Failed to raise snapshot:",s),await Th(i,s)}}async function Th(i,e,n){if(!go(e))throw e;i.da.add(1),await uu(i),i.Va.set("Offline"),n||(n=()=>LA(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{fe(Fs,"Retrying IndexedDB access"),await n(),i.da.delete(1),await Fh(i)})}function HA(i,e){return e().catch(n=>Th(i,n,e))}async function Gh(i){const e=Ie(i),n=$r(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Sp;for(;HD(e);)try{const o=await wD(e.localStore,s);if(o===null){e.Ia.length===0&&n.k_();break}s=o.batchId,FD(e,o)}catch(o){await Th(e,o)}FA(e)&&GA(e)}function HD(i){return Js(i)&&i.Ia.length<10}function FD(i,e){i.Ia.push(e);const n=$r(i);n.N_()&&n.ea&&n.ta(e.mutations)}function FA(i){return Js(i)&&!$r(i).O_()&&i.Ia.length>0}function GA(i){$r(i).start()}async function GD(i){$r(i).ia()}async function KD(i){const e=$r(i);for(const n of i.Ia)e.ta(n.mutations)}async function YD(i,e,n){const s=i.Ia.shift(),o=Np.from(s,e,n);await HA(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Gh(i)}async function QD(i,e){e&&$r(i).ea&&await async function(s,o){if(function(f){return DN(f)&&f!==ee.ABORTED}(o.code)){const u=s.Ia.shift();$r(s).L_(),await HA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Gh(s)}}(i,e),FA(i)&&GA(i)}async function e0(i,e){const n=Ie(i);n.asyncQueue.verifyOperationInProgress(),fe(Fs,"RemoteStore received new credentials");const s=Js(n);n.da.add(3),await uu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Fh(n)}async function $D(i,e){const n=Ie(i);e?(n.da.delete(2),await Fh(n)):e||(n.da.add(2),await uu(n),n.Va.set("Unknown"))}function vo(i){return i.fa||(i.fa=function(n,s,o){const u=Ie(n);return u.oa(),new MD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:zD.bind(null,i),n_:jD.bind(null,i),i_:BD.bind(null,i),Y_:qD.bind(null,i)}),i.Aa.push(async e=>{e?(i.fa.L_(),zp(i)?Up(i):i.Va.set("Unknown")):(await i.fa.stop(),qA(i))})),i.fa}function $r(i){return i.ga||(i.ga=function(n,s,o){const u=Ie(n);return u.oa(),new VD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:GD.bind(null,i),i_:QD.bind(null,i),na:KD.bind(null,i),ra:YD.bind(null,i)}),i.Aa.push(async e=>{e?(i.ga.L_(),await Gh(i)):(await i.ga.stop(),i.Ia.length>0&&(fe(Fs,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new jp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bp(i,e){if(rr("AsyncQueue",`${e}: ${i}`),go(i))return new de(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{static emptySet(e){return new Za(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=xl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Za;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(){this.pa=new lt(ve.comparator)}track(e){const n=e.doc.key,s=this.pa.get(n);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(n,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(n):e.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ae(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,s)=>{e.push(s)}),e}}class so{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new so(e,n,Za.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class JD{constructor(){this.queries=n0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ie(n),u=o.queries;o.queries=n0(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new de(ee.ABORTED,"Firestore shutting down"))}}function n0(){return new Xs(i=>hA(i),Uh)}async function qp(i,e){const n=Ie(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(s=2):(u=new XD,s=e.va()?0:1);try{switch(s){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Bp(f,`Initialization of query '${Ka(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&Fp(n)}async function Hp(i,e){const n=Ie(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ZD(i,e){const n=Ie(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Ma(o)&&(s=!0);f.ba=o}}s&&Fp(n)}function WD(i,e,n){const s=Ie(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Fp(i){i.Ca.forEach(e=>{e.next()})}var $m,i0;(i0=$m||($m={})).xa="default",i0.Cache="cache";class Gp{constructor(e,n,s){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new so(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==$m.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.key=e}}class YA{constructor(e){this.key=e}}class eO{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.Za=fA(e),this.Xa=new Za(this.Za)}get eu(){return this.Ha}tu(e,n){const s=n?n.nu:new t0,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const S=o.get(E),P=zh(this.query,A)?A:null,V=!!S&&this.mutatedKeys.has(S.key),j=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let U=!1;S&&P?S.data.isEqual(P.data)?V!==j&&(s.track({type:3,doc:P}),U=!0):this.ru(S,P)||(s.track({type:2,doc:P}),U=!0,(p&&this.Za(P,p)>0||g&&this.Za(P,g)<0)&&(m=!0)):!S&&P?(s.track({type:0,doc:P}),U=!0):S&&!P&&(s.track({type:1,doc:S}),U=!0,(p||g)&&(m=!0)),U&&(P?(f=f.add(P),u=j?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Xa:f,nu:s,Cs:m,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const f=e.nu.wa();f.sort((E,A)=>function(P,V){const j=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:U})}};return j(P)-j(V)}(E.type,A.type)||this.Za(E.doc,A.doc)),this.iu(s),o=o!=null&&o;const m=n&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,f.length!==0||g?{snapshot:new so(this.query,e.Xa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new t0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new YA(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new KA(s))}),n}au(e){this.Ha=e.$s,this.Ya=Ue();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return so.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Kp="SyncEngine";class tO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class nO{constructor(e){this.key=e,this.cu=!1}}class iO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new Xs(m=>hA(m),Uh),this.Pu=new Map,this.Tu=new Set,this.Iu=new lt(ve.comparator),this.Eu=new Map,this.du=new xp,this.Au={},this.Ru=new Map,this.Vu=ro.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function rO(i,e,n=!0){const s=WA(i);let o;const u=s.hu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await QA(s,e,n,!0),o}async function sO(i,e){const n=WA(i);await QA(n,e,!0,!1)}async function QA(i,e,n,s){const o=await bD(i.localStore,yi(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await aO(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&jA(i.remoteStore,o),m}async function aO(i,e,n,s,o){i.fu=(A,S,P)=>async function(j,U,q,X){let ie=U.view.tu(q);ie.Cs&&(ie=await $E(j.localStore,U.query,!1).then(({documents:x})=>U.view.tu(x,ie)));const oe=X&&X.targetChanges.get(U.targetId),ue=X&&X.targetMismatches.get(U.targetId)!=null,_e=U.view.applyChanges(ie,j.isPrimaryClient,oe,ue);return s0(j,U.targetId,_e.ou),_e.snapshot}(i,A,S,P);const u=await $E(i.localStore,e,!0),f=new eO(e,u.$s),m=f.tu(u.documents),p=lu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);s0(i,n,g.ou);const E=new tO(e,n,f);return i.hu.set(e,E),i.Pu.has(n)?i.Pu.get(n).push(e):i.Pu.set(n,[e]),g.snapshot}async function oO(i,e,n){const s=Ie(i),o=s.hu.get(e),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(f=>!Uh(f,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ym(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Pp(s.remoteStore,o.targetId),Xm(s,o.targetId)}).catch(po)):(Xm(s,o.targetId),await Ym(s.localStore,o.targetId,!0))}async function lO(i,e){const n=Ie(i),s=n.hu.get(e),o=n.Pu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Pp(n.remoteStore,s.targetId))}async function uO(i,e,n){const s=gO(i);try{const o=await function(f,m){const p=Ie(f),g=Dt.now(),E=m.reduce((P,V)=>P.add(V.key),Ue());let A,S;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let V=sr(),j=Ue();return p.Bs.getEntries(P,E).next(U=>{V=U,V.forEach((q,X)=>{X.isValidDocument()||(j=j.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,V)).next(U=>{A=U;const q=[];for(const X of m){const ie=bN(X,A.get(X.key).overlayedDocument);ie!=null&&q.push(new Wr(X.key,ie,iA(ie.value.mapValue),vi.exists(!0)))}return p.mutationQueue.addMutationBatch(P,g,q,m)}).next(U=>{S=U;const q=U.applyToLocalDocumentSet(A,j);return p.documentOverlayCache.saveOverlays(P,U.batchId,q)})}).then(()=>({batchId:S.batchId,changes:mA(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Au[f.currentUser.toKey()];g||(g=new lt(xe)),g=g.insert(m,p),f.Au[f.currentUser.toKey()]=g}(s,o.batchId,n),await cu(s,o.changes),await Gh(s.remoteStore)}catch(o){const u=Bp(o,"Failed to persist write");n.reject(u)}}async function $A(i,e){const n=Ie(i);try{const s=await AD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?Ke(f.cu,14607):o.removedDocuments.size>0&&(Ke(f.cu,42227),f.cu=!1))}),await cu(n,s,e)}catch(s){await po(s)}}function r0(i,e,n){const s=Ie(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.hu.forEach((u,f)=>{const m=f.view.Fa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ie(f);p.onlineState=m;let g=!1;p.queries.forEach((E,A)=>{for(const S of A.Sa)S.Fa(m)&&(g=!0)}),g&&Fp(p)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function cO(i,e,n){const s=Ie(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new lt(ve.comparator);f=f.insert(u,Zt.newNoDocument(u,Re.min()));const m=Ue().add(u),p=new qh(Re.min(),new Map,new lt(xe),f,m);await $A(s,p),s.Iu=s.Iu.remove(u),s.Eu.delete(e),Yp(s)}else await Ym(s.localStore,e,!1).then(()=>Xm(s,e,n)).catch(po)}async function hO(i,e){const n=Ie(i),s=e.batch.batchId;try{const o=await TD(n.localStore,e);JA(n,s,null),XA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await cu(n,o)}catch(o){await po(o)}}async function fO(i,e,n){const s=Ie(i);try{const o=await function(f,m){const p=Ie(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>(Ke(A!==null,37113),E=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);JA(s,e,n),XA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await cu(s,o)}catch(o){await po(o)}}function XA(i,e){(i.Ru.get(e)||[]).forEach(n=>{n.resolve()}),i.Ru.delete(e)}function JA(i,e,n){const s=Ie(i);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Au[s.currentUser.toKey()]=o}}function Xm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Pu.get(e))i.hu.delete(s),n&&i.lu.gu(s,n);i.Pu.delete(e),i.isPrimaryClient&&i.du.Hr(e).forEach(s=>{i.du.containsKey(s)||ZA(i,s)})}function ZA(i,e){i.Tu.delete(e.path.canonicalString());const n=i.Iu.get(e);n!==null&&(Pp(i.remoteStore,n),i.Iu=i.Iu.remove(e),i.Eu.delete(n),Yp(i))}function s0(i,e,n){for(const s of n)s instanceof KA?(i.du.addReference(s.key,e),dO(i,s)):s instanceof YA?(fe(Kp,"Document no longer in limbo: "+s.key),i.du.removeReference(s.key,e),i.du.containsKey(s.key)||ZA(i,s.key)):Ae(19791,{pu:s})}function dO(i,e){const n=e.key,s=n.path.canonicalString();i.Iu.get(n)||i.Tu.has(s)||(fe(Kp,"New document in limbo: "+n),i.Tu.add(s),Yp(i))}function Yp(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const e=i.Tu.values().next().value;i.Tu.delete(e);const n=new ve(it.fromString(e)),s=i.Vu.next();i.Eu.set(s,new nO(n)),i.Iu=i.Iu.insert(n,s),jA(i.remoteStore,new zr(yi(Lh(n.path)),s,"TargetPurposeLimboResolution",Vh.le))}}async function cu(i,e,n){const s=Ie(i),o=[],u=[],f=[];s.hu.isEmpty()||(s.hu.forEach((m,p)=>{f.push(s.fu(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const A=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=Vp.Rs(p.targetId,g);u.push(A)}}))}),await Promise.all(f),s.lu.Y_(o),await async function(p,g){const E=Ie(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>te.forEach(g,S=>te.forEach(S.ds,P=>E.persistence.referenceDelegate.addReference(A,S.targetId,P)).next(()=>te.forEach(S.As,P=>E.persistence.referenceDelegate.removeReference(A,S.targetId,P)))))}catch(A){if(!go(A))throw A;fe(kp,"Failed to update sequence numbers: "+A)}for(const A of g){const S=A.targetId;if(!A.fromCache){const P=E.xs.get(S),V=P.snapshotVersion,j=P.withLastLimboFreeSnapshotVersion(V);E.xs=E.xs.insert(S,j)}}}(s.localStore,u))}async function mO(i,e){const n=Ie(i);if(!n.currentUser.isEqual(e)){fe(Kp,"User change. New user:",e.toKey());const s=await PA(n.localStore,e);n.currentUser=e,function(u,f){u.Ru.forEach(m=>{m.forEach(p=>{p.reject(new de(ee.CANCELLED,f))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await cu(n,s.ks)}}function pO(i,e){const n=Ie(i),s=n.Eu.get(e);if(s&&s.cu)return Ue().add(s.key);{let o=Ue();const u=n.Pu.get(e);if(!u)return o;for(const f of u){const m=n.hu.get(f);o=o.unionWith(m.view.eu)}return o}}function WA(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=$A.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cO.bind(null,e),e.lu.Y_=ZD.bind(null,e.eventManager),e.lu.gu=WD.bind(null,e.eventManager),e}function gO(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fO.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return ED(this.persistence,new yD,e.initialUser,this.serializer)}Su(e){return new kA(Mp.fi,this.serializer)}bu(e){return new ID}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class yO extends Ah{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Ke(this.persistence.referenceDelegate instanceof Eh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new nD(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new kA(s=>Eh.fi(s,n),this.serializer)}}class Jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>r0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=mO.bind(null,this.syncEngine),await $D(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JD}()}createDatastore(e){const n=Hh(e.databaseInfo.databaseId),s=function(u){return new xD(u)}(e.databaseInfo);return function(u,f,m,p){return new PD(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new UD(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>r0(this.syncEngine,n,0),function(){return ZE.C()?new ZE:new CD}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const A=new iO(o,u,f,m,p,g);return E&&(A.mu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ie(o);fe(Fs,"RemoteStore shutting down."),u.da.add(5),await uu(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Jm.provider={build:()=>new Jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="FirestoreClient";class vO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=YT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{fe(Xr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(fe(Xr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Bp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function _m(i,e){i.asyncQueue.verifyOperationInProgress(),fe(Xr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await PA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function a0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await _O(i);fe(Xr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>e0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>e0(e.remoteStore,o)),i._onlineComponents=e}async function _O(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(Xr,"Using user provided OfflineComponentProvider");try{await _m(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await _m(i,new Ah)}}else fe(Xr,"Using default OfflineComponentProvider"),await _m(i,new yO(void 0));return i._offlineComponents}async function eS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(Xr,"Using user provided OnlineComponentProvider"),await a0(i,i._uninitializedComponentsProvider._online)):(fe(Xr,"Using default OnlineComponentProvider"),await a0(i,new Jm))),i._onlineComponents}function EO(i){return eS(i).then(e=>e.syncEngine)}async function Sh(i){const e=await eS(i),n=e.eventManager;return n.onListen=rO.bind(null,e.syncEngine),n.onUnlisten=oO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lO.bind(null,e.syncEngine),n}function TO(i,e,n={}){const s=new er;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new Qp({next:S=>{E.xu(),f.enqueueAndForget(()=>Hp(u,A));const P=S.docs.has(m);!P&&S.fromCache?g.reject(new de(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&S.fromCache&&p&&p.source==="server"?g.reject(new de(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),A=new Gp(Lh(m.path),E,{includeMetadataChanges:!0,Qa:!0});return qp(u,A)}(await Sh(i),i.asyncQueue,e,n,s)),s.promise}function AO(i,e,n={}){const s=new er;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new Qp({next:S=>{E.xu(),f.enqueueAndForget(()=>Hp(u,A)),S.fromCache&&p.source==="server"?g.reject(new de(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),A=new Gp(m,E,{includeMetadataChanges:!0,Qa:!0});return qp(u,A)}(await Sh(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(i,e,n){if(!n)throw new de(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function SO(i,e,n,s){if(e===!0&&s===!0)throw new de(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function l0(i){if(!ve.isDocumentKey(i))throw new de(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function u0(i){if(ve.isDocumentKey(i))throw new de(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Kh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ae(12329,{type:typeof i})}function Un(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kh(i);throw new de(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="firestore.googleapis.com",c0=!0;class h0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iS,this.ssl=c0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:c0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eD)throw new de(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new D2;switch(s.type){case"firstParty":return new V2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=o0.get(n);s&&(fe("ComponentProvider","Removing Datastore"),o0.delete(n),s.terminate())}(this),Promise.resolve()}}function wO(i,e,n,s={}){var o;i=Un(i,Yh);const u=co(e),f=i._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${n}`;u&&(J0(`https://${p}`),Z0("Firestore",!0)),f.host!==iS&&f.host!==p&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Fr(g,m)&&(i._setSettings(g),s.mockUserToken)){let E,A;if(typeof s.mockUserToken=="string")E=s.mockUserToken,A=Jt.MOCK_USER;else{E=nR(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new de(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Jt(S)}i._authCredentials=new O2(new GT(E,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ar(this.firestore,e,this._query)}}class Wt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}}class Hr extends ar{constructor(e,n,s){super(e,n,Lh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new ve(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function f0(i,e,...n){if(i=wt(i),nS("collection","path",e),i instanceof Yh){const s=it.fromString(e,...n);return u0(s),new Hr(i,null,s)}{if(!(i instanceof Wt||i instanceof Hr))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(it.fromString(e,...n));return u0(s),new Hr(i.firestore,null,s)}}function Bl(i,e,...n){if(i=wt(i),arguments.length===1&&(e=YT.newId()),nS("doc","path",e),i instanceof Yh){const s=it.fromString(e,...n);return l0(s),new Wt(i,null,new ve(s))}{if(!(i instanceof Wt||i instanceof Hr))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(it.fromString(e,...n));return l0(s),new Wt(i.firestore,i instanceof Hr?i.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="AsyncQueue";class m0{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new UA(this,"async_queue_retry"),this.rc=()=>{const s=vm();s&&fe(d0,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new er;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!go(e))throw e;fe(d0,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,rr("INTERNAL UNHANDLED ERROR: ",p0(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=jp.createAndSchedule(this,e,n,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Ae(47125,{cc:p0(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function p0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class Gs extends Yh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new m0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new m0(e),this._firestoreClient=void 0,await e}}}function bO(i,e){const n=typeof i=="object"?i:cp(),s=typeof i=="string"?i:mh,o=$s(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=eR("firestore");u&&wO(o,...u)}return o}function Qh(i){if(i._terminated)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||RO(i),i._firestoreClient}function RO(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new $2(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,tS(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new vO(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ao(Gt.fromBase64String(e))}catch(n){throw new de(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ao(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=/^__.*__$/;class CO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Wr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ou(e,this.data,n,this.fieldTransforms)}}class rS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Wr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function sS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ic:i})}}class Jp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Jp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Vc(e),o}mc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return wh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(sS(this.Ic)&&IO.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class NO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Hh(e)}bc(e,n,s,o=!1){return new Jp({Ic:e,methodName:n,wc:s,path:Ft.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zp(i){const e=i._freezeSettings(),n=Hh(i._databaseId);return new NO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function DO(i,e,n,s,o,u={}){const f=i.bc(u.merge||u.mergeFields?2:0,e,n,o);eg("Data must be an object, but it was:",f,s);const m=aS(s,f);let p,g;if(u.merge)p=new An(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const S=Zm(e,A,n);if(!f.contains(S))throw new de(ee.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);lS(E,S)||E.push(S)}p=new An(E),g=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=f.fieldTransforms;return new CO(new hn(m),p,g)}class Jh extends Xh{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jh}}class Wp extends Xh{_toFieldTransform(e){return new TN(e.path,new Zl)}isEqual(e){return e instanceof Wp}}function OO(i,e,n,s){const o=i.bc(1,e,n);eg("Data must be an object, but it was:",o,s);const u=[],f=hn.empty();Zr(s,(p,g)=>{const E=tg(e,p,n);g=wt(g);const A=o.mc(E);if(g instanceof Jh)u.push(E);else{const S=hu(g,A);S!=null&&(u.push(E),f.set(E,S))}});const m=new An(u);return new rS(f,m,o.fieldTransforms)}function xO(i,e,n,s,o,u){const f=i.bc(1,e,n),m=[Zm(e,s,n)],p=[o];if(u.length%2!=0)throw new de(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Zm(e,u[S])),p.push(u[S+1]);const g=[],E=hn.empty();for(let S=m.length-1;S>=0;--S)if(!lS(g,m[S])){const P=m[S];let V=p[S];V=wt(V);const j=f.mc(P);if(V instanceof Jh)g.push(P);else{const U=hu(V,j);U!=null&&(g.push(P),E.set(P,U))}}const A=new An(g);return new rS(E,A,f.fieldTransforms)}function MO(i,e,n,s=!1){return hu(n,i.bc(s?4:3,e))}function hu(i,e){if(oS(i=wt(i)))return eg("Unsupported field value:",e,i),aS(i,e);if(i instanceof Xh)return function(s,o){if(!sS(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=hu(m,o.fc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=wt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return vN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Dt.fromDate(s);return{timestampValue:_h(o.serializer,u)}}if(s instanceof Dt){const u=new Dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:_h(o.serializer,u)}}if(s instanceof $p)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ao)return{bytesValue:IA(o.serializer,s._byteString)};if(s instanceof Wt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Op(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Xp)return function(f,m){return{mapValue:{fields:{[tA]:{stringValue:nA},[ph]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.gc("VectorValues must only contain numeric values.");return Cp(m.serializer,g)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${Kh(s)}`)}(i,e)}function aS(i,e){const n={};return $T(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(i,(s,o)=>{const u=hu(o,e.Ac(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function oS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Dt||i instanceof $p||i instanceof ao||i instanceof Wt||i instanceof Xh||i instanceof Xp)}function eg(i,e,n){if(!oS(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Kh(n);throw s==="an object"?e.gc(i+" a custom object"):e.gc(i+" "+s)}}function Zm(i,e,n){if((e=wt(e))instanceof $h)return e._internalPath;if(typeof e=="string")return tg(i,e);throw wh("Field path arguments must be of type string or ",i,!1,void 0,n)}const VO=new RegExp("[~\\*/\\[\\]]");function tg(i,e,n){if(e.search(VO)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new $h(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function wh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new de(ee.INVALID_ARGUMENT,m+i+p)}function lS(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ng("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kO extends uS{data(){return super.data()}}function ng(i,e){return typeof e=="string"?tg(i,e):e instanceof $h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ig{}class rg extends ig{}function PO(i,e,...n){let s=[];e instanceof ig&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof ag).length,m=u.filter(p=>p instanceof sg).length;if(f>1||f>0&&m>0)throw new de(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class sg extends rg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new sg(e,n,s)}_apply(e){const n=this._parse(e);return hS(e._query,n),new ar(e.firestore,e.converter,qm(e._query,n))}_parse(e){const n=Zp(e.firestore);return function(u,f,m,p,g,E,A){let S;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new de(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){v0(A,E);const V=[];for(const j of A)V.push(y0(p,u,j));S={arrayValue:{values:V}}}else S=y0(p,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||v0(A,E),S=MO(m,f,A,E==="in"||E==="not-in");return St.create(g,E,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ag extends ig{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ag(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)hS(f,p),f=qm(f,p)}(e._query,n),new ar(e.firestore,e.converter,qm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class og extends rg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new og(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new de(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new de(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jl(u,f)}(e._query,this._field,this._direction);return new ar(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new yo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function LO(i,e="asc"){const n=e,s=ng("orderBy",i);return og._create(s,n)}class lg extends rg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new lg(e,n,s)}_apply(e){return new ar(e.firestore,e.converter,yh(e._query,this._limit,this._limitType))}}function UO(i){return lg._create("limit",i,"F")}function y0(i,e,n){if(typeof(n=wt(n))=="string"){if(n==="")throw new de(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cA(e)&&n.indexOf("/")!==-1)throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!ve.isDocumentKey(s))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return DE(i,new ve(s))}if(n instanceof Wt)return DE(i,n._key);throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(n)}.`)}function v0(i,e){if(!Array.isArray(i)||i.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hS(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zO{convertValue(e,n="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Zr(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[ph].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>yt(f.doubleValue));return new Xp(u)}convertGeoPoint(e){return new $p(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ph(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const n=Kr(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Ke(MA(s),9688,{name:e});const o=new $l(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(n)||rr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fS extends uS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ng("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class ih extends fS{data(e={}){return super.data(e)}}class dS{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Vl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new ih(this._firestore,this._userDataWriter,s.key,s,new Vl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Vl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Vl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:BO(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function BO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(i){i=Un(i,Wt);const e=Un(i.firestore,Gs);return TO(Qh(e),i._key).then(n=>pS(e,i,n))}class ug extends zO{constructor(e){super(),this.firestore=e}convertBytes(e){return new ao(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function qO(i){i=Un(i,ar);const e=Un(i.firestore,Gs),n=Qh(e),s=new ug(e);return cS(i._query),AO(n,i._query).then(o=>new dS(e,s,i,o))}function Gc(i,e,n){i=Un(i,Wt);const s=Un(i.firestore,Gs),o=jO(i.converter,e,n);return mS(s,[DO(Zp(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,vi.none())])}function HO(i,e,n,...s){i=Un(i,Wt);const o=Un(i.firestore,Gs),u=Zp(o);let f;return f=typeof(e=wt(e))=="string"||e instanceof $h?xO(u,"updateDoc",i._key,e,n,s):OO(u,"updateDoc",i._key,e),mS(o,[f.toMutation(i._key,vi.exists(!0))])}function FO(i,...e){var n,s,o;i=wt(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||g0(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(g0(e[f])){const A=e[f];e[f]=(n=A.next)===null||n===void 0?void 0:n.bind(A),e[f+1]=(s=A.error)===null||s===void 0?void 0:s.bind(A),e[f+2]=(o=A.complete)===null||o===void 0?void 0:o.bind(A)}let p,g,E;if(i instanceof Wt)g=Un(i.firestore,Gs),E=Lh(i._key.path),p={next:A=>{e[f]&&e[f](pS(g,i,A))},error:e[f+1],complete:e[f+2]};else{const A=Un(i,ar);g=Un(A.firestore,Gs),E=A._query;const S=new ug(g);p={next:P=>{e[f]&&e[f](new dS(g,S,A,P))},error:e[f+1],complete:e[f+2]},cS(i._query)}return function(S,P,V,j){const U=new Qp(j),q=new Gp(P,U,V);return S.asyncQueue.enqueueAndForget(async()=>qp(await Sh(S),q)),()=>{U.xu(),S.asyncQueue.enqueueAndForget(async()=>Hp(await Sh(S),q))}}(Qh(g),E,m,p)}function mS(i,e){return function(s,o){const u=new er;return s.asyncQueue.enqueueAndForget(async()=>uO(await EO(s),o,u)),u.promise}(Qh(i),e)}function pS(i,e,n){const s=n.docs.get(e._key),o=new ug(i);return new fS(i,o,e._key,s,new Vl(n.hasPendingWrites,n.fromCache),e.converter)}function $i(){return new Wp("serverTimestamp")}(function(e,n=!0){(function(o){mo=o})(ho),Ei(new $n("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Gs(new x2(s.getProvider("auth-internal")),new k2(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ln(vE,_E,e),Ln(vE,_E,"esm2017")})();var GO="firebase",KO="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln(GO,KO,"app");const gS="@firebase/installations",cg="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=1e4,vS=`w:${cg}`,_S="FIS_v2",YO="https://firebaseinstallations.googleapis.com/v1",QO=60*60*1e3,$O="installations",XO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ks=new Qs($O,XO,JO);function ES(i){return i instanceof Zn&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS({projectId:i}){return`${YO}/projects/${i}/installations`}function AS(i){return{token:i.token,requestStatus:2,expiresIn:WO(i.expiresIn),creationTime:Date.now()}}async function SS(i,e){const s=(await e.json()).error;return Ks.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function wS({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function ZO(i,{refreshToken:e}){const n=wS(i);return n.append("Authorization",ex(e)),n}async function bS(i){const e=await i();return e.status>=500&&e.status<600?i():e}function WO(i){return Number(i.replace("s","000"))}function ex(i){return`${_S} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tx({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=TS(i),o=wS(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:n,authVersion:_S,appId:i.appId,sdkVersion:vS},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await bS(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:AS(g.authToken)}}else throw await SS("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=/^[cdef][\w-]{21}$/,ep="";function rx(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=sx(i);return ix.test(n)?n:ep}catch{return ep}}function sx(i){return nx(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=new Map;function CS(i,e){const n=Zh(i);NS(n,e),ax(n,e)}function NS(i,e){const n=IS.get(i);if(n)for(const s of n)s(e)}function ax(i,e){const n=ox();n&&n.postMessage({key:i,fid:e}),lx()}let zs=null;function ox(){return!zs&&"BroadcastChannel"in self&&(zs=new BroadcastChannel("[Firebase] FID Change"),zs.onmessage=i=>{NS(i.data.key,i.data.fid)}),zs}function lx(){IS.size===0&&zs&&(zs.close(),zs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="firebase-installations-database",cx=1,Ys="firebase-installations-store";let Em=null;function hg(){return Em||(Em=rT(ux,cx,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Ys)}}})),Em}async function bh(i,e){const n=Zh(i),o=(await hg()).transaction(Ys,"readwrite"),u=o.objectStore(Ys),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&CS(i,e.fid),e}async function DS(i){const e=Zh(i),s=(await hg()).transaction(Ys,"readwrite");await s.objectStore(Ys).delete(e),await s.done}async function Wh(i,e){const n=Zh(i),o=(await hg()).transaction(Ys,"readwrite"),u=o.objectStore(Ys),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&CS(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fg(i){let e;const n=await Wh(i.appConfig,s=>{const o=hx(s),u=fx(i,o);return e=u.registrationPromise,u.installationEntry});return n.fid===ep?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function hx(i){const e=i||{fid:rx(),registrationStatus:0};return OS(e)}function fx(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ks.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=dx(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:mx(i)}:{installationEntry:e}}async function dx(i,e){try{const n=await tx(i,e);return bh(i.appConfig,n)}catch(n){throw ES(n)&&n.customData.serverCode===409?await DS(i.appConfig):await bh(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function mx(i){let e=await _0(i.appConfig);for(;e.registrationStatus===1;)await RS(100),e=await _0(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await fg(i);return s||n}return e}function _0(i){return Wh(i,e=>{if(!e)throw Ks.create("installation-not-found");return OS(e)})}function OS(i){return px(i)?{fid:i.fid,registrationStatus:0}:i}function px(i){return i.registrationStatus===1&&i.registrationTime+yS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx({appConfig:i,heartbeatServiceProvider:e},n){const s=yx(i,n),o=ZO(i,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:vS,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await bS(()=>fetch(s,m));if(p.ok){const g=await p.json();return AS(g)}else throw await SS("Generate Auth Token",p)}function yx(i,{fid:e}){return`${TS(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dg(i,e=!1){let n;const s=await Wh(i.appConfig,u=>{if(!xS(u))throw Ks.create("not-registered");const f=u.authToken;if(!e&&Ex(f))return u;if(f.requestStatus===1)return n=vx(i,e),u;{if(!navigator.onLine)throw Ks.create("app-offline");const m=Ax(u);return n=_x(i,m),m}});return n?await n:s.authToken}async function vx(i,e){let n=await E0(i.appConfig);for(;n.authToken.requestStatus===1;)await RS(100),n=await E0(i.appConfig);const s=n.authToken;return s.requestStatus===0?dg(i,e):s}function E0(i){return Wh(i,e=>{if(!xS(e))throw Ks.create("not-registered");const n=e.authToken;return Sx(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function _x(i,e){try{const n=await gx(i,e),s=Object.assign(Object.assign({},e),{authToken:n});return await bh(i.appConfig,s),n}catch(n){if(ES(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await DS(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await bh(i.appConfig,s)}throw n}}function xS(i){return i!==void 0&&i.registrationStatus===2}function Ex(i){return i.requestStatus===2&&!Tx(i)}function Tx(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+QO}function Ax(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function Sx(i){return i.requestStatus===1&&i.requestTime+yS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wx(i){const e=i,{installationEntry:n,registrationPromise:s}=await fg(e);return s?s.catch(console.error):dg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bx(i,e=!1){const n=i;return await Rx(n),(await dg(n,e)).token}async function Rx(i){const{registrationPromise:e}=await fg(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(i){if(!i||!i.options)throw Tm("App Configuration");if(!i.name)throw Tm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw Tm(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Tm(i){return Ks.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="installations",Cx="installations-internal",Nx=i=>{const e=i.getProvider("app").getImmediate(),n=Ix(e),s=$s(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Dx=i=>{const e=i.getProvider("app").getImmediate(),n=$s(e,MS).getImmediate();return{getId:()=>wx(n),getToken:o=>bx(n,o)}};function Ox(){Ei(new $n(MS,Nx,"PUBLIC")),Ei(new $n(Cx,Dx,"PRIVATE"))}Ox();Ln(gS,cg);Ln(gS,cg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh="analytics",xx="firebase_id",Mx="origin",Vx=60*1e3,kx="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new Dh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Sn=new Qs("analytics","Analytics",Px);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(i){if(!i.startsWith(mg)){const e=Sn.create("invalid-gtag-resource",{gtagURL:i});return fn.warn(e.message),""}return i}function VS(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function Ux(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function zx(i,e){const n=Ux("firebase-js-sdk-policy",{createScriptURL:Lx}),s=document.createElement("script"),o=`${mg}?l=${i}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function jx(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function Bx(i,e,n,s,o,u){const f=s[o];try{if(f)await e[f];else{const p=(await VS(n)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){fn.error(m)}i("config",o,u)}async function qx(i,e,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await VS(n);for(const p of f){const g=m.find(A=>A.measurementId===p),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){fn.error(u)}}function Hx(i,e,n,s){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await qx(i,e,n,m,p)}else if(u==="config"){const[m,p]=f;await Bx(i,e,n,s,m,p)}else if(u==="consent"){const[m,p]=f;i("consent",m,p)}else if(u==="get"){const[m,p,g]=f;i("get",m,p,g)}else if(u==="set"){const[m]=f;i("set",m)}else i(u,...f)}catch(m){fn.error(m)}}return o}function Fx(i,e,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=Hx(u,i,e,n),{gtagCore:u,wrappedGtag:window[o]}}function Gx(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(mg)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=30,Yx=1e3;class Qx{constructor(e={},n=Yx){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const kS=new Qx;function $x(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function Xx(i){var e;const{appId:n,apiKey:s}=i,o={method:"GET",headers:$x(s)},u=kx.replace("{app-id}",n),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let m="";try{const p=await f.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw Sn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function Jx(i,e=kS,n){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw Sn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Sn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new eM;return setTimeout(async()=>{m.abort()},Vx),PS({appId:s,apiKey:o,measurementId:u},f,m,e)}async function PS(i,{throttleEndTimeMillis:e,backoffCount:n},s,o=kS){var u;const{appId:f,measurementId:m}=i;try{await Zx(s,e)}catch(p){if(m)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:m};throw p}try{const p=await Xx(i);return o.deleteThrottleMetadata(f),p}catch(p){const g=p;if(!Wx(g)){if(o.deleteThrottleMetadata(f),m)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:f,measurementId:m};throw p}const E=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?G_(n,o.intervalMillis,Kx):G_(n,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return o.setThrottleMetadata(f,A),fn.debug(`Calling attemptFetch again in ${E} millis`),PS(i,A,s,o)}}function Zx(i,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),s(Sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Wx(i){if(!(i instanceof Zn)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class eM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function tM(i,e,n,s,o){if(o&&o.global){i("event",n,s);return}else{const u=await e,f=Object.assign(Object.assign({},s),{send_to:u});i("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(){if(eT())try{await tT()}catch(i){return fn.warn(Sn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return fn.warn(Sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function iM(i,e,n,s,o,u,f){var m;const p=Jx(i);p.then(P=>{n[P.measurementId]=P.appId,i.options.measurementId&&P.measurementId!==i.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${P.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(P=>fn.error(P)),e.push(p);const g=nM().then(P=>{if(P)return s.getId()}),[E,A]=await Promise.all([p,g]);Gx(u)||zx(u,E.measurementId),o("js",new Date);const S=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return S[Mx]="firebase",S.update=!0,A!=null&&(S[xx]=A),o("config",E.measurementId,S),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.app=e}_delete(){return delete ql[this.app.options.appId],Promise.resolve()}}let ql={},T0=[];const A0={};let Am="dataLayer",sM="gtag",S0,LS,w0=!1;function aM(){const i=[];if(W0()&&i.push("This is a browser extension environment."),hR()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=Sn.create("invalid-analytics-context",{errorInfo:e});fn.warn(n.message)}}function oM(i,e,n){aM();const s=i.options.appId;if(!s)throw Sn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Sn.create("no-api-key");if(ql[s]!=null)throw Sn.create("already-exists",{id:s});if(!w0){jx(Am);const{wrappedGtag:u,gtagCore:f}=Fx(ql,T0,A0,Am,sM);LS=u,S0=f,w0=!0}return ql[s]=iM(i,T0,A0,e,S0,Am,n),new rM(i)}function lM(i=cp()){i=wt(i);const e=$s(i,Rh);return e.isInitialized()?e.getImmediate():uM(i)}function uM(i,e={}){const n=$s(i,Rh);if(n.isInitialized()){const o=n.getImmediate();if(Fr(e,n.getOptions()))return o;throw Sn.create("already-initialized")}return n.initialize({options:e})}function cM(i,e,n,s){i=wt(i),tM(LS,ql[i.app.options.appId],e,n,s).catch(o=>fn.error(o))}const b0="@firebase/analytics",R0="0.10.16";function hM(){Ei(new $n(Rh,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return oM(s,o,n)},"PUBLIC")),Ei(new $n("analytics-internal",i,"PRIVATE")),Ln(b0,R0),Ln(b0,R0,"esm2017");function i(e){try{const n=e.getProvider(Rh).getImmediate();return{logEvent:(s,o,u)=>cM(n,s,o,u)}}catch(n){throw Sn.create("interop-component-reg-failed",{reason:n})}}}hM();const fM={apiKey:"AIzaSyDC_YL8wau3PKK1r2ZYYHc32TtnoXe5giQ",authDomain:"stanford-lastchances.firebaseapp.com",projectId:"stanford-lastchances",storageBucket:"stanford-lastchances.firebasestorage.app",messagingSenderId:"792276801448",appId:"1:792276801448:web:84a43cc96308673321ef9d",measurementId:"G-HLD1E4T34S"},pg=sT(fM),Fa=C2(pg),Bs=bO(pg);lM(pg);const US=new Xi;US.setCustomParameters({hd:"stanford.edu"});const Hl=["Nicolas Abad","Khaled Abdulkarim","Layla Aboukhater","Kate Kabat (Adams)","Max Adams","Krupa Adusumilli","Sabrina Afroz","Megha Agarwal","Will Agathis","Naza Aibar","SimoneTess Aisiks","Tireni Ajilore","Maha Al Fahim","Khalid Alajlan","Jude Alawa","Aziz Aldawood","Faisal Alhindi","Noor Alsharif","Mubarak Alliyu","Joo Pedro Almeida","Mia Amin","Ricardo Anaya","Travis Anderson","Andrew Raffi Ansell","Mark Garo Ansell","Sonja Anton","Ruby Au","Yalcin Aydin","Mohammed Azhari","Mo Babeker","Kathryn Bacher","Michael Bakan","Niranjan Balachandar","Alvaro Baleato Varela","Pranay Balijepalli","Alan Balson","Philip Balson","Erin Barrett","Itai Barsade","Juan Bautista Baistrocchi","Savannah Baum","Ryan Bayne","Chris Beckmann","Pedro Benoit","Helen Berhanu","Anya Bharadwaj","Mallika Bhandari","Lauren Bilbo","Becca Blais","Caroline Blanck","Jake Blank","Mira Bodek (Mibo)","Chris Bradbury","Sam Braunseis","Caden Broussard","Sarah Brown","Carolyn Bruckmann","Cyrus Buckman","Sabrina (Namato) Bukenya","Holly Burwick","Jesse Cai","Keith Calix","Daniela Camargo Carrillo","Maria Cano","Georgia Carroll","Tom Carroll","Zooey Wilkinson","Amir Chain Nemtala","Avis Chan","Charlotte Chang","Richa Chaturvedi","Devika Chatwani","Zo Chazen","Anli Chen","Caroline Chen","Grace Chen","Jinny Chen","Kimberly Chen","Sophia Chen","Xixi Chen","Catherine Cheng","Mariami Chikovani","Yody Chiu","Henry Choi","Wonjun Choi","Olivia Christensen","Stephen Chu","Will Clark","Eugenio Claro","Josh Cohen","Chlo Conacher","Camila Cordara","Colter Corish","Rakiya Cunningham","Bryan Danielson","Owen Davies","Joshua Davis","Ryan Davis","Ian De Luna","Nico deLuna","Batu Demir","Lydia Deneen","Gabriela Diaz","Catherine Didier","Marcos Diehl","Amir Donath","Omer Doron","Meera Doshi","Hob Du","Noelle Durkin","Zach Dyce","Iain Edmundson","Fatma Elshenawy","Nico Enriquez","Tyler Erb","Lauren Esrig","Esteban Estevez Juttner","Noelle Eveland","Valerie Fanelle","Hamza Farrukh","Andreas Fatschel","Paty Fernandez de Castro","Eliana Field-Marsham","Sofia Figueroa","Stephen Flynn","Eugnie Fontugne","Paige Frank","Daniel Freedland","Leif Frey","Mengdi (Mandy) Gao","Santiago Garca Vargas","Anirudh Garg","Max Garrett","Ishwar Gawande","Ben Gedeon","Uma Girkar","Dhanush Girish","David Goehring","Pablo Golac","Cayo Gonzalez","Ana Gonzalez Galindo","Carmen Gordon","Tom Gorman","Carlton Gossett","Chris Gramling","Olivia Greenberg","Sam Greenberg","Esther Gross","Katie Gudeman","Julia Guillemot","Sean Guo","Juliette Hackett","Isa Haegg","Hans Halvorsen","Richard Hamrick","Farrukh Hamza","Michelle Han","Conor Harrity","Tess Hartigan","Madi Harvey","Rachel Hersh","Sonia Hernandez","Jon Hoey","Vinicius Hojo","Kristen Hong","Royi Horowitz","Zhi Huang","Madison Hughes","Lizzie Hunpatin","Winston Huynh","Toshi Imamura","Henry Iseman","Muhammad Awais Islam","Akshita Jain","Katharine Jessiman-Ketcham","Sandhya Jetty","Chloe Jin","Kripanshi Jindal","Imren Johar","Joel Johnson","Barclay Jones","Jake Jordaan","Akshatha Kamath","Esther Kamgaing","Vikram Kanodia","Chad Kanoff","Amee Kapadia","Ayesha Karnik","Allison Kaslow","Tamara Kawash","Chris Kay","Larken Kemp","Farha Khan","Sakshi Khanna","Cyrus Kharche","Laura Vanessa Kiehl","Hokuto Kikuchi","Brendan Kim","Rachel Kim","Ethan Klein","Kelsey Klein","Annie Klosowicz","Bruno Koba","Peter Koch","Ankita Kodavoor","Steven Koh","Mackenzie Kosseim","Aakash Kotak","Tomi Kovanen","Tushar Krishnan","Catherine Lacy","Ana Laginha","Norma Langdon","Krystal Lau","Gahong (Grace) Lee","Katrina Lee","Mark Lee","Mia Lee","Paul Lee","Conor Leen","Mikos Legrand","Caroline Levy","Quinn Lewis","Nicki Liang","Lyn Li","Yue Li","Zhenyan (Jane) Li","Adam Lifshitz","Lexie Lin","Alice Liu","Michael Liu","Andrew Lobel","Alex Lubkin","Henry Lu","Jessica Lu","Maisie Lynton","Lucy Ma","Mark Ma","Matt Mahowald","Ndirangu (Bryan) Maina","Zac Maslia","Fernando Mata","Anthony Mattar El Raachini","Keita Matsumoto","Lauren Maymar","Alexander McCarthy","Elizabeth McNally","Ian McRae","Holley McShan","Cam McWatt","Arnav Mehta","Adam Merrill","Eric Meyers","Salome Mikadze-Struk","Jordan Miller","Mckenna Miller","Hiroaki Minoo","Madison Minsk","Bryce Mitchell","Suhani Mohan","Mehek Mohan","Munim Moiz","Mason Montgomery","Cariana Morales","Gherardo Morona","Yoshimi Muneta","Hannah Murdoch","Matt Murphy","Harshi Murthy","Carson Muscat","Marin Nagase Tominaga","Karn Nahata","Sasha Nanda","Chase Navellier","Elliot Nell","Kyle Nelson","Ludwig Neumann","Shelly Ngo","Floriane Ngako Kameni","Danielle Nguyen","Michelle Nguyen","Dru Nkansah","Joan Nolla Surez","Arinze Nwagbata","Matas Oberpaur","Jerry O'Connor","Gloria Odoemelam","Ewoma Ogbaudu","John Onderdonk","Bobby O'Reilly","Sidney Owen","Michael Paretzky","Chanwoo Park","James Park","Terry Park","Sravan Patchala","Kayan Patel","Neal Patel","Shivam Patel","Ken Pattarasittiwate","Andrew Paulmeno","Juan Pablo Pietrini","Kelli Pedersen","Kiera Peltz","Olivia Peniston","Anirudh Pennathur","Nathan Petrie","Stephanie Pham","Doug Phipps","Alan Pimstein","Jackson Polatnick","Meagan Prins-McKinney","Christina Puccinelli","Vibha Puri","Riley Quinn","Claire Rafson","Vasundhara Rakesh","Alex Rakestraw","James Ramsay","Angeline Rao","Pragati Rastogi","Glenn Reddy","Rachael Rhee","Anya Ring","Joseph Robillard","Aria Rodli","Javi Rodriguez","Abu Rogers","Katharina Rohr","Maria Rojas","Matt Rojas","Micaela Romero Valdez","Olivia Rosen","Aislin Roth","Anna Rowe","Eduardo Rubini","Rob Rush","Priscilla Russo","Shailee Samar","Payaum Sanatkar","Sonia Sarda","Philipp Schellhaas","Stefano Schiappacasse","Sophie Schick","Paul Sdille","Priyanka Seegobin","Sean Sellers","Joon Seo","Ishir Seth","Jay Shah","Mirai Shah","Shreya Shah","Evelyn Shao","Akanksha Sharma","Arushi Sharma","Annabel Shaw","Dina Sheira","Michelle Shen","Daniel Sheppard","Chris Shim","Amit Shimshi","Ila Shon","Jack Shumway","Saman Siddiqui","Billy Silk","Ramon Silva","Jackson Simon","Rohan Sinha","Meredith Slifkin","MinJae Song","Shikhar Sood","Preetam Soundararajan","Marc-Aurele Stark","Adam Starr","Mara Steiu","Eli Stern","Jack Stone","Jack Strauss","Amanda Studebaker","Sushant Sudheendranath","Julia Sun","Kailash Sundaram","Leah Surratt","Max Susman","Gabriela Tafur","Lydia Tahraoui","Sarah Tang","Eliza Teach","Nofel Teldjoune","Emily Tench","Nattanon (Pat) Thitisarnsiri","Seyon Thomas","Claire Thompson","Nicholas Tobin","Sydney Tomlinson","Gustavo Tori","Henry Townley","Devan Trammel","Jamie Tym","Shievani Upadhyay","Christian Antonio Urrutia","Isabel Vallina Garcia","Jessica Garcia","Katie Van Dyk","Mahek Vara","Dhananjay (DJ) Varma","Agustin Villarreal","Jessica Villarreal","Sea Wachakorn","Callie Walker","Tyler Walker","Jake Waskowitz","Colin Weidmann","Melanie Weinsten","Henry Welsh","Chris West","Cort White","Sadiki Wiltshire","Joseph Wise","Walter Woo","Andre Xiong","Yingkai (Kevin) Xu","Haoxiang (Mike) Yang","Talha Yousaf","Theresa Yu","Michael Yuan","Dario Zarrabian","Elena Zhang","Henry Zhang","Jade Zhang","Ruoyao Zhang","Max Zhou","Will Zhou","Bastiaan Zwanenburg","Test Account"],zS=G.createContext(null),fu=()=>{const i=G.useContext(zS);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i},Sm="/files/default-profile.png";function wm(i){return!i||typeof i!="string"?"":i.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^\w\s]/g," ").replace(/\s+/g," ").trim()}function dM(i,e){const n=wm(i),s=e.find(p=>wm(p)===n);if(s)return{exactMatch:s,potentialMatches:[]};const o=n.split(" ").filter(Boolean);if(o.length<2)return{potentialMatches:[]};const u=o[0],f=o[o.length-1];return{potentialMatches:e.filter(p=>{const E=wm(p).split(" ").filter(Boolean);if(E.length<2)return!1;const A=E[0],S=E[E.length-1];return A===u&&S===f})}}const mM=({children:i})=>{const[e,n]=G.useState(null),[s,o]=G.useState(null),[u,f]=G.useState(!0),[m,p]=G.useState(null),g=U=>!U||!Array.isArray(U)?[]:U.map(q=>typeof q=="string"?{name:q,email:q.toLowerCase().replace(/\s+/g,".")+"@stanford.edu"}:q&&typeof q=="object"&&q.name&&q.email?{name:q.name,email:q.email}:{name:"Unknown",email:"unknown@stanford.edu"}),E=async()=>{if(!(e!=null&&e.uid)){console.warn("refreshUserData called without user");return}try{const U=Bl(Bs,"users",e.uid),q=await Wm(U);if(q.exists()){const X=q.data(),ie={uid:X.uid,email:X.email,name:X.name||X.verifiedName||X.displayName||"",photoURL:X.photoURL,crushes:X.crushes||[],lockedCrushes:X.lockedCrushes||[],matches:g(X.matches),crushCount:X.crushCount||0,createdAt:X.createdAt,updatedAt:X.updatedAt,lastLogin:X.lastLogin};o(ie)}else console.error("User document does not exist after creation"),o(null)}catch(U){console.error("Error refreshing user data:",U),o(null)}},A=async U=>{if(!(!(e!=null&&e.uid)||!m))try{const q=Bl(Bs,"users",e.uid);await Gc(q,{name:U,updatedAt:$i()},{merge:!0}),p(null),await E()}catch(q){throw console.error("Error selecting name:",q),q}},S=async U=>{var X;if(!U.uid)return null;const q=Bl(Bs,"users",U.uid);try{const ie=await Wm(q);if(ie.exists()){const oe=ie.data(),ue={uid:oe.uid,email:oe.email,name:oe.name||oe.verifiedName||oe.displayName||"",photoURL:U.photoURL||oe.photoURL||Sm,crushes:oe.crushes||[],lockedCrushes:oe.lockedCrushes||[],matches:g(oe.matches),crushCount:oe.crushCount||0,createdAt:oe.createdAt,updatedAt:$i(),lastLogin:$i()};return await Gc(q,ue,{merge:!0}),o(ue),ue}else{const oe=U.displayName||((X=U.email)==null?void 0:X.split("@")[0])||"",{exactMatch:ue,potentialMatches:_e}=dM(oe,Hl);if(ue){const x={uid:U.uid,email:U.email||"",name:ue,photoURL:U.photoURL||Sm,crushes:[],lockedCrushes:[],matches:[],crushCount:0,createdAt:$i(),updatedAt:$i(),lastLogin:$i()};return await Gc(q,x),o(x),x}else if(_e.length>0){p(_e);const x={uid:U.uid,email:U.email||"",name:"",photoURL:U.photoURL||Sm,crushes:[],lockedCrushes:[],matches:[],crushCount:0,createdAt:$i(),updatedAt:$i(),lastLogin:$i()};return await Gc(q,x),o(x),x}else return await zc(Fa),alert(`Your name "${oe}" was not found in the GSB Class of 2025 roster. Please contact the administrator if you believe this is an error.`),null}}catch(ie){return console.error("Error creating/updating user document:",ie),null}};G.useEffect(()=>yC(Fa,async q=>{var X;q?(X=q.email)!=null&&X.endsWith("@stanford.edu")?(n(q),await S(q),f(!1)):(await zc(Fa),n(null),o(null),f(!1),alert("Only @stanford.edu email addresses are allowed. Please sign in with your Stanford account.")):(n(null),o(null),p(null),f(!1))}),[]);const j={user:e,userData:s,loading:u,nameOptions:m,signInWithGoogle:async()=>{var U;try{if(!((U=(await LC(Fa,US)).user.email)!=null&&U.endsWith("@stanford.edu")))throw await zc(Fa),new Error("Only @stanford.edu email addresses are allowed")}catch(q){console.error("Login error:",q),q.code==="auth/popup-closed-by-user"?console.log("Sign-in popup was closed by user"):q.code==="auth/cancelled-popup-request"?console.log("Another sign-in popup is already open"):alert("Login failed. Please make sure you're using a @stanford.edu email address.")}},selectName:A,logout:async()=>{try{await zc(Fa),o(null),p(null)}catch(U){console.error("Logout error:",U)}},refreshUserData:E};return O.jsx(zS.Provider,{value:j,children:i})},pM=()=>{const{signInWithGoogle:i}=fu();return O.jsx("div",{className:"login-container",children:O.jsxs("div",{className:"login-card",children:[O.jsx("h1",{children:"Stanford Last Chances"}),O.jsx("h2",{children:"GSB Class of 2025"}),O.jsxs("p",{children:["Inspired by Dartmouth's famous ",O.jsx("i",{children:"Last Chances"})," tradition for graduating seniors",O.jsx("br",{}),O.jsx("br",{}),"Share your crushes anonymously and see if there's a mutual connection ",O.jsx("br",{}),O.jsx("br",{}),"The site will remain active until our Stanford accounts expire in October 2025"]}),O.jsx("div",{className:"login-content",children:O.jsxs("button",{className:"google-signin-btn",onClick:i,children:[O.jsxs("svg",{className:"google-icon",viewBox:"0 0 24 24",children:[O.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),O.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),O.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),O.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with your @stanford.edu"]})})]})})},gM=({analytics:i})=>O.jsxs("div",{className:"admin-overview",children:[O.jsx("div",{className:"admin-quick-insights",children:O.jsxs("div",{className:"admin-insight-card",children:[O.jsx("h4",{children:"Platform Activity"}),O.jsxs("p",{children:[(i==null?void 0:i.usersWithCrushes)||0," users have sent crushes"]}),O.jsxs("p",{children:[(i==null?void 0:i.usersWithMatches)||0," users have matches"]}),O.jsxs("p",{children:[(i==null?void 0:i.avgCrushes)||0," average crushes sent per user"]}),O.jsxs("p",{children:[(i==null?void 0:i.activeUsersLast24h)||0,"% users active in last 24h (real-time)"]})]})}),O.jsxs("div",{className:"admin-analytics",children:[O.jsxs("div",{className:"admin-analytics-section",children:[O.jsxs("h4",{children:["All Matches (",(i==null?void 0:i.totalMatches)||0,")"]}),i!=null&&i.matchedPairs.length?O.jsx("div",{className:"admin-matches-list",children:i.matchedPairs.map((e,n)=>O.jsxs("div",{className:"admin-match-item",children:[n+1,". ",e]},n))}):O.jsx("p",{children:"No matches found yet."})]}),O.jsxs("div",{className:"admin-analytics-section",children:[O.jsx("h4",{children:"Top Crush Receivers"}),O.jsx("div",{className:"admin-list",children:i==null?void 0:i.topCrushReceivers.map((e,n)=>O.jsxs("div",{className:"admin-list-item",children:[O.jsxs("span",{children:[n+1,". ",e.name]}),O.jsxs("span",{children:[e.count," crushes"]})]},e.name))})]}),O.jsxs("div",{className:"admin-analytics-section",children:[O.jsx("h4",{children:"Top Crush Senders"}),O.jsx("div",{className:"admin-list",children:i==null?void 0:i.topCrushSenders.map((e,n)=>O.jsxs("div",{className:"admin-list-item",children:[O.jsxs("span",{children:[n+1,". ",e.name]}),O.jsxs("span",{children:[e.count," crushes sent"]})]},e.name))})]}),O.jsxs("div",{className:"admin-analytics-section",children:[O.jsxs("h4",{children:["Inactive Receivers (",(i==null?void 0:i.inactiveReceivers.length)||0,")"]}),O.jsx("div",{className:"admin-list",children:i==null?void 0:i.inactiveReceivers.map((e,n)=>O.jsxs("div",{className:"admin-inactive-item",children:[O.jsxs("div",{className:"admin-inactive-header",children:[O.jsxs("span",{children:[n+1,". ",e.name]}),O.jsxs("span",{children:[e.crushCount," crushes"]})]}),O.jsxs("div",{className:"admin-inactive-details",children:[O.jsxs("p",{children:["Email: ",e.email]}),O.jsxs("p",{children:["Reason: ",e.reason]}),O.jsxs("p",{children:["Crushers: ",e.crushers.map(s=>s.name).join(", ")]})]})]},e.email))})]})]})]}),yM=({allUsers:i,loadingUsers:e,adminSearchTerm:n,setAdminSearchTerm:s,userFilter:o,setUserFilter:u,viewingUserId:f,handleViewUser:m,findCrushersForUser:p,userStats:g})=>{const E=A=>{s(A.target.value)};return O.jsxs("div",{className:"admin-users",children:[O.jsxs("div",{className:"admin-controls",children:[O.jsx("div",{className:"admin-search-section",children:O.jsx("input",{type:"text",placeholder:"Search users...",value:n,onChange:E,className:"admin-search-input"})}),O.jsx("div",{className:"admin-filter-section",children:O.jsxs("select",{value:o,onChange:A=>u(A.target.value),className:"admin-filter-dropdown",children:[O.jsxs("option",{value:"all",children:["All Users (",g.total,")"]}),O.jsxs("option",{value:"active",children:["Active Users (",g.activeUsers,")"]}),O.jsxs("option",{value:"inactive",children:["Inactive Users (",g.inactiveUsers,")"]}),O.jsxs("option",{value:"ghost",children:["Ghost Users (",g.ghostUsers,")"]})]})})]}),e?O.jsx("div",{className:"loading",children:"Loading users..."}):O.jsxs("div",{className:"admin-users-container",children:[i.map(A=>{var ue,_e,x,b;const S=f===A.uid,P=A.crushCount||0,V=p(A),j=A.isInactive||!1,U=A.isGhost||!1,q=A.name||A.email,X=!!(A.name&&A.name.trim());let ie="",oe="";return U?(ie="admin-user-ghost",oe=" Ghost User"):j&&(ie="admin-user-inactive",oe=" Inactive User"),O.jsxs("div",{className:`admin-user-item ${ie}`,children:[O.jsxs("div",{className:"admin-user-header",children:[O.jsxs("div",{className:"admin-user-info",children:[O.jsxs("div",{className:"admin-user-name",children:[q,oe&&O.jsx("span",{style:{color:U?"#999":"#6c757d",marginLeft:"8px",fontSize:"11px"},children:oe}),!j&&!U&&!X&&O.jsx("span",{style:{color:"#dc3545",marginLeft:"8px",fontSize:"11px"},children:"(No name set)"})]}),O.jsx("div",{className:"admin-user-email",children:A.email}),O.jsxs("div",{className:"admin-user-stats",children:[P," crushing  ",((ue=A.matches)==null?void 0:ue.length)||0," matches  ",((_e=A.crushes)==null?void 0:_e.length)||0," selected",!j&&!U&&P!==V.length&&O.jsxs("span",{style:{color:"#dc3545",marginLeft:"8px"},children:["(calc: ",V.length,")"]})]})]}),O.jsx("button",{onClick:()=>m(A.uid),className:"admin-view-btn",disabled:j||U,children:U?"Ghost":j?"Inactive":S?"Collapse":"View"})]}),S&&!j&&!U&&O.jsxs("div",{className:"admin-user-expanded",children:[O.jsx("div",{className:"admin-view-header",children:O.jsxs("h4",{children:["Data for ",q,":"]})}),O.jsxs("div",{className:"admin-data-grid",children:[O.jsxs("div",{className:"admin-data-card",children:[O.jsx("div",{className:"admin-data-number",children:P}),O.jsx("div",{className:"admin-data-label",children:"People Crushing On Them"}),V.length>0&&O.jsx("div",{className:"admin-data-names",children:V.map((R,N)=>O.jsx("div",{className:"admin-name-item",children:R.name},N))}),P!==V.length&&O.jsxs("div",{className:"admin-discrepancy",children:[" DB shows ",P,", calc shows ",V.length]})]}),O.jsxs("div",{className:"admin-data-card",children:[O.jsx("div",{className:"admin-data-number",children:((x=A.matches)==null?void 0:x.length)||0}),O.jsx("div",{className:"admin-data-label",children:"Matches"}),A.matches&&A.matches.length>0&&O.jsx("div",{className:"admin-data-names",children:A.matches.map((R,N)=>O.jsx("div",{className:"admin-name-item",children:R.name},N))})]}),O.jsxs("div",{className:"admin-data-card",children:[O.jsx("div",{className:"admin-data-number",children:((b=A.crushes)==null?void 0:b.length)||0}),O.jsx("div",{className:"admin-data-label",children:"Crushes Sent"}),A.crushes&&A.crushes.length>0&&O.jsx("div",{className:"admin-data-names",children:A.crushes.map((R,N)=>{var k;const C=(k=A.lockedCrushes)==null?void 0:k.includes(R);return O.jsxs("div",{className:`admin-name-item ${C?"locked":""}`,children:[R," ",C&&""]},N)})})]})]}),P===0&&(!A.matches||A.matches.length===0)&&(!A.crushes||A.crushes.length===0)&&O.jsx("div",{className:"admin-no-activity",children:"No activity"})]})]},A.uid)}),i.length===0&&O.jsx("div",{className:"no-results",children:n?"No users found.":"No users available."})]})]})},vM=({user:i})=>{const[e,n]=G.useState([]),[s,o]=G.useState(!1),[u,f]=G.useState(""),[m,p]=G.useState(null),[g,E]=G.useState("all"),[A,S]=G.useState("analytics"),[P,V]=G.useState(null),j=G.useCallback(b=>!b||typeof b!="string"?"":b.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^\w\s]/g," ").replace(/\s+/g," ").trim(),[]),U=G.useCallback((b,R)=>{if(!b||!b.trim())return null;const N=j(b);let C=R.find(I=>I.name&&j(I.name)===N);if(C)return C;const k=N.split(" ");if(k.length>=2){const I=`${k[0]} ${k[k.length-1]}`;C=R.find(Ve=>{if(Ve.name){const pe=j(Ve.name).split(" ");if(pe.length>=2)return`${pe[0]} ${pe[pe.length-1]}`===I}return!1})}return C||null},[j]),q=G.useCallback(b=>{const R=[],N=b.name;return N&&e.forEach(C=>{if(C.uid===b.uid||C.isInactive||C.isGhost)return;(C.crushes||[]).includes(N)&&R.push({name:C.name,email:C.email})}),R},[e]);G.useEffect(()=>{const b=PO(f0(Bs,"analytics"),LO("createdAt","desc"),UO(1)),R=FO(b,N=>{if(!N.empty){const C=N.docs[0].data();console.log("Live analytics updated:",C)}},N=>{console.error("Error listening to analytics:",N)});return()=>R()},[]);const X=G.useCallback(()=>{const b=e.filter(C=>!C.isInactive&&!C.isGhost);if(b.length===0)return 0;const R=new Date(Date.now()-24*60*60*1e3);let N=0;return b.forEach(C=>{if(C.lastLogin){let k;C.lastLogin.toDate?k=C.lastLogin.toDate():C.lastLogin.seconds?k=new Date(C.lastLogin.seconds*1e3):k=new Date(C.lastLogin),k>R&&N++}}),Number((N/b.length*100).toFixed(2))},[e]),ie=G.useCallback(()=>{const b=e.filter(ce=>!ce.isInactive&&!ce.isGhost),R=b.length,N=b.filter(ce=>ce.name&&ce.name.trim()).length,C=new Set;b.forEach(ce=>{const Xe=ce.matches||[];Array.isArray(Xe)&&Xe.length>0&&Xe.forEach(ct=>{const an=ct.name||ct,Kt=[ce.name,an].sort().join("  ");C.add(Kt)})});const k=C.size,I=Array.from(C).sort(),Ve=new Map,pe=new Map;let Q=0;b.forEach(ce=>{const Xe=ce.crushes||[];Q+=Xe.length,Xe.forEach(ct=>{const an=U(ct,e);if(an){const Kt=an.name;Kt&&(Ve.set(Kt,(Ve.get(Kt)||0)+1),pe.has(Kt)||pe.set(Kt,[]),pe.get(Kt).push(ce.name))}else Ve.set(ct,(Ve.get(ct)||0)+1),pe.has(ct)||pe.set(ct,[]),pe.get(ct).push(ce.name)})});const se=Array.from(Ve.keys()).filter(ce=>Ve.get(ce)>0).length,he=R>0?Q/R:0,Ne=b.filter(ce=>ce.crushes.length>0).length,M=b.filter(ce=>ce.matches.length>0).length,ne=R>0?Ne/R*100:0,le=Hl.length>0?Ne/Hl.length*100:0,re=[],ye=new Set;b.forEach(ce=>{(ce.crushes||[]).forEach(ct=>{ye.add(ct)})}),ye.forEach(ce=>{U(ce,e)||re.push(ce)});const De=Array.from(Ve.entries()).map(([ce,Xe])=>({name:ce,count:Xe,crushers:pe.get(ce)||[]})).sort((ce,Xe)=>Xe.count-ce.count).slice(0,20),Se=b.map(ce=>({name:ce.name,count:ce.crushes.length,crushNames:ce.crushes})).sort((ce,Xe)=>Xe.count-ce.count).slice(0,20),ut=[];return b.forEach(ce=>{if(ce.crushCount>0&&!!!(ce.crushes&&ce.crushes.length>0)){const ct=q(ce);ut.push({name:ce.name||"Unknown",email:ce.email,crushCount:ce.crushCount,reason:"No crushes submitted",crushers:ct})}}),ut.sort((ce,Xe)=>Xe.crushCount-ce.crushCount),{totalUsers:R,totalTakenNames:N,totalMatches:k,matchedPairs:I,totalCrushes:Q,peopleWithCrushes:se,avgCrushes:Number(he.toFixed(2)),usersWithCrushes:Ne,usersWithMatches:M,participationRate:Number(ne.toFixed(2)),classParticipationRate:Number(le.toFixed(2)),orphanedCrushes:re,topCrushReceivers:De,topCrushSenders:Se,inactiveReceivers:ut,activeUsersLast24h:X()}},[e,U,q,X]),oe=G.useCallback(async()=>{o(!0);try{const b=await qO(f0(Bs,"users")),R=[];b.forEach(pe=>{const Q=pe.data();R.push({...Q,uid:pe.id})});const N=new Set;R.forEach(pe=>{(pe.crushes||[]).forEach(se=>{N.add(se)})});const C=new Set(R.map(pe=>pe.name).filter(Boolean)),k=[],I=[];Hl.forEach(pe=>{if(C.has(pe))return;let Q=0;R.forEach(he=>{(he.crushes||[]).includes(pe)&&Q++});const se=`${pe.toLowerCase().replace(/\s+/g,".")}@stanford.edu`;if(Q>0){const he=`inactive-${j(pe).replace(/\s+/g,"-")}`;k.push({uid:he,email:se,name:pe,photoURL:"/files/default-profile.png",crushes:[],lockedCrushes:[],matches:[],crushCount:Q,isInactive:!0,createdAt:null,updatedAt:null,lastLogin:null})}else{const he=`ghost-${j(pe).replace(/\s+/g,"-")}`;I.push({uid:he,email:se,name:pe,photoURL:"/files/default-profile.png",crushes:[],lockedCrushes:[],matches:[],crushCount:0,isGhost:!0,createdAt:null,updatedAt:null,lastLogin:null})}});const Ve=[...R,...k,...I];Ve.sort((pe,Q)=>{const se=pe.isInactive||!1,he=Q.isInactive||!1,Ne=pe.isGhost||!1,M=Q.isGhost||!1;if(!se&&!Ne&&(he||M))return-1;if((se||Ne)&&!he&&!M)return 1;if(se&&!he&&M)return-1;if(!se&&Ne&&he)return 1;const ne=pe.name||pe.email||"",le=Q.name||Q.email||"";return ne.localeCompare(le)}),n(Ve)}catch(b){console.error("Error loading all users:",b)}finally{o(!1)}},[j]);G.useEffect(()=>{i&&oe()},[i,oe]),G.useEffect(()=>{e.length>0&&V(ie())},[e,ie]);const ue=G.useMemo(()=>{const b=e.filter(C=>!C.isInactive&&!C.isGhost),R=e.filter(C=>C.isInactive),N=e.filter(C=>C.isGhost);return{activeUsers:b.length,inactiveUsers:R.length,ghostUsers:N.length,total:e.length}},[e]),_e=b=>{p(m===b?null:b)},x=G.useMemo(()=>{let b=e;switch(g){case"active":b=b.filter(N=>!N.isInactive&&!N.isGhost);break;case"inactive":b=b.filter(N=>N.isInactive);break;case"ghost":b=b.filter(N=>N.isGhost);break}if(!u.trim())return b;const R=u.toLowerCase();return b.filter(N=>{const C=(N.name||"").toLowerCase(),k=(N.email||"").toLowerCase();return C.includes(R)||k.includes(R)})},[e,u,g]);return O.jsxs("div",{className:"admin-section",children:[O.jsx("h3",{children:"Admin Dashboard"}),O.jsxs("div",{className:"admin-definitions",children:[O.jsxs("p",{children:[O.jsx("strong",{children:"Active Users:"})," Students who have signed up, verified their Stanford email, and have their name automatically assigned. They can send crushes and receive matches."]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Inactive Users:"})," Students from the class roster who haven't signed up yet but are receiving crushes from active users. They appear as potential matches but can't send crushes or see matches until they sign up. High priority for outreach!"]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Ghost Users:"})," Students from the class roster with zero engagement - they haven't signed up and nobody is crushing on them. They represent the completely unengaged portion of the class."]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Inactive Receivers:"})," Active users who are receiving crushes but haven't sent any crushes themselves. These users need follow-up to encourage engagement."]})]}),O.jsxs("div",{className:"admin-nav",children:[O.jsx("button",{onClick:()=>S("analytics"),className:`admin-nav-btn ${A==="analytics"?"active":""}`,children:"Analytics"}),O.jsxs("button",{onClick:()=>S("users"),className:`admin-nav-btn ${A==="users"?"active":""}`,children:["Users (",ue.total,")"]})]}),O.jsxs("div",{className:"admin-content",children:[A==="analytics"&&O.jsx(gM,{analytics:P}),A==="users"&&O.jsx(yM,{allUsers:x,loadingUsers:s,adminSearchTerm:u,setAdminSearchTerm:f,userFilter:g,setUserFilter:E,viewingUserId:m,handleViewUser:_e,findCrushersForUser:q,userStats:ue})]})]})},_M=({userData:i,searchTerm:e,setSearchTerm:n,selectedNames:s,savedNames:o,updating:u,error:f,handleNameToggle:m,handleRemoveSelected:p,handleUpdatePreferences:g})=>{const E=(i==null?void 0:i.matches)&&i.matches.length>0,A=(i==null?void 0:i.crushCount)||0,S=(i==null?void 0:i.lockedCrushes)||[],P=JSON.stringify(s.sort())!==JSON.stringify(o.sort()),V=mb.useMemo(()=>{const j=[...s];i!=null&&i.name&&j.push(i.name);const U=Hl.filter(q=>!j.includes(q));return e?U.filter(q=>q.toLowerCase().includes(e.toLowerCase())):U},[s,e,i==null?void 0:i.name]);return O.jsxs(O.Fragment,{children:[A>0&&O.jsx("div",{className:"crush-count-section",children:O.jsxs("h2",{children:[A," ",A===1?"person is":"people are"," crushing on you!"]})}),E&&O.jsxs("div",{className:"matches-section",children:[O.jsxs("h2",{children:[" You have ",i.matches.length," match",i.matches.length>1?"es":"","!"]}),O.jsx("div",{className:"matches-list",children:i.matches.map((j,U)=>O.jsxs("div",{className:"match-item",children:[O.jsx("div",{className:"match-name",children:j.name}),O.jsx("div",{className:"match-email",children:j.email})]},U))})]}),O.jsx("div",{className:"header-section",children:O.jsx("div",{className:"instructions",children:O.jsxs("ol",{children:[O.jsx("li",{children:"Select any classmates you'd like to connect with. Your selections are completely private - only you can see who you've chosen."}),O.jsx("li",{children:`Click "Update Preferences" to save your changes. Matches appear automatically when someone you've selected also selects you. Matches are completely private.`}),O.jsx("li",{children:"You can add or remove names anytime. There's no limit on how many people you can select, and you can change your preferences as often as you want."}),O.jsx("li",{children:"Once you match with someone, you cannot remove them from your list."})]})})}),O.jsxs("div",{className:"selection-counter",children:[s.length," selected",P&&O.jsx("span",{className:"unsaved-badge",children:"UNSAVED CHANGES"})]}),s.length>0&&O.jsxs("div",{className:"selected-names",children:[O.jsxs("h3",{children:["Your Selections (",s.length,")"]}),O.jsx("div",{className:"name-chips",children:s.map(j=>{const U=S.includes(j);return O.jsxs("div",{className:`name-chip ${U?"locked":"selected"}`,children:[O.jsx("span",{children:j}),U?O.jsx("span",{className:"lock-icon",title:"Locked - you have matched with this person",children:""}):O.jsx("button",{onClick:()=>p(j),className:"remove-btn","aria-label":`Remove ${j}`,disabled:u,children:""})]},j)})})]}),O.jsx("div",{className:"search-section",children:O.jsx("input",{type:"text",placeholder:"Search names...",value:e,onChange:j=>n(j.target.value),className:"search-input"})}),O.jsxs("div",{className:"available-names",children:[O.jsxs("h3",{children:["Classmates",e&&` (${V.length} found)`]}),O.jsxs("div",{className:"names-simple-list",children:[V.map(j=>O.jsxs("div",{onClick:()=>!u&&m(j),className:`name-list-item ${u?"disabled":""}`,children:[O.jsx("span",{className:"name-text",children:j}),O.jsx("span",{className:"add-btn",children:"+"})]},j)),V.length===0&&O.jsx("div",{className:"no-results",children:e?"No names found matching your search.":"All classmates have been selected!"})]})]}),O.jsx("div",{className:"action-section",children:O.jsx("div",{className:"action-buttons",children:O.jsx("button",{onClick:g,disabled:u||!P,className:"update-btn",children:u?"Updating...":"Update Preferences"})})}),f&&O.jsx("div",{className:"error-message",style:{color:"red",textAlign:"center",marginTop:"15px"},children:f})]})},EM=()=>{const{user:i,userData:e,logout:n,refreshUserData:s}=fu(),[o,u]=G.useState(!1),[f,m]=G.useState(""),[p,g]=G.useState([]),[E,A]=G.useState([]),[S,P]=G.useState(!0),[V,j]=G.useState(!1),[U,q]=G.useState(null),[X,ie]=G.useState(!1),oe=(i==null?void 0:i.email)==="jpark22@stanford.edu",ue=G.useCallback(async()=>{if(i)try{const C=Bl(Bs,"users",i.uid),k=await Wm(C);if(k.exists()){const I=k.data();I.crushes&&Array.isArray(I.crushes)&&(g(I.crushes),A(I.crushes))}}catch(C){console.error("Error loading user selections:",C),q("Failed to load your previous selections.")}},[i]);G.useEffect(()=>{(async()=>{try{q(null),i&&await ue()}catch(k){console.error("Error loading data:",k),q("Failed to load your data. Please refresh the page.")}finally{P(!1)}})()},[i,ue]);const _e=G.useCallback(()=>{u(!0)},[]),x=G.useCallback(()=>o?"/files/default-profile.png":(e==null?void 0:e.photoURL)||"/files/default-profile.png",[o,e==null?void 0:e.photoURL]),b=G.useCallback(C=>{V||g(k=>k.includes(C)?k.filter(I=>I!==C):[...k,C])},[V]),R=G.useCallback(C=>{V||((e==null?void 0:e.lockedCrushes)||[]).includes(C)||g(I=>I.filter(Ve=>Ve!==C))},[V,e==null?void 0:e.lockedCrushes]),N=G.useCallback(async()=>{if(!i||V)return;const C=(e==null?void 0:e.lockedCrushes)||[];if(C.filter(I=>!p.includes(I)).length>0){const I=[...new Set([...p,...C])];g(I)}j(!0),q(null);try{const I=Bl(Bs,"users",i.uid),Ve=[...new Set([...p,...C])];await HO(I,{crushes:Ve,updatedAt:new Date}),g(Ve),A(Ve),await s();const pe=document.createElement("div");pe.textContent="Preferences updated successfully!",pe.style.cssText=`
                position: fixed;
                top: 20px;
                right: 20px;
                background: #28a745;
                color: white;
                padding: 12px 20px;
                border-radius: 8px;
                z-index: 1000;
                font-weight: 500;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            `,document.body.appendChild(pe),setTimeout(()=>{document.body.contains(pe)&&document.body.removeChild(pe)},3e3)}catch(I){console.error("Error updating preferences:",I),q("Failed to update preferences. Please try again.")}finally{j(!1)}},[i,V,p,e==null?void 0:e.lockedCrushes,s]);return S?O.jsx("div",{className:"loading",children:"Loading..."}):U?O.jsxs("div",{className:"loading",children:[O.jsx("p",{style:{color:"red"},children:U}),O.jsx("button",{onClick:()=>window.location.reload(),children:"Refresh Page"})]}):O.jsx("div",{className:"dashboard-container",children:O.jsxs("div",{className:"dashboard-card",children:[O.jsxs("div",{className:"dashboard-header",children:[O.jsx("h1",{children:"Stanford Last Chances"}),O.jsxs("div",{className:"user-info",children:[O.jsxs("div",{className:"user-details",children:[O.jsx("img",{src:x(),alt:"Profile",className:"profile-pic",onError:_e,onLoad:()=>u(!1)}),O.jsxs("div",{children:[O.jsx("div",{className:"user-name",children:(e==null?void 0:e.name)||(i==null?void 0:i.displayName)}),O.jsx("div",{className:"user-email",children:i==null?void 0:i.email})]})]}),O.jsxs("div",{className:"header-actions",children:[oe&&O.jsx("button",{onClick:()=>ie(!X),className:"admin-toggle-btn",children:X?"Exit Admin View":"Admin View"}),O.jsx("button",{className:"logout-btn",onClick:n,children:"Logout"})]})]})]}),O.jsx("div",{className:"dashboard-content",children:X&&oe?O.jsx(vM,{user:i}):O.jsx(_M,{userData:e,searchTerm:f,setSearchTerm:m,selectedNames:p,savedNames:E,updating:V,error:U,handleNameToggle:b,handleRemoveSelected:R,handleUpdatePreferences:N})})]})})},I0=()=>{const{user:i,nameOptions:e,selectName:n,logout:s}=fu(),[o,u]=G.useState(!1),[f,m]=G.useState(null),p=async g=>{if(!o){u(!0),m(null);try{await n(g)}catch(E){console.error("Error selecting name:",E),m("Failed to save your selection. Please try again.")}finally{u(!1)}}};return e?O.jsx("div",{className:"verification-container",children:O.jsxs("div",{className:"verification-card",children:[O.jsxs("div",{className:"verification-header",children:[O.jsx("h1",{children:"Stanford Last Chances"}),O.jsxs("div",{className:"user-info",children:[O.jsx("span",{children:i==null?void 0:i.email}),O.jsx("button",{className:"logout-btn",onClick:s,children:"Logout"})]})]}),O.jsxs("div",{className:"verification-content",children:[O.jsx("h2",{children:"Multiple matches found for your name"}),O.jsx("p",{children:"Please select which of these options matches your identity:"}),O.jsxs("div",{className:"names-list",children:[O.jsx("h3",{children:"Potential Matches"}),O.jsx("div",{className:"names-verification-list",children:e.map(g=>O.jsxs("div",{onClick:()=>!o&&p(g),className:`name-verification-item ${o?"disabled":""}`,children:[O.jsx("span",{className:"name-text",children:g}),O.jsx("span",{className:"select-btn",children:"Select"})]},g))})]}),o&&O.jsx("div",{className:"saving-indicator",children:"Saving your selection..."}),f&&O.jsx("div",{className:"error-message",style:{color:"red",textAlign:"center",marginTop:"15px"},children:f})]})]})}):O.jsx("div",{className:"loading",children:"Loading..."})},TM=({children:i})=>{const{user:e,userData:n,loading:s,nameOptions:o}=fu();return s?O.jsx("div",{className:"loading",children:"Loading..."}):e?n?o&&o.length>0?O.jsx(I0,{}):!n.name||n.name.trim()===""?O.jsx(I0,{}):O.jsx(O.Fragment,{children:i}):O.jsx("div",{className:"loading",children:"Setting up your account..."}):O.jsx(U0,{to:"/login"})},AM=({children:i})=>{const{user:e,loading:n}=fu();return n?O.jsx("div",{className:"loading",children:"Loading..."}):e?O.jsx(U0,{to:"/"}):O.jsx(O.Fragment,{children:i})};function SM(){return O.jsx(mM,{children:O.jsx(P1,{children:O.jsx("div",{className:"App",children:O.jsxs(f1,{children:[O.jsx(Rm,{path:"/login",element:O.jsx(AM,{children:O.jsx(pM,{})})}),O.jsx(Rm,{path:"/",element:O.jsx(TM,{children:O.jsx(EM,{})})})]})})})})}Tb.createRoot(document.getElementById("root")).render(O.jsx(G.StrictMode,{children:O.jsx(SM,{})}));
