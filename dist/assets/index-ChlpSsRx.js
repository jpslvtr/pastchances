(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function gw(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var im={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function pw(){if(I_)return Pl;I_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=e,Pl.jsx=n,Pl.jsxs=n,Pl}var M_;function yw(){return M_||(M_=1,im.exports=pw()),im.exports}var R=yw(),rm={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function vw(){if(N_)return ke;N_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function T(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,F={};function G(M,W,ne){this.props=M,this.context=W,this.refs=F,this.updater=ne||L}G.prototype.isReactComponent={},G.prototype.setState=function(M,W){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,W,"setState")},G.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function q(){}q.prototype=G.prototype;function ee(M,W,ne){this.props=M,this.context=W,this.refs=F,this.updater=ne||L}var oe=ee.prototype=new q;oe.constructor=ee,P(oe,G.prototype),oe.isPureReactComponent=!0;var Y=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},le=Object.prototype.hasOwnProperty;function D(M,W,ne,te,ce,Ee){return ne=Ee.ref,{$$typeof:a,type:M,key:W,ref:ne!==void 0?ne:null,props:Ee}}function w(M,W){return D(M.type,W,void 0,void 0,void 0,M.props)}function C(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function N(M){var W={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ne){return W[ne]})}var k=/\/+/g;function O(M,W){return typeof M=="object"&&M!==null&&M.key!=null?N(""+M.key):W.toString(36)}function I(){}function Me(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(I,I):(M.status="pending",M.then(function(W){M.status==="pending"&&(M.status="fulfilled",M.value=W)},function(W){M.status==="pending"&&(M.status="rejected",M.reason=W)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function xe(M,W,ne,te,ce){var Ee=typeof M;(Ee==="undefined"||Ee==="boolean")&&(M=null);var pe=!1;if(M===null)pe=!0;else switch(Ee){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(M.$$typeof){case a:case e:pe=!0;break;case E:return pe=M._init,xe(pe(M._payload),W,ne,te,ce)}}if(pe)return ce=ce(M),pe=te===""?"."+O(M,0):te,Y(ce)?(ne="",pe!=null&&(ne=pe.replace(k,"$&/")+"/"),xe(ce,W,ne,"",function(je){return je})):ce!=null&&(C(ce)&&(ce=w(ce,ne+(ce.key==null||M&&M.key===ce.key?"":(""+ce.key).replace(k,"$&/")+"/")+pe)),W.push(ce)),1;pe=0;var ve=te===""?".":te+":";if(Y(M))for(var Ae=0;Ae<M.length;Ae++)te=M[Ae],Ee=ve+O(te,Ae),pe+=xe(te,W,ne,Ee,ce);else if(Ae=T(M),typeof Ae=="function")for(M=Ae.call(M),Ae=0;!(te=M.next()).done;)te=te.value,Ee=ve+O(te,Ae++),pe+=xe(te,W,ne,Ee,ce);else if(Ee==="object"){if(typeof M.then=="function")return xe(Me(M),W,ne,te,ce);throw W=String(M),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return pe}function $(M,W,ne){if(M==null)return M;var te=[],ce=0;return xe(M,te,"","",function(Ee){return W.call(ne,Ee,ce++)}),te}function he(M){if(M._status===-1){var W=M._result;W=W(),W.then(function(ne){(M._status===0||M._status===-1)&&(M._status=1,M._result=ne)},function(ne){(M._status===0||M._status===-1)&&(M._status=2,M._result=ne)}),M._status===-1&&(M._status=0,M._result=W)}if(M._status===1)return M._result.default;throw M._result}var me=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function De(){}return ke.Children={map:$,forEach:function(M,W,ne){$(M,function(){W.apply(this,arguments)},ne)},count:function(M){var W=0;return $(M,function(){W++}),W},toArray:function(M){return $(M,function(W){return W})||[]},only:function(M){if(!C(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},ke.Component=G,ke.Fragment=n,ke.Profiler=o,ke.PureComponent=ee,ke.StrictMode=r,ke.Suspense=g,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,ke.__COMPILER_RUNTIME={__proto__:null,c:function(M){return X.H.useMemoCache(M)}},ke.cache=function(M){return function(){return M.apply(null,arguments)}},ke.cloneElement=function(M,W,ne){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var te=P({},M.props),ce=M.key,Ee=void 0;if(W!=null)for(pe in W.ref!==void 0&&(Ee=void 0),W.key!==void 0&&(ce=""+W.key),W)!le.call(W,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&W.ref===void 0||(te[pe]=W[pe]);var pe=arguments.length-2;if(pe===1)te.children=ne;else if(1<pe){for(var ve=Array(pe),Ae=0;Ae<pe;Ae++)ve[Ae]=arguments[Ae+2];te.children=ve}return D(M.type,ce,void 0,void 0,Ee,te)},ke.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},ke.createElement=function(M,W,ne){var te,ce={},Ee=null;if(W!=null)for(te in W.key!==void 0&&(Ee=""+W.key),W)le.call(W,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ce[te]=W[te]);var pe=arguments.length-2;if(pe===1)ce.children=ne;else if(1<pe){for(var ve=Array(pe),Ae=0;Ae<pe;Ae++)ve[Ae]=arguments[Ae+2];ce.children=ve}if(M&&M.defaultProps)for(te in pe=M.defaultProps,pe)ce[te]===void 0&&(ce[te]=pe[te]);return D(M,Ee,void 0,void 0,null,ce)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(M){return{$$typeof:m,render:M}},ke.isValidElement=C,ke.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:he}},ke.memo=function(M,W){return{$$typeof:p,type:M,compare:W===void 0?null:W}},ke.startTransition=function(M){var W=X.T,ne={};X.T=ne;try{var te=M(),ce=X.S;ce!==null&&ce(ne,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(De,me)}catch(Ee){me(Ee)}finally{X.T=W}},ke.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},ke.use=function(M){return X.H.use(M)},ke.useActionState=function(M,W,ne){return X.H.useActionState(M,W,ne)},ke.useCallback=function(M,W){return X.H.useCallback(M,W)},ke.useContext=function(M){return X.H.useContext(M)},ke.useDebugValue=function(){},ke.useDeferredValue=function(M,W){return X.H.useDeferredValue(M,W)},ke.useEffect=function(M,W,ne){var te=X.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(M,W)},ke.useId=function(){return X.H.useId()},ke.useImperativeHandle=function(M,W,ne){return X.H.useImperativeHandle(M,W,ne)},ke.useInsertionEffect=function(M,W){return X.H.useInsertionEffect(M,W)},ke.useLayoutEffect=function(M,W){return X.H.useLayoutEffect(M,W)},ke.useMemo=function(M,W){return X.H.useMemo(M,W)},ke.useOptimistic=function(M,W){return X.H.useOptimistic(M,W)},ke.useReducer=function(M,W,ne){return X.H.useReducer(M,W,ne)},ke.useRef=function(M){return X.H.useRef(M)},ke.useState=function(M){return X.H.useState(M)},ke.useSyncExternalStore=function(M,W,ne){return X.H.useSyncExternalStore(M,W,ne)},ke.useTransition=function(){return X.H.useTransition()},ke.version="19.1.0",ke}var D_;function ag(){return D_||(D_=1,rm.exports=vw()),rm.exports}var z=ag();const kA=gw(z);var sm={exports:{}},Vl={},om={exports:{}},lm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function _w(){return k_||(k_=1,function(a){function e($,he){var me=$.length;$.push(he);e:for(;0<me;){var De=me-1>>>1,M=$[De];if(0<o(M,he))$[De]=he,$[me]=M,me=De;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var he=$[0],me=$.pop();if(me!==he){$[0]=me;e:for(var De=0,M=$.length,W=M>>>1;De<W;){var ne=2*(De+1)-1,te=$[ne],ce=ne+1,Ee=$[ce];if(0>o(te,me))ce<M&&0>o(Ee,te)?($[De]=Ee,$[ce]=me,De=ce):($[De]=te,$[ne]=me,De=ne);else if(ce<M&&0>o(Ee,me))$[De]=Ee,$[ce]=me,De=ce;else break e}}return he}function o($,he){var me=$.sortIndex-he.sortIndex;return me!==0?me:$.id-he.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();a.unstable_now=function(){return d.now()-m}}var g=[],p=[],E=1,S=null,T=3,L=!1,P=!1,F=!1,G=!1,q=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function Y($){for(var he=n(p);he!==null;){if(he.callback===null)r(p);else if(he.startTime<=$)r(p),he.sortIndex=he.expirationTime,e(g,he);else break;he=n(p)}}function X($){if(F=!1,Y($),!P)if(n(g)!==null)P=!0,le||(le=!0,O());else{var he=n(p);he!==null&&xe(X,he.startTime-$)}}var le=!1,D=-1,w=5,C=-1;function N(){return G?!0:!(a.unstable_now()-C<w)}function k(){if(G=!1,le){var $=a.unstable_now();C=$;var he=!0;try{e:{P=!1,F&&(F=!1,ee(D),D=-1),L=!0;var me=T;try{t:{for(Y($),S=n(g);S!==null&&!(S.expirationTime>$&&N());){var De=S.callback;if(typeof De=="function"){S.callback=null,T=S.priorityLevel;var M=De(S.expirationTime<=$);if($=a.unstable_now(),typeof M=="function"){S.callback=M,Y($),he=!0;break t}S===n(g)&&r(g),Y($)}else r(g);S=n(g)}if(S!==null)he=!0;else{var W=n(p);W!==null&&xe(X,W.startTime-$),he=!1}}break e}finally{S=null,T=me,L=!1}he=void 0}}finally{he?O():le=!1}}}var O;if(typeof oe=="function")O=function(){oe(k)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Me=I.port2;I.port1.onmessage=k,O=function(){Me.postMessage(null)}}else O=function(){q(k,0)};function xe($,he){D=q(function(){$(a.unstable_now())},he)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function($){$.callback=null},a.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},a.unstable_getCurrentPriorityLevel=function(){return T},a.unstable_next=function($){switch(T){case 1:case 2:case 3:var he=3;break;default:he=T}var me=T;T=he;try{return $()}finally{T=me}},a.unstable_requestPaint=function(){G=!0},a.unstable_runWithPriority=function($,he){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var me=T;T=$;try{return he()}finally{T=me}},a.unstable_scheduleCallback=function($,he,me){var De=a.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?De+me:De):me=De,$){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=me+M,$={id:E++,callback:he,priorityLevel:$,startTime:me,expirationTime:M,sortIndex:-1},me>De?($.sortIndex=me,e(p,$),n(g)===null&&$===n(p)&&(F?(ee(D),D=-1):F=!0,xe(X,me-De))):($.sortIndex=M,e(g,$),P||L||(P=!0,le||(le=!0,O()))),$},a.unstable_shouldYield=N,a.unstable_wrapCallback=function($){var he=T;return function(){var me=T;T=he;try{return $.apply(this,arguments)}finally{T=me}}}}(lm)),lm}var x_;function Ew(){return x_||(x_=1,om.exports=_w()),om.exports}var um={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function Aw(){if(L_)return Zt;L_=1;var a=ag();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:p,implementation:E}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zt.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},Zt.flushSync=function(g){var p=d.T,E=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=p,r.p=E,r.d.f()}},Zt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},Zt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Zt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,S=m(E,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,L=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:T,fetchPriority:L}):E==="script"&&r.d.X(g,{crossOrigin:S,integrity:T,fetchPriority:L,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Zt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},Zt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,S=m(E,p.crossOrigin);r.d.L(g,E,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Zt.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},Zt.requestFormReset=function(g){r.d.r(g)},Zt.unstable_batchedUpdates=function(g,p){return g(p)},Zt.useFormState=function(g,p,E){return d.H.useFormState(g,p,E)},Zt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Zt.version="19.1.0",Zt}var O_;function Tw(){if(O_)return um.exports;O_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),um.exports=Aw(),um.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function Sw(){if(P_)return Vl;P_=1;var a=Ew(),e=ag(),n=Tw();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(r(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return m(h),t;if(f===l)return m(h),i;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=h,l=f;else{for(var _=!1,A=h.child;A;){if(A===s){_=!0,s=h,l=f;break}if(A===l){_=!0,l=h,s=f;break}A=A.sibling}if(!_){for(A=f.child;A;){if(A===s){_=!0,s=f,l=h;break}if(A===l){_=!0,l=f,s=h;break}A=A.sibling}if(!_)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),ee=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case G:return"Profiler";case F:return"StrictMode";case X:return"Suspense";case le:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case oe:return(t.displayName||"Context")+".Provider";case ee:return(t._context.displayName||"Context")+".Consumer";case Y:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:Me(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return Me(t(i))}catch{}}return null}var xe=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},De=[],M=-1;function W(t){return{current:t}}function ne(t){0>M||(t.current=De[M],De[M]=null,M--)}function te(t,i){M++,De[M]=t.current,t.current=i}var ce=W(null),Ee=W(null),pe=W(null),ve=W(null);function Ae(t,i){switch(te(pe,i),te(Ee,t),te(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?n_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=n_(i),t=a_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(ce),te(ce,t)}function je(){ne(ce),ne(Ee),ne(pe)}function qe(t){t.memoizedState!==null&&te(ve,t);var i=ce.current,s=a_(i,t.type);i!==s&&(te(Ee,t),te(ce,s))}function Ot(t){Ee.current===t&&(ne(ce),ne(Ee)),ve.current===t&&(ne(ve),Dl._currentValue=me)}var dn=Object.prototype.hasOwnProperty,sn=a.unstable_scheduleCallback,_n=a.unstable_cancelCallback,ka=a.unstable_shouldYield,yi=a.unstable_requestPaint,on=a.unstable_now,cs=a.unstable_getCurrentPriorityLevel,fr=a.unstable_ImmediatePriority,vi=a.unstable_UserBlockingPriority,Fn=a.unstable_NormalPriority,be=a.unstable_LowPriority,lt=a.unstable_IdlePriority,Ct=a.log,xa=a.unstable_setDisableYieldValue,Ye=null,Xe=null;function En(t){if(typeof Ct=="function"&&xa(t),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(Ye,t)}catch{}}var Wt=Math.clz32?Math.clz32:mr,Tu=Math.log,rd=Math.LN2;function mr(t){return t>>>=0,t===0?32:31-(Tu(t)/rd|0)|0}var gr=256,pr=4194304;function qn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function hs(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~f,l!==0?h=qn(l):(_&=A,_!==0?h=qn(_):s||(s=A&~t,s!==0&&(h=qn(s))))):(A=l&~f,A!==0?h=qn(A):_!==0?h=qn(_):s||(s=l&~t,s!==0&&(h=qn(s)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,s=i&-i,f>=s||f===32&&(s&4194048)!==0)?i:h}function yr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Do(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ko(){var t=gr;return gr<<=1,(gr&4194048)===0&&(gr=256),t}function xo(){var t=pr;return pr<<=1,(pr&62914560)===0&&(pr=4194304),t}function La(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Oa(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lo(t,i,s,l,h,f){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var A=t.entanglements,x=t.expirationTimes,H=t.hiddenUpdates;for(s=_&~s;0<s;){var Z=31-Wt(s),ie=1<<Z;A[Z]=0,x[Z]=-1;var K=H[Z];if(K!==null)for(H[Z]=null,Z=0;Z<K.length;Z++){var J=K[Z];J!==null&&(J.lane&=-536870913)}s&=~ie}l!==0&&oa(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~i))}function oa(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Wt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Oo(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-Wt(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function _i(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ds(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ei(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:T_(t.type))}function Su(t,i){var s=he.p;try{return he.p=t,i()}finally{he.p=s}}var ut=Math.random().toString(36).slice(2),It="__reactFiber$"+ut,Et="__reactProps$"+ut,Dn="__reactContainer$"+ut,Po="__reactEvents$"+ut,sd="__reactListeners$"+ut,Ai="__reactHandles$"+ut,bu="__reactResources$"+ut,vr="__reactMarker$"+ut;function Ti(t){delete t[It],delete t[Et],delete t[Po],delete t[sd],delete t[Ai]}function Pa(t){var i=t[It];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Dn]||s[It]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=o_(t);t!==null;){if(s=t[It])return s;t=o_(t)}return i}t=s,s=t.parentNode}return null}function la(t){if(t=t[It]||t[Dn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ua(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function ln(t){var i=t[bu];return i||(i=t[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function pt(t){t[vr]=!0}var Vo=new Set,fs={};function Jn(t,i){Va(t,i),Va(t+"Capture",i)}function Va(t,i){for(fs[t]=i,t=0;t<i.length;t++)Vo.add(i[t])}var wu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ru={},_r={};function Cu(t){return dn.call(_r,t)?!0:dn.call(Ru,t)?!1:wu.test(t)?_r[t]=!0:(Ru[t]=!0,!1)}function Si(t,i,s){if(Cu(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function ca(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Ht(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var Er,Iu;function Ua(t){if(Er===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Er=i&&i[1]||"",Iu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Er+t+Iu}var ms=!1;function gs(t,i){if(!t||ms)return"";ms=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(J){var K=J}Reflect.construct(t,[],ie)}else{try{ie.call()}catch(J){K=J}t.call(ie.prototype)}}else{try{throw Error()}catch(J){K=J}(ie=t())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(J){if(J&&K&&typeof J.stack=="string")return[J.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],A=f[1];if(_&&A){var x=_.split(`
`),H=A.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===H.length)for(l=x.length-1,h=H.length-1;1<=l&&0<=h&&x[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==H[h]){var Z=`
`+x[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{ms=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Ua(s):""}function Uo(t){switch(t.tag){case 26:case 27:case 5:return Ua(t.type);case 16:return Ua("Lazy");case 13:return Ua("Suspense");case 19:return Ua("SuspenseList");case 0:case 15:return gs(t.type,!1);case 11:return gs(t.type.render,!1);case 1:return gs(t.type,!0);case 31:return Ua("Activity");default:return""}}function ps(t){try{var i="";do i+=Uo(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function un(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function od(t){var i=zo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,f=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,f.call(this,_)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ys(t){t._valueTracker||(t._valueTracker=od(t))}function Bo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=zo(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function Ar(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ld=/[\n"\\]/g;function At(t){return t.replace(ld,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function An(t,i,s,l,h,f,_,A){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+un(i)):t.value!==""+un(i)&&(t.value=""+un(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?bi(t,_,un(i)):s!=null?bi(t,_,un(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+un(A):t.removeAttribute("name")}function Tr(t,i,s,l,h,f,_,A){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;s=s!=null?""+un(s):"",i=i!=null?""+un(i):s,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function bi(t,i,s){i==="number"&&Ar(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function za(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+un(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function tt(t,i,s){if(i!=null&&(i=""+un(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+un(s):""}function Sr(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(r(92));if(xe(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=un(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function kn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var br=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mu(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||br.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function jo(t,i,s){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Mu(t,h,l)}else for(var f in i)i.hasOwnProperty(f)&&Mu(t,f,i[f])}function Ho(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ud=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vs(t){return cd.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ba=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ja=null,Ha=null;function Go(t){var i=la(t);if(i&&(t=i.stateNode)){var s=t[Et]||null;e:switch(t=i.stateNode,i.type){case"input":if(An(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+At(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[Et]||null;if(!h)throw Error(r(90));An(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&Bo(l)}break e;case"textarea":tt(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&za(t,!!s.multiple,i,!1)}}}var ha=!1;function Nu(t,i,s){if(ha)return t(i,s);ha=!0;try{var l=t(i);return l}finally{if(ha=!1,(ja!==null||Ha!==null)&&(Sc(),ja&&(i=ja,t=Ha,Ha=ja=null,Go(i),t)))for(i=0;i<t.length;i++)Go(t[i])}}function wr(t,i){var s=t.stateNode;if(s===null)return null;var l=s[Et]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,i,typeof s));return s}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ln=!1;if(Yn)try{var Rr={};Object.defineProperty(Rr,"passive",{get:function(){Ln=!0}}),window.addEventListener("test",Rr,Rr),window.removeEventListener("test",Rr,Rr)}catch{Ln=!1}var da=null,wi=null,Ga=null;function Ko(){if(Ga)return Ga;var t,i=wi,s=i.length,l,h="value"in da?da.value:da.textContent,f=h.length;for(t=0;t<s&&i[t]===h[t];t++);var _=s-t;for(l=1;l<=_&&i[s-l]===h[f-l];l++);return Ga=h.slice(t,1<l?1-l:void 0)}function fa(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ma(){return!0}function Fo(){return!1}function Pt(t){function i(s,l,h,f,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(s=t[A],this[A]=s?s(f):f[A]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ma:Fo,this.isPropagationStopped=Fo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ma)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ma)},persist:function(){},isPersistent:ma}),i}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=Pt($e),Cr=E({},$e,{view:0,detail:0}),Du=Pt(Cr),Es,As,ga,Ir=E({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ga&&(ga&&t.type==="mousemove"?(Es=t.screenX-ga.screenX,As=t.screenY-ga.screenY):As=Es=0,ga=t),Es)},movementY:function(t){return"movementY"in t?t.movementY:As}}),On=Pt(Ir),ku=E({},Ir,{dataTransfer:0}),hd=Pt(ku),Mr=E({},Cr,{relatedTarget:0}),Ts=Pt(Mr),qo=E({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),Ss=Pt(qo),xu=E({},$e,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bs=Pt(xu),dd=E({},$e,{data:0}),Jo=Pt(dd),Nr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ou[t])?!!i[t]:!1}function Dr(){return Yo}var Pu=E({},Cr,{key:function(t){if(t.key){var i=Nr[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=fa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(t){return t.type==="keypress"?fa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ws=Pt(Pu),Vu=E({},Ir,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qo=Pt(Vu),Ka=E({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),Uu=Pt(Ka),zu=E({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bu=Pt(zu),ju=E({},Ir,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rs=Pt(ju),cn=E({},$e,{newState:0,oldState:0}),Hu=Pt(cn),Gu=[9,13,27,32],pa=Yn&&"CompositionEvent"in window,c=null;Yn&&"documentMode"in document&&(c=document.documentMode);var y=Yn&&"TextEvent"in window&&!c,v=Yn&&(!pa||c&&8<c&&11>=c),b=" ",B=!1;function Q(t,i){switch(t){case"keyup":return Gu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var He=!1;function Mt(t,i){switch(t){case"compositionend":return ue(i);case"keypress":return i.which!==32?null:(B=!0,b);case"textInput":return t=i.data,t===b&&B?null:t;default:return null}}function Ge(t,i){if(He)return t==="compositionend"||!pa&&Q(t,i)?(t=Ko(),Ga=wi=da=null,He=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Vt[t.type]:i==="textarea"}function Fa(t,i,s,l){ja?Ha?Ha.push(l):Ha=[l]:ja=l,i=Mc(i,"onChange"),0<i.length&&(s=new _s("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var Gt=null,ya=null;function $o(t){Wv(t,0)}function Ku(t){var i=ua(t);if(Bo(i))return t}function vp(t,i){if(t==="change")return i}var _p=!1;if(Yn){var fd;if(Yn){var md="oninput"in document;if(!md){var Ep=document.createElement("div");Ep.setAttribute("oninput","return;"),md=typeof Ep.oninput=="function"}fd=md}else fd=!1;_p=fd&&(!document.documentMode||9<document.documentMode)}function Ap(){Gt&&(Gt.detachEvent("onpropertychange",Tp),ya=Gt=null)}function Tp(t){if(t.propertyName==="value"&&Ku(ya)){var i=[];Fa(i,ya,t,xn(t)),Nu($o,i)}}function F0(t,i,s){t==="focusin"?(Ap(),Gt=i,ya=s,Gt.attachEvent("onpropertychange",Tp)):t==="focusout"&&Ap()}function q0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ku(ya)}function J0(t,i){if(t==="click")return Ku(i)}function Y0(t,i){if(t==="input"||t==="change")return Ku(i)}function Q0(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Tn=typeof Object.is=="function"?Object.is:Q0;function Wo(t,i){if(Tn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!dn.call(i,h)||!Tn(t[h],i[h]))return!1}return!0}function Sp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bp(t,i){var s=Sp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Sp(s)}}function wp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?wp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Rp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ar(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Ar(t.document)}return i}function gd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var $0=Yn&&"documentMode"in document&&11>=document.documentMode,Cs=null,pd=null,Xo=null,yd=!1;function Cp(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;yd||Cs==null||Cs!==Ar(l)||(l=Cs,"selectionStart"in l&&gd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xo&&Wo(Xo,l)||(Xo=l,l=Mc(pd,"onSelect"),0<l.length&&(i=new _s("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=Cs)))}function kr(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Is={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionrun:kr("Transition","TransitionRun"),transitionstart:kr("Transition","TransitionStart"),transitioncancel:kr("Transition","TransitionCancel"),transitionend:kr("Transition","TransitionEnd")},vd={},Ip={};Yn&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function xr(t){if(vd[t])return vd[t];if(!Is[t])return t;var i=Is[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ip)return vd[t]=i[s];return t}var Mp=xr("animationend"),Np=xr("animationiteration"),Dp=xr("animationstart"),W0=xr("transitionrun"),X0=xr("transitionstart"),Z0=xr("transitioncancel"),kp=xr("transitionend"),xp=new Map,_d="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_d.push("scrollEnd");function Qn(t,i){xp.set(t,i),Jn(i,[t])}var Lp=new WeakMap;function Pn(t,i){if(typeof t=="object"&&t!==null){var s=Lp.get(t);return s!==void 0?s:(i={value:t,source:i,stack:ps(i)},Lp.set(t,i),i)}return{value:t,source:i,stack:ps(i)}}var Vn=[],Ms=0,Ed=0;function Fu(){for(var t=Ms,i=Ed=Ms=0;i<t;){var s=Vn[i];Vn[i++]=null;var l=Vn[i];Vn[i++]=null;var h=Vn[i];Vn[i++]=null;var f=Vn[i];if(Vn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&Op(s,h,f)}}function qu(t,i,s,l){Vn[Ms++]=t,Vn[Ms++]=i,Vn[Ms++]=s,Vn[Ms++]=l,Ed|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ad(t,i,s,l){return qu(t,i,s,l),Ju(t)}function Ns(t,i){return qu(t,null,null,i),Ju(t)}function Op(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-Wt(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),f):null}function Ju(t){if(50<Sl)throw Sl=0,If=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ds={};function eb(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,i,s,l){return new eb(t,i,s,l)}function Td(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qa(t,i){var s=t.alternate;return s===null?(s=Sn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Pp(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Yu(t,i,s,l,h,f){var _=0;if(l=t,typeof t=="function")Td(t)&&(_=1);else if(typeof t=="string")_=nw(t,s,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Sn(31,s,i,h),t.elementType=C,t.lanes=f,t;case P:return Lr(s.children,h,f,i);case F:_=8,h|=24;break;case G:return t=Sn(12,s,i,h|2),t.elementType=G,t.lanes=f,t;case X:return t=Sn(13,s,i,h),t.elementType=X,t.lanes=f,t;case le:return t=Sn(19,s,i,h),t.elementType=le,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q:case oe:_=10;break e;case ee:_=9;break e;case Y:_=11;break e;case D:_=14;break e;case w:_=16,l=null;break e}_=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=Sn(_,s,i,h),i.elementType=t,i.type=l,i.lanes=f,i}function Lr(t,i,s,l){return t=Sn(7,t,l,i),t.lanes=s,t}function Sd(t,i,s){return t=Sn(6,t,null,i),t.lanes=s,t}function bd(t,i,s){return i=Sn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ks=[],xs=0,Qu=null,$u=0,Un=[],zn=0,Or=null,Ja=1,Ya="";function Pr(t,i){ks[xs++]=$u,ks[xs++]=Qu,Qu=t,$u=i}function Vp(t,i,s){Un[zn++]=Ja,Un[zn++]=Ya,Un[zn++]=Or,Or=t;var l=Ja;t=Ya;var h=32-Wt(l)-1;l&=~(1<<h),s+=1;var f=32-Wt(i)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ja=1<<32-Wt(i)+h|s<<h|l,Ya=f+t}else Ja=1<<f|s<<h|l,Ya=t}function wd(t){t.return!==null&&(Pr(t,1),Vp(t,1,0))}function Rd(t){for(;t===Qu;)Qu=ks[--xs],ks[xs]=null,$u=ks[--xs],ks[xs]=null;for(;t===Or;)Or=Un[--zn],Un[zn]=null,Ya=Un[--zn],Un[zn]=null,Ja=Un[--zn],Un[zn]=null}var hn=null,mt=null,Qe=!1,Vr=null,va=!1,Cd=Error(r(519));function Ur(t){var i=Error(r(418,""));throw tl(Pn(i,t)),Cd}function Up(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[It]=t,i[Et]=l,s){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(s=0;s<wl.length;s++)Ue(wl[s],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),Tr(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ys(i);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),Sr(i,l.value,l.defaultValue,l.children),ys(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||t_(i.textContent,s)?(l.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),l.onScroll!=null&&Ue("scroll",i),l.onScrollEnd!=null&&Ue("scrollend",i),l.onClick!=null&&(i.onclick=Nc),i=!0):i=!1,i||Ur(t)}function zp(t){for(hn=t.return;hn;)switch(hn.tag){case 5:case 13:va=!1;return;case 27:case 3:va=!0;return;default:hn=hn.return}}function Zo(t){if(t!==hn)return!1;if(!Qe)return zp(t),Qe=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Kf(t.type,t.memoizedProps)),s=!s),s&&mt&&Ur(t),zp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){mt=Wn(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}mt=null}}else i===27?(i=mt,ji(t.type)?(t=Yf,Yf=null,mt=t):mt=i):mt=hn?Wn(t.stateNode.nextSibling):null;return!0}function el(){mt=hn=null,Qe=!1}function Bp(){var t=Vr;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),Vr=null),t}function tl(t){Vr===null?Vr=[t]:Vr.push(t)}var Id=W(null),zr=null,Qa=null;function Ri(t,i,s){te(Id,i._currentValue),i._currentValue=s}function $a(t){t._currentValue=Id.current,ne(Id)}function Md(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function Nd(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var A=f;f=h;for(var x=0;x<i.length;x++)if(A.context===i[x]){f.lanes|=s,A=f.alternate,A!==null&&(A.lanes|=s),Md(f.return,s,t),l||(_=null);break e}f=A.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=s,f=_.alternate,f!==null&&(f.lanes|=s),Md(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function nl(t,i,s,l){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var A=h.type;Tn(h.pendingProps.value,_.value)||(t!==null?t.push(A):t=[A])}}else if(h===ve.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}h=h.return}t!==null&&Nd(i,t,s,l),i.flags|=262144}function Wu(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Br(t){zr=t,Qa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return jp(zr,t)}function Xu(t,i){return zr===null&&Br(t),jp(t,i)}function jp(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Qa===null){if(t===null)throw Error(r(308));Qa=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Qa=Qa.next=i;return s}var tb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},nb=a.unstable_scheduleCallback,ab=a.unstable_NormalPriority,Dt={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dd(){return{controller:new tb,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&nb(ab,function(){t.controller.abort()})}var il=null,kd=0,Ls=0,Os=null;function ib(t,i){if(il===null){var s=il=[];kd=0,Ls=Of(),Os={status:"pending",value:void 0,then:function(l){s.push(l)}}}return kd++,i.then(Hp,Hp),i}function Hp(){if(--kd===0&&il!==null){Os!==null&&(Os.status="fulfilled");var t=il;il=null,Ls=0,Os=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function rb(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Gp=$.S;$.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ib(t,i),Gp!==null&&Gp(t,i)};var jr=W(null);function xd(){var t=jr.current;return t!==null?t:st.pooledCache}function Zu(t,i){i===null?te(jr,jr.current):te(jr,i.pool)}function Kp(){var t=xd();return t===null?null:{parent:Dt._currentValue,pool:t}}var rl=Error(r(460)),Fp=Error(r(474)),ec=Error(r(542)),Ld={then:function(){}};function qp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tc(){}function Jp(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(tc,tc),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Qp(t),t;default:if(typeof i.status=="string")i.then(tc,tc);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Qp(t),t}throw sl=i,rl}}var sl=null;function Yp(){if(sl===null)throw Error(r(459));var t=sl;return sl=null,t}function Qp(t){if(t===rl||t===ec)throw Error(r(483))}var Ci=!1;function Od(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ii(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mi(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ju(t),Op(t,null,s),i}return qu(t,l,i,s),Ju(t)}function ol(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Oo(t,s)}}function Vd(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,s=s.next}while(s!==null);f===null?h=f=i:f=f.next=i}else h=f=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Ud=!1;function ll(){if(Ud){var t=Os;if(t!==null)throw t}}function ul(t,i,s,l){Ud=!1;var h=t.updateQueue;Ci=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var x=A,H=x.next;x.next=null,_===null?f=H:_.next=H,_=x;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==_&&(A===null?Z.firstBaseUpdate=H:A.next=H,Z.lastBaseUpdate=x))}if(f!==null){var ie=h.baseState;_=0,Z=H=x=null,A=f;do{var K=A.lane&-536870913,J=K!==A.lane;if(J?(Ke&K)===K:(l&K)===K){K!==0&&K===Ls&&(Ud=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Re=t,Te=A;K=i;var it=s;switch(Te.tag){case 1:if(Re=Te.payload,typeof Re=="function"){ie=Re.call(it,ie,K);break e}ie=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Te.payload,K=typeof Re=="function"?Re.call(it,ie,K):Re,K==null)break e;ie=E({},ie,K);break e;case 2:Ci=!0}}K=A.callback,K!==null&&(t.flags|=64,J&&(t.flags|=8192),J=h.callbacks,J===null?h.callbacks=[K]:J.push(K))}else J={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(H=Z=J,x=ie):Z=Z.next=J,_|=K;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;J=A,A=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);Z===null&&(x=ie),h.baseState=x,h.firstBaseUpdate=H,h.lastBaseUpdate=Z,f===null&&(h.shared.lanes=0),Vi|=_,t.lanes=_,t.memoizedState=ie}}function $p(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Wp(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)$p(s[t],i)}var Ps=W(null),nc=W(0);function Xp(t,i){t=ai,te(nc,t),te(Ps,i),ai=t|i.baseLanes}function zd(){te(nc,ai),te(Ps,Ps.current)}function Bd(){ai=nc.current,ne(Ps),ne(nc)}var Ni=0,Le=null,nt=null,Tt=null,ac=!1,Vs=!1,Hr=!1,ic=0,cl=0,Us=null,sb=0;function yt(){throw Error(r(321))}function jd(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Tn(t[s],i[s]))return!1;return!0}function Hd(t,i,s,l,h,f){return Ni=f,Le=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?Oy:Py,Hr=!1,f=s(l,h),Hr=!1,Vs&&(f=ey(i,s,l,h)),Zp(t),f}function Zp(t){$.H=cc;var i=nt!==null&&nt.next!==null;if(Ni=0,Tt=nt=Le=null,ac=!1,cl=0,Us=null,i)throw Error(r(300));t===null||Ut||(t=t.dependencies,t!==null&&Wu(t)&&(Ut=!0))}function ey(t,i,s,l){Le=t;var h=0;do{if(Vs&&(Us=null),cl=0,Vs=!1,25<=h)throw Error(r(301));if(h+=1,Tt=nt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=fb,f=i(s,l)}while(Vs);return f}function ob(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?hl(i):i,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Le.flags|=1024),i}function Gd(){var t=ic!==0;return ic=0,t}function Kd(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Fd(t){if(ac){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ac=!1}Ni=0,Tt=nt=Le=null,Vs=!1,cl=ic=0,Us=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Le.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function St(){if(nt===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var i=Tt===null?Le.memoizedState:Tt.next;if(i!==null)Tt=i,nt=t;else{if(t===null)throw Le.alternate===null?Error(r(467)):Error(r(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Tt===null?Le.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function qd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var i=cl;return cl+=1,Us===null&&(Us=[]),t=Jp(Us,t,i),i=Le,(Tt===null?i.memoizedState:Tt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Oy:Py),t}function rc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===oe)return Xt(t)}throw Error(r(438,String(t)))}function Jd(t){var i=null,s=Le.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=qd(),Le.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=N;return i.index++,s}function Wa(t,i){return typeof i=="function"?i(t):i}function sc(t){var i=St();return Yd(i,nt,t)}function Yd(t,i,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}i.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var A=_=null,x=null,H=i,Z=!1;do{var ie=H.lane&-536870913;if(ie!==H.lane?(Ke&ie)===ie:(Ni&ie)===ie){var K=H.revertLane;if(K===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ie===Ls&&(Z=!0);else if((Ni&K)===K){H=H.next,K===Ls&&(Z=!0);continue}else ie={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},x===null?(A=x=ie,_=f):x=x.next=ie,Le.lanes|=K,Vi|=K;ie=H.action,Hr&&s(f,ie),f=H.hasEagerState?H.eagerState:s(f,ie)}else K={lane:ie,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},x===null?(A=x=K,_=f):x=x.next=K,Le.lanes|=ie,Vi|=ie;H=H.next}while(H!==null&&H!==i);if(x===null?_=f:x.next=A,!Tn(f,t.memoizedState)&&(Ut=!0,Z&&(s=Os,s!==null)))throw s;t.memoizedState=f,t.baseState=_,t.baseQueue=x,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qd(t){var i=St(),s=i.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=i.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);Tn(f,i.memoizedState)||(Ut=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),s.lastRenderedState=f}return[f,l]}function ty(t,i,s){var l=Le,h=St(),f=Qe;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=i();var _=!Tn((nt||h).memoizedState,s);_&&(h.memoizedState=s,Ut=!0),h=h.queue;var A=iy.bind(null,l,h,t);if(dl(2048,8,A,[t]),h.getSnapshot!==i||_||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,zs(9,oc(),ay.bind(null,l,h,s,i),null),st===null)throw Error(r(349));f||(Ni&124)!==0||ny(l,i,s)}return s}function ny(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Le.updateQueue,i===null?(i=qd(),Le.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function ay(t,i,s,l){i.value=s,i.getSnapshot=l,ry(i)&&sy(t)}function iy(t,i,s){return s(function(){ry(i)&&sy(t)})}function ry(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Tn(t,s)}catch{return!0}}function sy(t){var i=Ns(t,2);i!==null&&In(i,t,2)}function $d(t){var i=fn();if(typeof t=="function"){var s=t;if(t=s(),Hr){En(!0);try{s()}finally{En(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:t},i}function oy(t,i,s,l){return t.baseState=s,Yd(t,nt,typeof l=="function"?l:Wa)}function lb(t,i,s,l,h){if(uc(t))throw Error(r(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};$.T!==null?s(!0):f.isTransition=!1,l(f),s=i.pending,s===null?(f.next=i.pending=f,ly(i,f)):(f.next=s.next,i.pending=s.next=f)}}function ly(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var f=$.T,_={};$.T=_;try{var A=s(h,l),x=$.S;x!==null&&x(_,A),uy(t,i,A)}catch(H){Wd(t,i,H)}finally{$.T=f}}else try{f=s(h,l),uy(t,i,f)}catch(H){Wd(t,i,H)}}function uy(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){cy(t,i,l)},function(l){return Wd(t,i,l)}):cy(t,i,s)}function cy(t,i,s){i.status="fulfilled",i.value=s,hy(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,ly(t,s)))}function Wd(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,hy(i),i=i.next;while(i!==l)}t.action=null}function hy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function dy(t,i){return i}function fy(t,i){if(Qe){var s=st.formState;if(s!==null){e:{var l=Le;if(Qe){if(mt){t:{for(var h=mt,f=va;h.nodeType!==8;){if(!f){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){mt=Wn(h.nextSibling),l=h.data==="F!";break e}}Ur(l)}l=!1}l&&(i=s[0])}}return s=fn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dy,lastRenderedState:i},s.queue=l,s=ky.bind(null,Le,l),l.dispatch=s,l=$d(!1),f=nf.bind(null,Le,!1,l.queue),l=fn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=lb.bind(null,Le,h,f,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function my(t){var i=St();return gy(i,nt,t)}function gy(t,i,s){if(i=Yd(t,i,dy)[0],t=sc(Wa)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=hl(i)}catch(_){throw _===rl?ec:_}else l=i;i=St();var h=i.queue,f=h.dispatch;return s!==i.memoizedState&&(Le.flags|=2048,zs(9,oc(),ub.bind(null,h,s),null)),[l,f,t]}function ub(t,i){t.action=i}function py(t){var i=St(),s=nt;if(s!==null)return gy(i,s,t);St(),i=i.memoizedState,s=St();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function zs(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Le.updateQueue,i===null&&(i=qd(),Le.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function oc(){return{destroy:void 0,resource:void 0}}function yy(){return St().memoizedState}function lc(t,i,s,l){var h=fn();l=l===void 0?null:l,Le.flags|=t,h.memoizedState=zs(1|i,oc(),s,l)}function dl(t,i,s,l){var h=St();l=l===void 0?null:l;var f=h.memoizedState.inst;nt!==null&&l!==null&&jd(l,nt.memoizedState.deps)?h.memoizedState=zs(i,f,s,l):(Le.flags|=t,h.memoizedState=zs(1|i,f,s,l))}function vy(t,i){lc(8390656,8,t,i)}function _y(t,i){dl(2048,8,t,i)}function Ey(t,i){return dl(4,2,t,i)}function Ay(t,i){return dl(4,4,t,i)}function Ty(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Sy(t,i,s){s=s!=null?s.concat([t]):null,dl(4,4,Ty.bind(null,i,t),s)}function Xd(){}function by(t,i){var s=St();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&jd(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function wy(t,i){var s=St();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&jd(i,l[1]))return l[0];if(l=t(),Hr){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[l,i],l}function Zd(t,i,s){return s===void 0||(Ni&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=Iv(),Le.lanes|=t,Vi|=t,s)}function Ry(t,i,s,l){return Tn(s,i)?s:Ps.current!==null?(t=Zd(t,s,l),Tn(t,i)||(Ut=!0),t):(Ni&42)===0?(Ut=!0,t.memoizedState=s):(t=Iv(),Le.lanes|=t,Vi|=t,i)}function Cy(t,i,s,l,h){var f=he.p;he.p=f!==0&&8>f?f:8;var _=$.T,A={};$.T=A,nf(t,!1,i,s);try{var x=h(),H=$.S;if(H!==null&&H(A,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Z=rb(x,l);fl(t,i,Z,Cn(t))}else fl(t,i,l,Cn(t))}catch(ie){fl(t,i,{then:function(){},status:"rejected",reason:ie},Cn())}finally{he.p=f,$.T=_}}function cb(){}function ef(t,i,s,l){if(t.tag!==5)throw Error(r(476));var h=Iy(t).queue;Cy(t,h,i,me,s===null?cb:function(){return My(t),s(l)})}function Iy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:me},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function My(t){var i=Iy(t).next.queue;fl(t,i,{},Cn())}function tf(){return Xt(Dl)}function Ny(){return St().memoizedState}function Dy(){return St().memoizedState}function hb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Cn();t=Ii(s);var l=Mi(i,t,s);l!==null&&(In(l,i,s),ol(l,i,s)),i={cache:Dd()},t.payload=i;return}i=i.return}}function db(t,i,s){var l=Cn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},uc(t)?xy(i,s):(s=Ad(t,i,s,l),s!==null&&(In(s,t,l),Ly(s,i,l)))}function ky(t,i,s){var l=Cn();fl(t,i,s,l)}function fl(t,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(uc(t))xy(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,A=f(_,s);if(h.hasEagerState=!0,h.eagerState=A,Tn(A,_))return qu(t,i,h,0),st===null&&Fu(),!1}catch{}finally{}if(s=Ad(t,i,h,l),s!==null)return In(s,t,l),Ly(s,i,l),!0}return!1}function nf(t,i,s,l){if(l={lane:2,revertLane:Of(),action:l,hasEagerState:!1,eagerState:null,next:null},uc(t)){if(i)throw Error(r(479))}else i=Ad(t,s,l,2),i!==null&&In(i,t,2)}function uc(t){var i=t.alternate;return t===Le||i!==null&&i===Le}function xy(t,i){Vs=ac=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Ly(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Oo(t,s)}}var cc={readContext:Xt,use:rc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt},Oy={readContext:Xt,use:rc,useCallback:function(t,i){return fn().memoizedState=[t,i===void 0?null:i],t},useContext:Xt,useEffect:vy,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,lc(4194308,4,Ty.bind(null,i,t),s)},useLayoutEffect:function(t,i){return lc(4194308,4,t,i)},useInsertionEffect:function(t,i){lc(4,2,t,i)},useMemo:function(t,i){var s=fn();i=i===void 0?null:i;var l=t();if(Hr){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=fn();if(s!==void 0){var h=s(i);if(Hr){En(!0);try{s(i)}finally{En(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=db.bind(null,Le,t),[l.memoizedState,t]},useRef:function(t){var i=fn();return t={current:t},i.memoizedState=t},useState:function(t){t=$d(t);var i=t.queue,s=ky.bind(null,Le,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Xd,useDeferredValue:function(t,i){var s=fn();return Zd(s,t,i)},useTransition:function(){var t=$d(!1);return t=Cy.bind(null,Le,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Le,h=fn();if(Qe){if(s===void 0)throw Error(r(407));s=s()}else{if(s=i(),st===null)throw Error(r(349));(Ke&124)!==0||ny(l,i,s)}h.memoizedState=s;var f={value:s,getSnapshot:i};return h.queue=f,vy(iy.bind(null,l,f,t),[t]),l.flags|=2048,zs(9,oc(),ay.bind(null,l,f,s,i),null),s},useId:function(){var t=fn(),i=st.identifierPrefix;if(Qe){var s=Ya,l=Ja;s=(l&~(1<<32-Wt(l)-1)).toString(32)+s,i=""+i+"R"+s,s=ic++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=sb++,i=""+i+"r"+s.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:tf,useFormState:fy,useActionState:fy,useOptimistic:function(t){var i=fn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=nf.bind(null,Le,!0,s),s.dispatch=i,[t,i]},useMemoCache:Jd,useCacheRefresh:function(){return fn().memoizedState=hb.bind(null,Le)}},Py={readContext:Xt,use:rc,useCallback:by,useContext:Xt,useEffect:_y,useImperativeHandle:Sy,useInsertionEffect:Ey,useLayoutEffect:Ay,useMemo:wy,useReducer:sc,useRef:yy,useState:function(){return sc(Wa)},useDebugValue:Xd,useDeferredValue:function(t,i){var s=St();return Ry(s,nt.memoizedState,t,i)},useTransition:function(){var t=sc(Wa)[0],i=St().memoizedState;return[typeof t=="boolean"?t:hl(t),i]},useSyncExternalStore:ty,useId:Ny,useHostTransitionStatus:tf,useFormState:my,useActionState:my,useOptimistic:function(t,i){var s=St();return oy(s,nt,t,i)},useMemoCache:Jd,useCacheRefresh:Dy},fb={readContext:Xt,use:rc,useCallback:by,useContext:Xt,useEffect:_y,useImperativeHandle:Sy,useInsertionEffect:Ey,useLayoutEffect:Ay,useMemo:wy,useReducer:Qd,useRef:yy,useState:function(){return Qd(Wa)},useDebugValue:Xd,useDeferredValue:function(t,i){var s=St();return nt===null?Zd(s,t,i):Ry(s,nt.memoizedState,t,i)},useTransition:function(){var t=Qd(Wa)[0],i=St().memoizedState;return[typeof t=="boolean"?t:hl(t),i]},useSyncExternalStore:ty,useId:Ny,useHostTransitionStatus:tf,useFormState:py,useActionState:py,useOptimistic:function(t,i){var s=St();return nt!==null?oy(s,nt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Jd,useCacheRefresh:Dy},Bs=null,ml=0;function hc(t){var i=ml;return ml+=1,Bs===null&&(Bs=[]),Jp(Bs,t,i)}function gl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function dc(t,i){throw i.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Vy(t){var i=t._init;return i(t._payload)}function Uy(t){function i(U,V){if(t){var j=U.deletions;j===null?(U.deletions=[V],U.flags|=16):j.push(V)}}function s(U,V){if(!t)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=qa(U,V),U.index=0,U.sibling=null,U}function f(U,V,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<V?(U.flags|=67108866,V):j):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function A(U,V,j,ae){return V===null||V.tag!==6?(V=Sd(j,U.mode,ae),V.return=U,V):(V=h(V,j),V.return=U,V)}function x(U,V,j,ae){var ge=j.type;return ge===P?Z(U,V,j.props.children,ae,j.key):V!==null&&(V.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Vy(ge)===V.type)?(V=h(V,j.props),gl(V,j),V.return=U,V):(V=Yu(j.type,j.key,j.props,null,U.mode,ae),gl(V,j),V.return=U,V)}function H(U,V,j,ae){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=bd(j,U.mode,ae),V.return=U,V):(V=h(V,j.children||[]),V.return=U,V)}function Z(U,V,j,ae,ge){return V===null||V.tag!==7?(V=Lr(j,U.mode,ae,ge),V.return=U,V):(V=h(V,j),V.return=U,V)}function ie(U,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Sd(""+V,U.mode,j),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case T:return j=Yu(V.type,V.key,V.props,null,U.mode,j),gl(j,V),j.return=U,j;case L:return V=bd(V,U.mode,j),V.return=U,V;case w:var ae=V._init;return V=ae(V._payload),ie(U,V,j)}if(xe(V)||O(V))return V=Lr(V,U.mode,j,null),V.return=U,V;if(typeof V.then=="function")return ie(U,hc(V),j);if(V.$$typeof===oe)return ie(U,Xu(U,V),j);dc(U,V)}return null}function K(U,V,j,ae){var ge=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ge!==null?null:A(U,V,""+j,ae);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case T:return j.key===ge?x(U,V,j,ae):null;case L:return j.key===ge?H(U,V,j,ae):null;case w:return ge=j._init,j=ge(j._payload),K(U,V,j,ae)}if(xe(j)||O(j))return ge!==null?null:Z(U,V,j,ae,null);if(typeof j.then=="function")return K(U,V,hc(j),ae);if(j.$$typeof===oe)return K(U,V,Xu(U,j),ae);dc(U,j)}return null}function J(U,V,j,ae,ge){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return U=U.get(j)||null,A(V,U,""+ae,ge);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case T:return U=U.get(ae.key===null?j:ae.key)||null,x(V,U,ae,ge);case L:return U=U.get(ae.key===null?j:ae.key)||null,H(V,U,ae,ge);case w:var Pe=ae._init;return ae=Pe(ae._payload),J(U,V,j,ae,ge)}if(xe(ae)||O(ae))return U=U.get(j)||null,Z(V,U,ae,ge,null);if(typeof ae.then=="function")return J(U,V,j,hc(ae),ge);if(ae.$$typeof===oe)return J(U,V,j,Xu(V,ae),ge);dc(V,ae)}return null}function Re(U,V,j,ae){for(var ge=null,Pe=null,ye=V,Se=V=0,Bt=null;ye!==null&&Se<j.length;Se++){ye.index>Se?(Bt=ye,ye=null):Bt=ye.sibling;var Je=K(U,ye,j[Se],ae);if(Je===null){ye===null&&(ye=Bt);break}t&&ye&&Je.alternate===null&&i(U,ye),V=f(Je,V,Se),Pe===null?ge=Je:Pe.sibling=Je,Pe=Je,ye=Bt}if(Se===j.length)return s(U,ye),Qe&&Pr(U,Se),ge;if(ye===null){for(;Se<j.length;Se++)ye=ie(U,j[Se],ae),ye!==null&&(V=f(ye,V,Se),Pe===null?ge=ye:Pe.sibling=ye,Pe=ye);return Qe&&Pr(U,Se),ge}for(ye=l(ye);Se<j.length;Se++)Bt=J(ye,U,Se,j[Se],ae),Bt!==null&&(t&&Bt.alternate!==null&&ye.delete(Bt.key===null?Se:Bt.key),V=f(Bt,V,Se),Pe===null?ge=Bt:Pe.sibling=Bt,Pe=Bt);return t&&ye.forEach(function(qi){return i(U,qi)}),Qe&&Pr(U,Se),ge}function Te(U,V,j,ae){if(j==null)throw Error(r(151));for(var ge=null,Pe=null,ye=V,Se=V=0,Bt=null,Je=j.next();ye!==null&&!Je.done;Se++,Je=j.next()){ye.index>Se?(Bt=ye,ye=null):Bt=ye.sibling;var qi=K(U,ye,Je.value,ae);if(qi===null){ye===null&&(ye=Bt);break}t&&ye&&qi.alternate===null&&i(U,ye),V=f(qi,V,Se),Pe===null?ge=qi:Pe.sibling=qi,Pe=qi,ye=Bt}if(Je.done)return s(U,ye),Qe&&Pr(U,Se),ge;if(ye===null){for(;!Je.done;Se++,Je=j.next())Je=ie(U,Je.value,ae),Je!==null&&(V=f(Je,V,Se),Pe===null?ge=Je:Pe.sibling=Je,Pe=Je);return Qe&&Pr(U,Se),ge}for(ye=l(ye);!Je.done;Se++,Je=j.next())Je=J(ye,U,Se,Je.value,ae),Je!==null&&(t&&Je.alternate!==null&&ye.delete(Je.key===null?Se:Je.key),V=f(Je,V,Se),Pe===null?ge=Je:Pe.sibling=Je,Pe=Je);return t&&ye.forEach(function(mw){return i(U,mw)}),Qe&&Pr(U,Se),ge}function it(U,V,j,ae){if(typeof j=="object"&&j!==null&&j.type===P&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case T:e:{for(var ge=j.key;V!==null;){if(V.key===ge){if(ge=j.type,ge===P){if(V.tag===7){s(U,V.sibling),ae=h(V,j.props.children),ae.return=U,U=ae;break e}}else if(V.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Vy(ge)===V.type){s(U,V.sibling),ae=h(V,j.props),gl(ae,j),ae.return=U,U=ae;break e}s(U,V);break}else i(U,V);V=V.sibling}j.type===P?(ae=Lr(j.props.children,U.mode,ae,j.key),ae.return=U,U=ae):(ae=Yu(j.type,j.key,j.props,null,U.mode,ae),gl(ae,j),ae.return=U,U=ae)}return _(U);case L:e:{for(ge=j.key;V!==null;){if(V.key===ge)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){s(U,V.sibling),ae=h(V,j.children||[]),ae.return=U,U=ae;break e}else{s(U,V);break}else i(U,V);V=V.sibling}ae=bd(j,U.mode,ae),ae.return=U,U=ae}return _(U);case w:return ge=j._init,j=ge(j._payload),it(U,V,j,ae)}if(xe(j))return Re(U,V,j,ae);if(O(j)){if(ge=O(j),typeof ge!="function")throw Error(r(150));return j=ge.call(j),Te(U,V,j,ae)}if(typeof j.then=="function")return it(U,V,hc(j),ae);if(j.$$typeof===oe)return it(U,V,Xu(U,j),ae);dc(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(s(U,V.sibling),ae=h(V,j),ae.return=U,U=ae):(s(U,V),ae=Sd(j,U.mode,ae),ae.return=U,U=ae),_(U)):s(U,V)}return function(U,V,j,ae){try{ml=0;var ge=it(U,V,j,ae);return Bs=null,ge}catch(ye){if(ye===rl||ye===ec)throw ye;var Pe=Sn(29,ye,null,U.mode);return Pe.lanes=ae,Pe.return=U,Pe}finally{}}}var js=Uy(!0),zy=Uy(!1),Bn=W(null),_a=null;function Di(t){var i=t.alternate;te(kt,kt.current&1),te(Bn,t),_a===null&&(i===null||Ps.current!==null||i.memoizedState!==null)&&(_a=t)}function By(t){if(t.tag===22){if(te(kt,kt.current),te(Bn,t),_a===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(_a=t)}}else ki()}function ki(){te(kt,kt.current),te(Bn,Bn.current)}function Xa(t){ne(Bn),_a===t&&(_a=null),ne(kt)}var kt=W(0);function fc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Jf(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function af(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:E({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var rf={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=Cn(),h=Ii(l);h.payload=i,s!=null&&(h.callback=s),i=Mi(t,h,l),i!==null&&(In(i,t,l),ol(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=Cn(),h=Ii(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Mi(t,h,l),i!==null&&(In(i,t,l),ol(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Cn(),l=Ii(s);l.tag=2,i!=null&&(l.callback=i),i=Mi(t,l,s),i!==null&&(In(i,t,s),ol(i,t,s))}};function jy(t,i,s,l,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):i.prototype&&i.prototype.isPureReactComponent?!Wo(s,l)||!Wo(h,f):!0}function Hy(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&rf.enqueueReplaceState(i,i.state,null)}function Gr(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=E({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var mc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Gy(t){mc(t)}function Ky(t){console.error(t)}function Fy(t){mc(t)}function gc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function qy(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sf(t,i,s){return s=Ii(s),s.tag=3,s.payload={element:null},s.callback=function(){gc(t,i)},s}function Jy(t){return t=Ii(t),t.tag=3,t}function Yy(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){qy(i,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){qy(i,s,l),typeof h!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function mb(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&nl(i,s,h,!0),s=Bn.current,s!==null){switch(s.tag){case 13:return _a===null?Nf():s.alternate===null&&gt===0&&(gt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Ld?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),kf(t,l,h)),!1;case 22:return s.flags|=65536,l===Ld?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),kf(t,l,h)),!1}throw Error(r(435,s.tag))}return kf(t,l,h),Nf(),!1}if(Qe)return i=Bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Cd&&(t=Error(r(422),{cause:l}),tl(Pn(t,s)))):(l!==Cd&&(i=Error(r(423),{cause:l}),tl(Pn(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Pn(l,s),h=sf(t.stateNode,l,h),Vd(t,h),gt!==4&&(gt=2)),!1;var f=Error(r(520),{cause:l});if(f=Pn(f,s),Tl===null?Tl=[f]:Tl.push(f),gt!==4&&(gt=2),i===null)return!0;l=Pn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=sf(s.stateNode,l,t),Vd(s,t),!1;case 1:if(i=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ui===null||!Ui.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Jy(h),Yy(h,t,s,l),Vd(s,h),!1}s=s.return}while(s!==null);return!1}var Qy=Error(r(461)),Ut=!1;function Kt(t,i,s,l){i.child=t===null?zy(i,null,s,l):js(i,t.child,s,l)}function $y(t,i,s,l,h){s=s.render;var f=i.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return Br(i),l=Hd(t,i,s,_,f,h),A=Gd(),t!==null&&!Ut?(Kd(t,i,h),Za(t,i,h)):(Qe&&A&&wd(i),i.flags|=1,Kt(t,i,l,h),i.child)}function Wy(t,i,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!Td(f)&&f.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=f,Xy(t,i,f,l,h)):(t=Yu(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!mf(t,h)){var _=f.memoizedProps;if(s=s.compare,s=s!==null?s:Wo,s(_,l)&&t.ref===i.ref)return Za(t,i,h)}return i.flags|=1,t=qa(f,l),t.ref=i.ref,t.return=i,i.child=t}function Xy(t,i,s,l,h){if(t!==null){var f=t.memoizedProps;if(Wo(f,l)&&t.ref===i.ref)if(Ut=!1,i.pendingProps=l=f,mf(t,h))(t.flags&131072)!==0&&(Ut=!0);else return i.lanes=t.lanes,Za(t,i,h)}return of(t,i,s,l,h)}function Zy(t,i,s){var l=i.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=f!==null?f.baseLanes|s:s,t!==null){for(h=i.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~l}else i.childLanes=0,i.child=null;return ev(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zu(i,f!==null?f.cachePool:null),f!==null?Xp(i,f):zd(),By(i);else return i.lanes=i.childLanes=536870912,ev(t,i,f!==null?f.baseLanes|s:s,s)}else f!==null?(Zu(i,f.cachePool),Xp(i,f),ki(),i.memoizedState=null):(t!==null&&Zu(i,null),zd(),ki());return Kt(t,i,h,s),i.child}function ev(t,i,s,l){var h=xd();return h=h===null?null:{parent:Dt._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},t!==null&&Zu(i,null),zd(),By(i),t!==null&&nl(t,i,l,!0),null}function pc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function of(t,i,s,l,h){return Br(i),s=Hd(t,i,s,l,void 0,h),l=Gd(),t!==null&&!Ut?(Kd(t,i,h),Za(t,i,h)):(Qe&&l&&wd(i),i.flags|=1,Kt(t,i,s,h),i.child)}function tv(t,i,s,l,h,f){return Br(i),i.updateQueue=null,s=ey(i,l,s,h),Zp(t),l=Gd(),t!==null&&!Ut?(Kd(t,i,f),Za(t,i,f)):(Qe&&l&&wd(i),i.flags|=1,Kt(t,i,s,f),i.child)}function nv(t,i,s,l,h){if(Br(i),i.stateNode===null){var f=Ds,_=s.contextType;typeof _=="object"&&_!==null&&(f=Xt(_)),f=new s(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},Od(i),_=s.contextType,f.context=typeof _=="object"&&_!==null?Xt(_):Ds,f.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(af(i,s,_,l),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&rf.enqueueReplaceState(f,f.state,null),ul(i,l,f,h),ll(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var A=i.memoizedProps,x=Gr(s,A);f.props=x;var H=f.context,Z=s.contextType;_=Ds,typeof Z=="object"&&Z!==null&&(_=Xt(Z));var ie=s.getDerivedStateFromProps;Z=typeof ie=="function"||typeof f.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(A||H!==_)&&Hy(i,f,l,_),Ci=!1;var K=i.memoizedState;f.state=K,ul(i,l,f,h),ll(),H=i.memoizedState,A||K!==H||Ci?(typeof ie=="function"&&(af(i,s,ie,l),H=i.memoizedState),(x=Ci||jy(i,s,x,l,K,H,_))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),f.props=l,f.state=H,f.context=_,l=x):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,Pd(t,i),_=i.memoizedProps,Z=Gr(s,_),f.props=Z,ie=i.pendingProps,K=f.context,H=s.contextType,x=Ds,typeof H=="object"&&H!==null&&(x=Xt(H)),A=s.getDerivedStateFromProps,(H=typeof A=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==ie||K!==x)&&Hy(i,f,l,x),Ci=!1,K=i.memoizedState,f.state=K,ul(i,l,f,h),ll();var J=i.memoizedState;_!==ie||K!==J||Ci||t!==null&&t.dependencies!==null&&Wu(t.dependencies)?(typeof A=="function"&&(af(i,s,A,l),J=i.memoizedState),(Z=Ci||jy(i,s,Z,l,K,J,x)||t!==null&&t.dependencies!==null&&Wu(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,J,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,J,x)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=J),f.props=l,f.state=J,f.context=x,l=Z):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,pc(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=js(i,t.child,null,h),i.child=js(i,null,s,h)):Kt(t,i,s,h),i.memoizedState=f.state,t=i.child):t=Za(t,i,h),t}function av(t,i,s,l){return el(),i.flags|=256,Kt(t,i,s,l),i.child}var lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uf(t){return{baseLanes:t,cachePool:Kp()}}function cf(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=jn),t}function iv(t,i,s){var l=i.pendingProps,h=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(kt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Qe){if(h?Di(i):ki(),Qe){var A=mt,x;if(x=A){e:{for(x=A,A=va;x.nodeType!==8;){if(!A){A=null;break e}if(x=Wn(x.nextSibling),x===null){A=null;break e}}A=x}A!==null?(i.memoizedState={dehydrated:A,treeContext:Or!==null?{id:Ja,overflow:Ya}:null,retryLane:536870912,hydrationErrors:null},x=Sn(18,null,null,0),x.stateNode=A,x.return=i,i.child=x,hn=i,mt=null,x=!0):x=!1}x||Ur(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Jf(A)?i.lanes=32:i.lanes=536870912,null;Xa(i)}return A=l.children,l=l.fallback,h?(ki(),h=i.mode,A=yc({mode:"hidden",children:A},h),l=Lr(l,h,s,null),A.return=i,l.return=i,A.sibling=l,i.child=A,h=i.child,h.memoizedState=uf(s),h.childLanes=cf(t,_,s),i.memoizedState=lf,l):(Di(i),hf(i,A))}if(x=t.memoizedState,x!==null&&(A=x.dehydrated,A!==null)){if(f)i.flags&256?(Di(i),i.flags&=-257,i=df(t,i,s)):i.memoizedState!==null?(ki(),i.child=t.child,i.flags|=128,i=null):(ki(),h=l.fallback,A=i.mode,l=yc({mode:"visible",children:l.children},A),h=Lr(h,A,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,js(i,t.child,null,s),l=i.child,l.memoizedState=uf(s),l.childLanes=cf(t,_,s),i.memoizedState=lf,i=h);else if(Di(i),Jf(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(r(419)),l.stack="",l.digest=_,tl({value:l,source:null,stack:null}),i=df(t,i,s)}else if(Ut||nl(t,i,s,!1),_=(s&t.childLanes)!==0,Ut||_){if(_=st,_!==null&&(l=s&-s,l=(l&42)!==0?1:_i(l),l=(l&(_.suspendedLanes|s))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,Ns(t,l),In(_,t,l),Qy;A.data==="$?"||Nf(),i=df(t,i,s)}else A.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,mt=Wn(A.nextSibling),hn=i,Qe=!0,Vr=null,va=!1,t!==null&&(Un[zn++]=Ja,Un[zn++]=Ya,Un[zn++]=Or,Ja=t.id,Ya=t.overflow,Or=i),i=hf(i,l.children),i.flags|=4096);return i}return h?(ki(),h=l.fallback,A=i.mode,x=t.child,H=x.sibling,l=qa(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,H!==null?h=qa(H,h):(h=Lr(h,A,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,A=t.child.memoizedState,A===null?A=uf(s):(x=A.cachePool,x!==null?(H=Dt._currentValue,x=x.parent!==H?{parent:H,pool:H}:x):x=Kp(),A={baseLanes:A.baseLanes|s,cachePool:x}),h.memoizedState=A,h.childLanes=cf(t,_,s),i.memoizedState=lf,l):(Di(i),s=t.child,t=s.sibling,s=qa(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=s,i.memoizedState=null,s)}function hf(t,i){return i=yc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function yc(t,i){return t=Sn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function df(t,i,s){return js(i,t.child,null,s),t=hf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function rv(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Md(t.return,i,s)}function ff(t,i,s,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=h)}function sv(t,i,s){var l=i.pendingProps,h=l.revealOrder,f=l.tail;if(Kt(t,i,l.children,s),l=kt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rv(t,s,i);else if(t.tag===19)rv(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(te(kt,l),h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&fc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),ff(i,!1,h,s,f);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&fc(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}ff(i,!0,s,null,f);break;case"together":ff(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Za(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Vi|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(nl(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,s=qa(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=qa(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function mf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Wu(t)))}function gb(t,i,s){switch(i.tag){case 3:Ae(i,i.stateNode.containerInfo),Ri(i,Dt,t.memoizedState.cache),el();break;case 27:case 5:qe(i);break;case 4:Ae(i,i.stateNode.containerInfo);break;case 10:Ri(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Di(i),i.flags|=128,null):(s&i.child.childLanes)!==0?iv(t,i,s):(Di(i),t=Za(t,i,s),t!==null?t.sibling:null);Di(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(nl(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return sv(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(kt,kt.current),l)break;return null;case 22:case 23:return i.lanes=0,Zy(t,i,s);case 24:Ri(i,Dt,t.memoizedState.cache)}return Za(t,i,s)}function ov(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ut=!0;else{if(!mf(t,s)&&(i.flags&128)===0)return Ut=!1,gb(t,i,s);Ut=(t.flags&131072)!==0}else Ut=!1,Qe&&(i.flags&1048576)!==0&&Vp(i,$u,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Td(l)?(t=Gr(l,t),i.tag=1,i=nv(null,i,l,t,s)):(i.tag=0,i=of(null,i,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===Y){i.tag=11,i=$y(null,i,l,t,s);break e}else if(h===D){i.tag=14,i=Wy(null,i,l,t,s);break e}}throw i=Me(l)||l,Error(r(306,i,""))}}return i;case 0:return of(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=Gr(l,i.pendingProps),nv(t,i,l,h,s);case 3:e:{if(Ae(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var f=i.memoizedState;h=f.element,Pd(t,i),ul(i,l,null,s);var _=i.memoizedState;if(l=_.cache,Ri(i,Dt,l),l!==f.cache&&Nd(i,[Dt],s,!0),ll(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=av(t,i,l,s);break e}else if(l!==h){h=Pn(Error(r(424)),i),tl(h),i=av(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(mt=Wn(t.firstChild),hn=i,Qe=!0,Vr=null,va=!0,s=zy(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(el(),l===h){i=Za(t,i,s);break e}Kt(t,i,l,s)}i=i.child}return i;case 26:return pc(t,i),t===null?(s=h_(i.type,null,i.pendingProps,null))?i.memoizedState=s:Qe||(s=i.type,t=i.pendingProps,l=Dc(pe.current).createElement(s),l[It]=i,l[Et]=t,qt(l,s,t),pt(l),i.stateNode=l):i.memoizedState=h_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return qe(i),t===null&&Qe&&(l=i.stateNode=l_(i.type,i.pendingProps,pe.current),hn=i,va=!0,h=mt,ji(i.type)?(Yf=h,mt=Wn(l.firstChild)):mt=h),Kt(t,i,i.pendingProps.children,s),pc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Qe&&((h=l=mt)&&(l=Gb(l,i.type,i.pendingProps,va),l!==null?(i.stateNode=l,hn=i,mt=Wn(l.firstChild),va=!1,h=!0):h=!1),h||Ur(i)),qe(i),h=i.type,f=i.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Kf(h,f)?l=null:_!==null&&Kf(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Hd(t,i,ob,null,null,s),Dl._currentValue=h),pc(t,i),Kt(t,i,l,s),i.child;case 6:return t===null&&Qe&&((t=s=mt)&&(s=Kb(s,i.pendingProps,va),s!==null?(i.stateNode=s,hn=i,mt=null,t=!0):t=!1),t||Ur(i)),null;case 13:return iv(t,i,s);case 4:return Ae(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=js(i,null,l,s):Kt(t,i,l,s),i.child;case 11:return $y(t,i,i.type,i.pendingProps,s);case 7:return Kt(t,i,i.pendingProps,s),i.child;case 8:return Kt(t,i,i.pendingProps.children,s),i.child;case 12:return Kt(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Ri(i,i.type,l.value),Kt(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Br(i),h=Xt(h),l=l(h),i.flags|=1,Kt(t,i,l,s),i.child;case 14:return Wy(t,i,i.type,i.pendingProps,s);case 15:return Xy(t,i,i.type,i.pendingProps,s);case 19:return sv(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=yc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=qa(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return Zy(t,i,s);case 24:return Br(i),l=Xt(Dt),t===null?(h=xd(),h===null&&(h=st,f=Dd(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),i.memoizedState={parent:l,cache:h},Od(i),Ri(i,Dt,h)):((t.lanes&s)!==0&&(Pd(t,i),ul(i,null,null,s),ll()),h=t.memoizedState,f=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ri(i,Dt,l)):(l=f.cache,Ri(i,Dt,l),l!==h.cache&&Nd(i,[Dt],s,!0))),Kt(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ei(t){t.flags|=4}function lv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!p_(i)){if(i=Bn.current,i!==null&&((Ke&4194048)===Ke?_a!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||i!==_a))throw sl=Ld,Fp;t.flags|=8192}}function vc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?xo():536870912,t.lanes|=i,Fs|=i)}function pl(t,i){if(!Qe)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function dt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function pb(t,i,s){var l=i.pendingProps;switch(Rd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(i),null;case 1:return dt(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),$a(Dt),je(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Zo(i)?ei(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Bp())),dt(i),null;case 26:return s=i.memoizedState,t===null?(ei(i),s!==null?(dt(i),lv(i,s)):(dt(i),i.flags&=-16777217)):s?s!==t.memoizedState?(ei(i),dt(i),lv(i,s)):(dt(i),i.flags&=-16777217):(t.memoizedProps!==l&&ei(i),dt(i),i.flags&=-16777217),null;case 27:Ot(i),s=pe.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ei(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return dt(i),null}t=ce.current,Zo(i)?Up(i):(t=l_(h,l,s),i.stateNode=t,ei(i))}return dt(i),null;case 5:if(Ot(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ei(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return dt(i),null}if(t=ce.current,Zo(i))Up(i);else{switch(h=Dc(pe.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[It]=i,t[Et]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(qt(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ei(i)}}return dt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ei(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=pe.current,Zo(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=hn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||t_(t.nodeValue,s)),t||Ur(i)}else t=Dc(t).createTextNode(l),t[It]=i,i.stateNode=t}return dt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Zo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[It]=i}else el(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dt(i),h=!1}else h=Bp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Xa(i),i):(Xa(i),null)}if(Xa(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),vc(i,i.updateQueue),dt(i),null;case 4:return je(),t===null&&zf(i.stateNode.containerInfo),dt(i),null;case 10:return $a(i.type),dt(i),null;case 19:if(ne(kt),h=i.memoizedState,h===null)return dt(i),null;if(l=(i.flags&128)!==0,f=h.rendering,f===null)if(l)pl(h,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=fc(t),f!==null){for(i.flags|=128,pl(h,!1),t=f.updateQueue,i.updateQueue=t,vc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Pp(s,t),s=s.sibling;return te(kt,kt.current&1|2),i.child}t=t.sibling}h.tail!==null&&on()>Ac&&(i.flags|=128,l=!0,pl(h,!1),i.lanes=4194304)}else{if(!l)if(t=fc(f),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,vc(i,t),pl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Qe)return dt(i),null}else 2*on()-h.renderingStartTime>Ac&&s!==536870912&&(i.flags|=128,l=!0,pl(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(t=h.last,t!==null?t.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=on(),i.sibling=null,t=kt.current,te(kt,l?t&1|2:t&1),i):(dt(i),null);case 22:case 23:return Xa(i),Bd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(dt(i),i.subtreeFlags&6&&(i.flags|=8192)):dt(i),s=i.updateQueue,s!==null&&vc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&ne(jr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),$a(Dt),dt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function yb(t,i){switch(Rd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $a(Dt),je(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ot(i),null;case 13:if(Xa(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));el()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ne(kt),null;case 4:return je(),null;case 10:return $a(i.type),null;case 22:case 23:return Xa(i),Bd(),t!==null&&ne(jr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $a(Dt),null;case 25:return null;default:return null}}function uv(t,i){switch(Rd(i),i.tag){case 3:$a(Dt),je();break;case 26:case 27:case 5:Ot(i);break;case 4:je();break;case 13:Xa(i);break;case 19:ne(kt);break;case 10:$a(i.type);break;case 22:case 23:Xa(i),Bd(),t!==null&&ne(jr);break;case 24:$a(Dt)}}function yl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,_=s.inst;l=f(),_.destroy=l}s=s.next}while(s!==h)}}catch(A){rt(i,i.return,A)}}function xi(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,h=i;var x=s,H=A;try{H()}catch(Z){rt(h,x,Z)}}}l=l.next}while(l!==f)}}catch(Z){rt(i,i.return,Z)}}function cv(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Wp(i,s)}catch(l){rt(t,t.return,l)}}}function hv(t,i,s){s.props=Gr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){rt(t,i,l)}}function vl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){rt(t,i,h)}}function Ea(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){rt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){rt(t,i,h)}else s.current=null}function dv(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){rt(t,t.return,h)}}function gf(t,i,s){try{var l=t.stateNode;Ub(l,t.type,s,i),l[Et]=i}catch(h){rt(t,t.return,h)}}function fv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ji(t.type)||t.tag===4}function pf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ji(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yf(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Nc));else if(l!==4&&(l===27&&ji(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(yf(t,i,s),t=t.sibling;t!==null;)yf(t,i,s),t=t.sibling}function _c(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&ji(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(_c(t,i,s),t=t.sibling;t!==null;)_c(t,i,s),t=t.sibling}function mv(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);qt(i,l,s),i[It]=t,i[Et]=s}catch(f){rt(t,t.return,f)}}var ti=!1,vt=!1,vf=!1,gv=typeof WeakSet=="function"?WeakSet:Set,zt=null;function vb(t,i){if(t=t.containerInfo,Hf=Vc,t=Rp(t),gd(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var _=0,A=-1,x=-1,H=0,Z=0,ie=t,K=null;t:for(;;){for(var J;ie!==s||h!==0&&ie.nodeType!==3||(A=_+h),ie!==f||l!==0&&ie.nodeType!==3||(x=_+l),ie.nodeType===3&&(_+=ie.nodeValue.length),(J=ie.firstChild)!==null;)K=ie,ie=J;for(;;){if(ie===t)break t;if(K===s&&++H===h&&(A=_),K===f&&++Z===l&&(x=_),(J=ie.nextSibling)!==null)break;ie=K,K=ie.parentNode}ie=J}s=A===-1||x===-1?null:{start:A,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(Gf={focusedElem:t,selectionRange:s},Vc=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,f=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=i,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var Re=Gr(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Re,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){rt(s,s.return,Te)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)qf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function pv(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Li(t,s),l&4&&yl(5,s);break;case 1:if(Li(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(_){rt(s,s.return,_)}else{var h=Gr(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){rt(s,s.return,_)}}l&64&&cv(s),l&512&&vl(s,s.return);break;case 3:if(Li(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Wp(t,i)}catch(_){rt(s,s.return,_)}}break;case 27:i===null&&l&4&&mv(s);case 26:case 5:Li(t,s),i===null&&l&4&&dv(s),l&512&&vl(s,s.return);break;case 12:Li(t,s);break;case 13:Li(t,s),l&4&&_v(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Cb.bind(null,s),Fb(t,s))));break;case 22:if(l=s.memoizedState!==null||ti,!l){i=i!==null&&i.memoizedState!==null||vt,h=ti;var f=vt;ti=l,(vt=i)&&!f?Oi(t,s,(s.subtreeFlags&8772)!==0):Li(t,s),ti=h,vt=f}break;case 30:break;default:Li(t,s)}}function yv(t){var i=t.alternate;i!==null&&(t.alternate=null,yv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ti(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,mn=!1;function ni(t,i,s){for(s=s.child;s!==null;)vv(t,i,s),s=s.sibling}function vv(t,i,s){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(Ye,s)}catch{}switch(s.tag){case 26:vt||Ea(s,i),ni(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:vt||Ea(s,i);var l=ct,h=mn;ji(s.type)&&(ct=s.stateNode,mn=!1),ni(t,i,s),Cl(s.stateNode),ct=l,mn=h;break;case 5:vt||Ea(s,i);case 6:if(l=ct,h=mn,ct=null,ni(t,i,s),ct=l,mn=h,ct!==null)if(mn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(s.stateNode)}catch(f){rt(s,i,f)}else try{ct.removeChild(s.stateNode)}catch(f){rt(s,i,f)}break;case 18:ct!==null&&(mn?(t=ct,s_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ol(t)):s_(ct,s.stateNode));break;case 4:l=ct,h=mn,ct=s.stateNode.containerInfo,mn=!0,ni(t,i,s),ct=l,mn=h;break;case 0:case 11:case 14:case 15:vt||xi(2,s,i),vt||xi(4,s,i),ni(t,i,s);break;case 1:vt||(Ea(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&hv(s,i,l)),ni(t,i,s);break;case 21:ni(t,i,s);break;case 22:vt=(l=vt)||s.memoizedState!==null,ni(t,i,s),vt=l;break;default:ni(t,i,s)}}function _v(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ol(t)}catch(s){rt(i,i.return,s)}}function _b(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new gv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new gv),i;default:throw Error(r(435,t.tag))}}function _f(t,i){var s=_b(t);i.forEach(function(l){var h=Ib.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function bn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,_=i,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(ji(A.type)){ct=A.stateNode,mn=!1;break e}break;case 5:ct=A.stateNode,mn=!1;break e;case 3:case 4:ct=A.stateNode.containerInfo,mn=!0;break e}A=A.return}if(ct===null)throw Error(r(160));vv(f,_,h),ct=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ev(i,t),i=i.sibling}var $n=null;function Ev(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(i,t),wn(t),l&4&&(xi(3,t,t.return),yl(3,t),xi(5,t,t.return));break;case 1:bn(i,t),wn(t),l&512&&(vt||s===null||Ea(s,s.return)),l&64&&ti&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=$n;if(bn(i,t),wn(t),l&512&&(vt||s===null||Ea(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[vr]||f[It]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),qt(f,l,s),f[It]=t,pt(f),l=f;break e;case"link":var _=m_("link","href",h).get(l+(s.href||""));if(_){for(var A=0;A<_.length;A++)if(f=_[A],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(A,1);break t}}f=h.createElement(l),qt(f,l,s),h.head.appendChild(f);break;case"meta":if(_=m_("meta","content",h).get(l+(s.content||""))){for(A=0;A<_.length;A++)if(f=_[A],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(A,1);break t}}f=h.createElement(l),qt(f,l,s),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[It]=t,pt(f),l=f}t.stateNode=l}else g_(h,t.type,t.stateNode);else t.stateNode=f_(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?g_(h,t.type,t.stateNode):f_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&gf(t,t.memoizedProps,s.memoizedProps)}break;case 27:bn(i,t),wn(t),l&512&&(vt||s===null||Ea(s,s.return)),s!==null&&l&4&&gf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(bn(i,t),wn(t),l&512&&(vt||s===null||Ea(s,s.return)),t.flags&32){h=t.stateNode;try{kn(h,"")}catch(J){rt(t,t.return,J)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,gf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(vf=!0);break;case 6:if(bn(i,t),wn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(J){rt(t,t.return,J)}}break;case 3:if(Lc=null,h=$n,$n=kc(i.containerInfo),bn(i,t),$n=h,wn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ol(i.containerInfo)}catch(J){rt(t,t.return,J)}vf&&(vf=!1,Av(t));break;case 4:l=$n,$n=kc(t.stateNode.containerInfo),bn(i,t),wn(t),$n=l;break;case 12:bn(i,t),wn(t);break;case 13:bn(i,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(wf=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_f(t,l)));break;case 22:h=t.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,H=ti,Z=vt;if(ti=H||h,vt=Z||x,bn(i,t),vt=Z,ti=H,wn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||x||ti||vt||Kr(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){x=s=i;try{if(f=x.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=x.stateNode;var ie=x.memoizedProps.style,K=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(J){rt(x,x.return,J)}}}else if(i.tag===6){if(s===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(J){rt(x,x.return,J)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,_f(t,s))));break;case 19:bn(i,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_f(t,l)));break;case 30:break;case 21:break;default:bn(i,t),wn(t)}}function wn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(fv(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,f=pf(t);_c(t,f,h);break;case 5:var _=s.stateNode;s.flags&32&&(kn(_,""),s.flags&=-33);var A=pf(t);_c(t,A,_);break;case 3:case 4:var x=s.stateNode.containerInfo,H=pf(t);yf(t,H,x);break;default:throw Error(r(161))}}catch(Z){rt(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Av(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Av(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Li(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)pv(t,i.alternate,i),i=i.sibling}function Kr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:xi(4,i,i.return),Kr(i);break;case 1:Ea(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&hv(i,i.return,s),Kr(i);break;case 27:Cl(i.stateNode);case 26:case 5:Ea(i,i.return),Kr(i);break;case 22:i.memoizedState===null&&Kr(i);break;case 30:Kr(i);break;default:Kr(i)}t=t.sibling}}function Oi(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:Oi(h,f,s),yl(4,f);break;case 1:if(Oi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){rt(l,l.return,H)}if(l=f,h=l.updateQueue,h!==null){var A=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)$p(x[h],A)}catch(H){rt(l,l.return,H)}}s&&_&64&&cv(f),vl(f,f.return);break;case 27:mv(f);case 26:case 5:Oi(h,f,s),s&&l===null&&_&4&&dv(f),vl(f,f.return);break;case 12:Oi(h,f,s);break;case 13:Oi(h,f,s),s&&_&4&&_v(h,f);break;case 22:f.memoizedState===null&&Oi(h,f,s),vl(f,f.return);break;case 30:break;default:Oi(h,f,s)}i=i.sibling}}function Ef(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&al(s))}function Af(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t))}function Aa(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Tv(t,i,s,l),i=i.sibling}function Tv(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Aa(t,i,s,l),h&2048&&yl(9,i);break;case 1:Aa(t,i,s,l);break;case 3:Aa(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t)));break;case 12:if(h&2048){Aa(t,i,s,l),t=i.stateNode;try{var f=i.memoizedProps,_=f.id,A=f.onPostCommit;typeof A=="function"&&A(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){rt(i,i.return,x)}}else Aa(t,i,s,l);break;case 13:Aa(t,i,s,l);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?Aa(t,i,s,l):_l(t,i):f._visibility&2?Aa(t,i,s,l):(f._visibility|=2,Hs(t,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&Ef(_,i);break;case 24:Aa(t,i,s,l),h&2048&&Af(i.alternate,i);break;default:Aa(t,i,s,l)}}function Hs(t,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=t,_=i,A=s,x=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Hs(f,_,A,x,h),yl(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?Hs(f,_,A,x,h):_l(f,_):(Z._visibility|=2,Hs(f,_,A,x,h)),h&&H&2048&&Ef(_.alternate,_);break;case 24:Hs(f,_,A,x,h),h&&H&2048&&Af(_.alternate,_);break;default:Hs(f,_,A,x,h)}i=i.sibling}}function _l(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:_l(s,l),h&2048&&Ef(l.alternate,l);break;case 24:_l(s,l),h&2048&&Af(l.alternate,l);break;default:_l(s,l)}i=i.sibling}}var El=8192;function Gs(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)Sv(t),t=t.sibling}function Sv(t){switch(t.tag){case 26:Gs(t),t.flags&El&&t.memoizedState!==null&&iw($n,t.memoizedState,t.memoizedProps);break;case 5:Gs(t);break;case 3:case 4:var i=$n;$n=kc(t.stateNode.containerInfo),Gs(t),$n=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=El,El=16777216,Gs(t),El=i):Gs(t));break;default:Gs(t)}}function bv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Al(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];zt=l,Rv(l,t)}bv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wv(t),t=t.sibling}function wv(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&xi(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ec(t)):Al(t);break;default:Al(t)}}function Ec(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];zt=l,Rv(l,t)}bv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:xi(8,i,i.return),Ec(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Ec(i));break;default:Ec(i)}t=t.sibling}}function Rv(t,i){for(;zt!==null;){var s=zt;switch(s.tag){case 0:case 11:case 15:xi(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,zt=l;else e:for(s=t;zt!==null;){l=zt;var h=l.sibling,f=l.return;if(yv(l),l===s){zt=null;break e}if(h!==null){h.return=f,zt=h;break e}zt=f}}}var Eb={getCacheForType:function(t){var i=Xt(Dt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},Ab=typeof WeakMap=="function"?WeakMap:Map,Ze=0,st=null,Ve=null,Ke=0,et=0,Rn=null,Pi=!1,Ks=!1,Tf=!1,ai=0,gt=0,Vi=0,Fr=0,Sf=0,jn=0,Fs=0,Tl=null,gn=null,bf=!1,wf=0,Ac=1/0,Tc=null,Ui=null,Ft=0,zi=null,qs=null,Js=0,Rf=0,Cf=null,Cv=null,Sl=0,If=null;function Cn(){if((Ze&2)!==0&&Ke!==0)return Ke&-Ke;if($.T!==null){var t=Ls;return t!==0?t:Of()}return Ei()}function Iv(){jn===0&&(jn=(Ke&536870912)===0||Qe?ko():536870912);var t=Bn.current;return t!==null&&(t.flags|=32),jn}function In(t,i,s){(t===st&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(Ys(t,0),Bi(t,Ke,jn,!1)),Oa(t,s),((Ze&2)===0||t!==st)&&(t===st&&((Ze&2)===0&&(Fr|=s),gt===4&&Bi(t,Ke,jn,!1)),Ta(t))}function Mv(t,i,s){if((Ze&6)!==0)throw Error(r(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||yr(t,i),h=l?bb(t,i):Df(t,i,!0),f=l;do{if(h===0){Ks&&!l&&Bi(t,i,0,!1);break}else{if(s=t.current.alternate,f&&!Tb(s)){h=Df(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var A=t;h=Tl;var x=A.current.memoizedState.isDehydrated;if(x&&(Ys(A,_).flags|=256),_=Df(A,_,!1),_!==2){if(Tf&&!x){A.errorRecoveryDisabledLanes|=f,Fr|=f,h=4;break e}f=gn,gn=h,f!==null&&(gn===null?gn=f:gn.push.apply(gn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Ys(t,0),Bi(t,i,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Bi(l,i,jn,!Pi);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=wf+300-on(),10<h)){if(Bi(l,i,jn,!Pi),hs(l,0,!0)!==0)break e;l.timeoutHandle=i_(Nv.bind(null,l,s,gn,Tc,bf,i,jn,Fr,Fs,Pi,f,2,-0,0),h);break e}Nv(l,s,gn,Tc,bf,i,jn,Fr,Fs,Pi,f,0,-0,0)}}break}while(!0);Ta(t)}function Nv(t,i,s,l,h,f,_,A,x,H,Z,ie,K,J){if(t.timeoutHandle=-1,ie=i.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:aw},Sv(i),ie=rw(),ie!==null)){t.cancelPendingCommit=ie(Vv.bind(null,t,i,f,s,l,h,_,A,x,Z,1,K,J)),Bi(t,f,_,!H);return}Vv(t,i,f,s,l,h,_,A,x)}function Tb(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!Tn(f(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Bi(t,i,s,l){i&=~Sf,i&=~Fr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var f=31-Wt(h),_=1<<f;l[f]=-1,h&=~_}s!==0&&oa(t,s,i)}function Sc(){return(Ze&6)===0?(bl(0),!1):!0}function Mf(){if(Ve!==null){if(et===0)var t=Ve.return;else t=Ve,Qa=zr=null,Fd(t),Bs=null,ml=0,t=Ve;for(;t!==null;)uv(t.alternate,t),t=t.return;Ve=null}}function Ys(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Bb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Mf(),st=t,Ve=s=qa(t.current,null),Ke=i,et=0,Rn=null,Pi=!1,Ks=yr(t,i),Tf=!1,Fs=jn=Sf=Fr=Vi=gt=0,gn=Tl=null,bf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Wt(l),f=1<<h;i|=t[h],l&=~f}return ai=i,Fu(),s}function Dv(t,i){Le=null,$.H=cc,i===rl||i===ec?(i=Yp(),et=3):i===Fp?(i=Yp(),et=4):et=i===Qy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rn=i,Ve===null&&(gt=1,gc(t,Pn(i,t.current)))}function kv(){var t=$.H;return $.H=cc,t===null?cc:t}function xv(){var t=$.A;return $.A=Eb,t}function Nf(){gt=4,Pi||(Ke&4194048)!==Ke&&Bn.current!==null||(Ks=!0),(Vi&134217727)===0&&(Fr&134217727)===0||st===null||Bi(st,Ke,jn,!1)}function Df(t,i,s){var l=Ze;Ze|=2;var h=kv(),f=xv();(st!==t||Ke!==i)&&(Tc=null,Ys(t,i)),i=!1;var _=gt;e:do try{if(et!==0&&Ve!==null){var A=Ve,x=Rn;switch(et){case 8:Mf(),_=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(i=!0);var H=et;if(et=0,Rn=null,Qs(t,A,x,H),s&&Ks){_=0;break e}break;default:H=et,et=0,Rn=null,Qs(t,A,x,H)}}Sb(),_=gt;break}catch(Z){Dv(t,Z)}while(!0);return i&&t.shellSuspendCounter++,Qa=zr=null,Ze=l,$.H=h,$.A=f,Ve===null&&(st=null,Ke=0,Fu()),_}function Sb(){for(;Ve!==null;)Lv(Ve)}function bb(t,i){var s=Ze;Ze|=2;var l=kv(),h=xv();st!==t||Ke!==i?(Tc=null,Ac=on()+500,Ys(t,i)):Ks=yr(t,i);e:do try{if(et!==0&&Ve!==null){i=Ve;var f=Rn;t:switch(et){case 1:et=0,Rn=null,Qs(t,i,f,1);break;case 2:case 9:if(qp(f)){et=0,Rn=null,Ov(i);break}i=function(){et!==2&&et!==9||st!==t||(et=7),Ta(t)},f.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:qp(f)?(et=0,Rn=null,Ov(i)):(et=0,Rn=null,Qs(t,i,f,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var A=Ve;if(!_||p_(_)){et=0,Rn=null;var x=A.sibling;if(x!==null)Ve=x;else{var H=A.return;H!==null?(Ve=H,bc(H)):Ve=null}break t}}et=0,Rn=null,Qs(t,i,f,5);break;case 6:et=0,Rn=null,Qs(t,i,f,6);break;case 8:Mf(),gt=6;break e;default:throw Error(r(462))}}wb();break}catch(Z){Dv(t,Z)}while(!0);return Qa=zr=null,$.H=l,$.A=h,Ze=s,Ve!==null?0:(st=null,Ke=0,Fu(),gt)}function wb(){for(;Ve!==null&&!ka();)Lv(Ve)}function Lv(t){var i=ov(t.alternate,t,ai);t.memoizedProps=t.pendingProps,i===null?bc(t):Ve=i}function Ov(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=tv(s,i,i.pendingProps,i.type,void 0,Ke);break;case 11:i=tv(s,i,i.pendingProps,i.type.render,i.ref,Ke);break;case 5:Fd(i);default:uv(s,i),i=Ve=Pp(i,ai),i=ov(s,i,ai)}t.memoizedProps=t.pendingProps,i===null?bc(t):Ve=i}function Qs(t,i,s,l){Qa=zr=null,Fd(i),Bs=null,ml=0;var h=i.return;try{if(mb(t,h,i,s,Ke)){gt=1,gc(t,Pn(s,t.current)),Ve=null;return}}catch(f){if(h!==null)throw Ve=h,f;gt=1,gc(t,Pn(s,t.current)),Ve=null;return}i.flags&32768?(Qe||l===1?t=!0:Ks||(Ke&536870912)!==0?t=!1:(Pi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Pv(i,t)):bc(i)}function bc(t){var i=t;do{if((i.flags&32768)!==0){Pv(i,Pi);return}t=i.return;var s=pb(i.alternate,i,ai);if(s!==null){Ve=s;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=t}while(i!==null);gt===0&&(gt=5)}function Pv(t,i){do{var s=yb(t.alternate,t);if(s!==null){s.flags&=32767,Ve=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=s}while(t!==null);gt=6,Ve=null}function Vv(t,i,s,l,h,f,_,A,x){t.cancelPendingCommit=null;do wc();while(Ft!==0);if((Ze&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=Ed,Lo(t,s,f,_,A,x),t===st&&(Ve=st=null,Ke=0),qs=i,zi=t,Js=s,Rf=f,Cf=h,Cv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Mb(Fn,function(){return Hv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=he.p,he.p=2,_=Ze,Ze|=4;try{vb(t,i,s)}finally{Ze=_,he.p=h,$.T=l}}Ft=1,Uv(),zv(),Bv()}}function Uv(){if(Ft===1){Ft=0;var t=zi,i=qs,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=$.T,$.T=null;var l=he.p;he.p=2;var h=Ze;Ze|=4;try{Ev(i,t);var f=Gf,_=Rp(t.containerInfo),A=f.focusedElem,x=f.selectionRange;if(_!==A&&A&&A.ownerDocument&&wp(A.ownerDocument.documentElement,A)){if(x!==null&&gd(A)){var H=x.start,Z=x.end;if(Z===void 0&&(Z=H),"selectionStart"in A)A.selectionStart=H,A.selectionEnd=Math.min(Z,A.value.length);else{var ie=A.ownerDocument||document,K=ie&&ie.defaultView||window;if(K.getSelection){var J=K.getSelection(),Re=A.textContent.length,Te=Math.min(x.start,Re),it=x.end===void 0?Te:Math.min(x.end,Re);!J.extend&&Te>it&&(_=it,it=Te,Te=_);var U=bp(A,Te),V=bp(A,it);if(U&&V&&(J.rangeCount!==1||J.anchorNode!==U.node||J.anchorOffset!==U.offset||J.focusNode!==V.node||J.focusOffset!==V.offset)){var j=ie.createRange();j.setStart(U.node,U.offset),J.removeAllRanges(),Te>it?(J.addRange(j),J.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),J.addRange(j))}}}}for(ie=[],J=A;J=J.parentNode;)J.nodeType===1&&ie.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ie.length;A++){var ae=ie[A];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Vc=!!Hf,Gf=Hf=null}finally{Ze=h,he.p=l,$.T=s}}t.current=i,Ft=2}}function zv(){if(Ft===2){Ft=0;var t=zi,i=qs,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=$.T,$.T=null;var l=he.p;he.p=2;var h=Ze;Ze|=4;try{pv(t,i.alternate,i)}finally{Ze=h,he.p=l,$.T=s}}Ft=3}}function Bv(){if(Ft===4||Ft===3){Ft=0,yi();var t=zi,i=qs,s=Js,l=Cv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ft=5:(Ft=0,qs=zi=null,jv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ui=null),ds(s),i=i.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(Ye,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,h=he.p,he.p=2,$.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var A=l[_];f(A.value,{componentStack:A.stack})}}finally{$.T=i,he.p=h}}(Js&3)!==0&&wc(),Ta(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===If?Sl++:(Sl=0,If=t):Sl=0,bl(0)}}function jv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,al(i)))}function wc(t){return Uv(),zv(),Bv(),Hv()}function Hv(){if(Ft!==5)return!1;var t=zi,i=Rf;Rf=0;var s=ds(Js),l=$.T,h=he.p;try{he.p=32>s?32:s,$.T=null,s=Cf,Cf=null;var f=zi,_=Js;if(Ft=0,qs=zi=null,Js=0,(Ze&6)!==0)throw Error(r(331));var A=Ze;if(Ze|=4,wv(f.current),Tv(f,f.current,_,s),Ze=A,bl(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(Ye,f)}catch{}return!0}finally{he.p=h,$.T=l,jv(t,i)}}function Gv(t,i,s){i=Pn(s,i),i=sf(t.stateNode,i,2),t=Mi(t,i,2),t!==null&&(Oa(t,2),Ta(t))}function rt(t,i,s){if(t.tag===3)Gv(t,t,s);else for(;i!==null;){if(i.tag===3){Gv(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ui===null||!Ui.has(l))){t=Pn(s,t),s=Jy(2),l=Mi(i,s,2),l!==null&&(Yy(s,l,i,t),Oa(l,2),Ta(l));break}}i=i.return}}function kf(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new Ab;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(Tf=!0,h.add(s),t=Rb.bind(null,t,i,s),i.then(t,t))}function Rb(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,st===t&&(Ke&s)===s&&(gt===4||gt===3&&(Ke&62914560)===Ke&&300>on()-wf?(Ze&2)===0&&Ys(t,0):Sf|=s,Fs===Ke&&(Fs=0)),Ta(t)}function Kv(t,i){i===0&&(i=xo()),t=Ns(t,i),t!==null&&(Oa(t,i),Ta(t))}function Cb(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Kv(t,s)}function Ib(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Kv(t,s)}function Mb(t,i){return sn(t,i)}var Rc=null,$s=null,xf=!1,Cc=!1,Lf=!1,qr=0;function Ta(t){t!==$s&&t.next===null&&($s===null?Rc=$s=t:$s=$s.next=t),Cc=!0,xf||(xf=!0,Db())}function bl(t,i){if(!Lf&&Cc){Lf=!0;do for(var s=!1,l=Rc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,A=l.pingedLanes;f=(1<<31-Wt(42|t)+1)-1,f&=h&~(_&~A),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Yv(l,f))}else f=Ke,f=hs(l,l===st?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||yr(l,f)||(s=!0,Yv(l,f));l=l.next}while(s);Lf=!1}}function Nb(){Fv()}function Fv(){Cc=xf=!1;var t=0;qr!==0&&(zb()&&(t=qr),qr=0);for(var i=on(),s=null,l=Rc;l!==null;){var h=l.next,f=qv(l,i);f===0?(l.next=null,s===null?Rc=h:s.next=h,h===null&&($s=s)):(s=l,(t!==0||(f&3)!==0)&&(Cc=!0)),l=h}bl(t)}function qv(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-Wt(f),A=1<<_,x=h[_];x===-1?((A&s)===0||(A&l)!==0)&&(h[_]=Do(A,i)):x<=i&&(t.expiredLanes|=A),f&=~A}if(i=st,s=Ke,s=hs(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(et===2||et===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_n(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||yr(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&_n(l),ds(s)){case 2:case 8:s=vi;break;case 32:s=Fn;break;case 268435456:s=lt;break;default:s=Fn}return l=Jv.bind(null,t),s=sn(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&_n(l),t.callbackPriority=2,t.callbackNode=null,2}function Jv(t,i){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(wc()&&t.callbackNode!==s)return null;var l=Ke;return l=hs(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Mv(t,l,i),qv(t,on()),t.callbackNode!=null&&t.callbackNode===s?Jv.bind(null,t):null)}function Yv(t,i){if(wc())return null;Mv(t,i,!0)}function Db(){jb(function(){(Ze&6)!==0?sn(fr,Nb):Fv()})}function Of(){return qr===0&&(qr=ko()),qr}function Qv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:vs(""+t)}function $v(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function kb(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var f=Qv((h[Et]||null).action),_=l.submitter;_&&(i=(i=_[Et]||null)?Qv(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var A=new _s("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qr!==0){var x=_?$v(h,_):new FormData(h);ef(s,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(A.preventDefault(),x=_?$v(h,_):new FormData(h),ef(s,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var Pf=0;Pf<_d.length;Pf++){var Vf=_d[Pf],xb=Vf.toLowerCase(),Lb=Vf[0].toUpperCase()+Vf.slice(1);Qn(xb,"on"+Lb)}Qn(Mp,"onAnimationEnd"),Qn(Np,"onAnimationIteration"),Qn(Dp,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(W0,"onTransitionRun"),Qn(X0,"onTransitionStart"),Qn(Z0,"onTransitionCancel"),Qn(kp,"onTransitionEnd"),Va("onMouseEnter",["mouseout","mouseover"]),Va("onMouseLeave",["mouseout","mouseover"]),Va("onPointerEnter",["pointerout","pointerover"]),Va("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function Wv(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var _=l.length-1;0<=_;_--){var A=l[_],x=A.instance,H=A.currentTarget;if(A=A.listener,x!==f&&h.isPropagationStopped())break e;f=A,h.currentTarget=H;try{f(h)}catch(Z){mc(Z)}h.currentTarget=null,f=x}else for(_=0;_<l.length;_++){if(A=l[_],x=A.instance,H=A.currentTarget,A=A.listener,x!==f&&h.isPropagationStopped())break e;f=A,h.currentTarget=H;try{f(h)}catch(Z){mc(Z)}h.currentTarget=null,f=x}}}}function Ue(t,i){var s=i[Po];s===void 0&&(s=i[Po]=new Set);var l=t+"__bubble";s.has(l)||(Xv(i,t,2,!1),s.add(l))}function Uf(t,i,s){var l=0;i&&(l|=4),Xv(s,t,l,i)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function zf(t){if(!t[Ic]){t[Ic]=!0,Vo.forEach(function(s){s!=="selectionchange"&&(Ob.has(s)||Uf(s,!1,t),Uf(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ic]||(i[Ic]=!0,Uf("selectionchange",!1,i))}}function Xv(t,i,s,l){switch(T_(i)){case 2:var h=lw;break;case 8:h=uw;break;default:h=Zf}s=h.bind(null,i,s,t),h=void 0,!Ln||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function Bf(t,i,s,l,h){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===h)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;A!==null;){if(_=Pa(A),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=f=_;continue e}A=A.parentNode}}l=l.return}Nu(function(){var H=f,Z=xn(s),ie=[];e:{var K=xp.get(t);if(K!==void 0){var J=_s,Re=t;switch(t){case"keypress":if(fa(s)===0)break e;case"keydown":case"keyup":J=ws;break;case"focusin":Re="focus",J=Ts;break;case"focusout":Re="blur",J=Ts;break;case"beforeblur":case"afterblur":J=Ts;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=hd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Uu;break;case Mp:case Np:case Dp:J=Ss;break;case kp:J=Bu;break;case"scroll":case"scrollend":J=Du;break;case"wheel":J=Rs;break;case"copy":case"cut":case"paste":J=bs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Qo;break;case"toggle":case"beforetoggle":J=Hu}var Te=(i&4)!==0,it=!Te&&(t==="scroll"||t==="scrollend"),U=Te?K!==null?K+"Capture":null:K;Te=[];for(var V=H,j;V!==null;){var ae=V;if(j=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||j===null||U===null||(ae=wr(V,U),ae!=null&&Te.push(Rl(V,ae,j))),it)break;V=V.return}0<Te.length&&(K=new J(K,Re,null,s,Z),ie.push({event:K,listeners:Te}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",K&&s!==Ba&&(Re=s.relatedTarget||s.fromElement)&&(Pa(Re)||Re[Dn]))break e;if((J||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,J?(Re=s.relatedTarget||s.toElement,J=H,Re=Re?Pa(Re):null,Re!==null&&(it=u(Re),Te=Re.tag,Re!==it||Te!==5&&Te!==27&&Te!==6)&&(Re=null)):(J=null,Re=H),J!==Re)){if(Te=On,ae="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Te=Qo,ae="onPointerLeave",U="onPointerEnter",V="pointer"),it=J==null?K:ua(J),j=Re==null?K:ua(Re),K=new Te(ae,V+"leave",J,s,Z),K.target=it,K.relatedTarget=j,ae=null,Pa(Z)===H&&(Te=new Te(U,V+"enter",Re,s,Z),Te.target=j,Te.relatedTarget=it,ae=Te),it=ae,J&&Re)t:{for(Te=J,U=Re,V=0,j=Te;j;j=Ws(j))V++;for(j=0,ae=U;ae;ae=Ws(ae))j++;for(;0<V-j;)Te=Ws(Te),V--;for(;0<j-V;)U=Ws(U),j--;for(;V--;){if(Te===U||U!==null&&Te===U.alternate)break t;Te=Ws(Te),U=Ws(U)}Te=null}else Te=null;J!==null&&Zv(ie,K,J,Te,!1),Re!==null&&it!==null&&Zv(ie,it,Re,Te,!0)}}e:{if(K=H?ua(H):window,J=K.nodeName&&K.nodeName.toLowerCase(),J==="select"||J==="input"&&K.type==="file")var ge=vp;else if(Nt(K))if(_p)ge=Y0;else{ge=q0;var Pe=F0}else J=K.nodeName,!J||J.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?H&&Ho(H.elementType)&&(ge=vp):ge=J0;if(ge&&(ge=ge(t,H))){Fa(ie,ge,s,Z);break e}Pe&&Pe(t,K,H),t==="focusout"&&H&&K.type==="number"&&H.memoizedProps.value!=null&&bi(K,"number",K.value)}switch(Pe=H?ua(H):window,t){case"focusin":(Nt(Pe)||Pe.contentEditable==="true")&&(Cs=Pe,pd=H,Xo=null);break;case"focusout":Xo=pd=Cs=null;break;case"mousedown":yd=!0;break;case"contextmenu":case"mouseup":case"dragend":yd=!1,Cp(ie,s,Z);break;case"selectionchange":if($0)break;case"keydown":case"keyup":Cp(ie,s,Z)}var ye;if(pa)e:{switch(t){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else He?Q(t,s)&&(Se="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Se="onCompositionStart");Se&&(v&&s.locale!=="ko"&&(He||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&He&&(ye=Ko()):(da=Z,wi="value"in da?da.value:da.textContent,He=!0)),Pe=Mc(H,Se),0<Pe.length&&(Se=new Jo(Se,t,null,s,Z),ie.push({event:Se,listeners:Pe}),ye?Se.data=ye:(ye=ue(s),ye!==null&&(Se.data=ye)))),(ye=y?Mt(t,s):Ge(t,s))&&(Se=Mc(H,"onBeforeInput"),0<Se.length&&(Pe=new Jo("onBeforeInput","beforeinput",null,s,Z),ie.push({event:Pe,listeners:Se}),Pe.data=ye)),kb(ie,t,H,s,Z)}Wv(ie,i)})}function Rl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Mc(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=wr(t,s),h!=null&&l.unshift(Rl(t,h,f)),h=wr(t,i),h!=null&&l.push(Rl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zv(t,i,s,l,h){for(var f=i._reactName,_=[];s!==null&&s!==l;){var A=s,x=A.alternate,H=A.stateNode;if(A=A.tag,x!==null&&x===l)break;A!==5&&A!==26&&A!==27||H===null||(x=H,h?(H=wr(s,f),H!=null&&_.unshift(Rl(s,H,x))):h||(H=wr(s,f),H!=null&&_.push(Rl(s,H,x)))),s=s.return}_.length!==0&&t.push({event:i,listeners:_})}var Pb=/\r\n?/g,Vb=/\u0000|\uFFFD/g;function e_(t){return(typeof t=="string"?t:""+t).replace(Pb,`
`).replace(Vb,"")}function t_(t,i){return i=e_(i),e_(t)===i}function Nc(){}function at(t,i,s,l,h,f){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||kn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&kn(t,""+l);break;case"className":ca(t,"class",l);break;case"tabIndex":ca(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ca(t,s,l);break;case"style":jo(t,l,f);break;case"data":if(i!=="object"){ca(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=vs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(i!=="input"&&at(t,i,"name",h.name,h,null),at(t,i,"formEncType",h.formEncType,h,null),at(t,i,"formMethod",h.formMethod,h,null),at(t,i,"formTarget",h.formTarget,h,null)):(at(t,i,"encType",h.encType,h,null),at(t,i,"method",h.method,h,null),at(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=vs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Nc);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=vs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),Si(t,"popover",l);break;case"xlinkActuate":Ht(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ht(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ht(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ht(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ht(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ht(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Si(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ud.get(s)||s,Si(t,s,l))}}function jf(t,i,s,l,h,f){switch(s){case"style":jo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?kn(t,l):(typeof l=="number"||typeof l=="bigint")&&kn(t,""+l);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Nc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fs.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),f=t[Et]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Si(t,s,l)}}}function qt(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var _=s[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:at(t,i,f,_,s,null)}}h&&at(t,i,"srcSet",s.srcSet,s,null),l&&at(t,i,"src",s.src,s,null);return;case"input":Ue("invalid",t);var A=f=_=h=null,x=null,H=null;for(l in s)if(s.hasOwnProperty(l)){var Z=s[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":_=Z;break;case"checked":x=Z;break;case"defaultChecked":H=Z;break;case"value":f=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,i));break;default:at(t,i,l,Z,s,null)}}Tr(t,f,A,x,H,_,h,!1),ys(t);return;case"select":Ue("invalid",t),l=_=f=null;for(h in s)if(s.hasOwnProperty(h)&&(A=s[h],A!=null))switch(h){case"value":f=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:at(t,i,h,A,s,null)}i=f,s=_,t.multiple=!!l,i!=null?za(t,!!l,i,!1):s!=null&&za(t,!!l,s,!0);return;case"textarea":Ue("invalid",t),f=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(A=s[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":h=A;break;case"children":f=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:at(t,i,_,A,s,null)}Sr(t,l,h,f),ys(t);return;case"option":for(x in s)if(s.hasOwnProperty(x)&&(l=s[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:at(t,i,x,l,s,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)Ue(wl[l],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(l=s[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:at(t,i,H,l,s,null)}return;default:if(Ho(i)){for(Z in s)s.hasOwnProperty(Z)&&(l=s[Z],l!==void 0&&jf(t,i,Z,l,s,void 0));return}}for(A in s)s.hasOwnProperty(A)&&(l=s[A],l!=null&&at(t,i,A,l,s,null))}function Ub(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,A=null,x=null,H=null,Z=null;for(J in s){var ie=s[J];if(s.hasOwnProperty(J)&&ie!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":x=ie;default:l.hasOwnProperty(J)||at(t,i,J,null,l,ie)}}for(var K in l){var J=l[K];if(ie=s[K],l.hasOwnProperty(K)&&(J!=null||ie!=null))switch(K){case"type":f=J;break;case"name":h=J;break;case"checked":H=J;break;case"defaultChecked":Z=J;break;case"value":_=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,i));break;default:J!==ie&&at(t,i,K,J,l,ie)}}An(t,_,A,x,H,Z,f,h);return;case"select":J=_=A=K=null;for(f in s)if(x=s[f],s.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":J=x;default:l.hasOwnProperty(f)||at(t,i,f,null,l,x)}for(h in l)if(f=l[h],x=s[h],l.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":K=f;break;case"defaultValue":A=f;break;case"multiple":_=f;default:f!==x&&at(t,i,h,f,l,x)}i=A,s=_,l=J,K!=null?za(t,!!s,K,!1):!!l!=!!s&&(i!=null?za(t,!!s,i,!0):za(t,!!s,s?[]:"",!1));return;case"textarea":J=K=null;for(A in s)if(h=s[A],s.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:at(t,i,A,null,l,h)}for(_ in l)if(h=l[_],f=s[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":K=h;break;case"defaultValue":J=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&at(t,i,_,h,l,f)}tt(t,K,J);return;case"option":for(var Re in s)if(K=s[Re],s.hasOwnProperty(Re)&&K!=null&&!l.hasOwnProperty(Re))switch(Re){case"selected":t.selected=!1;break;default:at(t,i,Re,null,l,K)}for(x in l)if(K=l[x],J=s[x],l.hasOwnProperty(x)&&K!==J&&(K!=null||J!=null))switch(x){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:at(t,i,x,K,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in s)K=s[Te],s.hasOwnProperty(Te)&&K!=null&&!l.hasOwnProperty(Te)&&at(t,i,Te,null,l,K);for(H in l)if(K=l[H],J=s[H],l.hasOwnProperty(H)&&K!==J&&(K!=null||J!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:at(t,i,H,K,l,J)}return;default:if(Ho(i)){for(var it in s)K=s[it],s.hasOwnProperty(it)&&K!==void 0&&!l.hasOwnProperty(it)&&jf(t,i,it,void 0,l,K);for(Z in l)K=l[Z],J=s[Z],!l.hasOwnProperty(Z)||K===J||K===void 0&&J===void 0||jf(t,i,Z,K,l,J);return}}for(var U in s)K=s[U],s.hasOwnProperty(U)&&K!=null&&!l.hasOwnProperty(U)&&at(t,i,U,null,l,K);for(ie in l)K=l[ie],J=s[ie],!l.hasOwnProperty(ie)||K===J||K==null&&J==null||at(t,i,ie,K,l,J)}var Hf=null,Gf=null;function Dc(t){return t.nodeType===9?t:t.ownerDocument}function n_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Kf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=null;function zb(){var t=window.event;return t&&t.type==="popstate"?t===Ff?!1:(Ff=t,!0):(Ff=null,!1)}var i_=typeof setTimeout=="function"?setTimeout:void 0,Bb=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,jb=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(t){return r_.resolve(null).then(t).catch(Hb)}:i_;function Hb(t){setTimeout(function(){throw t})}function ji(t){return t==="head"}function s_(t,i){var s=i,l=0,h=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<l&&8>l){s=l;var _=t.ownerDocument;if(s&1&&Cl(_.documentElement),s&2&&Cl(_.body),s&4)for(s=_.head,Cl(s),_=s.firstChild;_;){var A=_.nextSibling,x=_.nodeName;_[vr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=A}}if(h===0){t.removeChild(f),Ol(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=f}while(s);Ol(i)}function qf(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":qf(s),Ti(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Gb(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function Kb(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Wn(t.nextSibling),t===null))return null;return t}function Jf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Fb(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Wn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Yf=null;function o_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function l_(t,i,s){switch(i=Dc(s),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Cl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ti(t)}var Hn=new Map,u_=new Set;function kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ii=he.d;he.d={f:qb,r:Jb,D:Yb,C:Qb,L:$b,m:Wb,X:Zb,S:Xb,M:ew};function qb(){var t=ii.f(),i=Sc();return t||i}function Jb(t){var i=la(t);i!==null&&i.tag===5&&i.type==="form"?My(i):ii.r(t)}var Xs=typeof document>"u"?null:document;function c_(t,i,s){var l=Xs;if(l&&typeof i=="string"&&i){var h=At(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),u_.has(h)||(u_.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),qt(i,"link",t),pt(i),l.head.appendChild(i)))}}function Yb(t){ii.D(t),c_("dns-prefetch",t,null)}function Qb(t,i){ii.C(t,i),c_("preconnect",t,i)}function $b(t,i,s){ii.L(t,i,s);var l=Xs;if(l&&t&&i){var h='link[rel="preload"][as="'+At(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+At(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+At(s.imageSizes)+'"]')):h+='[href="'+At(t)+'"]';var f=h;switch(i){case"style":f=Zs(t);break;case"script":f=eo(t)}Hn.has(f)||(t=E({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Hn.set(f,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Il(f))||i==="script"&&l.querySelector(Ml(f))||(i=l.createElement("link"),qt(i,"link",t),pt(i),l.head.appendChild(i)))}}function Wb(t,i){ii.m(t,i);var s=Xs;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+At(l)+'"][href="'+At(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=eo(t)}if(!Hn.has(f)&&(t=E({rel:"modulepreload",href:t},i),Hn.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ml(f)))return}l=s.createElement("link"),qt(l,"link",t),pt(l),s.head.appendChild(l)}}}function Xb(t,i,s){ii.S(t,i,s);var l=Xs;if(l&&t){var h=ln(l).hoistableStyles,f=Zs(t);i=i||"default";var _=h.get(f);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(Il(f)))A.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Hn.get(f))&&Qf(t,s);var x=_=l.createElement("link");pt(x),qt(x,"link",t),x._p=new Promise(function(H,Z){x.onload=H,x.onerror=Z}),x.addEventListener("load",function(){A.loading|=1}),x.addEventListener("error",function(){A.loading|=2}),A.loading|=4,xc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:A},h.set(f,_)}}}function Zb(t,i){ii.X(t,i);var s=Xs;if(s&&t){var l=ln(s).hoistableScripts,h=eo(t),f=l.get(h);f||(f=s.querySelector(Ml(h)),f||(t=E({src:t,async:!0},i),(i=Hn.get(h))&&$f(t,i),f=s.createElement("script"),pt(f),qt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function ew(t,i){ii.M(t,i);var s=Xs;if(s&&t){var l=ln(s).hoistableScripts,h=eo(t),f=l.get(h);f||(f=s.querySelector(Ml(h)),f||(t=E({src:t,async:!0,type:"module"},i),(i=Hn.get(h))&&$f(t,i),f=s.createElement("script"),pt(f),qt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function h_(t,i,s,l){var h=(h=pe.current)?kc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Zs(s.href),s=ln(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Zs(s.href);var f=ln(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(Il(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Hn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Hn.set(t,s),f||tw(h,t,s,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=eo(s),s=ln(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Zs(t){return'href="'+At(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function d_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function tw(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qt(i,"link",s),pt(i),t.head.appendChild(i))}function eo(t){return'[src="'+At(t)+'"]'}function Ml(t){return"script[async]"+t}function f_(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+At(s.href)+'"]');if(l)return i.instance=l,pt(l),l;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),pt(l),qt(l,"style",h),xc(l,s.precedence,t),i.instance=l;case"stylesheet":h=Zs(s.href);var f=t.querySelector(Il(h));if(f)return i.state.loading|=4,i.instance=f,pt(f),f;l=d_(s),(h=Hn.get(h))&&Qf(l,h),f=(t.ownerDocument||t).createElement("link"),pt(f);var _=f;return _._p=new Promise(function(A,x){_.onload=A,_.onerror=x}),qt(f,"link",l),i.state.loading|=4,xc(f,s.precedence,t),i.instance=f;case"script":return f=eo(s.src),(h=t.querySelector(Ml(f)))?(i.instance=h,pt(h),h):(l=s,(h=Hn.get(f))&&(l=E({},s),$f(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),pt(h),qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,xc(l,s.precedence,t));return i.instance}function xc(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===i)f=A;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Qf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function $f(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Lc=null;function m_(t,i,s){if(Lc===null){var l=new Map,h=Lc=new Map;h.set(s,l)}else h=Lc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[vr]||f[It]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=t+_;var A=l.get(_);A?A.push(f):l.set(_,[f])}}return l}function g_(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function nw(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function p_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Nl=null;function aw(){}function iw(t,i,s){if(Nl===null)throw Error(r(475));var l=Nl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Zs(s.href),f=t.querySelector(Il(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Oc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=f,pt(f);return}f=t.ownerDocument||t,s=d_(s),(h=Hn.get(h))&&Qf(s,h),f=f.createElement("link"),pt(f);var _=f;_._p=new Promise(function(A,x){_.onload=A,_.onerror=x}),qt(f,"link",s),i.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Oc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function rw(){if(Nl===null)throw Error(r(475));var t=Nl;return t.stylesheets&&t.count===0&&Wf(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&Wf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Oc(){if(this.count--,this.count===0){if(this.stylesheets)Wf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pc=null;function Wf(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pc=new Map,i.forEach(sw,t),Pc=null,Oc.call(t))}function sw(t,i){if(!(i.state.loading&4)){var s=Pc.get(t);if(s)var l=s.get(null);else{s=new Map,Pc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),f=s.get(_)||l,f===l&&s.set(null,h),s.set(_,h),this.count++,l=Oc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Dl={$$typeof:oe,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function ow(t,i,s,l,h,f,_,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=La(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=La(0),this.hiddenUpdates=La(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function y_(t,i,s,l,h,f,_,A,x,H,Z,ie){return t=new ow(t,i,s,_,A,x,H,ie),i=1,f===!0&&(i|=24),f=Sn(3,null,null,i),t.current=f,f.stateNode=t,i=Dd(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:i},Od(f),t}function v_(t){return t?(t=Ds,t):Ds}function __(t,i,s,l,h,f){h=v_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ii(i),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Mi(t,l,i),s!==null&&(In(s,t,i),ol(s,t,i))}function E_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Xf(t,i){E_(t,i),(t=t.alternate)&&E_(t,i)}function A_(t){if(t.tag===13){var i=Ns(t,67108864);i!==null&&In(i,t,67108864),Xf(t,67108864)}}var Vc=!0;function lw(t,i,s,l){var h=$.T;$.T=null;var f=he.p;try{he.p=2,Zf(t,i,s,l)}finally{he.p=f,$.T=h}}function uw(t,i,s,l){var h=$.T;$.T=null;var f=he.p;try{he.p=8,Zf(t,i,s,l)}finally{he.p=f,$.T=h}}function Zf(t,i,s,l){if(Vc){var h=em(l);if(h===null)Bf(t,i,l,Uc,s),S_(t,l);else if(hw(h,t,i,s,l))l.stopPropagation();else if(S_(t,l),i&4&&-1<cw.indexOf(t)){for(;h!==null;){var f=la(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=qn(f.pendingLanes);if(_!==0){var A=f;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var x=1<<31-Wt(_);A.entanglements[1]|=x,_&=~x}Ta(f),(Ze&6)===0&&(Ac=on()+500,bl(0))}}break;case 13:A=Ns(f,2),A!==null&&In(A,f,2),Sc(),Xf(f,2)}if(f=em(l),f===null&&Bf(t,i,l,Uc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else Bf(t,i,l,null,s)}}function em(t){return t=xn(t),tm(t)}var Uc=null;function tm(t){if(Uc=null,t=Pa(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=d(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Uc=t,null}function T_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cs()){case fr:return 2;case vi:return 8;case Fn:case be:return 32;case lt:return 268435456;default:return 32}default:return 32}}var nm=!1,Hi=null,Gi=null,Ki=null,kl=new Map,xl=new Map,Fi=[],cw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(t,i){switch(t){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(i.pointerId)}}function Ll(t,i,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},i!==null&&(i=la(i),i!==null&&A_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function hw(t,i,s,l,h){switch(i){case"focusin":return Hi=Ll(Hi,t,i,s,l,h),!0;case"dragenter":return Gi=Ll(Gi,t,i,s,l,h),!0;case"mouseover":return Ki=Ll(Ki,t,i,s,l,h),!0;case"pointerover":var f=h.pointerId;return kl.set(f,Ll(kl.get(f)||null,t,i,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,xl.set(f,Ll(xl.get(f)||null,t,i,s,l,h)),!0}return!1}function b_(t){var i=Pa(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=d(s),i!==null){t.blockedOn=i,Su(t.priority,function(){if(s.tag===13){var l=Cn();l=_i(l);var h=Ns(s,l);h!==null&&In(h,s,l),Xf(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=em(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Ba=l,s.target.dispatchEvent(l),Ba=null}else return i=la(s),i!==null&&A_(i),t.blockedOn=s,!1;i.shift()}return!0}function w_(t,i,s){zc(t)&&s.delete(i)}function dw(){nm=!1,Hi!==null&&zc(Hi)&&(Hi=null),Gi!==null&&zc(Gi)&&(Gi=null),Ki!==null&&zc(Ki)&&(Ki=null),kl.forEach(w_),xl.forEach(w_)}function Bc(t,i){t.blockedOn===i&&(t.blockedOn=null,nm||(nm=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,dw)))}var jc=null;function R_(t){jc!==t&&(jc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){jc===t&&(jc=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(tm(l||s)===null)continue;break}var f=la(s);f!==null&&(t.splice(i,3),i-=3,ef(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Ol(t){function i(x){return Bc(x,t)}Hi!==null&&Bc(Hi,t),Gi!==null&&Bc(Gi,t),Ki!==null&&Bc(Ki,t),kl.forEach(i),xl.forEach(i);for(var s=0;s<Fi.length;s++){var l=Fi[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Fi.length&&(s=Fi[0],s.blockedOn===null);)b_(s),s.blockedOn===null&&Fi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],_=h[Et]||null;if(typeof f=="function")_||R_(s);else if(_){var A=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Et]||null)A=_.formAction;else if(tm(h)!==null)continue}else A=_.action;typeof A=="function"?s[l+1]=A:(s.splice(l,3),l-=3),R_(s)}}}function am(t){this._internalRoot=t}Hc.prototype.render=am.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var s=i.current,l=Cn();__(s,l,t,i,null,null)},Hc.prototype.unmount=am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;__(t.current,2,null,t,null,null),Sc(),i[Dn]=null}};function Hc(t){this._internalRoot=t}Hc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ei();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Fi.length&&i!==0&&i<Fi[s].priority;s++);Fi.splice(s,0,t),s===0&&b_(t)}};var C_=e.version;if(C_!=="19.1.0")throw Error(r(527,C_,"19.1.0"));he.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var fw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{Ye=Gc.inject(fw),Xe=Gc}catch{}}return Vl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var s=!1,l="",h=Gy,f=Ky,_=Fy,A=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=y_(t,1,!1,null,null,s,l,h,f,_,A,null),t[Dn]=i.current,zf(t),new am(i)},Vl.hydrateRoot=function(t,i,s){if(!o(t))throw Error(r(299));var l=!1,h="",f=Gy,_=Ky,A=Fy,x=null,H=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(x=s.unstable_transitionCallbacks),s.formState!==void 0&&(H=s.formState)),i=y_(t,1,!0,i,s??null,l,h,f,_,A,x,H),i.context=v_(null),s=i.current,l=Cn(),l=_i(l),h=Ii(l),h.callback=null,Mi(s,h,l),s=l,i.current.lanes=s,Oa(i,s),Ta(i),t[Dn]=i.current,zf(t),new Hc(i)},Vl.version="19.1.0",Vl}var V_;function bw(){if(V_)return sm.exports;V_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),sm.exports=Sw(),sm.exports}var ww=bw(),Ul={},U_;function Rw(){if(U_)return Ul;U_=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.parse=d,Ul.serialize=p;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function d(T,L){const P=new u,F=T.length;if(F<2)return P;const G=(L==null?void 0:L.decode)||E;let q=0;do{const ee=T.indexOf("=",q);if(ee===-1)break;const oe=T.indexOf(";",q),Y=oe===-1?F:oe;if(ee>Y){q=T.lastIndexOf(";",ee-1)+1;continue}const X=m(T,q,ee),le=g(T,ee,X),D=T.slice(X,le);if(P[D]===void 0){let w=m(T,ee+1,Y),C=g(T,Y,w);const N=G(T.slice(w,C));P[D]=N}q=Y+1}while(q<F);return P}function m(T,L,P){do{const F=T.charCodeAt(L);if(F!==32&&F!==9)return L}while(++L<P);return P}function g(T,L,P){for(;L>P;){const F=T.charCodeAt(--L);if(F!==32&&F!==9)return L+1}return P}function p(T,L,P){const F=(P==null?void 0:P.encode)||encodeURIComponent;if(!a.test(T))throw new TypeError(`argument name is invalid: ${T}`);const G=F(L);if(!e.test(G))throw new TypeError(`argument val is invalid: ${L}`);let q=T+"="+G;if(!P)return q;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);q+="; Max-Age="+P.maxAge}if(P.domain){if(!n.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);q+="; Domain="+P.domain}if(P.path){if(!r.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);q+="; Path="+P.path}if(P.expires){if(!S(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);q+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(q+="; HttpOnly"),P.secure&&(q+="; Secure"),P.partitioned&&(q+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return q}function E(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function S(T){return o.call(T)==="[object Date]"}return Ul}Rw();var z_="popstate";function Cw(a={}){function e(r,o){let{pathname:u,search:d,hash:m}=r.location;return Im("",{pathname:u,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Wl(o)}return Mw(e,n,null,a)}function ht(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function na(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Iw(){return Math.random().toString(36).substring(2,10)}function B_(a,e){return{usr:a.state,key:a.key,idx:e}}function Im(a,e,n=null,r){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:n,key:e&&e.key||r||Iw()}}function Wl({pathname:a="/",search:e="",hash:n=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(a+=n.charAt(0)==="#"?n:"#"+n),a}function Eo(a){let e={};if(a){let n=a.indexOf("#");n>=0&&(e.hash=a.substring(n),a=a.substring(0,n));let r=a.indexOf("?");r>=0&&(e.search=a.substring(r),a=a.substring(0,r)),a&&(e.pathname=a)}return e}function Mw(a,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,d=o.history,m="POP",g=null,p=E();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function E(){return(d.state||{idx:null}).idx}function S(){m="POP";let G=E(),q=G==null?null:G-p;p=G,g&&g({action:m,location:F.location,delta:q})}function T(G,q){m="PUSH";let ee=Im(F.location,G,q);p=E()+1;let oe=B_(ee,p),Y=F.createHref(ee);try{d.pushState(oe,"",Y)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;o.location.assign(Y)}u&&g&&g({action:m,location:F.location,delta:1})}function L(G,q){m="REPLACE";let ee=Im(F.location,G,q);p=E();let oe=B_(ee,p),Y=F.createHref(ee);d.replaceState(oe,"",Y),u&&g&&g({action:m,location:F.location,delta:0})}function P(G){return Nw(G)}let F={get action(){return m},get location(){return a(o,d)},listen(G){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(z_,S),g=G,()=>{o.removeEventListener(z_,S),g=null}},createHref(G){return e(o,G)},createURL:P,encodeLocation(G){let q=P(G);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:T,replace:L,go(G){return d.go(G)}};return F}function Nw(a,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let r=typeof a=="string"?a:Wl(a);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function xA(a,e,n="/"){return Dw(a,e,n,!1)}function Dw(a,e,n,r){let o=typeof e=="string"?Eo(e):e,u=hi(o.pathname||"/",n);if(u==null)return null;let d=LA(a);kw(d);let m=null;for(let g=0;m==null&&g<d.length;++g){let p=Gw(u);m=jw(d[g],p,r)}return m}function LA(a,e=[],n=[],r=""){let o=(u,d,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};g.relativePath.startsWith("/")&&(ht(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length));let p=ui([r,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(ht(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),LA(u.children,e,E,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:zw(p,u.index),routesMeta:E})};return a.forEach((u,d)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,d);else for(let g of OA(u.path))o(u,d,g)}),e}function OA(a){let e=a.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let d=OA(r.join("/")),m=[];return m.push(...d.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...d),m.map(g=>a.startsWith("/")&&g===""?"/":g)}function kw(a){a.sort((e,n)=>e.score!==n.score?n.score-e.score:Bw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var xw=/^:[\w-]+$/,Lw=3,Ow=2,Pw=1,Vw=10,Uw=-2,j_=a=>a==="*";function zw(a,e){let n=a.split("/"),r=n.length;return n.some(j_)&&(r+=Uw),e&&(r+=Ow),n.filter(o=>!j_(o)).reduce((o,u)=>o+(xw.test(u)?Lw:u===""?Pw:Vw),r)}function Bw(a,e){return a.length===e.length&&a.slice(0,-1).every((r,o)=>r===e[o])?a[a.length-1]-e[e.length-1]:0}function jw(a,e,n=!1){let{routesMeta:r}=a,o={},u="/",d=[];for(let m=0;m<r.length;++m){let g=r[m],p=m===r.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=uh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),T=g.route;if(!S&&p&&n&&!r[r.length-1].route.index&&(S=uh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),d.push({params:o,pathname:ui([u,S.pathname]),pathnameBase:Jw(ui([u,S.pathnameBase])),route:T}),S.pathnameBase!=="/"&&(u=ui([u,S.pathnameBase]))}return d}function uh(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[n,r]=Hw(a.path,a.caseSensitive,a.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((p,{paramName:E,isOptional:S},T)=>{if(E==="*"){let P=m[T]||"";d=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const L=m[T];return S&&!L?p[E]=void 0:p[E]=(L||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:a}}function Hw(a,e=!1,n=!0){na(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let r=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,g)=>(r.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(r.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function Gw(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return na(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function hi(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=a.charAt(n);return r&&r!=="/"?null:a.slice(n)||"/"}function Kw(a,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof a=="string"?Eo(a):a;return{pathname:n?n.startsWith("/")?n:Fw(n,e):e,search:Yw(r),hash:Qw(o)}}function Fw(a,e){let n=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function cm(a,e,n,r){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qw(a){return a.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ig(a){let e=qw(a);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function rg(a,e,n,r=!1){let o;typeof a=="string"?o=Eo(a):(o={...a},ht(!o.pathname||!o.pathname.includes("?"),cm("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),cm("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),cm("#","search","hash",o)));let u=a===""||o.pathname==="",d=u?"/":o.pathname,m;if(d==null)m=n;else{let S=e.length-1;if(!r&&d.startsWith("..")){let T=d.split("/");for(;T[0]==="..";)T.shift(),S-=1;o.pathname=T.join("/")}m=S>=0?e[S]:"/"}let g=Kw(o,m),p=d&&d!=="/"&&d.endsWith("/"),E=(u||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var ui=a=>a.join("/").replace(/\/\/+/g,"/"),Jw=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),Yw=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,Qw=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function $w(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var PA=["POST","PUT","PATCH","DELETE"];new Set(PA);var Ww=["GET",...PA];new Set(Ww);var Ao=z.createContext(null);Ao.displayName="DataRouter";var kh=z.createContext(null);kh.displayName="DataRouterState";var VA=z.createContext({isTransitioning:!1});VA.displayName="ViewTransition";var Xw=z.createContext(new Map);Xw.displayName="Fetchers";var Zw=z.createContext(null);Zw.displayName="Await";var ra=z.createContext(null);ra.displayName="Navigation";var cu=z.createContext(null);cu.displayName="Location";var Da=z.createContext({outlet:null,matches:[],isDataRoute:!1});Da.displayName="Route";var sg=z.createContext(null);sg.displayName="RouteError";function eR(a,{relative:e}={}){ht(To(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=z.useContext(ra),{hash:o,pathname:u,search:d}=hu(a,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ui([n,u])),r.createHref({pathname:m,search:d,hash:o})}function To(){return z.useContext(cu)!=null}function cr(){return ht(To(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(cu).location}var UA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zA(a){z.useContext(ra).static||z.useLayoutEffect(a)}function BA(){let{isDataRoute:a}=z.useContext(Da);return a?fR():tR()}function tR(){ht(To(),"useNavigate() may be used only in the context of a <Router> component.");let a=z.useContext(Ao),{basename:e,navigator:n}=z.useContext(ra),{matches:r}=z.useContext(Da),{pathname:o}=cr(),u=JSON.stringify(ig(r)),d=z.useRef(!1);return zA(()=>{d.current=!0}),z.useCallback((g,p={})=>{if(na(d.current,UA),!d.current)return;if(typeof g=="number"){n.go(g);return}let E=rg(g,JSON.parse(u),o,p.relative==="path");a==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ui([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,o,a])}z.createContext(null);function hu(a,{relative:e}={}){let{matches:n}=z.useContext(Da),{pathname:r}=cr(),o=JSON.stringify(ig(n));return z.useMemo(()=>rg(a,JSON.parse(o),r,e==="path"),[a,o,r,e])}function nR(a,e){return jA(a,e)}function jA(a,e,n,r){var q;ht(To(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(ra),{matches:u}=z.useContext(Da),d=u[u.length-1],m=d?d.params:{},g=d?d.pathname:"/",p=d?d.pathnameBase:"/",E=d&&d.route;{let ee=E&&E.path||"";HA(g,!E||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let S=cr(),T;if(e){let ee=typeof e=="string"?Eo(e):e;ht(p==="/"||((q=ee.pathname)==null?void 0:q.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),T=ee}else T=S;let L=T.pathname||"/",P=L;if(p!=="/"){let ee=p.replace(/^\//,"").split("/");P="/"+L.replace(/^\//,"").split("/").slice(ee.length).join("/")}let F=xA(a,{pathname:P});na(E||F!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),na(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=oR(F&&F.map(ee=>Object.assign({},ee,{params:Object.assign({},m,ee.params),pathname:ui([p,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?p:ui([p,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),u,n,r);return e&&G?z.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},G):G}function aR(){let a=dR(),e=$w(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),n=a instanceof Error?a.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,d)}var iR=z.createElement(aR,null),rR=class extends z.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?z.createElement(Da.Provider,{value:this.props.routeContext},z.createElement(sg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sR({routeContext:a,match:e,children:n}){let r=z.useContext(Ao);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Da.Provider,{value:a},n)}function oR(a,e=[],n=null,r=null){if(a==null){if(!n)return null;if(n.errors)a=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)a=n.matches;else return null}let o=a,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);ht(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let d=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:E,errors:S}=n,T=p.route.loader&&!E.hasOwnProperty(p.route.id)&&(!S||S[p.route.id]===void 0);if(p.route.lazy||T){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,E)=>{let S,T=!1,L=null,P=null;n&&(S=u&&p.route.id?u[p.route.id]:void 0,L=p.route.errorElement||iR,d&&(m<0&&E===0?(HA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,P=null):m===E&&(T=!0,P=p.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,E+1)),G=()=>{let q;return S?q=L:T?q=P:p.route.Component?q=z.createElement(p.route.Component,null):p.route.element?q=p.route.element:q=g,z.createElement(sR,{match:p,routeContext:{outlet:g,matches:F,isDataRoute:n!=null},children:q})};return n&&(p.route.ErrorBoundary||p.route.errorElement||E===0)?z.createElement(rR,{location:n.location,revalidation:n.revalidation,component:L,error:S,children:G(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):G()},null)}function og(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lR(a){let e=z.useContext(Ao);return ht(e,og(a)),e}function uR(a){let e=z.useContext(kh);return ht(e,og(a)),e}function cR(a){let e=z.useContext(Da);return ht(e,og(a)),e}function lg(a){let e=cR(a),n=e.matches[e.matches.length-1];return ht(n.route.id,`${a} can only be used on routes that contain a unique "id"`),n.route.id}function hR(){return lg("useRouteId")}function dR(){var r;let a=z.useContext(sg),e=uR("useRouteError"),n=lg("useRouteError");return a!==void 0?a:(r=e.errors)==null?void 0:r[n]}function fR(){let{router:a}=lR("useNavigate"),e=lg("useNavigate"),n=z.useRef(!1);return zA(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{na(n.current,UA),n.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...u}))},[a,e])}var H_={};function HA(a,e,n){!e&&!H_[a]&&(H_[a]=!0,na(!1,n))}z.memo(mR);function mR({routes:a,future:e,state:n}){return jA(a,void 0,n,e)}function GA({to:a,replace:e,state:n,relative:r}){ht(To(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(ra);na(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(Da),{pathname:d}=cr(),m=BA(),g=rg(a,ig(u),d,r==="path"),p=JSON.stringify(g);return z.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:r})},[m,p,r,e,n]),null}function Mm(a){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gR({basename:a="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1}){ht(!To(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:d,navigator:o,static:u,future:{}}),[d,o,u]);typeof n=="string"&&(n=Eo(n));let{pathname:g="/",search:p="",hash:E="",state:S=null,key:T="default"}=n,L=z.useMemo(()=>{let P=hi(g,d);return P==null?null:{location:{pathname:P,search:p,hash:E,state:S,key:T},navigationType:r}},[d,g,p,E,S,T,r]);return na(L!=null,`<Router basename="${d}"> is not able to match the URL "${g}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:z.createElement(ra.Provider,{value:m},z.createElement(cu.Provider,{children:e,value:L}))}function pR({children:a,location:e}){return nR(Nm(a),e)}function Nm(a,e=[]){let n=[];return z.Children.forEach(a,(r,o)=>{if(!z.isValidElement(r))return;let u=[...e,o];if(r.type===z.Fragment){n.push.apply(n,Nm(r.props.children,u));return}ht(r.type===Mm,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Nm(r.props.children,u)),n.push(d)}),n}var Wc="get",Xc="application/x-www-form-urlencoded";function xh(a){return a!=null&&typeof a.tagName=="string"}function yR(a){return xh(a)&&a.tagName.toLowerCase()==="button"}function vR(a){return xh(a)&&a.tagName.toLowerCase()==="form"}function _R(a){return xh(a)&&a.tagName.toLowerCase()==="input"}function ER(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function AR(a,e){return a.button===0&&(!e||e==="_self")&&!ER(a)}var Kc=null;function TR(){if(Kc===null)try{new FormData(document.createElement("form"),0),Kc=!1}catch{Kc=!0}return Kc}var SR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hm(a){return a!=null&&!SR.has(a)?(na(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xc}"`),null):a}function bR(a,e){let n,r,o,u,d;if(vR(a)){let m=a.getAttribute("action");r=m?hi(m,e):null,n=a.getAttribute("method")||Wc,o=hm(a.getAttribute("enctype"))||Xc,u=new FormData(a)}else if(yR(a)||_R(a)&&(a.type==="submit"||a.type==="image")){let m=a.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=a.getAttribute("formaction")||m.getAttribute("action");if(r=g?hi(g,e):null,n=a.getAttribute("formmethod")||m.getAttribute("method")||Wc,o=hm(a.getAttribute("formenctype"))||hm(m.getAttribute("enctype"))||Xc,u=new FormData(m,a),!TR()){let{name:p,type:E,value:S}=a;if(E==="image"){let T=p?`${p}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else p&&u.append(p,S)}}else{if(xh(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wc,r=null,o=Xc,d=a}return u&&o==="text/plain"&&(d=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:d}}function ug(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function wR(a,e){if(a.id in e)return e[a.id];try{let n=await import(a.module);return e[a.id]=n,n}catch(n){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RR(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function CR(a,e,n){let r=await Promise.all(a.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await wR(u,n);return d.links?d.links():[]}return[]}));return DR(r.flat(1).filter(RR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function G_(a,e,n,r,o,u){let d=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>{var E;return n[p].pathname!==g.pathname||((E=n[p].route.path)==null?void 0:E.endsWith("*"))&&n[p].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,p)=>d(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{var S;let E=r.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(d(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(a,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function IR(a,e,{includeHydrateFallback:n}={}){return MR(a.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function MR(a){return[...new Set(a)]}function NR(a){let e={},n=Object.keys(a).sort();for(let r of n)e[r]=a[r];return e}function DR(a,e){let n=new Set;return new Set(e),a.reduce((r,o)=>{let u=JSON.stringify(NR(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kR=new Set([100,101,204,205]);function xR(a,e){let n=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return n.pathname==="/"?n.pathname="_root.data":e&&hi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function KA(){let a=z.useContext(Ao);return ug(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function LR(){let a=z.useContext(kh);return ug(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var cg=z.createContext(void 0);cg.displayName="FrameworkContext";function FA(){let a=z.useContext(cg);return ug(a,"You must render this element inside a <HydratedRouter> element"),a}function OR(a,e){let n=z.useContext(cg),[r,o]=z.useState(!1),[u,d]=z.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:S}=e,T=z.useRef(null);z.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let F=q=>{q.forEach(ee=>{d(ee.isIntersecting)})},G=new IntersectionObserver(F,{threshold:.5});return T.current&&G.observe(T.current),()=>{G.disconnect()}}},[a]),z.useEffect(()=>{if(r){let F=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(F)}}},[r]);let L=()=>{o(!0)},P=()=>{o(!1),d(!1)};return n?a!=="intent"?[u,T,{}]:[u,T,{onFocus:zl(m,L),onBlur:zl(g,P),onMouseEnter:zl(p,L),onMouseLeave:zl(E,P),onTouchStart:zl(S,L)}]:[!1,T,{}]}function zl(a,e){return n=>{a&&a(n),n.defaultPrevented||e(n)}}function PR({page:a,...e}){let{router:n}=KA(),r=z.useMemo(()=>xA(n.routes,a,n.basename),[n.routes,a,n.basename]);return r?z.createElement(UR,{page:a,matches:r,...e}):null}function VR(a){let{manifest:e,routeModules:n}=FA(),[r,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return CR(a,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[a,e,n]),r}function UR({page:a,matches:e,...n}){let r=cr(),{manifest:o,routeModules:u}=FA(),{basename:d}=KA(),{loaderData:m,matches:g}=LR(),p=z.useMemo(()=>G_(a,e,g,o,r,"data"),[a,e,g,o,r]),E=z.useMemo(()=>G_(a,e,g,o,r,"assets"),[a,e,g,o,r]),S=z.useMemo(()=>{if(a===r.pathname+r.search+r.hash)return[];let P=new Set,F=!1;if(e.forEach(q=>{var oe;let ee=o.routes[q.route.id];!ee||!ee.hasLoader||(!p.some(Y=>Y.route.id===q.route.id)&&q.route.id in m&&((oe=u[q.route.id])!=null&&oe.shouldRevalidate)||ee.hasClientLoader?F=!0:P.add(q.route.id))}),P.size===0)return[];let G=xR(a,d);return F&&P.size>0&&G.searchParams.set("_routes",e.filter(q=>P.has(q.route.id)).map(q=>q.route.id).join(",")),[G.pathname+G.search]},[d,m,r,o,p,e,a,u]),T=z.useMemo(()=>IR(E,o),[E,o]),L=VR(E);return z.createElement(z.Fragment,null,S.map(P=>z.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),T.map(P=>z.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),L.map(({key:P,link:F})=>z.createElement("link",{key:P,...F})))}function zR(...a){return e=>{a.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var qA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qA&&(window.__reactRouterVersion="7.6.2")}catch{}function BR({basename:a,children:e,window:n}){let r=z.useRef();r.current==null&&(r.current=Cw({window:n,v5Compat:!0}));let o=r.current,[u,d]=z.useState({action:o.action,location:o.location}),m=z.useCallback(g=>{z.startTransition(()=>d(g))},[d]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(gR,{basename:a,children:e,location:u.location,navigationType:u.action,navigator:o})}var JA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YA=z.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:d,state:m,target:g,to:p,preventScrollReset:E,viewTransition:S,...T},L){let{basename:P}=z.useContext(ra),F=typeof p=="string"&&JA.test(p),G,q=!1;if(typeof p=="string"&&F&&(G=p,qA))try{let C=new URL(window.location.href),N=p.startsWith("//")?new URL(C.protocol+p):new URL(p),k=hi(N.pathname,P);N.origin===C.origin&&k!=null?p=k+N.search+N.hash:q=!0}catch{na(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=eR(p,{relative:o}),[oe,Y,X]=OR(r,T),le=KR(p,{replace:d,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S});function D(C){e&&e(C),C.defaultPrevented||le(C)}let w=z.createElement("a",{...T,...X,href:G||ee,onClick:q||u?e:D,ref:zR(L,Y),target:g,"data-discover":!F&&n==="render"?"true":void 0});return oe&&!F?z.createElement(z.Fragment,null,w,z.createElement(PR,{page:ee})):w});YA.displayName="Link";var jR=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:d,viewTransition:m,children:g,...p},E){let S=hu(d,{relative:p.relative}),T=cr(),L=z.useContext(kh),{navigator:P,basename:F}=z.useContext(ra),G=L!=null&&QR(S)&&m===!0,q=P.encodeLocation?P.encodeLocation(S).pathname:S.pathname,ee=T.pathname,oe=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),oe=oe?oe.toLowerCase():null,q=q.toLowerCase()),oe&&F&&(oe=hi(oe,F)||oe);const Y=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let X=ee===q||!o&&ee.startsWith(q)&&ee.charAt(Y)==="/",le=oe!=null&&(oe===q||!o&&oe.startsWith(q)&&oe.charAt(q.length)==="/"),D={isActive:X,isPending:le,isTransitioning:G},w=X?e:void 0,C;typeof r=="function"?C=r(D):C=[r,X?"active":null,le?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(D):u;return z.createElement(YA,{...p,"aria-current":w,className:C,ref:E,style:N,to:d,viewTransition:m},typeof g=="function"?g(D):g)});jR.displayName="NavLink";var HR=z.forwardRef(({discover:a="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:d=Wc,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:S,...T},L)=>{let P=JR(),F=YR(m,{relative:p}),G=d.toLowerCase()==="get"?"get":"post",q=typeof m=="string"&&JA.test(m),ee=oe=>{if(g&&g(oe),oe.defaultPrevented)return;oe.preventDefault();let Y=oe.nativeEvent.submitter,X=(Y==null?void 0:Y.getAttribute("formmethod"))||d;P(Y||oe.currentTarget,{fetcherKey:e,method:X,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:S})};return z.createElement("form",{ref:L,method:G,action:F,onSubmit:r?g:ee,...T,"data-discover":!q&&a==="render"?"true":void 0})});HR.displayName="Form";function GR(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QA(a){let e=z.useContext(Ao);return ht(e,GR(a)),e}function KR(a,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:d}={}){let m=BA(),g=cr(),p=hu(a,{relative:u});return z.useCallback(E=>{if(AR(E,e)){E.preventDefault();let S=n!==void 0?n:Wl(g)===Wl(p);m(a,{replace:S,state:r,preventScrollReset:o,relative:u,viewTransition:d})}},[g,m,p,n,r,e,a,o,u,d])}var FR=0,qR=()=>`__${String(++FR)}__`;function JR(){let{router:a}=QA("useSubmit"),{basename:e}=z.useContext(ra),n=hR();return z.useCallback(async(r,o={})=>{let{action:u,method:d,encType:m,formData:g,body:p}=bR(r,e);if(o.navigate===!1){let E=o.fetcherKey||qR();await a.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await a.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,n])}function YR(a,{relative:e}={}){let{basename:n}=z.useContext(ra),r=z.useContext(Da);ht(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...hu(a||".",{relative:e})},d=cr();if(a==null){u.search=d.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ui([n,u.pathname])),Wl(u)}function QR(a,e={}){let n=z.useContext(VA);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=QA("useViewTransitionState"),o=hu(a,{relative:e.relative});if(!n.isTransitioning)return!1;let u=hi(n.currentLocation.pathname,r)||n.currentLocation.pathname,d=hi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return uh(o.pathname,d)!=null||uh(o.pathname,u)!=null}[...kR];const $R=()=>{};var K_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=function(a){const e=[];let n=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},WR=function(a){const e=[];let n=0,r=0;for(;n<a.length;){const o=a[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[n++],d=a[n++],m=a[n++],g=((o&7)<<18|(u&63)<<12|(d&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=a[n++],d=a[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},WA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const u=a[o],d=o+1<a.length,m=d?a[o+1]:0,g=o+2<a.length,p=g?a[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let T=(m&15)<<2|p>>6,L=p&63;g||(L=64,d||(T=64)),r.push(n[E],n[S],n[T],n[L])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray($A(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):WR(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const u=n[a.charAt(o++)],m=o<a.length?n[a.charAt(o)]:0;++o;const p=o<a.length?n[a.charAt(o)]:64;++o;const S=o<a.length?n[a.charAt(o)]:64;if(++o,u==null||m==null||p==null||S==null)throw new XR;const T=u<<2|m>>4;if(r.push(T),p!==64){const L=m<<4&240|p>>2;if(r.push(L),S!==64){const P=p<<6&192|S;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class XR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZR=function(a){const e=$A(a);return WA.encodeByteArray(e,!0)},ch=function(a){return ZR(a).replace(/\./g,"")},XA=function(a){try{return WA.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=()=>eC().__FIREBASE_DEFAULTS__,nC=()=>{if(typeof process>"u"||typeof K_>"u")return;const a=K_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},aC=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&XA(a[1]);return e&&JSON.parse(e)},Lh=()=>{try{return $R()||tC()||nC()||aC()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},ZA=a=>{var e,n;return(n=(e=Lh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[a]},iC=a=>{const e=ZA(a);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eT=()=>{var a;return(a=Lh())===null||a===void 0?void 0:a.config},tT=a=>{var e;return(e=Lh())===null||e===void 0?void 0:e[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(a){return a.endsWith(".cloudworkstations.dev")}async function nT(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},a);return[ch(JSON.stringify(n)),ch(JSON.stringify(d)),""].join(".")}const Kl={};function oC(){const a={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?a.emulator.push(e):a.prod.push(e);return a}function lC(a){let e=document.getElementById(a),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),n=!0),{created:n,element:e}}let F_=!1;function aT(a,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||Kl[a]===e||Kl[a]||F_)return;Kl[a]=e;function n(T){return`__firebase__banner__${T}`}const r="__firebase__banner",u=oC().prod.length>0;function d(){const T=document.getElementById(r);T&&T.remove()}function m(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,L){T.setAttribute("width","24"),T.setAttribute("id",L),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{F_=!0,d()},T}function E(T,L){T.setAttribute("id",L),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function S(){const T=lC(r),L=n("text"),P=document.getElementById(L)||document.createElement("span"),F=n("learnmore"),G=document.getElementById(F)||document.createElement("a"),q=n("preprendIcon"),ee=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const oe=T.element;m(oe),E(G,F);const Y=p();g(ee,q),oe.append(ee,P,G,Y),document.body.appendChild(oe)}u?(P.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function cC(){var a;const e=(a=Lh())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iT(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function dC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fC(){const a=rn();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function mC(){return!cC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rT(){try{return typeof indexedDB=="object"}catch{return!1}}function sT(){return new Promise((a,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}function gC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="FirebaseError";class sa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pC,Object.setPrototypeOf(this,sa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ss.prototype.create)}}class ss{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?yC(u,r):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new sa(o,m,r)}}function yC(a,e){return a.replace(vC,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const vC=/\{\$([^}]+)}/g;function _C(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function ar(a,e){if(a===e)return!0;const n=Object.keys(a),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=a[o],d=e[o];if(q_(u)&&q_(d)){if(!ar(u,d))return!1}else if(u!==d)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function q_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(a){const e=[];for(const[n,r]of Object.entries(a))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function EC(a,e){const n=new AC(a,e);return n.subscribe.bind(n)}class AC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=dm),o.error===void 0&&(o.error=dm),o.complete===void 0&&(o.complete=dm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TC(a,e){if(typeof a!="object"||a===null)return!1;for(const n of e)if(n in a&&typeof a[n]=="function")return!0;return!1}function dm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=1e3,bC=2,wC=4*60*60*1e3,RC=.5;function J_(a,e=SC,n=bC){const r=e*Math.pow(n,a),o=Math.round(RC*r*(Math.random()-.5)*2);return Math.min(wC,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(a){return a&&a._delegate?a._delegate:a}class aa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MC(e))try{this.getOrInitializeService({instanceIdentifier:Yr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Yr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yr){return this.instances.has(e)}getOptions(e=Yr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&d.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(o,u);const d=this.instances.get(o);return d&&e(d,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yr){return this.component?this.component.multipleInstances?e:Yr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IC(a){return a===Yr?void 0:a}function MC(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(ze||(ze={}));const DC={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},kC=ze.INFO,xC={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},LC=(a,e,...n)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=xC[e];if(o)console[o](`[${r}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Oh{constructor(e){this.name=e,this._logLevel=kC,this._logHandler=LC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const OC=(a,e)=>e.some(n=>a instanceof n);let Y_,Q_;function PC(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VC(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oT=new WeakMap,Dm=new WeakMap,lT=new WeakMap,fm=new WeakMap,hg=new WeakMap;function UC(a){const e=new Promise((n,r)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",d)},u=()=>{n(Zi(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&oT.set(n,a)}).catch(()=>{}),hg.set(e,a),e}function zC(a){if(Dm.has(a))return;const e=new Promise((n,r)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",d),a.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",d),a.addEventListener("abort",d)});Dm.set(a,e)}let km={get(a,e,n){if(a instanceof IDBTransaction){if(e==="done")return Dm.get(a);if(e==="objectStoreNames")return a.objectStoreNames||lT.get(a);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zi(a[e])},set(a,e,n){return a[e]=n,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function BC(a){km=a(km)}function jC(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=a.call(mm(this),e,...n);return lT.set(r,e.sort?e.sort():[e]),Zi(r)}:VC().includes(a)?function(...e){return a.apply(mm(this),e),Zi(oT.get(this))}:function(...e){return Zi(a.apply(mm(this),e))}}function HC(a){return typeof a=="function"?jC(a):(a instanceof IDBTransaction&&zC(a),OC(a,PC())?new Proxy(a,km):a)}function Zi(a){if(a instanceof IDBRequest)return UC(a);if(fm.has(a))return fm.get(a);const e=HC(a);return e!==a&&(fm.set(a,e),hg.set(e,a)),e}const mm=a=>hg.get(a);function uT(a,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const d=indexedDB.open(a,e),m=Zi(d);return r&&d.addEventListener("upgradeneeded",g=>{r(Zi(d.result),g.oldVersion,g.newVersion,Zi(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const GC=["get","getKey","getAll","getAllKeys","count"],KC=["put","add","delete","clear"],gm=new Map;function $_(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(gm.get(e))return gm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=KC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||GC.includes(n)))return;const u=async function(d,...m){const g=this.transaction(d,o?"readwrite":"readonly");let p=g.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return gm.set(e,u),u}BC(a=>({...a,get:(e,n,r)=>$_(e,n)||a.get(e,n,r),has:(e,n)=>!!$_(e,n)||a.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qC(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xm="@firebase/app",W_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new Oh("@firebase/app"),JC="@firebase/app-compat",YC="@firebase/analytics-compat",QC="@firebase/analytics",$C="@firebase/app-check-compat",WC="@firebase/app-check",XC="@firebase/auth",ZC="@firebase/auth-compat",e1="@firebase/database",t1="@firebase/data-connect",n1="@firebase/database-compat",a1="@firebase/functions",i1="@firebase/functions-compat",r1="@firebase/installations",s1="@firebase/installations-compat",o1="@firebase/messaging",l1="@firebase/messaging-compat",u1="@firebase/performance",c1="@firebase/performance-compat",h1="@firebase/remote-config",d1="@firebase/remote-config-compat",f1="@firebase/storage",m1="@firebase/storage-compat",g1="@firebase/firestore",p1="@firebase/ai",y1="@firebase/firestore-compat",v1="firebase",_1="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="[DEFAULT]",E1={[xm]:"fire-core",[JC]:"fire-core-compat",[QC]:"fire-analytics",[YC]:"fire-analytics-compat",[WC]:"fire-app-check",[$C]:"fire-app-check-compat",[XC]:"fire-auth",[ZC]:"fire-auth-compat",[e1]:"fire-rtdb",[t1]:"fire-data-connect",[n1]:"fire-rtdb-compat",[a1]:"fire-fn",[i1]:"fire-fn-compat",[r1]:"fire-iid",[s1]:"fire-iid-compat",[o1]:"fire-fcm",[l1]:"fire-fcm-compat",[u1]:"fire-perf",[c1]:"fire-perf-compat",[h1]:"fire-rc",[d1]:"fire-rc-compat",[f1]:"fire-gcs",[m1]:"fire-gcs-compat",[g1]:"fire-fst",[y1]:"fire-fst-compat",[p1]:"fire-vertex","fire-js":"fire-js",[v1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,A1=new Map,Om=new Map;function X_(a,e){try{a.container.addComponent(e)}catch(n){di.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,n)}}function Ia(a){const e=a.name;if(Om.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,a);for(const n of hh.values())X_(n,a);for(const n of A1.values())X_(n,a);return!0}function os(a,e){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(e)}function Zn(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},er=new ss("app","Firebase",T1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=_1;function cT(a,e={}){let n=a;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Lm,automaticDataCollectionEnabled:!0},e),o=r.name;if(typeof o!="string"||!o)throw er.create("bad-app-name",{appName:String(o)});if(n||(n=eT()),!n)throw er.create("no-options");const u=hh.get(o);if(u){if(ar(n,u.options)&&ar(r,u.config))return u;throw er.create("duplicate-app",{appName:o})}const d=new NC(o);for(const g of Om.values())d.addComponent(g);const m=new S1(n,r,d);return hh.set(o,m),m}function dg(a=Lm){const e=hh.get(a);if(!e&&a===Lm&&eT())return cT();if(!e)throw er.create("no-app",{appName:a});return e}function Gn(a,e,n){var r;let o=(r=E1[a])!==null&&r!==void 0?r:a;n&&(o+=`-${n}`);const u=o.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(m.join(" "));return}Ia(new aa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="firebase-heartbeat-database",w1=1,Xl="firebase-heartbeat-store";let pm=null;function hT(){return pm||(pm=uT(b1,w1,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(a=>{throw er.create("idb-open",{originalErrorMessage:a.message})})),pm}async function R1(a){try{const n=(await hT()).transaction(Xl),r=await n.objectStore(Xl).get(dT(a));return await n.done,r}catch(e){if(e instanceof sa)di.warn(e.message);else{const n=er.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});di.warn(n.message)}}}async function Z_(a,e){try{const r=(await hT()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(e,dT(a)),await r.done}catch(n){if(n instanceof sa)di.warn(n.message);else{const r=er.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});di.warn(r.message)}}}function dT(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=1024,I1=30;class M1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new D1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=eE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>I1){const d=k1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){di.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=eE(),{heartbeatsToSend:r,unsentEntries:o}=N1(this._heartbeatsCache.heartbeats),u=ch(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return di.warn(n),""}}}function eE(){return new Date().toISOString().substring(0,10)}function N1(a,e=C1){const n=[];let r=a.slice();for(const o of a){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),tE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),tE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class D1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rT()?sT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await R1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Z_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Z_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function tE(a){return ch(JSON.stringify({version:2,heartbeats:a})).length}function k1(a){if(a.length===0)return-1;let e=0,n=a[0].date;for(let r=1;r<a.length;r++)a[r].date<n&&(n=a[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(a){Ia(new aa("platform-logger",e=>new FC(e),"PRIVATE")),Ia(new aa("heartbeat",e=>new M1(e),"PRIVATE")),Gn(xm,W_,a),Gn(xm,W_,"esm2017"),Gn("fire-js","")}x1("");function fg(a,e){var n={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(n[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(a);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(a,r[o])&&(n[r[o]]=a[r[o]]);return n}function fT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const L1=fT,mT=new ss("auth","Firebase",fT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Oh("@firebase/auth");function O1(a,...e){dh.logLevel<=ze.WARN&&dh.warn(`Auth (${bo}): ${a}`,...e)}function Zc(a,...e){dh.logLevel<=ze.ERROR&&dh.error(`Auth (${bo}): ${a}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(a,...e){throw gg(a,...e)}function ta(a,...e){return gg(a,...e)}function mg(a,e,n){const r=Object.assign(Object.assign({},L1()),{[e]:n});return new ss("auth","Firebase",r).create(e,{appName:a.name})}function Zr(a){return mg(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function P1(a,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ma(a,"argument-error"),mg(a,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gg(a,...e){if(typeof a!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(n,...r)}return mT.create(a,...e)}function Ce(a,e,...n){if(!a)throw gg(e,...n)}function oi(a){const e="INTERNAL ASSERTION FAILED: "+a;throw Zc(e),new Error(e)}function fi(a,e){a||oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.href)||""}function V1(){return nE()==="http:"||nE()==="https:"}function nE(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(V1()||iT()||"connection"in navigator)?navigator.onLine:!0}function z1(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,fi(n>e,"Short delay should be less than long delay!"),this.isMobile=uC()||dC()}get(){return U1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(a,e){fi(a.emulator,"Emulator should always be set here");const{url:n}=a.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],H1=new fu(3e4,6e4);function yg(a,e){return a.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:a.tenantId}):e}async function wo(a,e,n,r,o={}){return pT(a,o,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const m=du(Object.assign({key:a.config.apiKey},d)).slice(1),g=await a._getAdditionalHeaders();g["Content-Type"]="application/json",a.languageCode&&(g["X-Firebase-Locale"]=a.languageCode);const p=Object.assign({method:e,headers:g},u);return hC()||(p.referrerPolicy="no-referrer"),a.emulatorConfig&&So(a.emulatorConfig.host)&&(p.credentials="include"),gT.fetch()(await yT(a,a.config.apiHost,n,m),p)})}async function pT(a,e,n){a._canInitEmulator=!1;const r=Object.assign(Object.assign({},B1),e);try{const o=new K1(a),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Fc(a,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const m=u.ok?d.errorMessage:d.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(a,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Fc(a,"email-already-in-use",d);if(g==="USER_DISABLED")throw Fc(a,"user-disabled",d);const E=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw mg(a,E,p);Ma(a,E)}}catch(o){if(o instanceof sa)throw o;Ma(a,"network-request-failed",{message:String(o)})}}async function G1(a,e,n,r,o={}){const u=await wo(a,e,n,r,o);return"mfaPendingCredential"in u&&Ma(a,"multi-factor-auth-required",{_serverResponse:u}),u}async function yT(a,e,n,r){const o=`${e}${n}?${r}`,u=a,d=u.config.emulator?pg(a.config,o):`${a.config.apiScheme}://${o}`;return j1.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class K1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ta(this.auth,"network-request-failed")),H1.get())})}}function Fc(a,e,n){const r={appName:a.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=ta(a,e,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F1(a,e){return wo(a,"POST","/v1/accounts:delete",e)}async function fh(a,e){return wo(a,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function q1(a,e=!1){const n=Rt(a),r=await n.getIdToken(e),o=vg(r);Ce(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:Fl(ym(o.auth_time)),issuedAtTime:Fl(ym(o.iat)),expirationTime:Fl(ym(o.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function ym(a){return Number(a)*1e3}function vg(a){const[e,n,r]=a.split(".");if(e===void 0||n===void 0||r===void 0)return Zc("JWT malformed, contained fewer than 3 sections"),null;try{const o=XA(n);return o?JSON.parse(o):(Zc("Failed to decode base64 JWT payload"),null)}catch(o){return Zc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function aE(a){const e=vg(a);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(a,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof sa&&J1(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function J1({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(a){var e;const n=a.auth,r=await a.getIdToken(),o=await Zl(a,fh(n,{idToken:r}));Ce(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];a._notifyReloadListener(u);const d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?vT(u.providerUserInfo):[],m=$1(a.providerData,d),g=a.isAnonymous,p=!(a.email&&u.passwordHash)&&!(m!=null&&m.length),E=g?p:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Vm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(a,S)}async function Q1(a){const e=Rt(a);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $1(a,e){return[...a.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function vT(a){return a.map(e=>{var{providerId:n}=e,r=fg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W1(a,e){const n=await pT(a,{},async()=>{const r=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=a.config,d=await yT(a,o,"/v1/token",`key=${u}`),m=await a._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return a.emulatorConfig&&So(a.emulatorConfig.host)&&(g.credentials="include"),gT.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function X1(a,e){return wo(a,"POST","/v2/accounts:revokeToken",yg(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=aE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await W1(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,d=new oo;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Ce(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(Ce(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(a,e){Ce(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class ea{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,u=fg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Y1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Vm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Zl(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return q1(this,e)}reload(){return Q1(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ea(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Zr(this.auth));const e=await this.getIdToken();return await Zl(this,F1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,u,d,m,g,p,E;const S=(r=n.displayName)!==null&&r!==void 0?r:void 0,T=(o=n.email)!==null&&o!==void 0?o:void 0,L=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,P=(d=n.photoURL)!==null&&d!==void 0?d:void 0,F=(m=n.tenantId)!==null&&m!==void 0?m:void 0,G=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,q=(p=n.createdAt)!==null&&p!==void 0?p:void 0,ee=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:oe,emailVerified:Y,isAnonymous:X,providerData:le,stsTokenManager:D}=n;Ce(oe&&D,e,"internal-error");const w=oo.fromJSON(this.name,D);Ce(typeof oe=="string",e,"internal-error"),Ji(S,e.name),Ji(T,e.name),Ce(typeof Y=="boolean",e,"internal-error"),Ce(typeof X=="boolean",e,"internal-error"),Ji(L,e.name),Ji(P,e.name),Ji(F,e.name),Ji(G,e.name),Ji(q,e.name),Ji(ee,e.name);const C=new ea({uid:oe,auth:e,email:T,emailVerified:Y,displayName:S,isAnonymous:X,photoURL:P,phoneNumber:L,tenantId:F,stsTokenManager:w,createdAt:q,lastLoginAt:ee});return le&&Array.isArray(le)&&(C.providerData=le.map(N=>Object.assign({},N))),G&&(C._redirectEventId=G),C}static async _fromIdTokenResponse(e,n,r=!1){const o=new oo;o.updateFromServerResponse(n);const u=new ea({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await mh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ce(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?vT(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new oo;m.updateFromIdToken(r);const g=new ea({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=new Map;function li(a){fi(a instanceof Function,"Expected a class definition");let e=iE.get(a);return e?(fi(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,iE.set(a,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_T.type="NONE";const rE=_T;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(a,e,n){return`firebase:${a}:${e}:${n}`}class lo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=eh(this.userKey,o.apiKey,u),this.fullPersistenceKey=eh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fh(this.auth,{idToken:e}).catch(()=>{});return n?ea._fromGetAccountInfoResponse(this.auth,n,e):null}return ea._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new lo(li(rE),e,r);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||li(rE);const d=eh(r,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(d);if(E){let S;if(typeof E=="string"){const T=await fh(e,{idToken:E}).catch(()=>{});if(!T)break;S=await ea._fromGetAccountInfoResponse(e,T,E)}else S=ea._fromJSON(e,E);p!==u&&(m=S),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new lo(u,e,r):(u=g[0],m&&await u._set(d,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(d)}catch{}})),new lo(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ST(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ET(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wT(e))return"Blackberry";if(RT(e))return"Webos";if(AT(e))return"Safari";if((e.includes("chrome/")||TT(e))&&!e.includes("edge/"))return"Chrome";if(bT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ET(a=rn()){return/firefox\//i.test(a)}function AT(a=rn()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TT(a=rn()){return/crios\//i.test(a)}function ST(a=rn()){return/iemobile/i.test(a)}function bT(a=rn()){return/android/i.test(a)}function wT(a=rn()){return/blackberry/i.test(a)}function RT(a=rn()){return/webos/i.test(a)}function _g(a=rn()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function Z1(a=rn()){var e;return _g(a)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eI(){return fC()&&document.documentMode===10}function CT(a=rn()){return _g(a)||bT(a)||RT(a)||wT(a)||/windows phone/i.test(a)||ST(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(a,e=[]){let n;switch(a){case"Browser":n=sE(rn());break;case"Worker":n=`${sE(rn())}-${a}`;break;default:n=a}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((d,m)=>{try{const g=e(u);d(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(a,e={}){return wo(a,"GET","/v2/passwordPolicy",yg(a,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=6;class iI{constructor(e){var n,r,o,u;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:aI,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,u,d,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(r=g.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(d=g.containsNumericCharacter)!==null&&d!==void 0?d:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oE(this),this.idTokenSubscription=new oE(this),this.beforeStateQueue=new tI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fh(this,{idToken:e}),r=await ea._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Zn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!d||d===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=z1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(Zr(this));const n=e?Rt(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(Zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nI(this),n=new iI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ss("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await X1(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&li(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(m,this,"internal-error"),m.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&O1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ph(a){return Rt(a)}class oE{constructor(e){this.auth=e,this.observer=null,this.addObserver=EC(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sI(a){Eg=a}function oI(a){return Eg.loadJS(a)}function lI(){return Eg.gapiScript}function uI(a){return`__${a}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(a,e){const n=os(a,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ar(u,e??{}))return o;Ma(o,"already-initialized")}return n.initialize({options:e})}function hI(a,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(li);e!=null&&e.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function dI(a,e,n){const r=Ph(a);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=MT(e),{host:d,port:m}=fI(e),g=m===null?"":`:${m}`,p={url:`${u}//${d}${g}/`},E=Object.freeze({host:d,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(ar(p,r.config.emulator)&&ar(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,So(d)?(nT(`${u}//${d}${g}`),aT("Auth",!0)):mI()}function MT(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function fI(a){const e=MT(a),n=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:lE(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:lE(d)}}}function lE(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function mI(){function a(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,n){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(a,e){return G1(a,"POST","/v1/accounts:signInWithIdp",yg(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="http://localhost";class es extends NT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ma("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,u=fg(n,["providerId","signInMethod"]);if(!r||!o)return null;const d=new es(r,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,uo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:gI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends Ag{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends mu{constructor(){super("facebook.com")}static credential(e){return es._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return es._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return si.credential(n,r)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends mu{constructor(){super("github.com")}static credential(e){return es._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends mu{constructor(){super("twitter.com")}static credential(e,n){return es._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wi.credential(n,r)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await ea._fromIdTokenResponse(e,r,o),d=uE(r);return new ho({user:u,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=uE(r);return new ho({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function uE(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends sa{constructor(e,n,r,o){var u;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new gh(e,n,r,o)}}function DT(a,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(a):n._getIdTokenResponse(a)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(a,u,e,r):u})}async function pI(a,e,n=!1){const r=await Zl(a,e._linkToIdToken(a.auth,await a.getIdToken()),n);return ho._forOperation(a,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(a,e,n=!1){const{auth:r}=a;if(Zn(r.app))return Promise.reject(Zr(r));const o="reauthenticate";try{const u=await Zl(a,DT(r,o,e,a),n);Ce(u.idToken,r,"internal-error");const d=vg(u.idToken);Ce(d,r,"internal-error");const{sub:m}=d;return Ce(a.uid===m,r,"user-mismatch"),ho._forOperation(a,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ma(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(a,e,n=!1){if(Zn(a.app))return Promise.reject(Zr(a));const r="signIn",o=await DT(a,r,e),u=await ho._fromIdTokenResponse(a,r,o);return n||await a._updateCurrentUser(u.user),u}function _I(a,e,n,r){return Rt(a).onIdTokenChanged(e,n,r)}function EI(a,e,n){return Rt(a).beforeAuthStateChanged(e,n)}function AI(a,e,n,r){return Rt(a).onAuthStateChanged(e,n,r)}function to(a){return Rt(a).signOut()}const ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=1e3,SI=10;class xT extends kT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,m,g)=>{this.notifyListeners(d,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);eI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,SI):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},TI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xT.type="LOCAL";const bI=xT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends kT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LT.type="SESSION";const OT=LT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Vh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(d).map(async p=>p(n.origin,u)),g=await wI(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(a="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return a+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((m,g)=>{const p=Tg("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(S){const T=S;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(T.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(){return window}function CI(a){ba().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(){return typeof ba().WorkerGlobalScope<"u"&&typeof ba().importScripts=="function"}async function II(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MI(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)===null||a===void 0?void 0:a.controller)||null}function NI(){return PT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="firebaseLocalStorageDb",DI=1,yh="firebaseLocalStorage",UT="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uh(a,e){return a.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function kI(){const a=indexedDB.deleteDatabase(VT);return new gu(a).toPromise()}function Um(){const a=indexedDB.open(VT,DI);return new Promise((e,n)=>{a.addEventListener("error",()=>{n(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(yh,{keyPath:UT})}catch(o){n(o)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(yh)?e(r):(r.close(),await kI(),e(await Um()))})})}async function cE(a,e,n){const r=Uh(a,!0).put({[UT]:e,value:n});return new gu(r).toPromise()}async function xI(a,e){const n=Uh(a,!1).get(e),r=await new gu(n).toPromise();return r===void 0?null:r.value}function hE(a,e){const n=Uh(a,!0).delete(e);return new gu(n).toPromise()}const LI=800,OI=3;class zT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>OI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(NI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await II(),!this.activeServiceWorker)return;this.sender=new RI(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Um();return await cE(e,ph,"1"),await hE(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>cE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>xI(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Uh(o,!1).getAll();return new gu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zT.type="LOCAL";const PI=zT;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(a,e){return e?li(e):(Ce(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg extends NT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function VI(a){return vI(a.auth,new Sg(a),a.bypassAuthState)}function UI(a){const{auth:e,user:n}=a;return Ce(n,e,"internal-error"),yI(n,new Sg(a),a.bypassAuthState)}async function zI(a){const{auth:e,user:n}=a;return Ce(n,e,"internal-error"),pI(n,new Sg(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:d,type:m}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VI;case"linkViaPopup":case"linkViaRedirect":return zI;case"reauthViaPopup":case"reauthViaRedirect":return UI;default:Ma(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=new fu(2e3,1e4);async function jI(a,e,n){if(Zn(a.app))return Promise.reject(ta(a,"operation-not-supported-in-this-environment"));const r=Ph(a);P1(a,e,Ag);const o=BT(r,n);return new $r(r,"signInViaPopup",e,o).executeNotNull()}class $r extends jT{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,$r.currentPopupAction&&$r.currentPopupAction.cancel(),$r.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=Tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ta(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ta(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$r.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ta(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BI.get())};e()}}$r.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="pendingRedirect",th=new Map;class GI extends jT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const r=await KI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KI(a,e){const n=JI(e),r=qI(a);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function FI(a,e){th.set(a._key(),e)}function qI(a){return li(a._redirectPersistence)}function JI(a){return eh(HI,a.config.apiKey,a.name)}async function YI(a,e,n=!1){if(Zn(a.app))return Promise.reject(Zr(a));const r=Ph(a),o=BT(r,e),d=await new GI(r,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=10*60*1e3;class $I{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!HT(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ta(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QI&&this.cachedEventUids.clear(),this.cachedEventUids.has(dE(e))}saveEventToCache(e){this.cachedEventUids.add(dE(e)),this.lastProcessedEventTime=Date.now()}}function dE(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function HT({type:a,error:e}){return a==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WI(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HT(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(a,e={}){return wo(a,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eM=/^https?/;async function tM(a){if(a.config.emulator)return;const{authorizedDomains:e}=await XI(a);for(const n of e)try{if(nM(n))return}catch{}Ma(a,"unauthorized-domain")}function nM(a){const e=Pm(),{protocol:n,hostname:r}=new URL(e);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?n==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!eM.test(n))return!1;if(ZI.test(a))return r===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=new fu(3e4,6e4);function fE(){const a=ba().___jsl;if(a!=null&&a.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let n=0;n<a.CP.length;n++)a.CP[n]=null}}function iM(a){return new Promise((e,n)=>{var r,o,u;function d(){fE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fE(),n(ta(a,"network-request-failed"))},timeout:aM.get()})}if(!((o=(r=ba().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=ba().gapi)===null||u===void 0)&&u.load)d();else{const m=uI("iframefcb");return ba()[m]=()=>{gapi.load?d():n(ta(a,"network-request-failed"))},oI(`${lI()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw nh=null,e})}let nh=null;function rM(a){return nh=nh||iM(a),nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=new fu(5e3,15e3),oM="__/auth/iframe",lM="emulator/auth/iframe",uM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hM(a){const e=a.config;Ce(e.authDomain,a,"auth-domain-config-required");const n=e.emulator?pg(e,lM):`https://${a.config.authDomain}/${oM}`,r={apiKey:e.apiKey,appName:a.name,v:bo},o=cM.get(a.config.apiHost);o&&(r.eid=o);const u=a._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${du(r).slice(1)}`}async function dM(a){const e=await rM(a),n=ba().gapi;return Ce(n,a,"internal-error"),e.open({where:document.body,url:hM(a),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uM,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const d=ta(a,"network-request-failed"),m=ba().setTimeout(()=>{u(d)},sM.get());function g(){ba().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mM=500,gM=600,pM="_blank",yM="http://localhost";class mE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vM(a,e,n,r=mM,o=gM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g=Object.assign(Object.assign({},fM),{width:r.toString(),height:o.toString(),top:u,left:d}),p=rn().toLowerCase();n&&(m=TT(p)?pM:n),ET(p)&&(e=e||yM,g.scrollbars="yes");const E=Object.entries(g).reduce((T,[L,P])=>`${T}${L}=${P},`,"");if(Z1(p)&&m!=="_self")return _M(e||"",m),new mE(null);const S=window.open(e||"",m,E);Ce(S,a,"popup-blocked");try{S.focus()}catch{}return new mE(S)}function _M(a,e){const n=document.createElement("a");n.href=a,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM="__/auth/handler",AM="emulator/auth/handler",TM=encodeURIComponent("fac");async function gE(a,e,n,r,o,u){Ce(a.config.authDomain,a,"auth-domain-config-required"),Ce(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:n,redirectUrl:r,v:bo,eventId:o};if(e instanceof Ag){e.setDefaultLanguage(a.languageCode),d.providerId=e.providerId||"",_C(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))d[E]=S}if(e instanceof mu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(d.scopes=E.join(","))}a.tenantId&&(d.tid=a.tenantId);const m=d;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await a._getAppCheckToken(),p=g?`#${TM}=${encodeURIComponent(g)}`:"";return`${SM(a)}?${du(m).slice(1)}${p}`}function SM({config:a}){return a.emulator?pg(a,AM):`https://${a.authDomain}/${EM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="webStorageSupport";class bM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OT,this._completeRedirectFn=YI,this._overrideRedirectResult=FI}async _openPopup(e,n,r,o){var u;fi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await gE(e,n,r,Pm(),o);return vM(e,d,Tg())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await gE(e,n,r,Pm(),o);return CI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(fi(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await dM(e),r=new $I(e);return n.register("authEvent",o=>(Ce(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vm,{type:vm},o=>{var u;const d=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[vm];d!==void 0&&n(!!d),Ma(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CT()||AT()||_g()}}const wM=bM;var pE="@firebase/auth",yE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IM(a){Ia(new aa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=r.options;Ce(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:m,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IT(a)},p=new rI(r,o,u,g);return hI(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ia(new aa("auth-internal",e=>{const n=Ph(e.getProvider("auth").getImmediate());return(r=>new RM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(pE,yE,CM(a)),Gn(pE,yE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=5*60,NM=tT("authIdTokenMaxAge")||MM;let vE=null;const DM=a=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>NM)return;const o=n==null?void 0:n.token;vE!==o&&(vE=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function kM(a=dg()){const e=os(a,"auth");if(e.isInitialized())return e.getImmediate();const n=cI(a,{popupRedirectResolver:wM,persistence:[PI,bI,OT]}),r=tT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=DM(u.toString());EI(n,d,()=>d(n.currentUser)),_I(n,m=>d(m))}}const o=ZA("auth");return o&&dI(n,`http://${o}`),n}function xM(){var a,e;return(e=(a=document.getElementsByTagName("head"))===null||a===void 0?void 0:a[0])!==null&&e!==void 0?e:document}sI({loadJS(a){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=e,r.onerror=o=>{const u=ta("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",xM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IM("Browser");var _E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tr,GT;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,w){function C(){}C.prototype=w.prototype,D.D=w.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(N,k,O){for(var I=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)I[Me-2]=arguments[Me];return w.prototype[k].apply(N,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,C){C||(C=0);var N=Array(16);if(typeof w=="string")for(var k=0;16>k;++k)N[k]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(k=0;16>k;++k)N[k]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=D.g[0],C=D.g[1],k=D.g[2];var O=D.g[3],I=w+(O^C&(k^O))+N[0]+3614090360&4294967295;w=C+(I<<7&4294967295|I>>>25),I=O+(k^w&(C^k))+N[1]+3905402710&4294967295,O=w+(I<<12&4294967295|I>>>20),I=k+(C^O&(w^C))+N[2]+606105819&4294967295,k=O+(I<<17&4294967295|I>>>15),I=C+(w^k&(O^w))+N[3]+3250441966&4294967295,C=k+(I<<22&4294967295|I>>>10),I=w+(O^C&(k^O))+N[4]+4118548399&4294967295,w=C+(I<<7&4294967295|I>>>25),I=O+(k^w&(C^k))+N[5]+1200080426&4294967295,O=w+(I<<12&4294967295|I>>>20),I=k+(C^O&(w^C))+N[6]+2821735955&4294967295,k=O+(I<<17&4294967295|I>>>15),I=C+(w^k&(O^w))+N[7]+4249261313&4294967295,C=k+(I<<22&4294967295|I>>>10),I=w+(O^C&(k^O))+N[8]+1770035416&4294967295,w=C+(I<<7&4294967295|I>>>25),I=O+(k^w&(C^k))+N[9]+2336552879&4294967295,O=w+(I<<12&4294967295|I>>>20),I=k+(C^O&(w^C))+N[10]+4294925233&4294967295,k=O+(I<<17&4294967295|I>>>15),I=C+(w^k&(O^w))+N[11]+2304563134&4294967295,C=k+(I<<22&4294967295|I>>>10),I=w+(O^C&(k^O))+N[12]+1804603682&4294967295,w=C+(I<<7&4294967295|I>>>25),I=O+(k^w&(C^k))+N[13]+4254626195&4294967295,O=w+(I<<12&4294967295|I>>>20),I=k+(C^O&(w^C))+N[14]+2792965006&4294967295,k=O+(I<<17&4294967295|I>>>15),I=C+(w^k&(O^w))+N[15]+1236535329&4294967295,C=k+(I<<22&4294967295|I>>>10),I=w+(k^O&(C^k))+N[1]+4129170786&4294967295,w=C+(I<<5&4294967295|I>>>27),I=O+(C^k&(w^C))+N[6]+3225465664&4294967295,O=w+(I<<9&4294967295|I>>>23),I=k+(w^C&(O^w))+N[11]+643717713&4294967295,k=O+(I<<14&4294967295|I>>>18),I=C+(O^w&(k^O))+N[0]+3921069994&4294967295,C=k+(I<<20&4294967295|I>>>12),I=w+(k^O&(C^k))+N[5]+3593408605&4294967295,w=C+(I<<5&4294967295|I>>>27),I=O+(C^k&(w^C))+N[10]+38016083&4294967295,O=w+(I<<9&4294967295|I>>>23),I=k+(w^C&(O^w))+N[15]+3634488961&4294967295,k=O+(I<<14&4294967295|I>>>18),I=C+(O^w&(k^O))+N[4]+3889429448&4294967295,C=k+(I<<20&4294967295|I>>>12),I=w+(k^O&(C^k))+N[9]+568446438&4294967295,w=C+(I<<5&4294967295|I>>>27),I=O+(C^k&(w^C))+N[14]+3275163606&4294967295,O=w+(I<<9&4294967295|I>>>23),I=k+(w^C&(O^w))+N[3]+4107603335&4294967295,k=O+(I<<14&4294967295|I>>>18),I=C+(O^w&(k^O))+N[8]+1163531501&4294967295,C=k+(I<<20&4294967295|I>>>12),I=w+(k^O&(C^k))+N[13]+2850285829&4294967295,w=C+(I<<5&4294967295|I>>>27),I=O+(C^k&(w^C))+N[2]+4243563512&4294967295,O=w+(I<<9&4294967295|I>>>23),I=k+(w^C&(O^w))+N[7]+1735328473&4294967295,k=O+(I<<14&4294967295|I>>>18),I=C+(O^w&(k^O))+N[12]+2368359562&4294967295,C=k+(I<<20&4294967295|I>>>12),I=w+(C^k^O)+N[5]+4294588738&4294967295,w=C+(I<<4&4294967295|I>>>28),I=O+(w^C^k)+N[8]+2272392833&4294967295,O=w+(I<<11&4294967295|I>>>21),I=k+(O^w^C)+N[11]+1839030562&4294967295,k=O+(I<<16&4294967295|I>>>16),I=C+(k^O^w)+N[14]+4259657740&4294967295,C=k+(I<<23&4294967295|I>>>9),I=w+(C^k^O)+N[1]+2763975236&4294967295,w=C+(I<<4&4294967295|I>>>28),I=O+(w^C^k)+N[4]+1272893353&4294967295,O=w+(I<<11&4294967295|I>>>21),I=k+(O^w^C)+N[7]+4139469664&4294967295,k=O+(I<<16&4294967295|I>>>16),I=C+(k^O^w)+N[10]+3200236656&4294967295,C=k+(I<<23&4294967295|I>>>9),I=w+(C^k^O)+N[13]+681279174&4294967295,w=C+(I<<4&4294967295|I>>>28),I=O+(w^C^k)+N[0]+3936430074&4294967295,O=w+(I<<11&4294967295|I>>>21),I=k+(O^w^C)+N[3]+3572445317&4294967295,k=O+(I<<16&4294967295|I>>>16),I=C+(k^O^w)+N[6]+76029189&4294967295,C=k+(I<<23&4294967295|I>>>9),I=w+(C^k^O)+N[9]+3654602809&4294967295,w=C+(I<<4&4294967295|I>>>28),I=O+(w^C^k)+N[12]+3873151461&4294967295,O=w+(I<<11&4294967295|I>>>21),I=k+(O^w^C)+N[15]+530742520&4294967295,k=O+(I<<16&4294967295|I>>>16),I=C+(k^O^w)+N[2]+3299628645&4294967295,C=k+(I<<23&4294967295|I>>>9),I=w+(k^(C|~O))+N[0]+4096336452&4294967295,w=C+(I<<6&4294967295|I>>>26),I=O+(C^(w|~k))+N[7]+1126891415&4294967295,O=w+(I<<10&4294967295|I>>>22),I=k+(w^(O|~C))+N[14]+2878612391&4294967295,k=O+(I<<15&4294967295|I>>>17),I=C+(O^(k|~w))+N[5]+4237533241&4294967295,C=k+(I<<21&4294967295|I>>>11),I=w+(k^(C|~O))+N[12]+1700485571&4294967295,w=C+(I<<6&4294967295|I>>>26),I=O+(C^(w|~k))+N[3]+2399980690&4294967295,O=w+(I<<10&4294967295|I>>>22),I=k+(w^(O|~C))+N[10]+4293915773&4294967295,k=O+(I<<15&4294967295|I>>>17),I=C+(O^(k|~w))+N[1]+2240044497&4294967295,C=k+(I<<21&4294967295|I>>>11),I=w+(k^(C|~O))+N[8]+1873313359&4294967295,w=C+(I<<6&4294967295|I>>>26),I=O+(C^(w|~k))+N[15]+4264355552&4294967295,O=w+(I<<10&4294967295|I>>>22),I=k+(w^(O|~C))+N[6]+2734768916&4294967295,k=O+(I<<15&4294967295|I>>>17),I=C+(O^(k|~w))+N[13]+1309151649&4294967295,C=k+(I<<21&4294967295|I>>>11),I=w+(k^(C|~O))+N[4]+4149444226&4294967295,w=C+(I<<6&4294967295|I>>>26),I=O+(C^(w|~k))+N[11]+3174756917&4294967295,O=w+(I<<10&4294967295|I>>>22),I=k+(w^(O|~C))+N[2]+718787259&4294967295,k=O+(I<<15&4294967295|I>>>17),I=C+(O^(k|~w))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+k&4294967295,D.g[3]=D.g[3]+O&4294967295}r.prototype.u=function(D,w){w===void 0&&(w=D.length);for(var C=w-this.blockSize,N=this.B,k=this.h,O=0;O<w;){if(k==0)for(;O<=C;)o(this,D,O),O+=this.blockSize;if(typeof D=="string"){for(;O<w;)if(N[k++]=D.charCodeAt(O++),k==this.blockSize){o(this,N),k=0;break}}else for(;O<w;)if(N[k++]=D[O++],k==this.blockSize){o(this,N),k=0;break}}this.h=k,this.o+=w},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;var C=8*this.o;for(w=D.length-8;w<D.length;++w)D[w]=C&255,C/=256;for(this.u(D),D=Array(16),w=C=0;4>w;++w)for(var N=0;32>N;N+=8)D[C++]=this.g[w]>>>N&255;return D};function u(D,w){var C=m;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=w(D)}function d(D,w){this.h=w;for(var C=[],N=!0,k=D.length-1;0<=k;k--){var O=D[k]|0;N&&O==w||(C[k]=O,N=!1)}this.g=C}var m={};function g(D){return-128<=D&&128>D?u(D,function(w){return new d([w|0],0>w?-1:0)}):new d([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return S;if(0>D)return G(p(-D));for(var w=[],C=1,N=0;D>=C;N++)w[N]=D/C|0,C*=4294967296;return new d(w,0)}function E(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return G(E(D.substring(1),w));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(w,8)),N=S,k=0;k<D.length;k+=8){var O=Math.min(8,D.length-k),I=parseInt(D.substring(k,k+O),w);8>O?(O=p(Math.pow(w,O)),N=N.j(O).add(p(I))):(N=N.j(C),N=N.add(p(I)))}return N}var S=g(0),T=g(1),L=g(16777216);a=d.prototype,a.m=function(){if(F(this))return-G(this).m();for(var D=0,w=1,C=0;C<this.g.length;C++){var N=this.i(C);D+=(0<=N?N:4294967296+N)*w,w*=4294967296}return D},a.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(P(this))return"0";if(F(this))return"-"+G(this).toString(D);for(var w=p(Math.pow(D,6)),C=this,N="";;){var k=Y(C,w).g;C=q(C,k.j(w));var O=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=k,P(C))return O+N;for(;6>O.length;)O="0"+O;N=O+N}},a.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function P(D){if(D.h!=0)return!1;for(var w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function F(D){return D.h==-1}a.l=function(D){return D=q(this,D),F(D)?-1:P(D)?0:1};function G(D){for(var w=D.g.length,C=[],N=0;N<w;N++)C[N]=~D.g[N];return new d(C,~D.h).add(T)}a.abs=function(){return F(this)?G(this):this},a.add=function(D){for(var w=Math.max(this.g.length,D.g.length),C=[],N=0,k=0;k<=w;k++){var O=N+(this.i(k)&65535)+(D.i(k)&65535),I=(O>>>16)+(this.i(k)>>>16)+(D.i(k)>>>16);N=I>>>16,O&=65535,I&=65535,C[k]=I<<16|O}return new d(C,C[C.length-1]&-2147483648?-1:0)};function q(D,w){return D.add(G(w))}a.j=function(D){if(P(this)||P(D))return S;if(F(this))return F(D)?G(this).j(G(D)):G(G(this).j(D));if(F(D))return G(this.j(G(D)));if(0>this.l(L)&&0>D.l(L))return p(this.m()*D.m());for(var w=this.g.length+D.g.length,C=[],N=0;N<2*w;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var k=0;k<D.g.length;k++){var O=this.i(N)>>>16,I=this.i(N)&65535,Me=D.i(k)>>>16,xe=D.i(k)&65535;C[2*N+2*k]+=I*xe,ee(C,2*N+2*k),C[2*N+2*k+1]+=O*xe,ee(C,2*N+2*k+1),C[2*N+2*k+1]+=I*Me,ee(C,2*N+2*k+1),C[2*N+2*k+2]+=O*Me,ee(C,2*N+2*k+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new d(C,0)};function ee(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function oe(D,w){this.g=D,this.h=w}function Y(D,w){if(P(w))throw Error("division by zero");if(P(D))return new oe(S,S);if(F(D))return w=Y(G(D),w),new oe(G(w.g),G(w.h));if(F(w))return w=Y(D,G(w)),new oe(G(w.g),w.h);if(30<D.g.length){if(F(D)||F(w))throw Error("slowDivide_ only works with positive integers.");for(var C=T,N=w;0>=N.l(D);)C=X(C),N=X(N);var k=le(C,1),O=le(N,1);for(N=le(N,2),C=le(C,2);!P(N);){var I=O.add(N);0>=I.l(D)&&(k=k.add(C),O=I),N=le(N,1),C=le(C,1)}return w=q(D,k.j(w)),new oe(k,w)}for(k=S;0<=D.l(w);){for(C=Math.max(1,Math.floor(D.m()/w.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),O=p(C),I=O.j(w);F(I)||0<I.l(D);)C-=N,O=p(C),I=O.j(w);P(O)&&(O=T),k=k.add(O),D=q(D,I)}return new oe(k,D)}a.A=function(D){return Y(this,D).h},a.and=function(D){for(var w=Math.max(this.g.length,D.g.length),C=[],N=0;N<w;N++)C[N]=this.i(N)&D.i(N);return new d(C,this.h&D.h)},a.or=function(D){for(var w=Math.max(this.g.length,D.g.length),C=[],N=0;N<w;N++)C[N]=this.i(N)|D.i(N);return new d(C,this.h|D.h)},a.xor=function(D){for(var w=Math.max(this.g.length,D.g.length),C=[],N=0;N<w;N++)C[N]=this.i(N)^D.i(N);return new d(C,this.h^D.h)};function X(D){for(var w=D.g.length+1,C=[],N=0;N<w;N++)C[N]=D.i(N)<<1|D.i(N-1)>>>31;return new d(C,D.h)}function le(D,w){var C=w>>5;w%=32;for(var N=D.g.length-C,k=[],O=0;O<N;O++)k[O]=0<w?D.i(O+C)>>>w|D.i(O+C+1)<<32-w:D.i(O+C);return new d(k,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,GT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=E,tr=d}).apply(typeof _E<"u"?_E:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KT,Bl,FT,ah,zm,qT,JT,YT;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,y){if(y)e:{var v=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var B=c[b];if(!(B in v))break e;v=v[B]}c=c[c.length-1],b=v[c],y=y(b),y!=b&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,b=!1,B={next:function(){if(!b&&v<c.length){var Q=v++;return{value:y(Q,c[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function S(c,y,v){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,b),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function T(c,y,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,T.apply(null,arguments)}function L(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function P(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(b,B,Q){for(var ue=Array(arguments.length-2),He=2;He<arguments.length;He++)ue[He-2]=arguments[He];return y.prototype[B].apply(b,ue)}}function F(c){const y=c.length;if(0<y){const v=Array(y);for(let b=0;b<y;b++)v[b]=c[b];return v}return[]}function G(c,y){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(g(b)){const B=c.length||0,Q=b.length||0;c.length=B+Q;for(let ue=0;ue<Q;ue++)c[B+ue]=b[ue]}else c.push(b)}}class q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ee(c){return/^[\s\xa0]*$/.test(c)}function oe(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Y(c){return Y[" "](c),c}Y[" "]=function(){};var X=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function le(c,y,v){for(const b in c)y.call(v,c[b],b,c)}function D(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function w(c){const y={};for(const v in c)y[v]=c[v];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let v,b;for(let B=1;B<arguments.length;B++){b=arguments[B];for(v in b)c[v]=b[v];for(let Q=0;Q<C.length;Q++)v=C[Q],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function k(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function O(c){m.setTimeout(()=>{throw c},0)}function I(){var c=De;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Me{constructor(){this.h=this.g=null}add(y,v){const b=xe.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var xe=new q(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let he,me=!1,De=new Me,M=()=>{const c=m.Promise.resolve(void 0);he=()=>{c.then(W)}};var W=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(v){O(v)}var y=xe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function Ee(c,y){if(te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(X){e:{try{Y(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ee.aa.h.call(this)}}P(Ee,te);var pe={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function je(c,y,v,b,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=B,this.key=++Ae,this.da=this.fa=!1}function qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ot(c){this.src=c,this.g={},this.h=0}Ot.prototype.add=function(c,y,v,b,B){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var ue=sn(c,y,b,B);return-1<ue?(y=c[ue],v||(y.fa=!1)):(y=new je(y,this.src,Q,!!b,B),y.fa=v,c.push(y)),y};function dn(c,y){var v=y.type;if(v in c.g){var b=c.g[v],B=Array.prototype.indexOf.call(b,y,void 0),Q;(Q=0<=B)&&Array.prototype.splice.call(b,B,1),Q&&(qe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function sn(c,y,v,b){for(var B=0;B<c.length;++B){var Q=c[B];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==b)return B}return-1}var _n="closure_lm_"+(1e6*Math.random()|0),ka={};function yi(c,y,v,b,B){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)yi(c,y[Q],v,b,B);return null}return v=xa(v),c&&c[ve]?c.K(y,v,p(b)?!!b.capture:!1,B):on(c,y,v,!1,b,B)}function on(c,y,v,b,B,Q){if(!y)throw Error("Invalid event type");var ue=p(B)?!!B.capture:!!B,He=lt(c);if(He||(c[_n]=He=new Ot(c)),v=He.add(y,v,b,ue,Q),v.proxy)return v;if(b=cs(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)ce||(B=ue),B===void 0&&(B=!1),c.addEventListener(y.toString(),b,B);else if(c.attachEvent)c.attachEvent(Fn(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function cs(){function c(v){return y.call(c.src,c.listener,v)}const y=be;return c}function fr(c,y,v,b,B){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)fr(c,y[Q],v,b,B);else b=p(b)?!!b.capture:!!b,v=xa(v),c&&c[ve]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],v=sn(Q,v,b,B),-1<v&&(qe(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=lt(c))&&(y=c.g[y.toString()],c=-1,y&&(c=sn(y,v,b,B)),(v=-1<c?y[c]:null)&&vi(v))}function vi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ve])dn(y.i,c);else{var v=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(v,b,c.capture):y.detachEvent?y.detachEvent(Fn(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=lt(y))?(dn(v,c),v.h==0&&(v.src=null,y[_n]=null)):qe(c)}}}function Fn(c){return c in ka?ka[c]:ka[c]="on"+c}function be(c,y){if(c.da)c=!0;else{y=new Ee(y,this);var v=c.listener,b=c.ha||c.src;c.fa&&vi(c),c=v.call(b,y)}return c}function lt(c){return c=c[_n],c instanceof Ot?c:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function xa(c){return typeof c=="function"?c:(c[Ct]||(c[Ct]=function(y){return c.handleEvent(y)}),c[Ct])}function Ye(){ne.call(this),this.i=new Ot(this),this.M=this,this.F=null}P(Ye,ne),Ye.prototype[ve]=!0,Ye.prototype.removeEventListener=function(c,y,v,b){fr(this,c,y,v,b)};function Xe(c,y){var v,b=c.F;if(b)for(v=[];b;b=b.F)v.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new te(y,c);else if(y instanceof te)y.target=y.target||c;else{var B=y;y=new te(b,c),N(y,B)}if(B=!0,v)for(var Q=v.length-1;0<=Q;Q--){var ue=y.g=v[Q];B=En(ue,b,!0,y)&&B}if(ue=y.g=c,B=En(ue,b,!0,y)&&B,B=En(ue,b,!1,y)&&B,v)for(Q=0;Q<v.length;Q++)ue=y.g=v[Q],B=En(ue,b,!1,y)&&B}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],b=0;b<v.length;b++)qe(v[b]);delete c.g[y],c.h--}}this.F=null},Ye.prototype.K=function(c,y,v,b){return this.i.add(String(c),y,!1,v,b)},Ye.prototype.L=function(c,y,v,b){return this.i.add(String(c),y,!0,v,b)};function En(c,y,v,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Q=0;Q<y.length;++Q){var ue=y[Q];if(ue&&!ue.da&&ue.capture==v){var He=ue.listener,Mt=ue.ha||ue.src;ue.fa&&dn(c.i,ue),B=He.call(Mt,b)!==!1&&B}}return B&&!b.defaultPrevented}function Wt(c,y,v){if(typeof c=="function")v&&(c=T(c,v));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Tu(c){c.g=Wt(()=>{c.g=null,c.i&&(c.i=!1,Tu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class rd extends ne{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Tu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(c){ne.call(this),this.h=c,this.g={}}P(mr,ne);var gr=[];function pr(c){le(c.g,function(y,v){this.g.hasOwnProperty(v)&&vi(y)},c),c.g={}}mr.prototype.N=function(){mr.aa.N.call(this),pr(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qn=m.JSON.stringify,hs=m.JSON.parse,yr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Do(){}Do.prototype.h=null;function ko(c){return c.h||(c.h=c.i())}function xo(){}var La={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Oa(){te.call(this,"d")}P(Oa,te);function Lo(){te.call(this,"c")}P(Lo,te);var oa={},Oo=null;function _i(){return Oo=Oo||new Ye}oa.La="serverreachability";function ds(c){te.call(this,oa.La,c)}P(ds,te);function Ei(c){const y=_i();Xe(y,new ds(y))}oa.STAT_EVENT="statevent";function Su(c,y){te.call(this,oa.STAT_EVENT,c),this.stat=y}P(Su,te);function ut(c){const y=_i();Xe(y,new Su(y,c))}oa.Ma="timingevent";function It(c,y){te.call(this,oa.Ma,c),this.size=y}P(It,te);function Et(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Dn(){this.g=!0}Dn.prototype.xa=function(){this.g=!1};function Po(c,y,v,b,B,Q){c.info(function(){if(c.g)if(Q)for(var ue="",He=Q.split("&"),Mt=0;Mt<He.length;Mt++){var Ge=He[Mt].split("=");if(1<Ge.length){var Vt=Ge[0];Ge=Ge[1];var Nt=Vt.split("_");ue=2<=Nt.length&&Nt[1]=="type"?ue+(Vt+"="+Ge+"&"):ue+(Vt+"=redacted&")}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+b+") [attempt "+B+"]: "+y+`
`+v+`
`+ue})}function sd(c,y,v,b,B,Q,ue){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+B+"]: "+y+`
`+v+`
`+Q+" "+ue})}function Ai(c,y,v,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+vr(c,v)+(b?" "+b:"")})}function bu(c,y){c.info(function(){return"TIMEOUT: "+y})}Dn.prototype.info=function(){};function vr(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var b=v[c];if(!(2>b.length)){var B=b[1];if(Array.isArray(B)&&!(1>B.length)){var Q=B[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ue=1;ue<B.length;ue++)B[ue]=""}}}}return qn(v)}catch{return y}}var Ti={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},la;function ua(){}P(ua,Do),ua.prototype.g=function(){return new XMLHttpRequest},ua.prototype.i=function(){return{}},la=new ua;function ln(c,y,v,b){this.j=c,this.i=y,this.l=v,this.R=b||1,this.U=new mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var Vo={},fs={};function Jn(c,y,v){c.L=1,c.v=Sr(An(y)),c.m=v,c.P=!0,Va(c,null)}function Va(c,y){c.F=Date.now(),_r(c),c.A=An(c.v);var v=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Go(v.i,"t",b),c.C=0,v=c.j.J,c.h=new pt,c.g=Bu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new rd(T(c.Y,c,c.g),c.O)),y=c.U,v=c.g,b=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(gr[0]=B.toString()),B=gr);for(var Q=0;Q<B.length;Q++){var ue=yi(v,B[Q],b||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ei(),Po(c.i,c.u,c.A,c.l,c.R,c.m)}ln.prototype.ca=function(c){c=c.target;const y=this.M;y&&On(c)==3?y.j():this.Y(c)},ln.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=On(this.g);var y=this.g.Ba();const Fa=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||ku(this.g)))){this.J||Nt!=4||y==7||(y==8||0>=Fa?Ei(3):Ei(2)),Si(this);var v=this.g.Z();this.X=v;t:if(wu(this)){var b=ku(this.g);c="";var B=b.length,Q=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ht(this),ca(this);var ue="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(Q&&y==B-1)});b.length=0,this.h.g+=c,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=v==200,sd(this.i,this.u,this.A,this.l,this.R,Nt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Mt=this.g;if((He=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(He)){var Ge=He;break t}}Ge=null}if(v=Ge)Ai(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Er(this,v);else{this.o=!1,this.s=3,ut(12),Ht(this),ca(this);break e}}if(this.P){v=!0;let Gt;for(;!this.J&&this.C<ue.length;)if(Gt=Ru(this,ue),Gt==fs){Nt==4&&(this.s=4,ut(14),v=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==Vo){this.s=4,ut(15),Ai(this.i,this.l,ue,"[Invalid Chunk]"),v=!1;break}else Ai(this.i,this.l,Gt,null),Er(this,Gt);if(wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||ue.length!=0||this.h.h||(this.s=1,ut(16),v=!1),this.o=this.o&&v,!v)Ai(this.i,this.l,ue,"[Invalid Chunked Response]"),Ht(this),ca(this);else if(0<ue.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Dr(Vt),Vt.M=!0,ut(11))}}else Ai(this.i,this.l,ue,null),Er(this,ue);Nt==4&&Ht(this),this.o&&!this.J&&(Nt==4?Vu(this.j,this):(this.o=!1,_r(this)))}else hd(this.g),v==400&&0<ue.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Ht(this),ca(this)}}}catch{}finally{}};function wu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ru(c,y){var v=c.C,b=y.indexOf(`
`,v);return b==-1?fs:(v=Number(y.substring(v,b)),isNaN(v)?Vo:(b+=1,b+v>y.length?fs:(y=y.slice(b,b+v),c.C=b+v,y)))}ln.prototype.cancel=function(){this.J=!0,Ht(this)};function _r(c){c.S=Date.now()+c.I,Cu(c,c.I)}function Cu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Et(T(c.ba,c),y)}function Si(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ln.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(bu(this.i,this.A),this.L!=2&&(Ei(),ut(17)),Ht(this),this.s=2,ca(this)):Cu(this,this.S-c)};function ca(c){c.j.G==0||c.J||Vu(c.j,c)}function Ht(c){Si(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,pr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Er(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Uo(v.h,c))){if(!c.K&&Uo(v.h,c)&&v.G==3){try{var b=v.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var B=b;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ws(v),Ss(v);else break e;Yo(v),ut(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=Et(T(v.Za,v),6e3));if(1>=gs(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ka(v,11)}else if((c.K||v.g==c)&&ws(v),!ee(y))for(B=v.Da.g.parse(y),y=0;y<B.length;y++){let Ge=B[y];if(v.T=Ge[0],Ge=Ge[1],v.G==2)if(Ge[0]=="c"){v.K=Ge[1],v.ia=Ge[2];const Vt=Ge[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const Nt=Ge[4];Nt!=null&&(v.Aa=Nt,v.j.info("SVER="+v.Aa));const Fa=Ge[5];Fa!=null&&typeof Fa=="number"&&0<Fa&&(b=1.5*Fa,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Gt=c.g;if(Gt){const ya=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var Q=b.h;Q.g||ya.indexOf("spdy")==-1&&ya.indexOf("quic")==-1&&ya.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ps(Q,Q.h),Q.h=null))}if(b.D){const $o=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;$o&&(b.ya=$o,tt(b.I,b.D,$o))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var ue=c;if(b.qa=zu(b,b.J?b.ia:null,b.W),ue.K){un(b.h,ue);var He=ue,Mt=b.L;Mt&&(He.I=Mt),He.B&&(Si(He),_r(He)),b.g=ue}else Ou(b);0<v.i.length&&bs(v)}else Ge[0]!="stop"&&Ge[0]!="close"||Ka(v,7);else v.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ka(v,7):qo(v):Ge[0]!="noop"&&v.l&&v.l.ta(Ge),v.v=0)}}Ei(4)}catch{}}var Iu=class{constructor(c,y){this.g=c,this.map=y}};function Ua(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ms(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gs(c){return c.h?1:c.g?c.g.size:0}function Uo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ps(c,y){c.g?c.g.add(y):c.h=y}function un(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ua.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return F(c.i)}function od(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],v=c.length,b=0;b<v;b++)y.push(c[b]);return y}y=[],v=0;for(b in c)y[v++]=c[b];return y}function ys(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const b in c)y[v++]=b;return y}}}function Bo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=ys(c),b=od(c),B=b.length,Q=0;Q<B;Q++)y.call(void 0,b[Q],v&&v[Q],c)}var Ar=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ld(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var b=c[v].indexOf("="),B=null;if(0<=b){var Q=c[v].substring(0,b);B=c[v].substring(b+1)}else Q=c[v];y(Q,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function At(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof At){this.h=c.h,Tr(this,c.j),this.o=c.o,this.g=c.g,bi(this,c.s),this.l=c.l;var y=c.i,v=new Ba;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),za(this,v),this.m=c.m}else c&&(y=String(c).match(Ar))?(this.h=!1,Tr(this,y[1]||"",!0),this.o=kn(y[2]||""),this.g=kn(y[3]||"",!0),bi(this,y[4]),this.l=kn(y[5]||"",!0),za(this,y[6]||"",!0),this.m=kn(y[7]||"")):(this.h=!1,this.i=new Ba(null,this.h))}At.prototype.toString=function(){var c=[],y=this.j;y&&c.push(br(y,jo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(br(y,jo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(br(v,v.charAt(0)=="/"?ud:Ho,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",br(v,vs)),c.join("")};function An(c){return new At(c)}function Tr(c,y,v){c.j=v?kn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function bi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function za(c,y,v){y instanceof Ba?(c.i=y,Nu(c.i,c.h)):(v||(y=br(y,cd)),c.i=new Ba(y,c.h))}function tt(c,y,v){c.i.set(y,v)}function Sr(c){return tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function kn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function br(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Mu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Mu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var jo=/[#\/\?@]/g,Ho=/[#\?:]/g,ud=/[#\?]/g,cd=/[#\?@]/g,vs=/#/g;function Ba(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function xn(c){c.g||(c.g=new Map,c.h=0,c.i&&ld(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}a=Ba.prototype,a.add=function(c,y){xn(this),this.i=null,c=ha(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function ja(c,y){xn(c),y=ha(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ha(c,y){return xn(c),y=ha(c,y),c.g.has(y)}a.forEach=function(c,y){xn(this),this.g.forEach(function(v,b){v.forEach(function(B){c.call(y,B,b,this)},this)},this)},a.na=function(){xn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let b=0;b<y.length;b++){const B=c[b];for(let Q=0;Q<B.length;Q++)v.push(y[b])}return v},a.V=function(c){xn(this);let y=[];if(typeof c=="string")Ha(this,c)&&(y=y.concat(this.g.get(ha(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},a.set=function(c,y){return xn(this),this.i=null,c=ha(this,c),Ha(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},a.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Go(c,y,v){ja(c,y),0<v.length&&(c.i=null,c.g.set(ha(c,y),F(v)),c.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var b=y[v];const Q=encodeURIComponent(String(b)),ue=this.V(b);for(b=0;b<ue.length;b++){var B=Q;ue[b]!==""&&(B+="="+encodeURIComponent(String(ue[b]))),c.push(B)}}return this.i=c.join("&")};function ha(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Nu(c,y){y&&!c.j&&(xn(c),c.i=null,c.g.forEach(function(v,b){var B=b.toLowerCase();b!=B&&(ja(this,b),Go(this,B,v))},c)),c.j=y}function wr(c,y){const v=new Dn;if(m.Image){const b=new Image;b.onload=L(Ln,v,"TestLoadImage: loaded",!0,y,b),b.onerror=L(Ln,v,"TestLoadImage: error",!1,y,b),b.onabort=L(Ln,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=L(Ln,v,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Yn(c,y){const v=new Dn,b=new AbortController,B=setTimeout(()=>{b.abort(),Ln(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Q=>{clearTimeout(B),Q.ok?Ln(v,"TestPingServer: ok",!0,y):Ln(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Ln(v,"TestPingServer: error",!1,y)})}function Ln(c,y,v,b,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),b(v)}catch{}}function Rr(){this.g=new yr}function da(c,y,v){const b=v||"";try{Bo(c,function(B,Q){let ue=B;p(B)&&(ue=qn(B)),y.push(b+Q+"="+encodeURIComponent(ue))})}catch(B){throw y.push(b+"type="+encodeURIComponent("_badmap")),B}}function wi(c){this.l=c.Ub||null,this.j=c.eb||!1}P(wi,Do),wi.prototype.g=function(){return new Ga(this.l,this.j)},wi.prototype.i=function(c){return function(){return c}}({});function Ga(c,y){Ye.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Ga,Ye),a=Ga.prototype,a.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ma(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fa(this)),this.readyState=0},a.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ma(this)),this.g&&(this.readyState=3,ma(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}a.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?fa(this):ma(this),this.readyState==3&&Ko(this)}},a.Ra=function(c){this.g&&(this.response=this.responseText=c,fa(this))},a.Qa=function(c){this.g&&(this.response=c,fa(this))},a.ga=function(){this.g&&fa(this)};function fa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ma(c)}a.setRequestHeader=function(c,y){this.u.append(c,y)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ma(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ga.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Fo(c){let y="";return le(c,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function Pt(c,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Fo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):tt(c,y,v))}function $e(c){Ye.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P($e,Ye);var _s=/^https?$/i,Cr=["POST","PUT"];a=$e.prototype,a.Ha=function(c){this.J=c},a.ea=function(c,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():la.g(),this.v=this.o?ko(this.o):ko(la),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Du(this,Q);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var B in b)v.set(B,b[B]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())v.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Cr,y,void 0))||b||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of v)this.g.setRequestHeader(Q,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ir(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Du(this,Q)}};function Du(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Es(c),ga(c)}function Es(c){c.A||(c.A=!0,Xe(c,"complete"),Xe(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Xe(this,"complete"),Xe(this,"abort"),ga(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ga(this,!0)),$e.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?As(this):this.bb())},a.bb=function(){As(this)};function As(c){if(c.h&&typeof d<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Wt(c.Ea,0,c);else if(Xe(c,"readystatechange"),On(c)==4){c.h=!1;try{const ue=c.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=ue===0){var B=String(c.D).match(Ar)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),b=!_s.test(B?B.toLowerCase():"")}v=b}if(v)Xe(c,"complete"),Xe(c,"success");else{c.m=6;try{var Q=2<On(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Es(c)}}finally{ga(c)}}}}function ga(c,y){if(c.g){Ir(c);const v=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Xe(c,"ready");try{v.onreadystatechange=b}catch{}}}function Ir(c){c.I&&(m.clearTimeout(c.I),c.I=null)}a.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}a.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),hs(y)}};function ku(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function hd(c){const y={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(ee(c[b]))continue;var v=k(c[b]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[B]||[];y[B]=Q,Q.push(v)}D(y,function(b){return b.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mr(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ts(c){this.Aa=0,this.i=[],this.j=new Dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mr("baseRetryDelayMs",5e3,c),this.cb=Mr("retryDelaySeedMs",1e4,c),this.Wa=Mr("forwardChannelMaxRetries",2,c),this.wa=Mr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ua(c&&c.concurrentRequestLimit),this.Da=new Rr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ts.prototype,a.la=8,a.G=1,a.connect=function(c,y,v,b){ut(0),this.W=c,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=zu(this,null,this.W),bs(this)};function qo(c){if(xu(c),c.G==3){var y=c.U++,v=An(c.I);if(tt(v,"SID",c.K),tt(v,"RID",y),tt(v,"TYPE","terminate"),Nr(c,v),y=new ln(c,c.j,y),y.L=2,y.v=Sr(An(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Bu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),_r(y)}Uu(c)}function Ss(c){c.g&&(Dr(c),c.g.cancel(),c.g=null)}function xu(c){Ss(c),c.u&&(m.clearTimeout(c.u),c.u=null),ws(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function bs(c){if(!ms(c.h)&&!c.s){c.s=!0;var y=c.Ga;he||M(),me||(he(),me=!0),De.add(y,c),c.B=0}}function dd(c,y){return gs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Et(T(c.Ga,c,y),Qo(c,c.B)),c.B++,!0)}a.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new ln(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=w(Q),N(Q,this.S)):Q=this.S),this.m!==null||this.O||(B.H=Q,Q=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Lu(this,B,y),v=An(this.I),tt(v,"RID",c),tt(v,"CVER",22),this.D&&tt(v,"X-HTTP-Session-Id",this.D),Nr(this,v),Q&&(this.O?y="headers="+encodeURIComponent(String(Fo(Q)))+"&"+y:this.m&&Pt(v,this.m,Q)),ps(this.h,B),this.Ua&&tt(v,"TYPE","init"),this.P?(tt(v,"$req",y),tt(v,"SID","null"),B.T=!0,Jn(B,v,null)):Jn(B,v,y),this.G=2}}else this.G==3&&(c?Jo(this,c):this.i.length==0||ms(this.h)||Jo(this))};function Jo(c,y){var v;y?v=y.l:v=c.U++;const b=An(c.I);tt(b,"SID",c.K),tt(b,"RID",v),tt(b,"AID",c.T),Nr(c,b),c.m&&c.o&&Pt(b,c.m,c.o),v=new ln(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Lu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ps(c.h,v),Jn(v,b,y)}function Nr(c,y){c.H&&le(c.H,function(v,b){tt(y,b,v)}),c.l&&Bo({},function(v,b){tt(y,b,v)})}function Lu(c,y,v){v=Math.min(c.i.length,v);var b=c.l?T(c.l.Na,c.l,c):null;e:{var B=c.i;let Q=-1;for(;;){const ue=["count="+v];Q==-1?0<v?(Q=B[0].g,ue.push("ofs="+Q)):Q=0:ue.push("ofs="+Q);let He=!0;for(let Mt=0;Mt<v;Mt++){let Ge=B[Mt].g;const Vt=B[Mt].map;if(Ge-=Q,0>Ge)Q=Math.max(0,B[Mt].g-100),He=!1;else try{da(Vt,ue,"req"+Ge+"_")}catch{b&&b(Vt)}}if(He){b=ue.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,b}function Ou(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;he||M(),me||(he(),me=!0),De.add(y,c),c.v=0}}function Yo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Et(T(c.Fa,c),Qo(c,c.v)),c.v++,!0)}a.Fa=function(){if(this.u=null,Pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Et(T(this.ab,this),c)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Ss(this),Pu(this))};function Dr(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Pu(c){c.g=new ln(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=An(c.qa);tt(y,"RID","rpc"),tt(y,"SID",c.K),tt(y,"AID",c.T),tt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&tt(y,"TO",c.ja),tt(y,"TYPE","xmlhttp"),Nr(c,y),c.m&&c.o&&Pt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Sr(An(y)),v.m=null,v.P=!0,Va(v,c)}a.Za=function(){this.C!=null&&(this.C=null,Ss(this),Yo(this),ut(19))};function ws(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Vu(c,y){var v=null;if(c.g==y){ws(c),Dr(c),c.g=null;var b=2}else if(Uo(c.h,y))v=y.D,un(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;b=_i(),Xe(b,new It(b,v)),bs(c)}else Ou(c);else if(B=y.s,B==3||B==0&&0<y.X||!(b==1&&dd(c,y)||b==2&&Yo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),B){case 1:Ka(c,5);break;case 4:Ka(c,10);break;case 3:Ka(c,6);break;default:Ka(c,2)}}}function Qo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Ka(c,y){if(c.j.info("Error code "+y),y==2){var v=T(c.fb,c),b=c.Xa;const B=!b;b=new At(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Tr(b,"https"),Sr(b),B?wr(b.toString(),v):Yn(b.toString(),v)}else ut(2);c.G=0,c.l&&c.l.sa(y),Uu(c),xu(c)}a.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Uu(c){if(c.G=0,c.ka=[],c.l){const y=zo(c.h);(y.length!=0||c.i.length!=0)&&(G(c.ka,y),G(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function zu(c,y,v){var b=v instanceof At?An(v):new At(v);if(b.g!="")y&&(b.g=y+"."+b.g),bi(b,b.s);else{var B=m.location;b=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Q=new At(null);b&&Tr(Q,b),y&&(Q.g=y),B&&bi(Q,B),v&&(Q.l=v),b=Q}return v=c.D,y=c.ya,v&&y&&tt(b,v,y),tt(b,"VER",c.la),Nr(c,b),b}function Bu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new $e(new wi({eb:v})):new $e(c.pa),y.Ha(c.J),y}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}a=ju.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Rs(){}Rs.prototype.g=function(c,y){return new cn(c,y)};function cn(c,y){Ye.call(this),this.g=new Ts(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ee(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ee(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new pa(this)}P(cn,Ye),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){qo(this.g)},cn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=qn(c),c=v);y.i.push(new Iu(y.Ya++,c)),y.G==3&&bs(y)},cn.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,cn.aa.N.call(this)};function Hu(c){Oa.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}P(Hu,Oa);function Gu(){Lo.call(this),this.status=1}P(Gu,Lo);function pa(c){this.g=c}P(pa,ju),pa.prototype.ua=function(){Xe(this.g,"a")},pa.prototype.ta=function(c){Xe(this.g,new Hu(c))},pa.prototype.sa=function(c){Xe(this.g,new Gu)},pa.prototype.ra=function(){Xe(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,YT=function(){return new Rs},JT=function(){return _i()},qT=oa,zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ti.NO_ERROR=0,Ti.TIMEOUT=8,Ti.HTTP_ERROR=6,ah=Ti,Pa.COMPLETE="complete",FT=Pa,xo.EventType=La,La.OPEN="a",La.CLOSE="b",La.ERROR="c",La.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,Bl=xo,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,KT=$e}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});const EE="@firebase/firestore",AE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new Oh("@firebase/firestore");function ao(){return ts.logLevel}function de(a,...e){if(ts.logLevel<=ze.DEBUG){const n=e.map(bg);ts.debug(`Firestore (${Ro}): ${a}`,...n)}}function mi(a,...e){if(ts.logLevel<=ze.ERROR){const n=e.map(bg);ts.error(`Firestore (${Ro}): ${a}`,...n)}}function fo(a,...e){if(ts.logLevel<=ze.WARN){const n=e.map(bg);ts.warn(`Firestore (${Ro}): ${a}`,...n)}}function bg(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(a,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,QT(a,r,n)}function QT(a,e,n){let r=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw mi(r),new Error(r)}function We(a,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,a||QT(e,o,r)}function Ne(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends sa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tn.UNAUTHENTICATED))}shutdown(){}}class OM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class PM{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ci,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ci)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new $T(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class VM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new VM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const r=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new TE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new TE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<a;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=BM(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function Oe(a,e){return a<e?-1:a>e?1:0}function Bm(a,e){let n=0;for(;n<a.length&&n<e.length;){const r=a.codePointAt(n),o=e.codePointAt(n);if(r!==o){if(r<128&&o<128)return Oe(r,o);{const u=WT(),d=jM(u.encode(SE(a,n)),u.encode(SE(e,n)));return d!==0?d:Oe(r,o)}}n+=r>65535?2:1}return Oe(a.length,e.length)}function SE(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function jM(a,e){for(let n=0;n<a.length&&n<e.length;++n)if(a[n]!==e[n])return Oe(a[n],e[n]);return Oe(a.length,e.length)}function mo(a,e,n){return a.length===e.length&&a.every((r,o)=>n(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=-62135596800,wE=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*wE);return new xt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<bE)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wE}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-bE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new xt(0,0))}static max(){return new Ie(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="__name__";class Sa{constructor(e,n,r){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&we(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Sa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=Sa.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Oe(e.length,n.length)}static compareSegments(e,n){const r=Sa.isNumericId(e),o=Sa.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Sa.extractNumericId(e).compare(Sa.extractNumericId(n)):Bm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return tr.fromString(e.substring(4,e.length-2))}}class ot extends Sa{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const HM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Sa{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return HM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RE}static keyField(){return new Qt([RE])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new fe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(r+=m,o++):(u(),o++)}if(u(),d)throw new fe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ot.fromString(e))}static fromName(e){return new _e(ot.fromString(e).popFirst(5))}static empty(){return new _e(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=-1;function GM(a,e){const n=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(r===1e9?new xt(n+1,0):new xt(n,r));return new ir(o,_e.empty(),e)}function KM(a){return new ir(a.readTime,a.key,eu)}class ir{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ir(Ie.min(),_e.empty(),eu)}static max(){return new ir(Ie.max(),_e.empty(),eu)}}function FM(a,e){let n=a.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(a.documentKey,e.documentKey),n!==0?n:Oe(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(a){if(a.code!==re.FAILED_PRECONDITION||a.message!==qM)throw a;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,r)=>{n(e)})}static reject(e){return new se((n,r)=>{r(e)})}static waitFor(e){return new se((n,r)=>{let o=0,u=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++u,d&&u===o&&n()},g=>r(g))}),d=!0,u===o&&n()})}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next(o=>o?se.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,u)=>{r.push(n.call(this,o,u))}),this.waitFor(r)}static mapArray(e,n){return new se((r,o)=>{const u=e.length,d=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next(E=>{d[p]=E,++m,m===u&&r(d)},E=>o(E))}})}static doWhile(e,n){return new se((r,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):r()};u()})}}function YM(a){const e=a.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Io(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}zh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg=-1;function Bh(a){return a==null}function vh(a){return a===0&&1/a==-1/0}function QM(a){return typeof a=="number"&&Number.isInteger(a)&&!vh(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="";function $M(a){let e="";for(let n=0;n<a.length;n++)e.length>0&&(e=CE(e)),e=WM(a.get(n),e);return CE(e)}function WM(a,e){let n=e;const r=a.length;for(let o=0;o<r;o++){const u=a.charAt(o);switch(u){case"\0":n+="";break;case ZT:n+="";break;default:n+=u}}return n}function CE(a){return a+ZT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(a){let e=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e++;return e}function hr(a,e){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e(n,a[n])}function eS(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jc(this.root,e,this.comparator,!0)}}class Jc{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new Yt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ME(this.data.getIterator())}getIteratorFrom(e){return new ME(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class ME{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new Lt(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new tS("Invalid base64 string: "+u):u}}(e);return new $t(n)}static fromUint8Array(e){const n=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const XM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(a){if(We(!!a,39018),typeof a=="string"){let e=0;const n=XM.exec(a);if(We(!!n,46558,{timestamp:a}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(a.seconds),nanos:_t(a.nanos)}}function _t(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function sr(a){return typeof a=="string"?$t.fromBase64String(a):$t.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="server_timestamp",aS="__type__",iS="__previous_value__",rS="__local_write_time__";function Rg(a){var e,n;return((n=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[aS])===null||n===void 0?void 0:n.stringValue)===nS}function jh(a){const e=a.mapValue.fields[iS];return Rg(e)?jh(e):e}function tu(a){const e=rr(a.mapValue.fields[rS].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n,r,o,u,d,m,g,p,E){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E}}const _h="(default)";class nu{constructor(e,n){this.projectId=e,this.database=n||_h}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="__type__",eN="__max__",Yc={mapValue:{}},oS="__vector__",Eh="value";function or(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Rg(a)?4:nN(a)?9007199254740991:tN(a)?10:11:we(28295,{value:a})}function Na(a,e){if(a===e)return!0;const n=or(a);if(n!==or(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return tu(a).isEqual(tu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=rr(o.timestampValue),m=rr(u.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,u){return sr(o.bytesValue).isEqual(sr(u.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(a,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=_t(o.doubleValue),m=_t(u.doubleValue);return d===m?vh(d)===vh(m):isNaN(d)&&isNaN(m)}return!1}(a,e);case 9:return mo(a.arrayValue.values||[],e.arrayValue.values||[],Na);case 10:case 11:return function(o,u){const d=o.mapValue.fields||{},m=u.mapValue.fields||{};if(IE(d)!==IE(m))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(m[g]===void 0||!Na(d[g],m[g])))return!1;return!0}(a,e);default:return we(52216,{left:a})}}function au(a,e){return(a.values||[]).find(n=>Na(n,e))!==void 0}function go(a,e){if(a===e)return 0;const n=or(a),r=or(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(a.booleanValue,e.booleanValue);case 2:return function(u,d){const m=_t(u.integerValue||u.doubleValue),g=_t(d.integerValue||d.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(a,e);case 3:return NE(a.timestampValue,e.timestampValue);case 4:return NE(tu(a),tu(e));case 5:return Bm(a.stringValue,e.stringValue);case 6:return function(u,d){const m=sr(u),g=sr(d);return m.compareTo(g)}(a.bytesValue,e.bytesValue);case 7:return function(u,d){const m=u.split("/"),g=d.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Oe(m[p],g[p]);if(E!==0)return E}return Oe(m.length,g.length)}(a.referenceValue,e.referenceValue);case 8:return function(u,d){const m=Oe(_t(u.latitude),_t(d.latitude));return m!==0?m:Oe(_t(u.longitude),_t(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return DE(a.arrayValue,e.arrayValue);case 10:return function(u,d){var m,g,p,E;const S=u.fields||{},T=d.fields||{},L=(m=S[Eh])===null||m===void 0?void 0:m.arrayValue,P=(g=T[Eh])===null||g===void 0?void 0:g.arrayValue,F=Oe(((p=L==null?void 0:L.values)===null||p===void 0?void 0:p.length)||0,((E=P==null?void 0:P.values)===null||E===void 0?void 0:E.length)||0);return F!==0?F:DE(L,P)}(a.mapValue,e.mapValue);case 11:return function(u,d){if(u===Yc.mapValue&&d===Yc.mapValue)return 0;if(u===Yc.mapValue)return 1;if(d===Yc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=d.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const T=Bm(g[S],E[S]);if(T!==0)return T;const L=go(m[g[S]],p[E[S]]);if(L!==0)return L}return Oe(g.length,E.length)}(a.mapValue,e.mapValue);default:throw we(23264,{Pe:n})}}function NE(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Oe(a,e);const n=rr(a),r=rr(e),o=Oe(n.seconds,r.seconds);return o!==0?o:Oe(n.nanos,r.nanos)}function DE(a,e){const n=a.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=go(n[o],r[o]);if(u)return u}return Oe(n.length,r.length)}function po(a){return jm(a)}function jm(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(n){const r=rr(n);return`time(${r.seconds},${r.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(n){return sr(n).toBase64()}(a.bytesValue):"referenceValue"in a?function(n){return _e.fromName(n).toString()}(a.referenceValue):"geoPointValue"in a?function(n){return`geo(${n.latitude},${n.longitude})`}(a.geoPointValue):"arrayValue"in a?function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=jm(u);return r+"]"}(a.arrayValue):"mapValue"in a?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of r)u?u=!1:o+=",",o+=`${d}:${jm(n.fields[d])}`;return o+"}"}(a.mapValue):we(61005,{value:a})}function ih(a){switch(or(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jh(a);return e?16+ih(e):16;case 5:return 2*a.stringValue.length;case 6:return sr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,u)=>o+ih(u),0)}(a.arrayValue);case 10:case 11:return function(r){let o=0;return hr(r.fields,(u,d)=>{o+=u.length+ih(d)}),o}(a.mapValue);default:throw we(13486,{value:a})}}function kE(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Hm(a){return!!a&&"integerValue"in a}function Cg(a){return!!a&&"arrayValue"in a}function xE(a){return!!a&&"nullValue"in a}function LE(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function rh(a){return!!a&&"mapValue"in a}function tN(a){var e,n;return((n=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[sS])===null||n===void 0?void 0:n.stringValue)===oS}function ql(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return hr(a.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ql(r)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ql(a.arrayValue.values[n]);return e}return Object.assign({},a)}function nN(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===eN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(n)}setAll(e){let n=Qt.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}d?r[m.lastSegment()]=ql(d):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Na(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){hr(n,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new yn(ql(this.value))}}function lS(a){const e=[];return hr(a.fields,(n,r)=>{const o=new Qt([n]);if(rh(r)){const u=lS(r.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,r,o,u,d,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,Ie.min(),Ie.min(),Ie.min(),yn.empty(),0)}static newFoundDocument(e,n,r,o){return new nn(e,1,n,Ie.min(),r,o,0)}static newNoDocument(e,n){return new nn(e,2,n,Ie.min(),Ie.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Ie.min(),Ie.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.position=e,this.inclusive=n}}function OE(a,e,n){let r=0;for(let o=0;o<a.position.length;o++){const u=e[o],d=a.position[o];if(u.field.isKeyField()?r=_e.comparator(_e.fromName(d.referenceValue),n.key):r=go(d,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function PE(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!Na(a.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function aN(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{}class wt extends uS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rN(e,n,r):n==="array-contains"?new lN(e,r):n==="in"?new uN(e,r):n==="not-in"?new cN(e,r):n==="array-contains-any"?new hN(e,r):new wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sN(e,r):new oN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&or(this.value)===or(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ia extends uS{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new ia(e,n)}matches(e){return cS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function cS(a){return a.op==="and"}function hS(a){return iN(a)&&cS(a)}function iN(a){for(const e of a.filters)if(e instanceof ia)return!1;return!0}function Gm(a){if(a instanceof wt)return a.field.canonicalString()+a.op.toString()+po(a.value);if(hS(a))return a.filters.map(e=>Gm(e)).join(",");{const e=a.filters.map(n=>Gm(n)).join(",");return`${a.op}(${e})`}}function dS(a,e){return a instanceof wt?function(r,o){return o instanceof wt&&r.op===o.op&&r.field.isEqual(o.field)&&Na(r.value,o.value)}(a,e):a instanceof ia?function(r,o){return o instanceof ia&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((u,d,m)=>u&&dS(d,o.filters[m]),!0):!1}(a,e):void we(19439)}function fS(a){return a instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`}(a):a instanceof ia?function(n){return n.op.toString()+" {"+n.getFilters().map(fS).join(" ,")+"}"}(a):"Filter"}class rN extends wt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class sN extends wt{constructor(e,n){super(e,"in",n),this.keys=mS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class oN extends wt{constructor(e,n){super(e,"not-in",n),this.keys=mS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mS(a,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class lN extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cg(n)&&au(n.arrayValue,this.value)}}class uN extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class cN extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!au(this.value.arrayValue,n)}}class hN extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>au(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,n=null,r=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.Ie=null}}function VE(a,e=null,n=[],r=[],o=null,u=null,d=null){return new dN(a,e,n,r,o,u,d)}function Ig(a){const e=Ne(a);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),Bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>po(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>po(r)).join(",")),e.Ie=n}return e.Ie}function Mg(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!aN(a.orderBy[n],e.orderBy[n]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!dS(a.filters[n],e.filters[n]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!PE(a.startAt,e.startAt)&&PE(a.endAt,e.endAt)}function Km(a){return _e.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n=null,r=[],o=[],u=null,d="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function fN(a,e,n,r,o,u,d,m){return new Mo(a,e,n,r,o,u,d,m)}function Hh(a){return new Mo(a)}function UE(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function gS(a){return a.collectionGroup!==null}function Jl(a){const e=Ne(a);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Lt(Qt.comparator);return d.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new iu(u,r))}),n.has(Qt.keyField().canonicalString())||e.Ee.push(new iu(Qt.keyField(),r))}return e.Ee}function wa(a){const e=Ne(a);return e.de||(e.de=mN(e,Jl(a))),e.de}function mN(a,e){if(a.limitType==="F")return VE(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new iu(o.field,u)});const n=a.endAt?new Ah(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Ah(a.startAt.position,a.startAt.inclusive):null;return VE(a.path,a.collectionGroup,e,a.filters,a.limit,n,r)}}function Fm(a,e){const n=a.filters.concat([e]);return new Mo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),n,a.limit,a.limitType,a.startAt,a.endAt)}function Th(a,e,n){return new Mo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,n,a.startAt,a.endAt)}function Gh(a,e){return Mg(wa(a),wa(e))&&a.limitType===e.limitType}function pS(a){return`${Ig(wa(a))}|lt:${a.limitType}`}function io(a){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>fS(o)).join(", ")}]`),Bh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>po(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>po(o)).join(",")),`Target(${r})`}(wa(a))}; limitType=${a.limitType})`}function Kh(a,e){return e.isFoundDocument()&&function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):_e.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(a,e)&&function(r,o){for(const u of Jl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(a,e)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(a,e)&&function(r,o){return!(r.startAt&&!function(d,m,g){const p=OE(d,m,g);return d.inclusive?p<=0:p<0}(r.startAt,Jl(r),o)||r.endAt&&!function(d,m,g){const p=OE(d,m,g);return d.inclusive?p>=0:p>0}(r.endAt,Jl(r),o))}(a,e)}function gN(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function yS(a){return(e,n)=>{let r=!1;for(const o of Jl(a)){const u=pN(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function pN(a,e,n){const r=a.field.isKeyField()?_e.comparator(e.key,n.key):function(u,d,m){const g=d.data.field(u),p=m.data.field(u);return g!==null&&p!==null?go(g,p):we(42886)}(a.field,e,n);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return we(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){hr(this.inner,(n,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return eS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new ft(_e.comparator);function gi(){return yN}const vS=new ft(_e.comparator);function jl(...a){let e=vS;for(const n of a)e=e.insert(n.key,n);return e}function _S(a){let e=vS;return a.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wr(){return Yl()}function ES(){return Yl()}function Yl(){return new ls(a=>a.toString(),(a,e)=>a.isEqual(e))}const vN=new ft(_e.comparator),_N=new Lt(_e.comparator);function Be(...a){let e=_N;for(const n of a)e=e.add(n);return e}const EN=new Lt(Oe);function AN(){return EN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function AS(a){return{integerValue:""+a}}function TN(a,e){return QM(e)?AS(e):Ng(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this._=void 0}}function SN(a,e,n){return a instanceof ru?function(o,u){const d={fields:{[aS]:{stringValue:nS},[rS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Rg(u)&&(u=jh(u)),u&&(d.fields[iS]=u),{mapValue:d}}(n,e):a instanceof su?SS(a,e):a instanceof ou?bS(a,e):function(o,u){const d=TS(o,u),m=zE(d)+zE(o.Re);return Hm(d)&&Hm(o.Re)?AS(m):Ng(o.serializer,m)}(a,e)}function bN(a,e,n){return a instanceof su?SS(a,e):a instanceof ou?bS(a,e):n}function TS(a,e){return a instanceof Sh?function(r){return Hm(r)||function(u){return!!u&&"doubleValue"in u}(r)}(e)?e:{integerValue:0}:null}class ru extends Fh{}class su extends Fh{constructor(e){super(),this.elements=e}}function SS(a,e){const n=wS(e);for(const r of a.elements)n.some(o=>Na(o,r))||n.push(r);return{arrayValue:{values:n}}}class ou extends Fh{constructor(e){super(),this.elements=e}}function bS(a,e){let n=wS(e);for(const r of a.elements)n=n.filter(o=>!Na(o,r));return{arrayValue:{values:n}}}class Sh extends Fh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function zE(a){return _t(a.integerValue||a.doubleValue)}function wS(a){return Cg(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n){this.field=e,this.transform=n}}function RN(a,e){return a.field.isEqual(e.field)&&function(r,o){return r instanceof su&&o instanceof su||r instanceof ou&&o instanceof ou?mo(r.elements,o.elements,Na):r instanceof Sh&&o instanceof Sh?Na(r.Re,o.Re):r instanceof ru&&o instanceof ru}(a.transform,e.transform)}class CN{constructor(e,n){this.version=e,this.transformResults=n}}class Ra{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ra}static exists(e){return new Ra(void 0,e)}static updateTime(e){return new Ra(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class qh{}function RS(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new IS(a.key,Ra.none()):new pu(a.key,a.data,Ra.none());{const n=a.data,r=yn.empty();let o=new Lt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?r.delete(u):r.set(u,d),o=o.add(u)}return new dr(a.key,r,new Mn(o.toArray()),Ra.none())}}function IN(a,e,n){a instanceof pu?function(o,u,d){const m=o.value.clone(),g=jE(o.fieldTransforms,u,d.transformResults);m.setAll(g),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(a,e,n):a instanceof dr?function(o,u,d){if(!sh(o.precondition,u))return void u.convertToUnknownDocument(d.version);const m=jE(o.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(CS(o)),g.setAll(m),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,n):function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function Ql(a,e,n,r){return a instanceof pu?function(u,d,m,g){if(!sh(u.precondition,d))return m;const p=u.value.clone(),E=HE(u.fieldTransforms,g,d);return p.setAll(E),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null}(a,e,n,r):a instanceof dr?function(u,d,m,g){if(!sh(u.precondition,d))return m;const p=HE(u.fieldTransforms,g,d),E=d.data;return E.setAll(CS(u)),E.setAll(p),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(a,e,n,r):function(u,d,m){return sh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(a,e,n)}function MN(a,e){let n=null;for(const r of a.fieldTransforms){const o=e.data.field(r.field),u=TS(r.transform,o||null);u!=null&&(n===null&&(n=yn.empty()),n.set(r.field,u))}return n||null}function BE(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&mo(r,o,(u,d)=>RN(u,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class pu extends qh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class dr extends qh{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function CS(a){const e=new Map;return a.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=a.data.field(n);e.set(n,r)}}),e}function jE(a,e,n){const r=new Map;We(a.length===n.length,32656,{Ve:n.length,me:a.length});for(let o=0;o<n.length;o++){const u=a[o],d=u.transform,m=e.data.field(u.field);r.set(u.field,bN(d,m,n[o]))}return r}function HE(a,e,n){const r=new Map;for(const o of a){const u=o.transform,d=n.data.field(o.field);r.set(o.field,SN(u,d,e))}return r}class IS extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NN extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&IN(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ES();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=n.has(o.key)?null:m;const g=RS(d,m);g!==null&&r.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Be())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,(n,r)=>BE(n,r))&&mo(this.baseMutations,e.baseMutations,(n,r)=>BE(n,r))}}class Dg{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){We(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let o=function(){return vN}();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new Dg(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Fe;function LN(a){switch(a){case re.OK:return we(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return we(15467,{code:a})}}function MS(a){if(a===void 0)return mi("GRPC error has no .code"),re.UNKNOWN;switch(a){case bt.OK:return re.OK;case bt.CANCELLED:return re.CANCELLED;case bt.UNKNOWN:return re.UNKNOWN;case bt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case bt.INTERNAL:return re.INTERNAL;case bt.UNAVAILABLE:return re.UNAVAILABLE;case bt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case bt.NOT_FOUND:return re.NOT_FOUND;case bt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case bt.ABORTED:return re.ABORTED;case bt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case bt.DATA_LOSS:return re.DATA_LOSS;default:return we(39323,{code:a})}}(Fe=bt||(bt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new tr([4294967295,4294967295],0);function GE(a){const e=WT().encode(a),n=new GT;return n.update(e),new Uint8Array(n.digest())}function KE(a){const e=new DataView(a.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new tr([n,r],0),new tr([o,u],0)]}class kg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(r<0)throw new Hl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=tr.fromNumber(this.pe)}we(e,n,r){let o=e.add(n.multiply(tr.fromNumber(r)));return o.compare(ON)===1&&(o=new tr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=GE(e),[r,o]=KE(n);for(let u=0;u<this.hashCount;u++){const d=this.we(r,o,u);if(!this.be(d))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new kg(u,o,n);return r.forEach(m=>d.insert(m)),d}insert(e){if(this.pe===0)return;const n=GE(e),[r,o]=KE(n);for(let u=0;u<this.hashCount;u++){const d=this.we(r,o,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jh(Ie.min(),o,new ft(Oe),gi(),Be())}}class yu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yu(r,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n,r,o){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=o}}class NS{constructor(e,n){this.targetId=e,this.Ce=n}}class DS{constructor(e,n,r=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class FE{constructor(){this.Fe=0,this.Me=qE(),this.xe=$t.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Be(),n=Be(),r=Be();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:we(38017,{changeType:u})}}),new yu(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=qE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,We(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class PN{constructor(e){this.ze=e,this.je=new Map,this.He=gi(),this.Je=Qc(),this.Ye=Qc(),this.Ze=new ft(Oe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,r=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Km(u))if(r===0){const d=new _e(u.path);this.tt(n,d,nn.newNoDocument(d,Ie.min()))}else We(r===1,20013,{expectedCount:r});else{const d=this.ut(n);if(d!==r){const m=this.ct(e),g=m?this.lt(m,e,d):1;if(g!==0){this.st(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let d,m;try{d=sr(r).toUint8Array()}catch(g){if(g instanceof tS)return fo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new kg(d,o,u)}catch(g){return fo(g instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.pe===0?null:m}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let o=0;return r.forEach(u=>{const d=this.ze.Pt(),m=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,d)=>{const m=this._t(d);if(m){if(u.current&&Km(m.target)){const g=new _e(m.target.path);this.Et(g).has(d)||this.dt(d,g)||this.tt(d,g,nn.newNoDocument(g,e))}u.Le&&(n.set(d,u.qe()),u.Qe())}});let r=Be();this.Ye.forEach((u,d)=>{let m=!0;d.forEachWhile(g=>{const p=this._t(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(r=r.add(u))}),this.He.forEach((u,d)=>d.setReadTime(e));const o=new Jh(e,n,this.Ze,this.He,r);return this.He=gi(),this.Je=Qc(),this.Ye=Qc(),this.Ze=new ft(Oe),o}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new FE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Lt(Oe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Lt(Oe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new FE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Qc(){return new ft(_e.comparator)}function qE(){return new ft(_e.comparator)}const VN={asc:"ASCENDING",desc:"DESCENDING"},UN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zN={and:"AND",or:"OR"};class BN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qm(a,e){return a.useProto3Json||Bh(e)?e:{value:e}}function bh(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kS(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function jN(a,e){return bh(a,e.toTimestamp())}function Ca(a){return We(!!a,49232),Ie.fromTimestamp(function(n){const r=rr(n);return new xt(r.seconds,r.nanos)}(a))}function xg(a,e){return Jm(a,e).canonicalString()}function Jm(a,e){const n=function(o){return new ot(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?n:n.child(e)}function xS(a){const e=ot.fromString(a);return We(US(e),10190,{key:e.toString()}),e}function Ym(a,e){return xg(a.databaseId,e.path)}function _m(a,e){const n=xS(e);if(n.get(1)!==a.databaseId.projectId)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new _e(OS(n))}function LS(a,e){return xg(a.databaseId,e)}function HN(a){const e=xS(a);return e.length===4?ot.emptyPath():OS(e)}function Qm(a){return new ot(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function OS(a){return We(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function JE(a,e,n){return{name:Ym(a,e),fields:n.value.mapValue.fields}}function GN(a,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:we(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(p,E){return p.useProto3Json?(We(E===void 0||typeof E=="string",58123),$t.fromBase64String(E||"")):(We(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),$t.fromUint8Array(E||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(p){const E=p.code===void 0?re.UNKNOWN:MS(p.code);return new fe(E,p.message||"")}(d);n=new DS(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=_m(a,r.document.name),u=Ca(r.document.updateTime),d=r.document.createTime?Ca(r.document.createTime):Ie.min(),m=new yn({mapValue:{fields:r.document.fields}}),g=nn.newFoundDocument(o,u,d,m),p=r.targetIds||[],E=r.removedTargetIds||[];n=new oh(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=_m(a,r.document),u=r.readTime?Ca(r.readTime):Ie.min(),d=nn.newNoDocument(o,u),m=r.removedTargetIds||[];n=new oh([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=_m(a,r.document),u=r.removedTargetIds||[];n=new oh([],u,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,d=new xN(o,u),m=r.targetId;n=new NS(m,d)}}return n}function KN(a,e){let n;if(e instanceof pu)n={update:JE(a,e.key,e.value)};else if(e instanceof IS)n={delete:Ym(a,e.key)};else if(e instanceof dr)n={update:JE(a,e.key,e.data),updateMask:ZN(e.fieldMask)};else{if(!(e instanceof NN))return we(16599,{ft:e.type});n={verify:Ym(a,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(u,d){const m=d.transform;if(m instanceof ru)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof su)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ou)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Sh)return{fieldPath:d.field.canonicalString(),increment:m.Re};throw we(20930,{transform:d.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:jN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)}(a,e.precondition)),n}function FN(a,e){return a&&a.length>0?(We(e!==void 0,14353),a.map(n=>function(o,u){let d=o.updateTime?Ca(o.updateTime):Ca(u);return d.isEqual(Ie.min())&&(d=Ca(u)),new CN(d,o.transformResults||[])}(n,e))):[]}function qN(a,e){return{documents:[LS(a,e.path)]}}function JN(a,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=LS(a,o);const u=function(p){if(p.length!==0)return VS(ia.create(p,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const d=function(p){if(p.length!==0)return p.map(E=>function(T){return{field:ro(T.field),direction:$N(T.dir)}}(E))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=qm(a,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:o}}function YN(a){let e=HN(a.parent);const n=a.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){We(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const T=PS(S);return T instanceof ia&&hS(T)?T.getFilters():[T]}(n.where));let d=[];n.orderBy&&(d=function(S){return S.map(T=>function(P){return new iu(so(P.field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(T))}(n.orderBy));let m=null;n.limit&&(m=function(S){let T;return T=typeof S=="object"?S.value:S,Bh(T)?null:T}(n.limit));let g=null;n.startAt&&(g=function(S){const T=!!S.before,L=S.values||[];return new Ah(L,T)}(n.startAt));let p=null;return n.endAt&&(p=function(S){const T=!S.before,L=S.values||[];return new Ah(L,T)}(n.endAt)),fN(e,o,d,u,m,"F",g,p)}function QN(a,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PS(a){return a.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=so(n.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=so(n.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(n.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=so(n.unaryFilter.field);return wt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(a):a.fieldFilter!==void 0?function(n){return wt.create(so(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(n){return ia.create(n.compositeFilter.filters.map(r=>PS(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(n.compositeFilter.op))}(a):we(30097,{filter:a})}function $N(a){return VN[a]}function WN(a){return UN[a]}function XN(a){return zN[a]}function ro(a){return{fieldPath:a.canonicalString()}}function so(a){return Qt.fromServerFormat(a.fieldPath)}function VS(a){return a instanceof wt?function(n){if(n.op==="=="){if(LE(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NAN"}};if(xE(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LE(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NAN"}};if(xE(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(n.field),op:WN(n.op),value:n.value}}}(a):a instanceof ia?function(n){const r=n.getFilters().map(o=>VS(o));return r.length===1?r[0]:{compositeFilter:{op:XN(n.op),filters:r}}}(a):we(54877,{filter:a})}function ZN(a){const e=[];return a.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function US(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,r,o,u=Ie.min(),d=Ie.min(),m=$t.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.wt=e}}function tD(a){const e=YN({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Th(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.Cn=new aD}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(ir.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(ir.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class aD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Lt(ot.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Lt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zS=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(zS,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new yo(0)}static lr(){return new yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="LruGarbageCollector",iD=1048576;function $E([a,e],[n,r]){const o=Oe(a,n);return o===0?Oe(e,r):o}class rD{constructor(e){this.Er=e,this.buffer=new Lt($E),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();$E(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){de(QE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?de(QE,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.mr(3e5)})}}class oD{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return se.resolve(zh.le);const r=new rD(n);return this.gr.forEachTarget(e,o=>r.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>r.Rr(o))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(YE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,o,u,d,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(r=S,m=Date.now(),this.removeTargets(e,r,n))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(p=Date.now(),ao()<=ze.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function lD(a,e){return new oD(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.changes=new ls(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(r!==null&&Ql(r.mutation,o,Mn.empty(),xt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Be()){const o=Wr();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(u=>{let d=jl();return u.forEach((m,g)=>{d=d.insert(m,g.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const r=Wr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Be()))}populateOverlays(e,n,r){const o=[];return r.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,m)=>{n.set(d,m)})})}computeViews(e,n,r,o){let u=gi();const d=Yl(),m=function(){return Yl()}();return n.forEach((g,p)=>{const E=r.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof dr)?u=u.insert(p.key,p):E!==void 0?(d.set(p.key,E.mutation.getFieldMask()),Ql(E.mutation,p,E.mutation.getFieldMask(),xt.now())):d.set(p.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((p,E)=>d.set(p,E)),n.forEach((p,E)=>{var S;return m.set(p,new cD(E,(S=d.get(p))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,n){const r=Yl();let o=new ft((d,m)=>d-m),u=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const m of d)m.keys().forEach(g=>{const p=n.get(g);if(p===null)return;let E=r.get(g)||Mn.empty();E=m.applyToLocalView(p,E),r.set(g,E);const S=(o.get(m.batchId)||Be()).add(g);o=o.insert(m.batchId,S)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,S=ES();E.forEach(T=>{if(!u.has(T)){const L=RS(n.get(T),r.get(T));L!==null&&S.set(T,L),u=u.add(T)}}),d.push(this.documentOverlayCache.saveOverlays(e,p,S))}return se.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,o){return function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):se.resolve(Wr());let m=eu,g=u;return d.next(p=>se.forEach(p,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?se.resolve():this.remoteDocumentCache.getEntry(e,E).next(T=>{g=g.insert(E,T)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,g,p,Be())).next(E=>({batchId:m,changes:_S(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let o=jl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let d=jl();return this.indexManager.getCollectionParents(e,u).next(m=>se.forEach(m,g=>{const p=function(S,T){return new Mo(T,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next(E=>{E.forEach((S,T)=>{d=d.insert(S,T)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o))).next(d=>{u.forEach((g,p)=>{const E=p.getKey();d.get(E)===null&&(d=d.insert(E,nn.newInvalidDocument(E)))});let m=jl();return d.forEach((g,p)=>{const E=u.get(g);E!==void 0&&Ql(E.mutation,p,Mn.empty(),xt.now()),Kh(n,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return se.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ca(o.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:tD(o.bundledQuery),readTime:Ca(o.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.overlays=new ft(_e.comparator),this.Qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wr();return se.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&r.set(o,u)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,u)=>{this.St(e,n,u)}),se.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Qr.get(r);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const o=Wr(),u=n.length+1,d=new _e(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new ft((p,E)=>p-E);const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let E=u.get(p.largestBatchId);E===null&&(E=Wr(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=Wr(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,E)=>m.set(p,E)),!(m.size()>=o)););return se.resolve(m)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Qr.get(o.largestBatchId).delete(r.key);this.Qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new kN(n,r));let u=this.Qr.get(n);u===void 0&&(u=Be(),this.Qr.set(n,u)),this.Qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(){this.$r=new Lt(jt.Ur),this.Kr=new Lt(jt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new jt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new jt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new _e(new ot([])),r=new jt(n,e),o=new jt(n,e+1),u=[];return this.Kr.forEachInRange([r,o],d=>{this.zr(d),u.push(d.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new _e(new ot([])),r=new jt(n,e),o=new jt(n,e+1);let u=Be();return this.Kr.forEachInRange([r,o],d=>{u=u.add(d.key)}),u}containsKey(e){const n=new jt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return _e.comparator(e.key,n.key)||Oe(e.Zr,n.Zr)}static Wr(e,n){return Oe(e.Zr,n.Zr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Lt(jt.Ur)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new DN(u,n,r,o);this.mutationQueue.push(d);for(const m of o)this.Xr=this.Xr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(d)}lookupMutationBatch(e,n){return se.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ti(r),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?wg:this.nr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([r,o],d=>{const m=this.ei(d.Zr);u.push(m)}),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(Oe);return n.forEach(o=>{const u=new jt(o,0),d=new jt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,d],m=>{r=r.add(m.Zr)})}),se.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;_e.isDocumentKey(u)||(u=u.child(""));const d=new jt(new _e(u),0);let m=new Lt(Oe);return this.Xr.forEachWhile(g=>{const p=g.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Zr)),!0)},d),se.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(r=>{const o=this.ei(r);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){We(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return se.forEach(n.mutations,o=>{const u=new jt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new jt(n,0),o=this.Xr.firstAfterOrEqual(r);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.ii=e,this.docs=function(){return new ft(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,d=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=gi();return n.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))}),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=gi();const d=n.path,m=new _e(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||FM(KM(E),r)<=0||(o.has(E.key)||Kh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,n,r,o){we(9500)}si(e,n){return se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yD(this)}getSize(e){return se.resolve(this.size)}}class yD extends uD{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(r)}),se.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.persistence=e,this.oi=new ls(n=>Ig(n),Mg),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this._i=0,this.ai=new Lg,this.targetCount=0,this.ui=yo.cr()}forEachTarget(e,n){return this.oi.forEach((r,o)=>n(o)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),se.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new yo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Tr(n),se.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.oi.forEach((d,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.oi.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),se.waitFor(u).next(()=>o)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),se.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n){this.ci={},this.overlays={},this.li=new zh(0),this.hi=!1,this.hi=!0,this.Pi=new mD,this.referenceDelegate=e(this),this.Ti=new vD(this),this.indexManager=new nD,this.remoteDocumentCache=function(o){return new pD(o)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new eD(n),this.Ei=new dD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new gD(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const o=new _D(this.li.next());return this.referenceDelegate.di(),r(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return se.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class _D extends JM{constructor(e){super(),this.currentSequenceNumber=e}}class Og{constructor(e){this.persistence=e,this.Vi=new Lg,this.mi=null}static fi(e){return new Og(e)}get gi(){if(this.mi)return this.mi;throw we(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.gi,r=>{const o=_e.fromPath(r);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Ie.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return se.or([()=>se.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class wh{constructor(e,n){this.persistence=e,this.yi=new ls(r=>$M(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=lD(this,n)}static fi(e,n){return new wh(e,n)}di(){}Ai(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(o=>r+o))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return se.forEach(this.yi,(r,o)=>this.Dr(e,r,o).next(u=>u?se.resolve():n(o)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,d=>this.Dr(e,d,n).next(m=>{m||(r++,u.removeEntry(d,Ie.min()))})).next(()=>u.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ih(e.data.value)),n}Dr(e,n,r){return se.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return se.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.ds=r,this.As=o}static Rs(e,n){let r=Be(),o=Be();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Pg(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return mC()?8:YM(rn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.ws(e,n).next(d=>{u.result=d}).next(()=>{if(!u.result)return this.bs(e,n,o,r).next(d=>{u.result=d})}).next(()=>{if(u.result)return;const d=new ED;return this.Ss(e,n,d).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,d,m.size)})}).next(()=>u.result)}Ds(e,n,r,o){return r.documentReadCount<this.gs?(ao()<=ze.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),se.resolve()):(ao()<=ze.DEBUG&&de("QueryEngine","Query:",io(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ps*o?(ao()<=ze.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wa(n))):se.resolve())}ws(e,n){if(UE(n))return se.resolve(null);let r=wa(n);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Th(n,null,"F"),r=wa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=Be(...u);return this.ys.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(g=>{const p=this.vs(n,m);return this.Cs(n,p,d,g.readTime)?this.ws(e,Th(n,null,"F")):this.Fs(e,p,n,g)}))})))}bs(e,n,r,o){return UE(n)||o.isEqual(Ie.min())?se.resolve(null):this.ys.getDocuments(e,r).next(u=>{const d=this.vs(n,u);return this.Cs(n,d,r,o)?se.resolve(null):(ao()<=ze.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),io(n)),this.Fs(e,d,n,GM(o,eu)).next(m=>m))})}vs(e,n){let r=new Lt(yS(e));return n.forEach((o,u)=>{Kh(e,u)&&(r=r.add(u))}),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,r){return ao()<=ze.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",io(n)),this.ys.getDocumentsMatchingQuery(e,n,ir.min(),r)}Fs(e,n,r,o){return this.ys.getDocumentsMatchingQuery(e,r,o).next(u=>(n.forEach(d=>{u=u.insert(d.key,d)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="LocalStore",TD=3e8;class SD{constructor(e,n,r,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new ft(Oe),this.Os=new ls(u=>Ig(u),Mg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function bD(a,e,n,r){return new SD(a,e,n,r)}async function jS(a,e){const n=Ne(a);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],m=[];let g=Be();for(const p of o){d.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(r,g).next(p=>({ks:p,removedBatchIds:d,addedBatchIds:m}))})})}function wD(a,e){const n=Ne(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,g,p,E){const S=p.batch,T=S.keys();let L=se.resolve();return T.forEach(P=>{L=L.next(()=>E.getEntry(g,P)).next(F=>{const G=p.docVersions.get(P);We(G!==null,48541),F.version.compareTo(G)<0&&(S.applyToRemoteDocument(F,p),F.isValidDocument()&&(F.setReadTime(p.commitVersion),E.addEntry(F)))})}),L.next(()=>m.mutationQueue.removeMutationBatch(g,S))}(n,r,e,u).next(()=>u.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(m){let g=Be();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}function HS(a){const e=Ne(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function RD(a,e){const n=Ne(a),r=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((E,S)=>{const T=o.get(S);if(!T)return;m.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,S)));let L=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?L=L.withResumeToken($t.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,r)),o=o.insert(S,L),function(F,G,q){return F.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=TD?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(T,L,E)&&m.push(n.Ti.updateTargetData(u,L))});let g=gi(),p=Be();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(CD(u,d,e.documentUpdates).next(E=>{g=E.qs,p=E.Qs})),!r.isEqual(Ie.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(S=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(E)}return se.waitFor(m).next(()=>d.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,p)).next(()=>g)}).then(u=>(n.xs=o,u))}function CD(a,e,n){let r=Be(),o=Be();return n.forEach(u=>r=r.add(u)),e.getEntries(a,r).next(u=>{let d=gi();return n.forEach((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ie.min())?(e.removeEntry(m,g.readTime),d=d.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),d=d.insert(m,g)):de(Vg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{qs:d,Qs:o}})}function ID(a,e){const n=Ne(a);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=wg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function MD(a,e){const n=Ne(a);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Ti.getTargetData(r,e).next(u=>u?(o=u,se.resolve(o)):n.Ti.allocateTargetId(r).next(d=>(o=new Xi(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.xs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function $m(a,e,n){const r=Ne(a),o=r.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Io(d))throw d;de(Vg,`Failed to update sequence numbers for target ${e}: ${d}`)}r.xs=r.xs.remove(e),r.Os.delete(o.target)}function WE(a,e,n){const r=Ne(a);let o=Ie.min(),u=Be();return r.persistence.runTransaction("Execute query","readwrite",d=>function(g,p,E){const S=Ne(g),T=S.Os.get(E);return T!==void 0?se.resolve(S.xs.get(T)):S.Ti.getTargetData(p,E)}(r,d,wa(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(d,m.targetId).next(g=>{u=g})}).next(()=>r.Ms.getDocumentsMatchingQuery(d,e,n?o:Ie.min(),n?u:Be())).next(m=>(ND(r,gN(e),m),{documents:m,$s:u})))}function ND(a,e,n){let r=a.Ns.get(e)||Ie.min();n.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),a.Ns.set(e,r)}class XE{constructor(){this.activeTargetIds=AN()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DD{constructor(){this.xo=new XE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new XE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="ConnectivityMonitor";class eA{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){de(ZE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){de(ZE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c=null;function Wm(){return $c===null?$c=function(){return 268435456+Math.round(2147483648*Math.random())}():$c++,"0x"+$c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="RestConnection",xD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LD{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${o}`,this.Go=this.databaseId.database===_h?`project_id=${r}`:`project_id=${r}&database_id=${o}`}zo(e,n,r,o,u){const d=Wm(),m=this.jo(e,n.toUriEncodedString());de(Em,`Sending RPC '${e}' ${d}:`,m,r);const g={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(g,o,u);const{host:p}=new URL(m),E=So(p);return this.Jo(e,m,g,r,E).then(S=>(de(Em,`Received RPC '${e}' ${d}: `,S),S),S=>{throw fo(Em,`RPC '${e}' ${d} failed with error: `,S,"url: ",m,"request:",r),S})}Yo(e,n,r,o,u,d){return this.zo(e,n,r,o,u)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const r=xD[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class PD extends LD{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,u){const d=Wm();return new Promise((m,g)=>{const p=new KT;p.setWithCredentials(!0),p.listenOnce(FT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ah.NO_ERROR:const S=p.getResponseJson();de(en,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),m(S);break;case ah.TIMEOUT:de(en,`RPC '${e}' ${d} timed out`),g(new fe(re.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const T=p.getStatus();if(de(en,`RPC '${e}' ${d} failed with status:`,T,"response text:",p.getResponseText()),T>0){let L=p.getResponseJson();Array.isArray(L)&&(L=L[0]);const P=L==null?void 0:L.error;if(P&&P.status&&P.message){const F=function(q){const ee=q.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(ee)>=0?ee:re.UNKNOWN}(P.status);g(new fe(F,P.message))}else g(new fe(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new fe(re.UNAVAILABLE,"Connection failed."));break;default:we(9055,{h_:e,streamId:d,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{de(en,`RPC '${e}' ${d} completed.`)}});const E=JSON.stringify(o);de(en,`RPC '${e}' ${d} sending request:`,o),p.send(n,"POST",E,r,15)})}I_(e,n,r){const o=Wm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=YT(),m=JT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Ho(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const E=u.join("");de(en,`Creating RPC '${e}' stream ${o}: ${E}`,g);const S=d.createWebChannel(E,g);this.E_(S);let T=!1,L=!1;const P=new OD({Zo:G=>{L?de(en,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(T||(de(en,`Opening RPC '${e}' stream ${o} transport.`),S.open(),T=!0),de(en,`RPC '${e}' stream ${o} sending:`,G),S.send(G))},Xo:()=>S.close()}),F=(G,q,ee)=>{G.listen(q,oe=>{try{ee(oe)}catch(Y){setTimeout(()=>{throw Y},0)}})};return F(S,Bl.EventType.OPEN,()=>{L||(de(en,`RPC '${e}' stream ${o} transport opened.`),P.__())}),F(S,Bl.EventType.CLOSE,()=>{L||(L=!0,de(en,`RPC '${e}' stream ${o} transport closed`),P.u_(),this.d_(S))}),F(S,Bl.EventType.ERROR,G=>{L||(L=!0,fo(en,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),P.u_(new fe(re.UNAVAILABLE,"The operation could not be completed")))}),F(S,Bl.EventType.MESSAGE,G=>{var q;if(!L){const ee=G.data[0];We(!!ee,16349);const oe=ee,Y=(oe==null?void 0:oe.error)||((q=oe[0])===null||q===void 0?void 0:q.error);if(Y){de(en,`RPC '${e}' stream ${o} received error:`,Y);const X=Y.status;let le=function(C){const N=bt[C];if(N!==void 0)return MS(N)}(X),D=Y.message;le===void 0&&(le=re.INTERNAL,D="Unknown error status: "+X+" with message "+Y.message),L=!0,P.u_(new fe(le,D)),S.close()}else de(en,`RPC '${e}' stream ${o} received:`,ee),P.c_(ee)}}),F(m,qT.STAT_EVENT,G=>{G.stat===zm.PROXY?de(en,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===zm.NOPROXY&&de(en,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.a_()},0),P}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Am(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(a){return new BN(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n,r=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-r);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="PersistentStream";class KS{constructor(e,n,r,o,u,d,m,g){this.xi=e,this.S_=r,this.D_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new GS(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(mi(n.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.v_===n&&this.z_(r,o)},r=>{e(()=>{const o=new fe(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(o)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{r(()=>this.j_(o))}),this.stream.onMessage(o=>{r(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return de(tA,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(de(tA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VD extends KS{constructor(e,n,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,d),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=GN(this.serializer,e),r=function(u){if(!("targetChange"in u))return Ie.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ie.min():d.readTime?Ca(d.readTime):Ie.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Qm(this.serializer),n.addTarget=function(u,d){let m;const g=d.target;if(m=Km(g)?{documents:qN(u,g)}:{query:JN(u,g).gt},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=kS(u,d.resumeToken);const p=qm(u,d.expectedCount);p!==null&&(m.expectedCount=p)}else if(d.snapshotVersion.compareTo(Ie.min())>0){m.readTime=bh(u,d.snapshotVersion.toTimestamp());const p=qm(u,d.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const r=QN(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Qm(this.serializer),n.removeTarget=e,this.Q_(n)}}class UD extends KS{constructor(e,n,r,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,d),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=FN(e.writeResults,e.commitTime),r=Ca(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Qm(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>KN(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{}class BD extends zD{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.zo(e,Jm(n,r),o,u,d)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(re.UNKNOWN,u.toString())})}Yo(e,n,r,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Yo(e,Jm(n,r),o,d,m,u)).catch(d=>{throw d.name==="FirebaseError"?(d.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(re.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class jD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(mi(n),this.ua=!1):de("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="RemoteStore";class HD{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(d=>{r.enqueueAndForget(async()=>{us(this)&&(de(ns,"Restarting streams for network reachability change."),await async function(g){const p=Ne(g);p.da.add(4),await vu(p),p.Va.set("Unknown"),p.da.delete(4),await Qh(p)}(this))})}),this.Va=new jD(r,o)}}async function Qh(a){if(us(a))for(const e of a.Aa)await e(!0)}async function vu(a){for(const e of a.Aa)await e(!1)}function FS(a,e){const n=Ne(a);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),jg(n)?Bg(n):No(n).N_()&&zg(n,e))}function Ug(a,e){const n=Ne(a),r=No(n);n.Ea.delete(e),r.N_()&&qS(n,e),n.Ea.size===0&&(r.N_()?r.k_():us(n)&&n.Va.set("Unknown"))}function zg(a,e){if(a.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(a).Z_(e)}function qS(a,e){a.ma.Ke(e),No(a).X_(e)}function Bg(a){a.ma=new PN({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>a.Ea.get(e)||null,Pt:()=>a.datastore.serializer.databaseId}),No(a).start(),a.Va.ca()}function jg(a){return us(a)&&!No(a).O_()&&a.Ea.size>0}function us(a){return Ne(a).da.size===0}function JS(a){a.ma=void 0}async function GD(a){a.Va.set("Online")}async function KD(a){a.Ea.forEach((e,n)=>{zg(a,e)})}async function FD(a,e){JS(a),jg(a)?(a.Va.Pa(e),Bg(a)):a.Va.set("Unknown")}async function qD(a,e,n){if(a.Va.set("Online"),e instanceof DS&&e.state===2&&e.cause)try{await async function(o,u){const d=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.Ea.delete(m),o.ma.removeTarget(m))}(a,e)}catch(r){de(ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rh(a,r)}else if(e instanceof oh?a.ma.Xe(e):e instanceof NS?a.ma.ot(e):a.ma.nt(e),!n.isEqual(Ie.min()))try{const r=await HS(a.localStore);n.compareTo(r)>=0&&await function(u,d){const m=u.ma.It(d);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ea.get(p);E&&u.Ea.set(p,E.withResumeToken(g.resumeToken,d))}}),m.targetMismatches.forEach((g,p)=>{const E=u.Ea.get(g);if(!E)return;u.Ea.set(g,E.withResumeToken($t.EMPTY_BYTE_STRING,E.snapshotVersion)),qS(u,g);const S=new Xi(E.target,g,p,E.sequenceNumber);zg(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(a,n)}catch(r){de(ns,"Failed to raise snapshot:",r),await Rh(a,r)}}async function Rh(a,e,n){if(!Io(e))throw e;a.da.add(1),await vu(a),a.Va.set("Offline"),n||(n=()=>HS(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{de(ns,"Retrying IndexedDB access"),await n(),a.da.delete(1),await Qh(a)})}function YS(a,e){return e().catch(n=>Rh(a,n,e))}async function $h(a){const e=Ne(a),n=lr(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:wg;for(;JD(e);)try{const o=await ID(e.localStore,r);if(o===null){e.Ia.length===0&&n.k_();break}r=o.batchId,YD(e,o)}catch(o){await Rh(e,o)}QS(e)&&$S(e)}function JD(a){return us(a)&&a.Ia.length<10}function YD(a,e){a.Ia.push(e);const n=lr(a);n.N_()&&n.ea&&n.ta(e.mutations)}function QS(a){return us(a)&&!lr(a).O_()&&a.Ia.length>0}function $S(a){lr(a).start()}async function QD(a){lr(a).ia()}async function $D(a){const e=lr(a);for(const n of a.Ia)e.ta(n.mutations)}async function WD(a,e,n){const r=a.Ia.shift(),o=Dg.from(r,e,n);await YS(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await $h(a)}async function XD(a,e){e&&lr(a).ea&&await async function(r,o){if(function(d){return LN(d)&&d!==re.ABORTED}(o.code)){const u=r.Ia.shift();lr(r).L_(),await YS(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o)),await $h(r)}}(a,e),QS(a)&&$S(a)}async function nA(a,e){const n=Ne(a);n.asyncQueue.verifyOperationInProgress(),de(ns,"RemoteStore received new credentials");const r=us(n);n.da.add(3),await vu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Qh(n)}async function ZD(a,e){const n=Ne(a);e?(n.da.delete(2),await Qh(n)):e||(n.da.add(2),await vu(n),n.Va.set("Unknown"))}function No(a){return a.fa||(a.fa=function(n,r,o){const u=Ne(n);return u.oa(),new VD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(a.datastore,a.asyncQueue,{e_:GD.bind(null,a),n_:KD.bind(null,a),i_:FD.bind(null,a),Y_:qD.bind(null,a)}),a.Aa.push(async e=>{e?(a.fa.L_(),jg(a)?Bg(a):a.Va.set("Unknown")):(await a.fa.stop(),JS(a))})),a.fa}function lr(a){return a.ga||(a.ga=function(n,r,o){const u=Ne(n);return u.oa(),new UD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(a.datastore,a.asyncQueue,{e_:()=>Promise.resolve(),n_:QD.bind(null,a),i_:XD.bind(null,a),na:$D.bind(null,a),ra:WD.bind(null,a)}),a.Aa.push(async e=>{e?(a.ga.L_(),await $h(a)):(await a.ga.stop(),a.Ia.length>0&&(de(ns,`Stopping write stream with ${a.Ia.length} pending writes`),a.Ia=[]))})),a.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const d=Date.now()+r,m=new Hg(e,n,d,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gg(a,e){if(mi("AsyncQueue",`${e}: ${a}`),Io(a))return new fe(re.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=jl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new co;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.pa=new ft(_e.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class vo{constructor(e,n,r,o,u,d,m,g,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,o,u){const d=[];return n.forEach(m=>{d.push({type:0,doc:m})}),new vo(e,n,co.emptySet(n),d,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class t2{constructor(){this.queries=iA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ne(n),u=o.queries;o.queries=iA(),u.forEach((d,m)=>{for(const g of m.Sa)g.onError(r)})})(this,new fe(re.ABORTED,"Firestore shutting down"))}}function iA(){return new ls(a=>pS(a),Gh)}async function Kg(a,e){const n=Ne(a);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(r=2):(u=new e2,r=e.va()?0:1);try{switch(r){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const m=Gg(d,`Initialization of query '${io(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&qg(n)}async function Fg(a,e){const n=Ne(a),r=e.query;let o=3;const u=n.queries.get(r);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function n2(a,e){const n=Ne(a);let r=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const m of d.Sa)m.Ma(o)&&(r=!0);d.ba=o}}r&&qg(n)}function a2(a,e,n){const r=Ne(a),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(e)}function qg(a){a.Ca.forEach(e=>{e.next()})}var Xm,rA;(rA=Xm||(Xm={})).xa="default",rA.Cache="cache";class Jg{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this.key=e}}class XS{constructor(e){this.key=e}}class i2{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Be(),this.mutatedKeys=Be(),this.Za=yS(e),this.Xa=new co(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new aA,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const T=o.get(E),L=Kh(this.query,S)?S:null,P=!!T&&this.mutatedKeys.has(T.key),F=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let G=!1;T&&L?T.data.isEqual(L.data)?P!==F&&(r.track({type:3,doc:L}),G=!0):this.ru(T,L)||(r.track({type:2,doc:L}),G=!0,(g&&this.Za(L,g)>0||p&&this.Za(L,p)<0)&&(m=!0)):!T&&L?(r.track({type:0,doc:L}),G=!0):T&&!L&&(r.track({type:1,doc:T}),G=!0,(g||p)&&(m=!0)),G&&(L?(d=d.add(L),u=F?u.add(E):u.delete(E)):(d=d.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{Xa:d,nu:r,Cs:m,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const d=e.nu.wa();d.sort((E,S)=>function(L,P){const F=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:G})}};return F(L)-F(P)}(E.type,S.type)||this.Za(E.doc,S.doc)),this.iu(r),o=o!=null&&o;const m=n&&!o?this.su():[],g=this.Ya.size===0&&this.current&&!o?1:0,p=g!==this.Ja;return this.Ja=g,d.length!==0||p?{snapshot:new vo(this.query,e.Xa,u,d,e.mutatedKeys,g===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new aA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Be(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new XS(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new WS(r))}),n}au(e){this.Ha=e.$s,this.Ya=Be();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return vo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Yg="SyncEngine";class r2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class s2{constructor(e){this.key=e,this.cu=!1}}class o2{constructor(e,n,r,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new ls(m=>pS(m),Gh),this.Pu=new Map,this.Tu=new Set,this.Iu=new ft(_e.comparator),this.Eu=new Map,this.du=new Lg,this.Au={},this.Ru=new Map,this.Vu=yo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function l2(a,e,n=!0){const r=i0(a);let o;const u=r.hu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await ZS(r,e,n,!0),o}async function u2(a,e){const n=i0(a);await ZS(n,e,!0,!1)}async function ZS(a,e,n,r){const o=await MD(a.localStore,wa(e)),u=o.targetId,d=a.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await c2(a,e,u,d==="current",o.resumeToken)),a.isPrimaryClient&&n&&FS(a.remoteStore,o),m}async function c2(a,e,n,r,o){a.fu=(S,T,L)=>async function(F,G,q,ee){let oe=G.view.tu(q);oe.Cs&&(oe=await WE(F.localStore,G.query,!1).then(({documents:D})=>G.view.tu(D,oe)));const Y=ee&&ee.targetChanges.get(G.targetId),X=ee&&ee.targetMismatches.get(G.targetId)!=null,le=G.view.applyChanges(oe,F.isPrimaryClient,Y,X);return oA(F,G.targetId,le.ou),le.snapshot}(a,S,T,L);const u=await WE(a.localStore,e,!0),d=new i2(e,u.$s),m=d.tu(u.documents),g=yu.createSynthesizedTargetChangeForCurrentChange(n,r&&a.onlineState!=="Offline",o),p=d.applyChanges(m,a.isPrimaryClient,g);oA(a,n,p.ou);const E=new r2(e,n,d);return a.hu.set(e,E),a.Pu.has(n)?a.Pu.get(n).push(e):a.Pu.set(n,[e]),p.snapshot}async function h2(a,e,n){const r=Ne(a),o=r.hu.get(e),u=r.Pu.get(o.targetId);if(u.length>1)return r.Pu.set(o.targetId,u.filter(d=>!Gh(d,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await $m(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Ug(r.remoteStore,o.targetId),Zm(r,o.targetId)}).catch(Co)):(Zm(r,o.targetId),await $m(r.localStore,o.targetId,!0))}async function d2(a,e){const n=Ne(a),r=n.hu.get(e),o=n.Pu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ug(n.remoteStore,r.targetId))}async function f2(a,e,n){const r=E2(a);try{const o=await function(d,m){const g=Ne(d),p=xt.now(),E=m.reduce((L,P)=>L.add(P.key),Be());let S,T;return g.persistence.runTransaction("Locally write mutations","readwrite",L=>{let P=gi(),F=Be();return g.Bs.getEntries(L,E).next(G=>{P=G,P.forEach((q,ee)=>{ee.isValidDocument()||(F=F.add(q))})}).next(()=>g.localDocuments.getOverlayedDocuments(L,P)).next(G=>{S=G;const q=[];for(const ee of m){const oe=MN(ee,S.get(ee.key).overlayedDocument);oe!=null&&q.push(new dr(ee.key,oe,lS(oe.value.mapValue),Ra.exists(!0)))}return g.mutationQueue.addMutationBatch(L,p,q,m)}).next(G=>{T=G;const q=G.applyToLocalDocumentSet(S,F);return g.documentOverlayCache.saveOverlays(L,G.batchId,q)})}).then(()=>({batchId:T.batchId,changes:_S(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(d,m,g){let p=d.Au[d.currentUser.toKey()];p||(p=new ft(Oe)),p=p.insert(m,g),d.Au[d.currentUser.toKey()]=p}(r,o.batchId,n),await _u(r,o.changes),await $h(r.remoteStore)}catch(o){const u=Gg(o,"Failed to persist write");n.reject(u)}}async function e0(a,e){const n=Ne(a);try{const r=await RD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const d=n.Eu.get(u);d&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.cu=!0:o.modifiedDocuments.size>0?We(d.cu,14607):o.removedDocuments.size>0&&(We(d.cu,42227),d.cu=!1))}),await _u(n,r,e)}catch(r){await Co(r)}}function sA(a,e,n){const r=Ne(a);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.hu.forEach((u,d)=>{const m=d.view.Fa(e);m.snapshot&&o.push(m.snapshot)}),function(d,m){const g=Ne(d);g.onlineState=m;let p=!1;g.queries.forEach((E,S)=>{for(const T of S.Sa)T.Fa(m)&&(p=!0)}),p&&qg(g)}(r.eventManager,e),o.length&&r.lu.Y_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function m2(a,e,n){const r=Ne(a);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Eu.get(e),u=o&&o.key;if(u){let d=new ft(_e.comparator);d=d.insert(u,nn.newNoDocument(u,Ie.min()));const m=Be().add(u),g=new Jh(Ie.min(),new Map,new ft(Oe),d,m);await e0(r,g),r.Iu=r.Iu.remove(u),r.Eu.delete(e),Qg(r)}else await $m(r.localStore,e,!1).then(()=>Zm(r,e,n)).catch(Co)}async function g2(a,e){const n=Ne(a),r=e.batch.batchId;try{const o=await wD(n.localStore,e);n0(n,r,null),t0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _u(n,o)}catch(o){await Co(o)}}async function p2(a,e,n){const r=Ne(a);try{const o=await function(d,m){const g=Ne(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next(S=>(We(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(p,S))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E)).next(()=>g.localDocuments.getDocuments(p,E))})}(r.localStore,e);n0(r,e,n),t0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _u(r,o)}catch(o){await Co(o)}}function t0(a,e){(a.Ru.get(e)||[]).forEach(n=>{n.resolve()}),a.Ru.delete(e)}function n0(a,e,n){const r=Ne(a);let o=r.Au[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.Au[r.currentUser.toKey()]=o}}function Zm(a,e,n=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Pu.get(e))a.hu.delete(r),n&&a.lu.gu(r,n);a.Pu.delete(e),a.isPrimaryClient&&a.du.Hr(e).forEach(r=>{a.du.containsKey(r)||a0(a,r)})}function a0(a,e){a.Tu.delete(e.path.canonicalString());const n=a.Iu.get(e);n!==null&&(Ug(a.remoteStore,n),a.Iu=a.Iu.remove(e),a.Eu.delete(n),Qg(a))}function oA(a,e,n){for(const r of n)r instanceof WS?(a.du.addReference(r.key,e),y2(a,r)):r instanceof XS?(de(Yg,"Document no longer in limbo: "+r.key),a.du.removeReference(r.key,e),a.du.containsKey(r.key)||a0(a,r.key)):we(19791,{pu:r})}function y2(a,e){const n=e.key,r=n.path.canonicalString();a.Iu.get(n)||a.Tu.has(r)||(de(Yg,"New document in limbo: "+n),a.Tu.add(r),Qg(a))}function Qg(a){for(;a.Tu.size>0&&a.Iu.size<a.maxConcurrentLimboResolutions;){const e=a.Tu.values().next().value;a.Tu.delete(e);const n=new _e(ot.fromString(e)),r=a.Vu.next();a.Eu.set(r,new s2(n)),a.Iu=a.Iu.insert(n,r),FS(a.remoteStore,new Xi(wa(Hh(n.path)),r,"TargetPurposeLimboResolution",zh.le))}}async function _u(a,e,n){const r=Ne(a),o=[],u=[],d=[];r.hu.isEmpty()||(r.hu.forEach((m,g)=>{d.push(r.fu(g,e,n).then(p=>{var E;if((p||n)&&r.isPrimaryClient){const S=p?!p.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;r.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(p){o.push(p);const S=Pg.Rs(g.targetId,p);u.push(S)}}))}),await Promise.all(d),r.lu.Y_(o),await async function(g,p){const E=Ne(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>se.forEach(p,T=>se.forEach(T.ds,L=>E.persistence.referenceDelegate.addReference(S,T.targetId,L)).next(()=>se.forEach(T.As,L=>E.persistence.referenceDelegate.removeReference(S,T.targetId,L)))))}catch(S){if(!Io(S))throw S;de(Vg,"Failed to update sequence numbers: "+S)}for(const S of p){const T=S.targetId;if(!S.fromCache){const L=E.xs.get(T),P=L.snapshotVersion,F=L.withLastLimboFreeSnapshotVersion(P);E.xs=E.xs.insert(T,F)}}}(r.localStore,u))}async function v2(a,e){const n=Ne(a);if(!n.currentUser.isEqual(e)){de(Yg,"User change. New user:",e.toKey());const r=await jS(n.localStore,e);n.currentUser=e,function(u,d){u.Ru.forEach(m=>{m.forEach(g=>{g.reject(new fe(re.CANCELLED,d))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _u(n,r.ks)}}function _2(a,e){const n=Ne(a),r=n.Eu.get(e);if(r&&r.cu)return Be().add(r.key);{let o=Be();const u=n.Pu.get(e);if(!u)return o;for(const d of u){const m=n.hu.get(d);o=o.unionWith(m.view.eu)}return o}}function i0(a){const e=Ne(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=e0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m2.bind(null,e),e.lu.Y_=n2.bind(null,e.eventManager),e.lu.gu=a2.bind(null,e.eventManager),e}function E2(a){const e=Ne(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p2.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return bD(this.persistence,new AD,e.initialUser,this.serializer)}Su(e){return new BS(Og.fi,this.serializer)}bu(e){return new DD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class A2 extends Ch{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){We(this.persistence.referenceDelegate instanceof wh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sD(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new BS(r=>wh.fi(r,n),this.serializer)}}class eg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=v2.bind(null,this.syncEngine),await ZD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new t2}()}createDatastore(e){const n=Yh(e.databaseInfo.databaseId),r=function(u){return new PD(u)}(e.databaseInfo);return function(u,d,m,g){return new BD(u,d,m,g)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,o,u,d,m){return new HD(r,o,u,d,m)}(this.localStore,this.datastore,e.asyncQueue,n=>sA(this.syncEngine,n,0),function(){return eA.C()?new eA:new kD}())}createSyncEngine(e,n){return function(o,u,d,m,g,p,E){const S=new o2(o,u,d,m,g,p);return E&&(S.mu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ne(o);de(ns,"RemoteStore shutting down."),u.da.add(5),await vu(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}eg.provider={build:()=>new eg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="FirestoreClient";class T2{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=XT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async d=>{de(ur,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(de(ur,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Tm(a,e){a.asyncQueue.verifyOperationInProgress(),de(ur,"Initializing OfflineComponentProvider");const n=a.configuration;await e.initialize(n);let r=n.initialUser;a.setCredentialChangeListener(async o=>{r.isEqual(o)||(await jS(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function lA(a,e){a.asyncQueue.verifyOperationInProgress();const n=await S2(a);de(ur,"Initializing OnlineComponentProvider"),await e.initialize(n,a.configuration),a.setCredentialChangeListener(r=>nA(e.remoteStore,r)),a.setAppCheckTokenChangeListener((r,o)=>nA(e.remoteStore,o)),a._onlineComponents=e}async function S2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){de(ur,"Using user provided OfflineComponentProvider");try{await Tm(a,a._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await Tm(a,new Ch)}}else de(ur,"Using default OfflineComponentProvider"),await Tm(a,new A2(void 0));return a._offlineComponents}async function r0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(de(ur,"Using user provided OnlineComponentProvider"),await lA(a,a._uninitializedComponentsProvider._online)):(de(ur,"Using default OnlineComponentProvider"),await lA(a,new eg))),a._onlineComponents}function b2(a){return r0(a).then(e=>e.syncEngine)}async function Ih(a){const e=await r0(a),n=e.eventManager;return n.onListen=l2.bind(null,e.syncEngine),n.onUnlisten=h2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=u2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=d2.bind(null,e.syncEngine),n}function w2(a,e,n={}){const r=new ci;return a.asyncQueue.enqueueAndForget(async()=>function(u,d,m,g,p){const E=new $g({next:T=>{E.xu(),d.enqueueAndForget(()=>Fg(u,S));const L=T.docs.has(m);!L&&T.fromCache?p.reject(new fe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&T.fromCache&&g&&g.source==="server"?p.reject(new fe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),S=new Jg(Hh(m.path),E,{includeMetadataChanges:!0,Qa:!0});return Kg(u,S)}(await Ih(a),a.asyncQueue,e,n,r)),r.promise}function R2(a,e,n={}){const r=new ci;return a.asyncQueue.enqueueAndForget(async()=>function(u,d,m,g,p){const E=new $g({next:T=>{E.xu(),d.enqueueAndForget(()=>Fg(u,S)),T.fromCache&&g.source==="server"?p.reject(new fe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),S=new Jg(m,E,{includeMetadataChanges:!0,Qa:!0});return Kg(u,S)}(await Ih(a),a.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(a,e,n){if(!n)throw new fe(re.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function C2(a,e,n,r){if(e===!0&&r===!0)throw new fe(re.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function cA(a){if(!_e.isDocumentKey(a))throw new fe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function hA(a){if(_e.isDocumentKey(a))throw new fe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Wh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":we(12329,{type:typeof a})}function Kn(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new fe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(a);throw new fe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="firestore.googleapis.com",dA=!0;class fA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=l0,this.ssl=dA}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:dA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iD)throw new fe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new LM;switch(r.type){case"firstParty":return new UM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=uA.get(n);r&&(de("ComponentProvider","Removing Datastore"),uA.delete(n),r.terminate())}(this),Promise.resolve()}}function I2(a,e,n,r={}){var o;a=Kn(a,Xh);const u=So(e),d=a._getSettings(),m=Object.assign(Object.assign({},d),{emulatorOptions:a._getEmulatorOptions()}),g=`${e}:${n}`;u&&(nT(`https://${g}`),aT("Firestore",!0)),d.host!==l0&&d.host!==g&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},d),{host:g,ssl:u,emulatorOptions:r});if(!ar(p,m)&&(a._setSettings(p),r.mockUserToken)){let E,S;if(typeof r.mockUserToken=="string")E=r.mockUserToken,S=tn.MOCK_USER;else{E=sC(r.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new fe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new tn(T)}a._authCredentials=new OM(new $T(E,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pi(this.firestore,e,this._query)}}class an{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class nr extends pi{constructor(e,n,r){super(e,n,Hh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new _e(e))}withConverter(e){return new nr(this.firestore,e,this._path)}}function mA(a,e,...n){if(a=Rt(a),o0("collection","path",e),a instanceof Xh){const r=ot.fromString(e,...n);return hA(r),new nr(a,null,r)}{if(!(a instanceof an||a instanceof nr))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ot.fromString(e,...n));return hA(r),new nr(a.firestore,null,r)}}function ri(a,e,...n){if(a=Rt(a),arguments.length===1&&(e=XT.newId()),o0("doc","path",e),a instanceof Xh){const r=ot.fromString(e,...n);return cA(r),new an(a,null,new _e(r))}{if(!(a instanceof an||a instanceof nr))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ot.fromString(e,...n));return cA(r),new an(a.firestore,a instanceof nr?a.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="AsyncQueue";class pA{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new GS(this,"async_queue_retry"),this.rc=()=>{const r=Am();r&&de(gA,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Am();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new ci;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Io(e))throw e;de(gA,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,mi("INTERNAL UNHANDLED ERROR: ",yA(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=Hg.createAndSchedule(this,e,n,r,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&we(47125,{cc:yA(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function yA(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(a){return function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1}(a,["next","error","complete"])}class as extends Xh{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new pA,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pA(e),this._firestoreClient=void 0,await e}}}function M2(a,e){const n=typeof a=="object"?a:dg(),r=typeof a=="string"?a:_h,o=os(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=iC("firestore");u&&I2(o,...u)}return o}function Zh(a){if(a._terminated)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||N2(a),a._firestoreClient}function N2(a){var e,n,r;const o=a._freezeSettings(),u=function(m,g,p,E){return new ZM(m,g,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,s0(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new T2(a._authCredentials,a._appCheckCredentials,a._queue,u,a._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _o($t.fromBase64String(e))}catch(n){throw new fe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _o($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=/^__.*__$/;class k2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new dr(e,this.data,this.fieldMask,n,this.fieldTransforms):new pu(e,this.data,n,this.fieldTransforms)}}class u0{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new dr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function c0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ic:a})}}class Zg{constructor(e,n,r,o,u,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Zg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:r,Rc:!1});return o.Vc(e),o}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:r,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Mh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(c0(this.Ic)&&D2.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class x2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yh(e)}bc(e,n,r,o=!1){return new Zg({Ic:e,methodName:n,wc:r,path:Qt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ep(a){const e=a._freezeSettings(),n=Yh(a._databaseId);return new x2(a._databaseId,!!e.ignoreUndefinedProperties,n)}function L2(a,e,n,r,o,u={}){const d=a.bc(u.merge||u.mergeFields?2:0,e,n,o);np("Data must be an object, but it was:",d,r);const m=h0(r,d);let g,p;if(u.merge)g=new Mn(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const T=tg(e,S,n);if(!d.contains(T))throw new fe(re.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);f0(E,T)||E.push(T)}g=new Mn(E),p=d.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,p=d.fieldTransforms;return new k2(new yn(m),g,p)}class nd extends td{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nd}}class tp extends td{_toFieldTransform(e){return new wN(e.path,new ru)}isEqual(e){return e instanceof tp}}function O2(a,e,n,r){const o=a.bc(1,e,n);np("Data must be an object, but it was:",o,r);const u=[],d=yn.empty();hr(r,(g,p)=>{const E=ap(e,g,n);p=Rt(p);const S=o.mc(E);if(p instanceof nd)u.push(E);else{const T=Eu(p,S);T!=null&&(u.push(E),d.set(E,T))}});const m=new Mn(u);return new u0(d,m,o.fieldTransforms)}function P2(a,e,n,r,o,u){const d=a.bc(1,e,n),m=[tg(e,r,n)],g=[o];if(u.length%2!=0)throw new fe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)m.push(tg(e,u[T])),g.push(u[T+1]);const p=[],E=yn.empty();for(let T=m.length-1;T>=0;--T)if(!f0(p,m[T])){const L=m[T];let P=g[T];P=Rt(P);const F=d.mc(L);if(P instanceof nd)p.push(L);else{const G=Eu(P,F);G!=null&&(p.push(L),E.set(L,G))}}const S=new Mn(p);return new u0(E,S,d.fieldTransforms)}function V2(a,e,n,r=!1){return Eu(n,a.bc(r?4:3,e))}function Eu(a,e){if(d0(a=Rt(a)))return np("Unsupported field value:",e,a),h0(a,e);if(a instanceof td)return function(r,o){if(!c0(o.Ic))throw o.gc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,o){const u=[];let d=0;for(const m of r){let g=Eu(m,o.fc(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}}(a,e)}return function(r,o){if((r=Rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=xt.fromDate(r);return{timestampValue:bh(o.serializer,u)}}if(r instanceof xt){const u=new xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bh(o.serializer,u)}}if(r instanceof Wg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _o)return{bytesValue:kS(o.serializer,r._byteString)};if(r instanceof an){const u=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw o.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:xg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Xg)return function(d,m){return{mapValue:{fields:{[sS]:{stringValue:oS},[Eh]:{arrayValue:{values:d.toArray().map(p=>{if(typeof p!="number")throw m.gc("VectorValues must only contain numeric values.");return Ng(m.serializer,p)})}}}}}}(r,o);throw o.gc(`Unsupported field value: ${Wh(r)}`)}(a,e)}function h0(a,e){const n={};return eS(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hr(a,(r,o)=>{const u=Eu(o,e.Ac(r));u!=null&&(n[r]=u)}),{mapValue:{fields:n}}}function d0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof xt||a instanceof Wg||a instanceof _o||a instanceof an||a instanceof td||a instanceof Xg)}function np(a,e,n){if(!d0(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const r=Wh(n);throw r==="an object"?e.gc(a+" a custom object"):e.gc(a+" "+r)}}function tg(a,e,n){if((e=Rt(e))instanceof ed)return e._internalPath;if(typeof e=="string")return ap(a,e);throw Mh("Field path arguments must be of type string or ",a,!1,void 0,n)}const U2=new RegExp("[~\\*/\\[\\]]");function ap(a,e,n){if(e.search(U2)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new ed(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function Mh(a,e,n,r,o){const u=r&&!r.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${r}`),d&&(g+=` in document ${o}`),g+=")"),new fe(re.INVALID_ARGUMENT,m+a+g)}function f0(a,e){return a.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ip("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class z2 extends m0{data(){return super.data()}}function ip(a,e){return typeof e=="string"?ap(a,e):e instanceof ed?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new fe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rp{}class sp extends rp{}function B2(a,e,...n){let r=[];e instanceof rp&&r.push(e),r=r.concat(n),function(u){const d=u.filter(g=>g instanceof lp).length,m=u.filter(g=>g instanceof op).length;if(d>1||d>0&&m>0)throw new fe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)a=o._apply(a);return a}class op extends sp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new op(e,n,r)}_apply(e){const n=this._parse(e);return p0(e._query,n),new pi(e.firestore,e.converter,Fm(e._query,n))}_parse(e){const n=ep(e.firestore);return function(u,d,m,g,p,E,S){let T;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new fe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){EA(S,E);const P=[];for(const F of S)P.push(_A(g,u,F));T={arrayValue:{values:P}}}else T=_A(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||EA(S,E),T=V2(m,d,S,E==="in"||E==="not-in");return wt.create(p,E,T)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class lp extends rp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ia.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let d=o;const m=u.getFlattenedFilters();for(const g of m)p0(d,g),d=Fm(d,g)}(e._query,n),new pi(e.firestore,e.converter,Fm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class up extends sp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new up(e,n)}_apply(e){const n=function(o,u,d){if(o.startAt!==null)throw new fe(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new iu(u,d)}(e._query,this._field,this._direction);return new pi(e.firestore,e.converter,function(o,u){const d=o.explicitOrderBy.concat([u]);return new Mo(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function j2(a,e="asc"){const n=e,r=ip("orderBy",a);return up._create(r,n)}class cp extends sp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new cp(e,n,r)}_apply(e){return new pi(e.firestore,e.converter,Th(e._query,this._limit,this._limitType))}}function H2(a){return cp._create("limit",a,"F")}function _A(a,e,n){if(typeof(n=Rt(n))=="string"){if(n==="")throw new fe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gS(e)&&n.indexOf("/")!==-1)throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ot.fromString(n));if(!_e.isDocumentKey(r))throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kE(a,new _e(r))}if(n instanceof an)return kE(a,n._key);throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function EA(a,e){if(!Array.isArray(a)||a.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function p0(a,e){const n=function(o,u){for(const d of o)for(const m of d.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(a.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class G2{convertValue(e,n="none"){switch(or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return hr(e,(o,u)=>{r[o]=this.convertValue(u,n)}),r}convertVectorValue(e){var n,r,o;const u=(o=(r=(n=e.fields)===null||n===void 0?void 0:n[Eh].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(d=>_t(d.doubleValue));return new Xg(u)}convertGeoPoint(e){return new Wg(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const n=rr(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);We(US(r),9688,{name:e});const o=new nu(r.get(1),r.get(3)),u=new _e(r.popFirst(5));return o.isEqual(n)||mi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(a,e,n){let r;return r=a?n&&(n.merge||n.mergeFields)?a.toFirestore(e,n):a.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class y0 extends m0{constructor(e,n,r,o,u,d){super(e,n,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ip("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class lh extends y0{data(e={}){return super.data(e)}}class v0{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new lh(this._firestore,this._userDataWriter,r.key,r,new Gl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>{const g=new lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),E=d.indexOf(m.doc.key)),{type:F2(m.type),doc:g,oldIndex:p,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function F2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(a){a=Kn(a,an);const e=Kn(a.firestore,as);return w2(Zh(e),a._key).then(n=>E0(e,a,n))}class hp extends G2{constructor(e){super(),this.firestore=e}convertBytes(e){return new _o(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function q2(a){a=Kn(a,pi);const e=Kn(a.firestore,as),n=Zh(e),r=new hp(e);return g0(a._query),R2(n,a._query).then(o=>new v0(e,r,a,o))}function Jr(a,e,n){a=Kn(a,an);const r=Kn(a.firestore,as),o=K2(a.converter,e,n);return _0(r,[L2(ep(r),"setDoc",a._key,o,a.converter!==null,n).toMutation(a._key,Ra.none())])}function J2(a,e,n,...r){a=Kn(a,an);const o=Kn(a.firestore,as),u=ep(o);let d;return d=typeof(e=Rt(e))=="string"||e instanceof ed?P2(u,"updateDoc",a._key,e,n,r):O2(u,"updateDoc",a._key,e),_0(o,[d.toMutation(a._key,Ra.exists(!0))])}function Y2(a,...e){var n,r,o;a=Rt(a);let u={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||vA(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(vA(e[d])){const S=e[d];e[d]=(n=S.next)===null||n===void 0?void 0:n.bind(S),e[d+1]=(r=S.error)===null||r===void 0?void 0:r.bind(S),e[d+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let g,p,E;if(a instanceof an)p=Kn(a.firestore,as),E=Hh(a._key.path),g={next:S=>{e[d]&&e[d](E0(p,a,S))},error:e[d+1],complete:e[d+2]};else{const S=Kn(a,pi);p=Kn(S.firestore,as),E=S._query;const T=new hp(p);g={next:L=>{e[d]&&e[d](new v0(p,T,S,L))},error:e[d+1],complete:e[d+2]},g0(a._query)}return function(T,L,P,F){const G=new $g(F),q=new Jg(L,G,P);return T.asyncQueue.enqueueAndForget(async()=>Kg(await Ih(T),q)),()=>{G.xu(),T.asyncQueue.enqueueAndForget(async()=>Fg(await Ih(T),q))}}(Zh(p),E,m,g)}function _0(a,e){return function(r,o){const u=new ci;return r.asyncQueue.enqueueAndForget(async()=>f2(await b2(r),o,u)),u.promise}(Zh(a),e)}function E0(a,e,n){const r=n.docs.get(e._key),o=new hp(a);return new y0(a,o,e._key,r,new Gl(n.hasPendingWrites,n.fromCache),e.converter)}function Jt(){return new tp("serverTimestamp")}(function(e,n=!0){(function(o){Ro=o})(bo),Ia(new aa("firestore",(r,{instanceIdentifier:o,options:u})=>{const d=r.getProvider("app").getImmediate(),m=new as(new PM(r.getProvider("auth-internal")),new zM(d,r.getProvider("app-check-internal")),function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(p.options.projectId,E)}(d,o),d);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Gn(EE,AE,e),Gn(EE,AE,"esm2017")})();var Q2="firebase",$2="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn(Q2,$2,"app");const A0="@firebase/installations",dp="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=1e4,S0=`w:${dp}`,b0="FIS_v2",W2="https://firebaseinstallations.googleapis.com/v1",X2=60*60*1e3,Z2="installations",ek="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},is=new ss(Z2,ek,tk);function w0(a){return a instanceof sa&&a.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0({projectId:a}){return`${W2}/projects/${a}/installations`}function C0(a){return{token:a.token,requestStatus:2,expiresIn:ak(a.expiresIn),creationTime:Date.now()}}async function I0(a,e){const r=(await e.json()).error;return is.create("request-failed",{requestName:a,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function M0({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function nk(a,{refreshToken:e}){const n=M0(a);return n.append("Authorization",ik(e)),n}async function N0(a){const e=await a();return e.status>=500&&e.status<600?a():e}function ak(a){return Number(a.replace("s","000"))}function ik(a){return`${b0} ${a}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rk({appConfig:a,heartbeatServiceProvider:e},{fid:n}){const r=R0(a),o=M0(a),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const d={fid:n,authVersion:b0,appId:a.appId,sdkVersion:S0},m={method:"POST",headers:o,body:JSON.stringify(d)},g=await N0(()=>fetch(r,m));if(g.ok){const p=await g.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:C0(p.authToken)}}else throw await I0("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(a){return new Promise(e=>{setTimeout(e,a)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=/^[cdef][\w-]{21}$/,ng="";function lk(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const n=uk(a);return ok.test(n)?n:ng}catch{return ng}}function uk(a){return sk(a).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(a){return`${a.appName}!${a.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=new Map;function x0(a,e){const n=ad(a);L0(n,e),ck(n,e)}function L0(a,e){const n=k0.get(a);if(n)for(const r of n)r(e)}function ck(a,e){const n=hk();n&&n.postMessage({key:a,fid:e}),dk()}let Xr=null;function hk(){return!Xr&&"BroadcastChannel"in self&&(Xr=new BroadcastChannel("[Firebase] FID Change"),Xr.onmessage=a=>{L0(a.data.key,a.data.fid)}),Xr}function dk(){k0.size===0&&Xr&&(Xr.close(),Xr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk="firebase-installations-database",mk=1,rs="firebase-installations-store";let Sm=null;function fp(){return Sm||(Sm=uT(fk,mk,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(rs)}}})),Sm}async function Nh(a,e){const n=ad(a),o=(await fp()).transaction(rs,"readwrite"),u=o.objectStore(rs),d=await u.get(n);return await u.put(e,n),await o.done,(!d||d.fid!==e.fid)&&x0(a,e.fid),e}async function O0(a){const e=ad(a),r=(await fp()).transaction(rs,"readwrite");await r.objectStore(rs).delete(e),await r.done}async function id(a,e){const n=ad(a),o=(await fp()).transaction(rs,"readwrite"),u=o.objectStore(rs),d=await u.get(n),m=e(d);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!d||d.fid!==m.fid)&&x0(a,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mp(a){let e;const n=await id(a.appConfig,r=>{const o=gk(r),u=pk(a,o);return e=u.registrationPromise,u.installationEntry});return n.fid===ng?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function gk(a){const e=a||{fid:lk(),registrationStatus:0};return P0(e)}function pk(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(is.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=yk(a,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:vk(a)}:{installationEntry:e}}async function yk(a,e){try{const n=await rk(a,e);return Nh(a.appConfig,n)}catch(n){throw w0(n)&&n.customData.serverCode===409?await O0(a.appConfig):await Nh(a.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function vk(a){let e=await AA(a.appConfig);for(;e.registrationStatus===1;)await D0(100),e=await AA(a.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await mp(a);return r||n}return e}function AA(a){return id(a,e=>{if(!e)throw is.create("installation-not-found");return P0(e)})}function P0(a){return _k(a)?{fid:a.fid,registrationStatus:0}:a}function _k(a){return a.registrationStatus===1&&a.registrationTime+T0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ek({appConfig:a,heartbeatServiceProvider:e},n){const r=Ak(a,n),o=nk(a,n),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const d={installation:{sdkVersion:S0,appId:a.appId}},m={method:"POST",headers:o,body:JSON.stringify(d)},g=await N0(()=>fetch(r,m));if(g.ok){const p=await g.json();return C0(p)}else throw await I0("Generate Auth Token",g)}function Ak(a,{fid:e}){return`${R0(a)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gp(a,e=!1){let n;const r=await id(a.appConfig,u=>{if(!V0(u))throw is.create("not-registered");const d=u.authToken;if(!e&&bk(d))return u;if(d.requestStatus===1)return n=Tk(a,e),u;{if(!navigator.onLine)throw is.create("app-offline");const m=Rk(u);return n=Sk(a,m),m}});return n?await n:r.authToken}async function Tk(a,e){let n=await TA(a.appConfig);for(;n.authToken.requestStatus===1;)await D0(100),n=await TA(a.appConfig);const r=n.authToken;return r.requestStatus===0?gp(a,e):r}function TA(a){return id(a,e=>{if(!V0(e))throw is.create("not-registered");const n=e.authToken;return Ck(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Sk(a,e){try{const n=await Ek(a,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Nh(a.appConfig,r),n}catch(n){if(w0(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await O0(a.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Nh(a.appConfig,r)}throw n}}function V0(a){return a!==void 0&&a.registrationStatus===2}function bk(a){return a.requestStatus===2&&!wk(a)}function wk(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+X2}function Rk(a){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},a),{authToken:e})}function Ck(a){return a.requestStatus===1&&a.requestTime+T0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ik(a){const e=a,{installationEntry:n,registrationPromise:r}=await mp(e);return r?r.catch(console.error):gp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mk(a,e=!1){const n=a;return await Nk(n),(await gp(n,e)).token}async function Nk(a){const{registrationPromise:e}=await mp(a);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(a){if(!a||!a.options)throw bm("App Configuration");if(!a.name)throw bm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!a.options[n])throw bm(n);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function bm(a){return is.create("missing-app-config-values",{valueName:a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="installations",kk="installations-internal",xk=a=>{const e=a.getProvider("app").getImmediate(),n=Dk(e),r=os(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Lk=a=>{const e=a.getProvider("app").getImmediate(),n=os(e,U0).getImmediate();return{getId:()=>Ik(n),getToken:o=>Mk(n,o)}};function Ok(){Ia(new aa(U0,xk,"PUBLIC")),Ia(new aa(kk,Lk,"PRIVATE"))}Ok();Gn(A0,dp);Gn(A0,dp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="analytics",Pk="firebase_id",Vk="origin",Uk=60*1e3,zk="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn=new Oh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Nn=new ss("analytics","Analytics",Bk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(a){if(!a.startsWith(pp)){const e=Nn.create("invalid-gtag-resource",{gtagURL:a});return vn.warn(e.message),""}return a}function z0(a){return Promise.all(a.map(e=>e.catch(n=>n)))}function Hk(a,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(a,e)),n}function Gk(a,e){const n=Hk("firebase-js-sdk-policy",{createScriptURL:jk}),r=document.createElement("script"),o=`${pp}?l=${a}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function Kk(a){let e=[];return Array.isArray(window[a])?e=window[a]:window[a]=e,e}async function Fk(a,e,n,r,o,u){const d=r[o];try{if(d)await e[d];else{const g=(await z0(n)).find(p=>p.measurementId===o);g&&await e[g.appId]}}catch(m){vn.error(m)}a("config",o,u)}async function qk(a,e,n,r,o){try{let u=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const m=await z0(n);for(const g of d){const p=m.find(S=>S.measurementId===g),E=p&&e[p.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),a("event",r,o||{})}catch(u){vn.error(u)}}function Jk(a,e,n,r){async function o(u,...d){try{if(u==="event"){const[m,g]=d;await qk(a,e,n,m,g)}else if(u==="config"){const[m,g]=d;await Fk(a,e,n,r,m,g)}else if(u==="consent"){const[m,g]=d;a("consent",m,g)}else if(u==="get"){const[m,g,p]=d;a("get",m,g,p)}else if(u==="set"){const[m]=d;a("set",m)}else a(u,...d)}catch(m){vn.error(m)}}return o}function Yk(a,e,n,r,o){let u=function(...d){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=Jk(u,a,e,n),{gtagCore:u,wrappedGtag:window[o]}}function Qk(a){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(pp)&&n.src.includes(a))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=30,Wk=1e3;class Xk{constructor(e={},n=Wk){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const B0=new Xk;function Zk(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function ex(a){var e;const{appId:n,apiKey:r}=a,o={method:"GET",headers:Zk(r)},u=zk.replace("{app-id}",n),d=await fetch(u,o);if(d.status!==200&&d.status!==304){let m="";try{const g=await d.json();!((e=g.error)===null||e===void 0)&&e.message&&(m=g.error.message)}catch{}throw Nn.create("config-fetch-failed",{httpStatus:d.status,responseMessage:m})}return d.json()}async function tx(a,e=B0,n){const{appId:r,apiKey:o,measurementId:u}=a.options;if(!r)throw Nn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw Nn.create("no-api-key")}const d=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new ix;return setTimeout(async()=>{m.abort()},Uk),j0({appId:r,apiKey:o,measurementId:u},d,m,e)}async function j0(a,{throttleEndTimeMillis:e,backoffCount:n},r,o=B0){var u;const{appId:d,measurementId:m}=a;try{await nx(r,e)}catch(g){if(m)return vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:d,measurementId:m};throw g}try{const g=await ex(a);return o.deleteThrottleMetadata(d),g}catch(g){const p=g;if(!ax(p)){if(o.deleteThrottleMetadata(d),m)return vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:d,measurementId:m};throw g}const E=Number((u=p==null?void 0:p.customData)===null||u===void 0?void 0:u.httpStatus)===503?J_(n,o.intervalMillis,$k):J_(n,o.intervalMillis),S={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return o.setThrottleMetadata(d,S),vn.debug(`Calling attemptFetch again in ${E} millis`),j0(a,S,r,o)}}function nx(a,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);a.addEventListener(()=>{clearTimeout(u),r(Nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function ax(a){if(!(a instanceof sa)||!a.customData)return!1;const e=Number(a.customData.httpStatus);return e===429||e===500||e===503||e===504}class ix{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function rx(a,e,n,r,o){if(o&&o.global){a("event",n,r);return}else{const u=await e,d=Object.assign(Object.assign({},r),{send_to:u});a("event",n,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sx(){if(rT())try{await sT()}catch(a){return vn.warn(Nn.create("indexeddb-unavailable",{errorInfo:a==null?void 0:a.toString()}).message),!1}else return vn.warn(Nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ox(a,e,n,r,o,u,d){var m;const g=tx(a);g.then(L=>{n[L.measurementId]=L.appId,a.options.measurementId&&L.measurementId!==a.options.measurementId&&vn.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${L.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(L=>vn.error(L)),e.push(g);const p=sx().then(L=>{if(L)return r.getId()}),[E,S]=await Promise.all([g,p]);Qk(u)||Gk(u,E.measurementId),o("js",new Date);const T=(m=d==null?void 0:d.config)!==null&&m!==void 0?m:{};return T[Vk]="firebase",T.update=!0,S!=null&&(T[Pk]=S),o("config",E.measurementId,T),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.app=e}_delete(){return delete $l[this.app.options.appId],Promise.resolve()}}let $l={},SA=[];const bA={};let wm="dataLayer",ux="gtag",wA,H0,RA=!1;function cx(){const a=[];if(iT()&&a.push("This is a browser extension environment."),gC()||a.push("Cookies are not available."),a.length>0){const e=a.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=Nn.create("invalid-analytics-context",{errorInfo:e});vn.warn(n.message)}}function hx(a,e,n){cx();const r=a.options.appId;if(!r)throw Nn.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Nn.create("no-api-key");if($l[r]!=null)throw Nn.create("already-exists",{id:r});if(!RA){Kk(wm);const{wrappedGtag:u,gtagCore:d}=Yk($l,SA,bA,wm,ux);H0=u,wA=d,RA=!0}return $l[r]=ox(a,SA,bA,e,wA,wm,n),new lx(a)}function dx(a=dg()){a=Rt(a);const e=os(a,Dh);return e.isInitialized()?e.getImmediate():fx(a)}function fx(a,e={}){const n=os(a,Dh);if(n.isInitialized()){const o=n.getImmediate();if(ar(e,n.getOptions()))return o;throw Nn.create("already-initialized")}return n.initialize({options:e})}function mx(a,e,n,r){a=Rt(a),rx(H0,$l[a.app.options.appId],e,n,r).catch(o=>vn.error(o))}const CA="@firebase/analytics",IA="0.10.16";function gx(){Ia(new aa(Dh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return hx(r,o,n)},"PUBLIC")),Ia(new aa("analytics-internal",a,"PRIVATE")),Gn(CA,IA),Gn(CA,IA,"esm2017");function a(e){try{const n=e.getProvider(Dh).getImmediate();return{logEvent:(r,o,u)=>mx(n,r,o,u)}}catch(n){throw Nn.create("interop-component-reg-failed",{reason:n})}}}gx();const px={apiKey:"AIzaSyDC_YL8wau3PKK1r2ZYYHc32TtnoXe5giQ",authDomain:"stanford-lastchances.firebaseapp.com",projectId:"stanford-lastchances",storageBucket:"stanford-lastchances.firebasestorage.app",messagingSenderId:"792276801448",appId:"1:792276801448:web:84a43cc96308673321ef9d",measurementId:"G-HLD1E4T34S"},yp=cT(px),Yi=kM(yp),Xn=M2(yp);dx(yp);const G0=new si;G0.setCustomParameters({hd:"stanford.edu"});const lu=["Nicolas Abad","Khaled Abdulkarim","Layla Aboukhater","Kate Kabat (Adams)","Max Adams","Krupa Adusumilli","Sabrina Afroz","Megha Agarwal","Will Agathis","Naza Aibar","SimoneTess Aisiks","Tireni Ajilore","Maha Al Fahim","Khalid Alajlan","Jude Alawa","Aziz Aldawood","Faisal Alhindi","Noor Alsharif","Mubarak Alliyu","Joo Pedro Almeida","Mia Amin","Ricardo Anaya","Travis Anderson","Andrew Raffi Ansell","Mark Garo Ansell","Sonja Anton","Ruby Au","Yalcin Aydin","Mohammed Azhari","Mo Babeker","Kathryn Bacher","Michael Bakan","Niranjan Balachandar","Alvaro Baleato Varela","Pranay Balijepalli","Alan Balson","Philip Balson","Erin Barrett","Itai Barsade","Juan Bautista Baistrocchi","Savannah Baum","Ryan Bayne","Chris Beckmann","Pedro Benoit","Helen Berhanu","Anya Bharadwaj","Mallika Bhandari","Lauren Bilbo","Becca Blais","Caroline Blanck","Jake Blank","Mira Bodek (Mibo)","Chris Bradbury","Sam Braunseis","Caden Broussard","Sarah Brown","Carolyn Bruckmann","Cyrus Buckman","Sabrina (Namato) Bukenya","Holly Burwick","Jesse Cai","Keith Calix","Daniela Camargo Carrillo","Maria Cano","Georgia Carroll","Tom Carroll","Zooey Wilkinson","Amir Chain Nemtala","Avis Chan","Charlotte Chang","Richa Chaturvedi","Devika Chatwani","Zo Chazen","Anli Chen","Caroline Chen","Grace Chen","Jinny Chen","Kimberly Chen","Sophia Chen","Xixi Chen","Catherine Cheng","Mariami Chikovani","Yody Chiu","Henry Choi","Wonjun Choi","Olivia Christensen","Stephen Chu","Will Clark","Eugenio Claro","Josh Cohen","Chlo Conacher","Camila Cordara","Colter Corish","Rakiya Cunningham","Bryan Danielson","Owen Davies","Joshua Davis","Ryan Davis","Ian De Luna","Nico deLuna","Batu Demir","Lydia Deneen","Gabriela Diaz","Catherine Didier","Marcos Diehl","Amir Donath","Omer Doron","Meera Doshi","Hob Du","Noelle Durkin","Zach Dyce","Iain Edmundson","Fatma Elshenawy","Nico Enriquez","Tyler Erb","Lauren Esrig","Esteban Estevez Juttner","Noelle Eveland","Valerie Fanelle","Hamza Farrukh","Andreas Fatschel","Paty Fernandez de Castro","Eliana Field-Marsham","Sofia Figueroa","Stephen Flynn","Eugnie Fontugne","Paige Frank","Daniel Freedland","Leif Frey","Mengdi (Mandy) Gao","Santiago Garca Vargas","Anirudh Garg","Max Garrett","Ishwar Gawande","Ben Gedeon","Uma Girkar","Dhanush Girish","David Goehring","Pablo Golac","Cayo Gonzalez","Ana Gonzalez Galindo","Carmen Gordon","Tom Gorman","Carlton Gossett","Chris Gramling","Olivia Greenberg","Sam Greenberg","Esther Gross","Katie Gudeman","Julia Guillemot","Sean Guo","Juliette Hackett","Isa Haegg","Hans Halvorsen","Richard Hamrick","Farrukh Hamza","Michelle Han","Conor Harrity","Tess Hartigan","Madi Harvey","Rachel Hersh","Sonia Hernandez","Jon Hoey","Vinicius Hojo","Kristen Hong","Royi Horowitz","Zhi Huang","Madison Hughes","Lizzie Hunpatin","Winston Huynh","Toshi Imamura","Henry Iseman","Muhammad Awais Islam","Akshita Jain","Katharine Jessiman-Ketcham","Sandhya Jetty","Chloe Jin","Kripanshi Jindal","Imren Johar","Joel Johnson","Barclay Jones","Jake Jordaan","Akshatha Kamath","Esther Kamgaing","Vikram Kanodia","Chad Kanoff","Amee Kapadia","Ayesha Karnik","Allison Kaslow","Tamara Kawash","Chris Kay","Larken Kemp","Farha Khan","Sakshi Khanna","Cyrus Kharche","Laura Vanessa Kiehl","Hokuto Kikuchi","Brendan Kim","Rachel Kim","Ethan Klein","Kelsey Klein","Annie Klosowicz","Bruno Koba","Peter Koch","Ankita Kodavoor","Steven Koh","Mackenzie Kosseim","Aakash Kotak","Tomi Kovanen","Tushar Krishnan","Catherine Lacy","Ana Laginha","Norma Langdon","Krystal Lau","Gahong (Grace) Lee","Katrina Lee","Mark Lee","Mia Lee","Paul Lee","Conor Leen","Mikos Legrand","Caroline Levy","Quinn Lewis","Nicki Liang","Lyn Li","Yue Li","Zhenyan (Jane) Li","Adam Lifshitz","Lexie Lin","Alice Liu","Michael Liu","Andrew Lobel","Alex Lubkin","Henry Lu","Jessica Lu","Maisie Lynton","Lucy Ma","Mark Ma","Matt Mahowald","Ndirangu (Bryan) Maina","Zac Maslia","Fernando Mata","Anthony Mattar El Raachini","Keita Matsumoto","Lauren Maymar","Alexander McCarthy","Elizabeth McNally","Ian McRae","Holley McShan","Cam McWatt","Arnav Mehta","Adam Merrill","Eric Meyers","Salome Mikadze-Struk","Jordan Miller","Mckenna Miller","Hiroaki Minoo","Madison Minsk","Bryce Mitchell","Suhani Mohan","Mehek Mohan","Munim Moiz","Mason Montgomery","Cariana Morales","Gherardo Morona","Yoshimi Muneta","Hannah Murdoch","Matt Murphy","Harshi Murthy","Carson Muscat","Marin Nagase Tominaga","Karn Nahata","Sasha Nanda","Chase Navellier","Elliot Nell","Kyle Nelson","Ludwig Neumann","Shelly Ngo","Floriane Ngako Kameni","Danielle Nguyen","Michelle Nguyen","Dru Nkansah","Joan Nolla Surez","Arinze Nwagbata","Matas Oberpaur","Jerry O'Connor","Gloria Odoemelam","Ewoma Ogbaudu","John Onderdonk","Bobby O'Reilly","Sidney Owen","Michael Paretzky","Chanwoo Park","James Park","Terry Park","Sravan Patchala","Kayan Patel","Neal Patel","Shivam Patel","Ken Pattarasittiwate","Andrew Paulmeno","Juan Pablo Pietrini","Kelli Pedersen","Kiera Peltz","Olivia Peniston","Anirudh Pennathur","Nathan Petrie","Stephanie Pham","Doug Phipps","Alan Pimstein","Jackson Polatnick","Meagan Prins-McKinney","Christina Puccinelli","Vibha Puri","Riley Quinn","Claire Rafson","Vasundhara Rakesh","Alex Rakestraw","James Ramsay","Angeline Rao","Pragati Rastogi","Glenn Reddy","Rachael Rhee","Anya Ring","Joseph Robillard","Aria Rodli","Javi Rodriguez","Abu Rogers","Katharina Rohr","Maria Rojas","Matt Rojas","Micaela Romero Valdez","Olivia Rosen","Aislin Roth","Anna Rowe","Eduardo Rubini","Rob Rush","Priscilla Russo","Shailee Samar","Payaum Sanatkar","Sonia Sarda","Philipp Schellhaas","Stefano Schiappacasse","Sophie Schick","Paul Sdille","Priyanka Seegobin","Sean Sellers","Joon Seo","Ishir Seth","Jay Shah","Mirai Shah","Shreya Shah","Evelyn Shao","Akanksha Sharma","Arushi Sharma","Annabel Shaw","Dina Sheira","Michelle Shen","Daniel Sheppard","Chris Shim","Amit Shimshi","Ila Shon","Jack Shumway","Saman Siddiqui","Billy Silk","Ramon Silva","Jackson Simon","Rohan Sinha","Meredith Slifkin","MinJae Song","Shikhar Sood","Preetam Soundararajan","Marc-Aurele Stark","Adam Starr","Mara Steiu","Eli Stern","Jack Stone","Jack Strauss","Amanda Studebaker","Sushant Sudheendranath","Julia Sun","Kailash Sundaram","Leah Surratt","Max Susman","Gabriela Tafur","Lydia Tahraoui","Sarah Tang","Eliza Teach","Nofel Teldjoune","Emily Tench","Nattanon (Pat) Thitisarnsiri","Seyon Thomas","Claire Thompson","Nicholas Tobin","Sydney Tomlinson","Gustavo Tori","Henry Townley","Devan Trammel","Jamie Tym","Shievani Upadhyay","Christian Antonio Urrutia","Isabel Vallina Garcia","Jessica Garcia","Katie Van Dyk","Mahek Vara","Dhananjay (DJ) Varma","Agustin Villarreal","Jessica Villarreal","Sea Wachakorn","Callie Walker","Tyler Walker","Jake Waskowitz","Colin Weidmann","Melanie Weinsten","Henry Welsh","Chris West","Cort White","Sadiki Wiltshire","Joseph Wise","Walter Woo","Andre Xiong","Yingkai (Kevin) Xu","Haoxiang (Mike) Yang","Talha Yousaf","Theresa Yu","Michael Yuan","Dario Zarrabian","Elena Zhang","Henry Zhang","Jade Zhang","Ruoyao Zhang","Max Zhou","Will Zhou","Bastiaan Zwanenburg","Test Account"],uu=["Ellen Michelle Jockin Aasted","Jaden Daniel Abas","Sarah Amir Abdalla","Yazan Hayder Abdella","Grace Elizabeth Abraham","Raisha Kyril Abubo","Yousef A M AbuHashem","Thomas Palmer Adamo","Grace Toluwanimi Adebogun","Khusbu Khatri Adhikari","Noah Santosa Adnan","Aaron James Adriano","Abhinav Agarwal","Ana J. Agarwal","Varun Agarwal","Harshal Rajesh Agrawal","Alexandra Agris","Samuel Montagut Agudelo","Claudio Aguilar","Cristian Aguilar","Hasan Ahmad","Rehaan Ahmad","Roya Ahmadi","Sabrina Sultana Ahmed","Susan U. Ahmed","Zahir Ahmed","Kiseuk Ahn","Zarif Ahsan","Kanoe Makalii Aiu","Faith Abidemi Ajanaku","Rahul Ajmera","Uchenna Emmanuel Akanno","Jason Tran Akram","Howra Jaafar Alammarah","Zahra Saeed Abdulla Hasan Albasri","Maria Eleonora Cajahyba Rocha S Albuquerque","Alawab Aldulimy","Alisa Grace Aleksanian","Elyssa Lyn Alexander","William Emerson Alexander","Irina Alexeeva","Silvana Alfaro","Sebastian Alexander Alfonso","Jenna Ali","Warda Ali","Layth Raed Alkhani","Julian James Allchin","Sachin Murthy Allums","Ijeoma C. Alozie","Abdulla Thani Abdulla Mohame AlShirawi","Savannah Rose Alter","Rodrigo Alvarado","Alexander Antonio Alvarado-Barahona","Luc Anthony Alvarez","Edwin Amaya","Ethan Tyler Amaya","Pedro Ambriz","Mark Westcott Amstutz","Chloe Kathryn An","Kelsea An","Aleena Mufti Anand","Mihir Anand","Leonardo Andrade","Christina Virginia Andronescu","Lance Coyotzin Allan Angeles","Ali F. Ansari","Rayan Ahmed Ansari","Elias Zachary Applebaum","Veronica Aranda","Harviel Kyle Arcilla Arcilla","Chelsey Darian Arellano","Elisa Marina Arguello","Ariel Arias","Luis Alejandro Arizmendi","Pauline Arnoud","Isabella Arrigo","Marc Andrew Arslanian","Alexandra Cecilia Torres Arsuaga","Karthick Thiagarajan Arunachalam","Sydney A. Von Arx","Raghad Mohammed A Asiri","Derek N. Askaryar","Thanawan Atchariyachanvanit","Vionna Atefi","Michael Jonathan Atkin","Kheli Buckley Atluru","Haley Crawford Aube","Vivian Auduong","Tejdeep Aulakh","Alea Sumyu Auyeung","Yarency Lizbeth Avelar","Elizabeth Andrea Avila","Mahlet Mamuye Ayele","Nolawi Ayelework","Matthew Louis Ayoob","Helena Y. Aytenfisu","Ramya Ayyagari","Aya Kusai Aziz","Sala Tamara Ba","Isabella Grace Bachler","Luise Anna Charlotte Bachmann","James Florian Bachmeier","Anavi Baddepudi","Christopher Aaron Badillo","Leo Baek","Marco Alejandro Baeza","Gurmenjit Kaur Bahia","Jean Rachel Bahk","Katie S. Baik","David Bailey","Lillian Annabelle Bailey","Philip Andrew Baillargeon","Jisola Faramola Bakare","Joanna Natalie Baker","Katie Lynn Baker","Penelope Rose Baker","Akhilesh Balasingam","Allison Casey Baldwin","Jesus Ballesteros","Zackery Luke Bangs","Oluwatobi Ayodunni Bankole","Deven Michael Bansal","Rohan Bansal","Ihor Barakaiev","Ari Barbella-Blaha","Fatima Sughra Bari","Nathaniel Alan Barnard","Rhys John Lawson Barraclough","Sarah Barragan","Adelaide M. Barrett","Emma Denise Barrosa","Brendon James Barrow","Ian Park Barrow","Abranette F. Barry","Adam John Barry","Noah P. Bartelt","Josephine Hanna Barton","Max George Basing","Rafael Prado Basto","Nomin Erdene Bayarsaikhan","Taylor Ann Beaven","Cuauhtemoc Becerra","Juan Carlos Becerra","Francis R. Beckert","Samuel Robert Beckett","Steven Elijah Beckley","Adam Behrendt","John James Belardi","Andrew James Bempong","Max Elijah Benabou","Samuel Ethan Benabou","Nicole Ximena Benalcazar-Pavlik","Michael Riad Bendok","Susan Aurelia Benites","Bryan A. Benitez","Matias Ysidro Lorenzo Benitez","Susan Marie Benitez","George Austin Bennett","George Austin Bennett","Zachary Richard Benton","Maya Raquel Benyas","Ashton A. Berg","Eric William Berg","Mark Edward Berlaga","Alvaro Bermudez-Canete","Gaethan Jeremy Bernadel","Ethan Douglas Bernheim","Ethan Douglas Bernheim","Carlos Ivan Rodriguez Berrelleza","Brooke Arielle Besikof","Ryan Harris Beyer","Logan Mondal Bhamidipaty","Nikita Bhardwaj","Akanshya Bhat","Raina Talwar Bhatia","Raina Talwar Bhatia","Dhruv Advit Bhatt","Devan Justin Bhumralkar","Owen James Bigler","Jeremy R. Bischoff","Brody Kyle Bishop","Daniel James Bishop","Julia Biswas","Gheed El Bizri","Scooter Cameron Black","David Brett Blair","Mateo Quiros Bloch","Luisa Maria Boateng","Laura Louise Bocek","Samuel George Boeschen","Allison Marie Bogetich","Imgard Sophia Bonheur","Omar Alejandro Bonilla","Caio Carcaioli Bonin","Ephraim Kross Boomer","Ninamarie Virginia Boord","Armando Alejandro Borda","Jean Michel Borit","Alexandra Aislinn Borthwick","Eleni Bosgana","Lucas P. Bosman","Hamza El Boudali","Clement T. Bouden","David Alejandro Bournat","Caleb Hulett Boutelle","Anne Catherine Boyle","Ebenezer Epie Lobe Boyom","Julia Kate Brand","Avani Kimberly Brandt","Christian D. Brandt-Sims","Marin Ariel Brant","Fernando Bravo","Fernando Bravo","Chad D. Brechbuhler","Ryan Thomas Brennan","Luciana E. Bridges","Sophia Rose Brindisi","Beatrice Blythe Broido","Benjamin Oliver Brokaw","Michael J. Brooks","Joshua Browder","Chrissyaunna E. Brown","Garrett Christopher Brown","Madison Elizabeth Brown","Thane Alexander Hodges Brueschke","Jaden Alexander Bruno","Emma Sarah Buday","Langston I. Buddenhagen","Brandon Minh Pham Bui","Kenneth Bui","Nicholas Phi Long Bui","Sara Ali Bukair","Zoe Nohea Bumstead","Allyson Elizabeth Bunch","Lauren Michelle Burch","Diego Miguel Burgos","Taylor Anthony Burkhart","Lucy McCarthy Burrell","Aja Mese Burslem","Catherine Anne Burtner","August Wyatt Burton","Omar K. Busaidy","Diego Bustamante","Makayla Butler","Ryan Butler","Makayla Abigail Abril Butters","Alison Leah Cabanday","Danielle Alexis Cabrera","Emelin Cabrera","Nathanael James Cadicamo","Zachary Jun Cadiz","Caroline Elizabeth Cahilly","Yici Cai","Malina Nafula Calarco","Anna Maria Ayars Calcagno","Ninette Monserrat Calderon","Jonathan Calixto","Griffin Thomas Callaghan","Paul Gonzalez Calvo","Julietta Clark Camahort","Mariel Camargo","Sean Michael Cameron","Cameron Allen Camp","Cameron Allen Camp","Meagan Erin Campbell","Saborn Isadore Campbell","Carlos Adrian Alcantar Cancino","David Paul Candes","Kimberly Janet Cardenas","Rosman R. Carino","Lindsay Rose Carlin","Michael James Carlson","Riley Dayne Carlson","Camryn Shawn Carmouche","Peter Emerson Carpenter","Saimary Velazquez Carrasquillo","Jaime Zamores Carrazco","Trevor William Carrell","Carlos F. Carrete","Kenia Zepeda Carrillo","Lishan Nan Carroll","Adriana Noelle Carter","Arynn Namok Carty","Riley Maria Casagrande","Allison Sandoval Casasola","Jordyn Michaela Case","Emma Margaret Casey","Kevin Casillas","Madeleine Parker Cassic","Bruno Felix Castillo","Maya Celeste Castillo","Natalia Castillo-Ramos","Lucas Cavalieri","Lena E. Cavicchia","Ashley Michelle Celada","Catherine D. Celio","Alexander Michael Cessna","Sofa Ceva","Katelyn Alexandra Chan","Kristy Hiu Ching Chan","Maya Swati Chandra","Amy Chang","Chloe Rui-Hua Chang","Katie Chang","Emma Tyree Charity","Hester LeShawn Charles","Matthew James Charles","Remy Jessica Charles","Anusheh Fatima Chaudry","Jayendra Singh Chauhan","Manu Chauhan","Krrish Chawla","Vinita Cheepurupalli","Ryan Kipchumba Cheluget","Alice Zhaoyi Chen","Alyssa L. Chen","Anthony An-Fa Dahm Chen","Ashley Chen","Carrie Jiayi Chen","Christopher Maxwell Chen","Cynthia Chen","Ge Chen","Ingrid Tseng-Min Chen","Jason Jin Chen","Joey Chen","Joyce Chuyi Chen","Quanlin Chen","Vanessa Chen","Winnie Chen","Xiao Yan Chen","Xinting Chen","Yiyang Chen","Carissa Yo Hsin Cheng","Ryan Ares Cheng","Shirley Cheng","Shirley Cheng","Winson Cheng","Rohan Kumar Cherivirala","Rohan Kumar Cherivirala","Michael Amrit Chhay","Nathan Andrew Chi","Ryan Andrew Chi","Sylvia L. Chin","Wayne Chiedza Chinganga","Daniel Victor Chizhikov","Aaron Cho","Chelsea Suebin Cho","Karen Hyunbee Cho","Tenzing Choezing","Evelyn Hejin Choi","Hee Jung Choi","Tenzin Chonzom","Kenneth Chester Christmas","Chloe Oya Christopher","Anthony Chu","Clare Wan Chua","Arisa Sugiyama Chue","Adaeze Regina Chukwuka","Adam Hyungsuk Chun","Sophia Hope Chun","Grace Yuna Chung","Kylie Danielle Chung","Sarah Meso Chung","Stella Jiwon Chung","Joseph M. Civantos","Pedro Jeha Civita","Griffin Rodkey Clark","Jaden Clark","Hannah Gabriella Clay","Alexandria Marie Clements","Luke Clifton","William Cline","Rachel Sinai Clinton","Mackenzie Cobb","Gareth A Cockroft","Nourya A. Cohen","Olufemi Ayotunde Cole","Takyia S. Cole","Campbell Stephen Collins","Isabelle Rose Coloma","Sebastian Andres Colondres-Torres","Cecilia Da Costa Fernandez Conde","Delaney Elizabeth Conger","Madeline Kerri Connelly","Roger Sebastin Conrado","Stephanie Contreras-Reyes","Jalil O. Cooper","Sierra Michelle Curry Corcoran","Isabella Cailey Correa","Maria Carla Correa","Gabriela Cortes","Nicole Cortes","Malia Zenaida Velasco Cortez","Morgan Mee-Rae Cortina","Jonathan Cosgrove","Caia Mai Costello","Sophia Katherine Haase Cox","Haley Matteson Craig","Kylie Rose Creighton","Iliana Marissa Crisostomo","Elena Jane Critelli","Xitlali Cruz","Isabella Cruz-Krahn","Jasmine Stephanie Cruz-Rios","Alan Horacio Cuevas","Cyrus Christian D'Arcy","Cyrus Christian D'Arcy","Audrey Elizabeth DaDamio","Ashley HanRui Dai","Kaitlyn Dai","Xinhan Dai","Yunchu Dai","Henry Christian Daines","Aya Daisey","Parker Elizabeth Daley","Yash Dalmia","Cassidy Sarah Dalva","Genevieve Sara Dandurand","Ethan V. Dang","Marianne Lan Anh Dang","Kelly Elizabeth Danielpour","Ashton Gregory Daniels","Leonardo Seante Daniels","Kenny Tu Dinh Dao","Charles Darracott","Upamanyu Dass-Vattam","Akshana Mario Dassanaike-Perera","Rohan Reddy Davidi","Ashley Caitlin Davidson","Jose Antonio Davila-Ciullo","Niloufar Mahin Davis","Alina Sage Davison","Caroline Margaret Dee","Stefano Fantini Delmanto","Marguerite Marie DeMarco","Brooke K. Demetre","Yiman Deng","Caden James Denning","William Toby Denton","Isaac Gideon Deutsch","Abhijit Ravi Devalapura","Keenon Jerrard DeVaughn","Reid Walter Orion Devereaux","Kapilaksha Prakash Dheeriya","Akriti Dhungana","Fatoumata Binta Diallo","Noel Sarduy Diaz","Julia Claire DiCicco","Emily Hannah Dickey","Audrey Pedneault Dickinson","Robert Brian DiDonato","Anya Von Diessl","Nicholas Stephen Dietrich","Maximino DiGiacomo-Castillo","Katherine Palmer Dimock","George Robert Dimopoulos","Carlo Amio Dino","Dylan Ryan Dipasupil","Colette Bao-Quan Do","Lisa V. Do","Long Thanh Doan","Michael Robert Doboli","Michael Robert Doboli","Reese Rebecca Dobson","Jaden Nii Darko Dodoo","Johnny Danger Dollard","Feona Dong","Katherine Xinyi Dong","Jonathan Armando Donis","Julia Annadel Donlon","Sophie Rose Donnellan","Michael Dooley","Nena Naat'anii Dorame","Shefali Doshi","Camdyn Grace Doucet","Hana Safiya Doueiri","Zelig Jacob Dov","Flynn Reyes Dreilinger","Elizabeth Drelichman","Micah Joi Drigo","Lee Duan","Elsie Monique DuBray","Lucy Lee Duckworth","Keithan Messiah Ducre","Zofia Olga Dudek","David Barron Dunn","Norri Khi'yar Dupree","Angelina Syrena Duran","David Durand","Aerin Amelia Eberts","Zoe Georgia Edelman","Sarah K. Eder","Anna Catherine Edmonds","Jeffrey Thomas Edsall","Niles Sherman Egan","Isabelle Eichhorst","Shiley Einav","Milo Joseph Eirew","Obinna Nduchinyere Ekeagwu","Mohamed Zahir Elhassan","Caleb Orin-Ramon Ellis","James Emerson","Christopher Chukwuemeka Emodi","Blain W. Engeda","Christopher Kurt Enriquez","Sofia Epifantseva","Hope Rose Ertz","Kate Susanna Esbenshade","Monserrat Jackelyn Hernandez Escobar","Thomas Escudero","Kate Ellyn Eselius","Jaime Eli Mizrachi Eshkenazi","Josue David Contreras Esquivel","Ryan Jacob Esquivel","Jonah Bradley Ezekiel","Sochima-Amaka Pauline Ezema","Elijah Ezralow","Muhammad Dhafer Bin Muhammad F","Eleanor Cerys Facey","Jacob Liam Faierman","Madison Fan","Aava Elahi Farhadi","Sajid Omar Farook","Dantz Dvon Farrow","Arwa Tahreem Faruk","Ming-Wei Cyprien Fasquelle","Gabriella Emma Fedetto","Gabriella Emma Fedetto","Adrian Lake Scheider Feinberg","Natalie Rose Feldman","Tomas Di Felice","Jatzia Ariette Felix","John Ivan Felix","Benjamin Burton Felter","Andrew James Felton","Riley S. Feng","Yue Feng","Matthew John Fenlon","Holland Grace Ferguson","Justin Ferguson","Francesca C. Fernandes","Faith Elyssa Fernandez","Isac Alejandro Fernandez","Philippe Chabaneix Ferrand","James Ferdinand Fetter","Alexander Augustine Finan","Jackson Reilly Finch","John Finkelman","Jordan Marie Finley","Kaiah Jaelle Fisher","Hayden Lowes Fite","Janine Janelle Fleming","Johanna Lita Flodin","Erin Leoncio Floranda","Julio Enrique Flores","Kelli Flowers","Leland Diego Fong","Nathan Jie Cheng Foo","Isabel Calero Forero","Lily Rebekah Forman","Preston C. Forst","Nils Scott Forstall","John Michael Founds","Shirleen Marie Ferrara Frame","Joshua Christopher Francis","Samantha Alicia Francis","Alexia Gutierrez Franco","Chrysanthe Nicole Frangos","Marilyn J. Frank","Tolson Kohlar Frantzen","Lauryn Raquel Franzese","Malachi Frazier","Hannah Marie Freeman","Beatriz Cunha Freire","Koree French","Henry Nikolas Friedlander","Kai Mica Fronsdal","Alma Andino Frydman","Melody A. Fuentes","Kiara Chantelle Fufunan","Sarah Fujimori","Dina Fukunaga-Brates","William Richard Alex Furlow","Sylvia Vienna Gabriel","Victor Alejandro Gallegos","Cesar Adrian Galvan","Lucien Francisco Gandarias","Raghav Ganesh","Andrew Gao","Benjamen X. Gao","Eric Gao","Cristobal Garcia","Gabriella Michele Garcia","Joseph Garcia","Marsela Elizabeth Porras Garcia","Nicole Garcia","Sebastian Garza Garcia","Diego Alonso Garcia-Camargo","Trinity Ascenzia Gardner","Aksh Garg","Rhythm Garg","Vedant Garg","Zoya Garg","Espen Gerald Garner","Bryana Gastelum","Daniel Brendan Gaughran","Sydney Nicole Gavela","Gabriel Gaw","Nissrin Tawfik Gehawi","Defne Genc","Kaylee Renae George","Andrew Ehab Gerges","Sophia Zhenia Gever","Donovan Giang","Ari Jah Gibson","Dorsey Willard Gibson","Koren Haim Gilbai","Lovejit Gill","Ari Nathaniel Glenn","Leonardo Epstein Glikbarg","Tiffany Godoy","Daniel Marc Goldberg","Margarita Golding","Anna Rachel Goldman","Sara Elizabeth Goldstein","Lusciana Celeste Gomez","Natalie Eloisa Gomez","Devyani Barron Gonzalez","Diana Sofia Gonzalez","Jaden Aaron Gonzalez","Jasmine Rose Gonzalez","Sebastian Gonzalez","Kimberly Gonzalez-Zelaya","Nicole Goot","Eva Rose Gorenburg","Victoria Gorum","Jasleen Kaur Gosal","Mishika Govil","Mishika Govil","Alice Lola Grace","Travis Jeffrey Grafton","Carter M. Graham","Marcus Dante Graham","Carrington Winslow Grant","Rachel Marian Grant","Mary Elizabeth Graybill","Devin Joseph Green","Maya Helena Green","Kalissa Dione Greene","Henry Ryder Greenman","Gabriel Greenstein","Graham Gunderson Griffin","Jacob Dean Griffin","Rose Elizabeth Griffin","Josiah Louis Griggs","Hannah Ciona Feeley Griswold","Josephine Rose Gross-Whitaker","Juliane Felicitas Gruss","Chenchen Gu","Christian Guallpa","Samantha Marie Guerrero","Gretchen Rose Guimarin","Vrushank Yatish Gunjur","Daniel Guo","Jayson Teruo Guo","Akash P. Gupta","Ananya Gupta","Manan Gupta","Priyanka Gupta","Vishesh Gupta","Kyla A. Guru","Vaibhavi Guru","Yastika Guru","Sydney R. Guthrie","Anapaula Gutierrez","Diego Luis Gutierrez","Jimena Gutierrez","Kamdin Gutierrez","Kamdin Gutierrez","Chloe Yurie Ha","Tracy Tran Ha","Ronnie Mohd Hafez","Nahome Gebremariam Hagos","Cyrus M. Hajian","Isaiah Samuel Hall","Justin Anthony Hall","Taylor Milan Hall","William Evans Halverson","Mahmoud Hamdi","Jubayer Ibn Hamid","Jeanette Han","Jingyi Han","Nahian Tasneem Haque","Emma Rose Harden","Bobby Hardrick","Jzaniya Ben Harriel","Max Coby Harris","Nya Layson Harrison","William Patrick Harrison","Minahil Haseeb","Zeina Yasser Zaki Hashem","Trevor Deane Haskins","Kyle John Lee Haslett","Mena Kamakshi Hassan","Noor Saied Hassan","Triana Hernandez Hasselkus","Thomas C. Hatcher","Skye Hathaway","Dani Victoria Hayes","Lauren M. He","William Shane Healy","Joshua Eli Hechtman","Poojit Hegde","Ethan Duncan He-Li Hellman","Paloma Rose Ronis von Helms","James Joseph Hennessy","Kongmeng Her","Abraham Hernandez","Anabella Hernandez","Elijah King Hernandez","Pamela Joy Hernandez","Sabino Hernandez","Salvador Amezcua Hernandez","Melany America Herrejon","Maria De Los Angeles Herrera","Esteban Herrera-Vendrell","Willow Lee Herz","Ariela Araiza Hickey","Scott Leo Damien Hickmann","Monica Diane Hicks","Nathan Zealous Hidajat","Rachel Samantha Zila Hidalgo","Aya Lina Hilal","Zoey Simone Hill","Henry Hill-Gorman","Jake Hillard","Ali Hindy","Sophia Christine Hlavaty","Alexander Coulter Hnasko","Jennifer Pauline Ho","Lleyton Merritt Ho","Martin Hoberman","Brynn Hochman","Agustin Domingo Kupfer Hochschild","Agustin Domingo Kupfer Hochschild","Alexander Mason Hodges","Malek Samir Hodroj","Jaedyn Christina Hoenig","Grady Harrison Hofmann","Tori Lynn Hoge","Julia Lecana Hok","Piper Yates Holland","Ryan Hollingshead","Elisabeth A. Holm","Symantha Koumakanaikalani Hom","Andrew Mosser Hong","Connie Hong","Sara J. Hong","Rose Marie Horan","Ethan Alexander Chang Horoschak","Campbell Charles Hoskins","India Annette Andrews Houghton","Alphonse Egide Houndegla","Grace Alexandra Howe","Christo Dimitrov Hristov","Senkai Hsia","Senkai Hsia","Emily Angel Hsu","Sheryl Hsu","Simone Yi-Yi Hsu","Bradley Hu","Ethan Hu","Jeffrey Hu","Jiacheng Hu","Zoey Sinantha Hu","Cameron Ines Ohara Linhares Huang","Edward Ciaoyang Huang","Emily Huang","Emily Huang","Flora Huang","Huilan Huang","Kelly Huang","Zuzana Hudacova","Anna Fisher Hudson","Marc Anthony Huerta","Maxton Huff","Sydnee Alexis Huff","Lauren Elizabeth Hughes","Jack Jin Hung","Nona Sara Hungate","Evelyn Hur","Khalid Ahmed Husain","Adam Hussain","Murtaza Shabbir Hussain","Gashon Halif Hussein","Alexandra Thuy An Huynh","Vivian Huong Thi Huynh","Albert Hwang","Hailey Hemi Hwang","Schuyler Delaney Hyde","Dylan Juno Hyun","Imaan Jasmine Ibrahim","Jawad Ibrahim","Esmeralda Lucia Iglesias","Earl Gene Wright III","Lauren F. Illa","Gabriel Temple Tonye Iluma","Christopher John Indart","Scott Ingall","Sebastian Alejandro Ingino","Medhanie Isaias Irgau","Senem Isik","Noah Yuki Islam","Kadija Abdulkadir Ismail","Sherine M. Ismail","Leilani Michelle Ivery","Aniketh Nandakumar Iyengar","Kapil E. Iyer","Evan Bryce Jackson","Isis-Kohle D. Jackson","Isis-Kohle D. Jackson","Jennifer Southgate Jackson","Leo Jacoby","Arjun Jain","Ronit Jain","Ronit Jain","Sri Surya Jaladi","Yasser Jamal","Michael Rutherford James","Junah Jang","Caleb Hansen Janowski","Justin Travis Jasper","Rebecca-Ann Shania Jattan","Nachat Jatusripitak","Crystal Jauregui","Michael Bradford Jeffries","Michael Bradford Jeffries","Mahayah Phillips Jennings","Olivia Louise Jessner","Junyi Ji","Allison Sihan Jia","Grace Jiang","Yuqing Jiang","Ivan Avannus Jacob Jimbangan","Aaron Jin","Emily Jin","Leslie Jin","Andreea Jitaru","Joanna Jo","Lenae Joe","Allison Sara John","Aiyanna Kelli Johns","Annika Ruth Johnson","Nicole Ann Johnson","Corazon A. Johnston","Xavier Alexander Jones","Robert Luke Joseph","Vijay Nathan Josephs","Vijay Nathan Josephs","Aanand Sivapalasingam Joshi","Arnav S. Joshi","Patrick Leonardo Jovel","Charles Zachary Joyner","Romeo Garcia Jr. ","Brent Ju","Audrey Ming-Lai Jung","Collin S. Jung","Iain H. Jung","Rabiah Louise Ayana Kabir","Ritika Kacholia","Diego Villegas Kagurabadza","Kokhinur Nodir-Kizi Kalandarova","Isha Kalia","Tenzing Kalsang","Michelle E. Kalu","Dilnaz Kamalova","Elena Athena Kamas","Sydney Marie Kaminski","Fatima Leyla Kane","Taeuk Kang","Julia An Kao-Sowa","Mahina Priya Kaomea","Malaina Miya Kapoor","Rhea Kapur","Sweta Karki","Lekchok Tenzin Kartsang","David Richard Kasemervisz","Ryan Ariel Kashanchi","Parker Thomas Kasiewicz","Ethan Joseph Kato","Jacob David Katz","Japnoor Kaur","Manpreet Kaur","Shino Kawazu","Layal Zuhair Ismail Haji Aagha Kazerooni","Katherine M. Kearney","Imen Kedir Kedir","Brett Zachary Kelley","Austin Aldo Kendall","Emmet Michael Kenney","Ava Claire Kerkorian","Manas Khadka","Shubh Khanna","Vedant Khanna","Ishan Sanjay Khare","Iman Adib Khater","Sandi Khine","Bryan Wen Khoo","Ananya Khosla","Muhammad Abdullah Khurram","Sophia Kianni","Anna Carla Kiesewetter","Jackson James Kiil","Adriana Kim","Audrey Yong-Joo Kim","Brandon Dongjoon Kim","Daniel Doyoung Kim","Edward Kim","Elijah Paul Kim","Eric Jinwon Kim","Gene Sung-Ho Kim","He In Kim","Ireh Kim","Ireh Kim","Jaeah Kim","Janene Rachana Kim","Jenna Emily Kim","Jeremy Kim","Jinyoung Kim","Joseph Hyung In Kim","Joshua Sae-Ha Kim","Joshua Lee Kim","Patrick Jisoo Kim","Seungwoo Kim","Sofia Kim","Solmih Kim","Solomon Kim","Tayne Christopher Kim","Youngju Jason Kim","Zachary Kim","Catherine Veronica Kindschuh","Anna Catherine King","Madeleine Jean Kingsland","Katharine Elena Kingsley","Benjamin Robert Kingston","Robert Edward Kirchenbauer","Dante Jervaise Kirkman","Benita Kemigisa Kisembo","Lianne Alexandria Kistler","Chase Noelle Klavon","Peyton Klein","Emma M. Klemperer","Emma M. Klemperer","Iris Dorine Klok","Peter Thaddeus Koenig","Alyssa Rupar Koh","Casey Rose Kohl","Kenneth Martin Kohn","Ezra Howard Kohrman","Soham Konar","Bhumikorn Kongtaveelert","Joshua James Konschnik","Jaiden Grace Korth","Symphony Seraphina Koss","Lumi Carson Kostmayer","Taran Vaishnav Kota","Taran Vaishnav Kota","Ahmad Tosin Koya-Oyefuwa","Kyra Sophie Kraft","Fernanda Null Kramer","Joseph Richard Kraus","Isaac Dimitrievich Krementsov","Angelina Patricia Krinos","Viswesh Krishna","Sidhart Krishnan","Sidhart Krishnan","Cameron Allen Krouch","Benjamin Kroul","Nolan Krutonog","Yi-Hua Ku","Feiyang Kuang","Daniel Brian Kuelbs","Trisha Kulkarni","Vignesh Kumar","Howard Kung","Katrina Si-Xuan Kuo","Nathan Lee Kuo","Alexa Lee Kupor","Mun Jeong Kwak","Kwabena Francis Kwakwa","Samuel Edward Kwok","Abigail Youngmi Kwon","Hyuksun Kwon","Carolyn Minh-Thi Ky","Teland La","Ariella Chichilnisky du Lac","Aman Ladia","Adrian L. Gamarra Lafuente","Henry Alex Lai","Sheena Lai","Esaite Lakew","Tiana Lakhani","Aakriti Lakshmanan","Charles Michael Lamb","Adam Joseph Lambert","Juliana Renee Lamm-Perez","Louis Edward James Lampley","Justin Lamson","Zoe Lucia Lanter","Rodolph Lapointe","Ian Luka Lasic-Ellis","Lucien Samuel Lasseau","Anthony Gerard Laster","Matthew Borg Hymn Lau","Larissa Palma Lauer","Jonathan Carl Bauzon Laxamana","Colette Layton","Alex T. Le","Steven Le","Nelia Lechuga","Olivia Sarah Reisch Ledbury","Alexander Abousleman Lee","Alexandra Skye Lee","Alvin Hong Lee","Andrew Tin-Lok Lee","Angela Grace Lee","Ariane Lee","Brian Jun Lee","Denise Hui Jean Lee","Donghyun Brian Lee","Eric Lee","Everett Quincy Lee","Fred J. Lee","Grace Hyerin Lee","Hannah Lee","Jaeyoung Lee","Jake Lee","Jessica Faith Lee","Jonathan Ezra Youngmo Lee","Junha Lee","KeeSeok Lee","Maya Jeong Lee","Susan Lee","Susan Nakyung Lee","Xin Tong Lee","Cecilia Yulu Lei","Matthew William Lennie","Annel Amelia Leon","Trevor Leon","Mark Ethan Leone","Rachel J. Leou","Anna Rebecca Levenberg","Isabelle Levent","Guy Levin","May Levin","Carla Genai Lewis","Abigail Celeste Leyva","Charles Sirui Li","Karina Chengfei Li","Kate Jen Li","Katherine Maria Li","Kevin Li","Miranda Lin Li","Steven Li","Tina Li","Xiaofu Li","Hengyue Lian","Albert Jefferson Liang","Andy Liang","Emily Liang","Shengming Liang","Richard Aaron Libed","Maxime Patrick Joseph De Belloy de Saint Lienard","Nikolas Karlis Teak Liepins","Brennan Chim Lieu","Jong Beom Lim","Justin Jonathan Lim","Marina Limon","Benjamin Damaso Limric","Audrey Lin","Frederick Lin","Jason Chen Lin","Zhiyin Lin","Marcus James Zhong-Wei Lintott","Samuel Mark Liokumovich","Katrina Shulan Liou","Rachel Minjae Lit","Alexandra Kirby Stevenson Littleton","Katharine Grace Stevenson Littleton","Alice Liu","Caleb Jonathan Liu","Daphne Liu","Hunter Yuhuan Liu","Jacqueline Liu","Jiaju Liu","Jiayi Liu","Jiayi Liu","Miranda M. Liu","Novia Jichu Liu","William Song Liu","Yuanlin Liu","Viruni Thihansa Lewwandoowa Liyanage","Ciara Siobhn Locker","Ronan Patrick Locker","Alan De Loera","Jack Frederick Lofwall","Kacey Aileen Logan","Tasi Thomas Gutierrez Long","Daniel Dominic Longo","Daniel Dominic Longo","Phoebe Elise Loo","Ryan Esteban Loo","Abieiden Cecilia Lopez Lopez","Jasmyn Alexis Lopez","Jasmyn Alexis Lopez","Jane Elizabeth Lord-Krause","Jane Elizabeth Lord-Krause","Dylan Lee Loth","Lily Jane Loughridge","Noah W. Lowe","Hazel Lowy","Yuwen Lu","Joseph Kale Lucas","Renner Lucena","Ellie Gianna Luchini","Lizbeth Luevano","Zachary Joaquin Lukrich","Brandon Robert Lum","Itzel Andrea Luna","Camille Luong","Franklin Peace Lurie","Meghan Elizabeth Lynch","Zoe D. Lynch","Ke Ma","Kenneth Ruigeng Ma","Yasmine Fatima Mabene","Audrey Dehong Dair MacCoun","Daniel Rufino Maceda","Nicholas Tolentino Macedo","Joseph Edward Machado","Isabel Esperanza Machuca","Emily P. Macias","Brittany MacSween","Tesfa Mikael Madhin","Sebastian Madrigal","Abigail Kiok Maemoto","Michael Maffezzoli","Gabriel Dean Magaa","Diego Brandon Maglione","Charlotte Noelle Maguy","Akshath Mahajan","Leela Ann Mahajan","Arjun Maheshwari","Arjun Maheshwari","Minh Chau Mai","Steven Song Thinh Mai","Jacob Maikkula","Theodore Cuillin Makler","Francesca Leila Malayeri","Abigail Noemi Maldonado","Isandro Gutirrez Malik","Mayahuel Gutirrez Malik","Taylor Brynne Malina","Kathaleen Grace Mallard","Andrew Steven Mancini","Andrei Mandelshtam","Dhruv Mangtani","Zahran Kweli Manley","Katherine Mannion","Sriya Devi Mantena","Rohin Rajesh Manvi","Angela Ruoping Mao","Scott Edward Maran","Aristotle Mutugi Marangu","Michael Anthony Marcotte","Amelia Randall Marcum","Amaya M. Marion","Jasmine Marie Alumkal Markovich","Jamie Sara Marsal","Connor Douglas Huang Marsh","Geana M. Marte","Tarun Kumar Martheswaran","Bryce Domingo Martinez","Dulce'Celeste Martinez","Gustavo D. Martinez","Juan Daniel Martinez","Eric P. Martz","Nahum Maru","Daniela Mateos","Ryder Thompson Matheny","Anna Matsumoto","Grace Cameron Matthews","Anna Mattinger","Jordan Eileen Mattox","Brendon Franz Matusch","Conner James Maurer","Trevor Alexander Mayberry","Romy Niaz McCarthy","Reid Campbell McCaw","William Antoine McClain","Matthew McClean","Jaston Boone McClure","Henry Dylan McCollough","Joseph Alan McCoy","Gavin McDonell","Jordan Aliyah McElroy","Patrick McEwen","Daniel Ryan McFadden","Luke Joseph McFarland","Sage Hava McGinley-Smith","Tobias McIntosh","Ryan John McJannet","Lindsey Ying-min McKhann","Connor Samuel McLaughlin","Nico Rei Buyco McMillan","Conor James Mehaffey","Divya Serena Mehrish","Rohan Mehrotra","Arshia Anup Mehta","Ishan Chirag Mehta","Jason Mei","Stella Rose Randall Meier","Nolan Mejia","Emilio Melgoza","Ford Lucky Melillo","Joshua Melmon","Lesley Lorraine Mendez-Ortega","Chloe Gabrielle Mendoza","Jonathan Daniel Merchan","Jonathan Daniel Merchan","Alexander Whetstone Mescher","Matthew John Mettias","Sydney Campbell Metz","Ashley Elizebeth Meyer","Victor Eduardo Meza","Chijioke Chinaza Mgbahurike","Leeah Mehret Michael","Miriam Lucia Trigo Mijes","Anya Sage Miksovsky","Angel Andres Millard-Bruzos","Dalynn Amelia Miller","Elizabeth Grace Miller","Maddigan Kelly Miller","Andrei Minakov","Kamerynn Ashleigh Miner","Peter Albert John Ming","Taeli Ayanna Minnihan","Rohan Ramesh Minocha","Jason Matthew Miranda","Nolan A. Miranda","Nolan A. Miranda","Seyed Matin Mirramezani","Shubhra Mishra","Skyley Rose Mitchell","Emmett Kodai Miyahara","Luke McLeod Moberly","Fathuma Nassir Mohamed","Sina Mohammadi","Salma Aziza Mohideen","Cameron Matthew Mohne","Luke Robert Verchick Molbak","Naleikaehukaiik Molitau","Anna Katherine Moller","JoyAnne Jasmine Molloy","Dylan Scott Momaday-Leight","Marlene Anne Monteilh","Eric Rene Montes","Fiona Mooney","Dylan James Moore","Grant Nicholas Moore","Helen Georgina Moore","Katherine Augusta Moore","Lily Goodpasture Moore","Rhodney J. Moore","Samuel Morales-Madrid","Morgan Rae Moreno","Anna Elizabeth Morgan","James J. Morice","Emma Ellen Morris","Jack R. Morris","Lucia Morris","Claudia Isabel Moses","Mary-Tyler Imani Mosley","Daniel Marcelo Mottesi","Megan Mou","Seng Moua","Proud Blessed Mpala","Cindy C. Muang","Peter Mugemancuro","Peter Muhitch","Jacqueline Oluwatofunmi Munis","Enkhjin Munkhbayar","Laila Ann Munoz","Clara Suzanne Murff","Cheyenne N. Murphy","Janesta Jean Noland Murphy","Nicholas Giho Murphy","Manuela Murra","Kendal Alycia Murray","Hamad Mohamedosman Hassan Musa","Daniel Paul Musachio","Kayla Ashley Myers","Taiyo Myrthil","Ella S. Nadeau","Sidra Nadeem","Aqil Daud Naeem","Itbaan Nafi","Auddithio Nag","Jay Nagpal","Arundathi Sreejayan Nair","Chetan Rajagopal Nair","Kailash Siyan Patil Nakagawa","Kiyohiro Nakayama","Tenzin Choyang Namgyal","Adam Benjamin Nance","Saif Ali Nasr","Butch A. Nasser","Michael Deb Nath","Chantal Naugle","Iliana Nava","Daria Navalnaya","Michelle Vinocour Navarro","Archini Nayak","Kaushikee Nayudu","Oumou Kalsoum Ndour","Brenna Neault","Elijah Josiah Negron","Emma Kate Neidig","Lucy Margaret Nemerov","Lisiane Walley-Sasso Nemlin","Ursula Terese Neuner","Ryann Catherine Neushul","Andrew Michael Nevarez","Fletcher Lee Newell","Gradie Ngaruka","An Nguyen","Angela Thy Nguyen","Anh Thuc Ky Nguyen","Brandon Hung Nguyen","Brian Minh Nguyen","Catherine Thao Nguyen","Jasmine Sky Nguyen","Jenny Nguyen","Mathew Phuong Nguyen","Ryan Duc-Trung Nguyen","Seth C. Nguyen","Tan Nguyen","Tracy Nguyen","Truc Cam Nguyen","Tuan Anh Quang Nguyen","Emily Geigh Nichols","Charlotte Lillian Nicks","Charlotte Lillian Nicks","Mario Gerard Nicolas","Sawyer E. Niehaus","Lisa Nieman","Kristofer Roland Bohol Nino","Caitlan Nockideneh","Peter Mugaba Noertoft","Katherine Mary Nolan","Christopher Peter Noll","Heather Angela Nolte","Lillian Grace Nordmann","Sathvik Nori","Levi L. Norte","Chase E. Nwamu","Adria A. Nyarko","John Larkin O'Brien","Moira Siobhan O'Bryan","Rhiannon Sue O'Keefe","Conner James Oberhauser","Alfonso Grijalva Ochoa","Uchechukwu Chinedu Ochuba","Abena Aboagyewaa Ofosu","Elena Oglivie","Oluseyi James Ogundipe","Henry Oluwagbemiga Ojeaburu","Kristen S. Ok","Jessica Kelechi Okpara","Aisha Anuoluwapo Olasewere","Janelle Naomi Nucum Olisea","John Aaron Oliver","Dylan Makana Olson","Paige Nicola Olson","Iman Mohamed Omer","Matthew Oluwatosin Onadeko","Kaelyn Wei-Min Ong","Vanessa Joy Onuoha","Azure Jamachi Onyewu","Zander Davis Opperman","Calista Marie Ordas","Ernesto Orellana","Khosiyat Oripova","Luis M Botin Sanz de Sautuola D Ornan","Jackelyn Arianna Barajas Orozco","Megan Orsak","Joshua Nathaniel Orszag","Danya Nicole Ortiz","Isabel Sofia Vila Ortiz","Kenneth Onosemudiana Oseleononmen","Temitope Oshodi","Raymond DeLuna Ostil","Bruce Davis Owdom","Oluwagbotemi Oluwatamilore Owolabi","Laisha Ozuna","Daniel L. Paavola","April Olivia Pacheco","Ariella Sandoval Pacheco","Jasmine Joy Padilla","Savahna Padilla","Ryan Nathan Padnis","Si Woo Lorenzo Ahn Paek","Kellie Samantha Pagador","Taylor Marie Pagel","Jackson Wells Painter","Ngorli Fiifi Paintsil","Yaa Kamah Pajibo","Elizabeth Palafox","Raj Sekhar Reddy Palleti","Ali J. Palm","Henry Payne Palmer","Grace Pan","Arjun Pandey","Deven Kirit Pandya","Poojan Pandya","Jordan Andy Paredes","Danny SungIn Park","Donghwan Park","Hannah In Park","Jaehyeon Park","James Park","Jeeho Park","Rachel Park","Ryan Park","Soyeon Park","Chase R. Parker","Ian Maxwell Partman","Alissa Pinciroli Pascual","Emma Elizabeth Passmore","Isadora Schulz Dos Passos","Maya R. Patel","Naima U. Patel","Ohm Nilam Patel","Aarushi Vishal Patil","Arusha Patil","Arusha Patil","Andrew Patrick","Bridget E. Patrick","Apurba Paudel","Aiden Stanyslaus Paul","Amari Makyla Paul","Kalani Nui Akea Saghali Pavel","James Duran Pearsall","Samantha Marie Pearson","Camille Joy Peisner","Angela Pena","Maria Valentina Chirinos Pena","Mia Carmen Penfold","Yu Ting Peng","Sofia Rasa Penglase","Angelica Perez","Giana Nicole Perez","Jose Alan Perez","Karla Perez","Malia June Perez","Pablo Andres Nunez Perez","Bryant Perkins","Eryn Mychael Perkins","Anna Mary Perronne","Anwar H. Perry","Sofia Pesantez","Jessica Trevor Peters","Mitchell Nevin Peterson","Rita Mary Peterson","Chi N. Pham","Thao Thanh Phan","Uma Phatak","Tobin Eric Phillips","Mina Elise Phipps","Narvin Kankeo Phouksouvath","Nathan James Phuong","Amalie Felicia Bruns Pianim","Giannka Ginny Picache","Kaavya H. Pichai","Giacomo Pinciroli","Parrish Nicholas Pipestem","Isabella Pistaferri","Marco Silva Pizarro","Dora Elia Plascencia-Macias","Riley Byrd Plaut-Deweese","Antonio Gabriel Feliciano y Pleyto","James Poetzscher","Alina Virginia Pollner","Alexa Corinne Pollock","Hollis Du Pont","Elisa Lucia Ponte","Sheriff Oreoluwa Popoola","Isobel Douglas Porteous","Omari L. Porter","Roshan Prabhakar","Ashwin Prabu","Eva Isha Prakash","Samuel Edward Price","Trinity K. Price","Emily Page Proctor","Jefferson Daniel Pruett","Songqi Pu","Tanner Dane Pulice","Cecilia Grace La Puma","Nicholas J. Pyun","Anthony Qin","Justin Karl Qin","Renee Ruiyi Qin","Leslie Quintana","Olivia Felice Viruet Quintero","Jessica Citlalli Quiroz","Sahir Shaheen Qureshi","Anthony August Radke","Jayson Allen Raines","Shreya Ramachandran","Quinn Charlotte Ramberg","Angelica Jailene Ramirez","Cynthia Nayeli Ramirez","Iliana Nora Ramirez","Pablo Manuel Ramirez","Tiffany Berenice Sanchez Ramirez","Caitlin Elizabeth Ramos","Melissa Ran","Juben Rana","Samiya Zaynab Rana","Gaurav Kiran Rane","Prashaant Ranganathan","Frances Bujah Raphael","Lily Sarah Rashes","Sofia Gabrielle Raso","Nicha Rattanabut","Ryann Ramos Ray","Evan Kai Rayle","Numair Abdul Razzak","Daniel Allen Rebelsky","Elena Recaldini","Leah Camille Redd","Jaiden Sai Reddy","Shriya Gampala Reddy","Neve Mae Redhair","Darren Troy Redic","Aaron Z. Reed","Grant Amos Regen","Emma Sommer Rehac","Maximus Reisner","Nicholas Wolf Reisner","Gabriela Ferreira Reitz","Kaiyu Ren","Kathryn Adele Resnick","Ogbemudia Ediae Reuben","Andrea Isabella Reyes","Bianca De Los Reyes","Isabela Severin Oben Reyes","Lauren Rose Reyes","Sarah Margaret Reyes","Tiernan Wallace Rhodes","Giancarlo Ricci","Dario Rico","Maria Christine Ridgeway-Elsner","Ayla Sarina Ridwan","Sade U. Ried","Matthew A. Riedman","Merissa Bryn Rieken","Dakota Mica Riemersma","Oriana Alexandra Riley","Asia Corinne Rinehart","Anastacia Alicia Del Rio","Ricardo Javier Rios","Karim Ramzi Rishani","Adrian Rivas","Emilio Ezequiel Rivas","Sebastin Urdaneta Rivera","Joseph B. Rivkin","Syahmi Ali Mohd Rizal","E Ju Ro","Zaki Rob","Samuel James Roberts","Sadorian Faith Robertson","Timothy Manuel Robertson","Cole Austin Robins","Cole Austin Robins","Kameron Jarod Robinson","Erick Noel Rocha","Hailey Elizabeth Rochin","Bianca Rodriguez","Cesar A. Rodriguez","Karen Rodriguez","Natalie Joy Rodriguez","Rebecca Ann Rodriguez-Soto","Jewel L. Roemer","Alison Karen Rogers","Aurora Jade Roghair","George E. Rojano","Terachet Rojrachsombat","Isabella Karolina Arredondo Rolfe","Chloe Wood Rollock","Edgar Miguel Roman","Chloe Romero","Greta D. Romero","Kyran Romero","Lucien Philippe Roose","Carolina Rene De la Rosa","Maria F. Lopez Rosas","William Charles Rose","Nicholas Paul Rosenbaum","Layton Belle Rosenfeld","Lee Joshua Rosenthal","Luc Guy Rosenzweig","Wan Arman Daniel Wan Rosli","Wan Farah Nadia Wan Rosli","Alexander David Ross","Leily S. Rossi","Jordan Maya Rothkowitz","Samuel Olsen Roush","Alice Marguerite, Aye Thu Le Roux","Summer Olivia Royal","Stanley Rozenblit","Maya Voet Rozin","Panita Kueh Ruangkanit","Yahir Alexsander Ruiz-Meneses","Benjamin Ruland","Brandon Alexander Rupp","Natalie May Rush","Megan Marie Di Russo","Sarah Helena Petrovna Naa Borle Sackeyfio","Eva Regina Saenz","Schwinn Saereesitthipitak","Kawther S. Said","Amin Mohamad Sajjadian","Austin Joseph Salcedo","Aditya Keshav-Pramod Saligrama","Oladeji David Salimonu","Camron Timothy Sallade","Danny Warren Sallis","Brandon Nguyen Saltzman","Nikita Nitin Salunke","Saron Demame Samuel","Manisha Samy","Jazmin Sanchez","Rohan Sanda","Eliza Kathryn Sandell","Katya Hana Sander","Rinnara Sangpisit","Bronson Lui Sansoni","Gabriel M. SantaCruz","Carlos Alfonso Santana","Galia Asae Santana-Oikawa","Francis Santiago","Anushka Sanyal","Luis Fernando Sarabia","Riya Mehta Saran","Catherine Lucia Sarca","Joseph Patrick Sargent","Nathan Christopher Sariowan","Diane Sarkis","Sadie Mae Sarkisian","Joseph Matthew Sarmenta","Akshar Sarvesh","Caroline Sasso","Georgia Kate Sasso","Charles Vincent Saum","Zouberou Sayibou","Sofia Scarlat","Elijah A. Schacter","Erin Elizabeth Schaefer","Zadie Jean Schaffer","Jack Schallich","Noah Eli Schechter","Evan Riichi Schieber","Hallie Jayde Schiffman","Elizabeth Lea Schmidt","Logan Schuller Schreier","Johnna Sally Schroeder","Lindi Mary Schroeder","Olivia Cyan Schroeder","Lindsay Sophia Schwartz","Elsa Constance Schweizer","Larissa Monet Decora Scott","Roman Shane Scott","Sontee Ariel Larisa Scott","Peter Allen Sears","Brooke Robin Seay","Spencer Gordon Seay","Nicolas Gutierrez Seelenberger","Gabriel North Segal","Nicole Lakshmi Segaran","Melina Seligman-Tovar","Bailey Ann Sellfors","Alexander Lewis Selwyn","Natalia Santana Seniawski","Thrisha Senthilnathan","Noel Seo","Aaron Sequeira","Paloma Rose Sequeira","Bryan Steven Monge Serrano","Samuel Prieto Serrano","Regina Caeli Sevilla","Lara Selin Seyahi","Avantika Alok Shah","Deepan Hitesh Shah","Radhika Rajesh Shah","Saloni Ajay Shah","Tom Ethan Shahar","Alexander Zhang Shan","Claire Lynn Shao","Ahmed Mostafa Mahmoud Sharaf","Shay Nair Sharma","Siddharth Sharma","Emma Josephine Sharp","Anna Frances Shaw","Cassandra Mylia-Frances Shaw","Emma Steinberg Shaw","Julia Steinberg Shaw","Vivian Leilani Shay","Charles Wolf Sheiner","John Rigsby Aldredge Shelburne","Hayden Karynn Shelden","Christopher William Shell","Nur Muhammed Shelton","Henry Shen","Justin Yang Shen","Thanh-Nga Catherine Shenoy","Parthav Shergill","Charles Yuchen Shi","Chia Shih","Patrick Shih","Christopher J. Shin","Elliot JaeYoon Shin","Jeong Yeon Shin","Pearl Shing-Roth","Kimberly Mariko Shirai","Athena Shiravi","Priyanka Shrestha","Thomas Shundi","Vicky Patricia Siah","Lauren Somersille Sibley","Elena Grace Sierra","Rafael T. Sifuentes","Brydie Sigg","Dawson Stephen Sihavong","Guilherme David Santos Silva","Severo Antonio Miguel Garcia Silva","Raymond Nathan Silverman","Godsfavour Chibudom Simon","Nicholas G. Simpson","Sofia Elena Simn-Trench","Aidan Blake Singer","Alia Singh","Ishaan K. Singh","Josh Singh","Kailiti Singh","Yannik Nihal Singh","Gaurvi Singhvi","Ayush Singla","Abhinav Sinha","Kunal Sinha","Shaurya Sinha","Natalie Brooke Sinsheimer","Sarae Rihan Sinville","Vikram Sivashankar","Caroline Grace Skwara","Sicada Analise Sloan","Jaden Tyler Slocum","Jaden Tyler Slocum","Sean Wong Slusiewicz","Coleman J. Smith","Cooper David Aaker Smith","Jerred Denali Villegas Smith","Mackinley Lewis Smith","Rebecca A. Smith","Zachary David Smith","Charles Marcus Snipp","Bradley Joseph Snyder","Jaelen Lennecia Juelle Sobers","Joshua Olumitomi Sogade","Valentina Del Solar","Max Wolf Solberg","Andrew Craig Solganik","Anuoluwapo Ifeoluwapo Solola","Maraki Thomas Solomon","Naomi Solomon","Tobey Hannah Solomon","Andrea Ji Woo Nam Song","Andrew Jae-Yoon Song","Haoming Song","Kevin Song","Asukulu Songolo","Grace Apinya Soontornviwath","Katharine Louise Sorensen","Sophia Sosa","Sophia Sosa","Candice Rachel Sossa","Anastasia Sotiropoulos","Yvette Soto-Hernandez","Michael Samouel Ghatas Souliman","Lara Franciulli Teodoro de Souza","Hasani Issa Spann","Ori Spector","Shruti Parasuram Sridhar","Maya Wells Srinivasan","Sidharth Srinivasan","Pann Sripitak","Holland Eve Stacey","Haley Alexis Stafford","Chrystalen Jade Stambaugh","Chance Kadree Staples","Tess Eleanor Stapleton","Daniel Aaron Stauber","Julia Lauren Steinberg","Nikolas Andrew Stemmet","Calvin Ramon Pizarro Steussy","Parker Joseph Stewart","William Francis Stockwell","Annabelle Fleming Stoker","Shaye Nohea Story","Bradley Edward Strauss","Theodore Julius Strauss","Patricia Marie Strutz","Caroline Marie Suzanne Sturdza","Erin Liwen Su","Sruthi Subramanian","Ryan Joonwon Suh","Zakria Suhail","Angelo Xin Sui","Aaryan Chirag Sukhadia","Killian Sullivan","Laurel Fate Sullivan","Mustafa Ahmad Sultan","Dhruv Kailash Sumathi","Jasmine Sumpter","Adam Sun","Daniel Changxiao Sun","Junyang Sun","Olivia W. Sun","Praveen Sundar","Sudharsan Sundar","Nikhil Suresh","Emma Grace Martinez Sutton","Roshan Swaroop","Iosif-Oliver Szavuj","Christina Sze","Samantha Georgia Tadder","Hana A. Tadesse","Aditya Srinivas Tadimeti","Tenzin Chowang Taklha","Noah Hao-Lin Tan","Simran Tandon","Weiping Valerie Tang","Jenny Tao","Julie Cheng Tao","MiMi Noelle Tarter","Aanya Tashfeen","Isabella Judith Tavarez","Martin Paolo Gonzales Tayag","Aristotle Paris Taylor","Houston Caitlin Taylor","Jayla Alana Taylor","Lauren Kelly Taylor","Lauren Marie Taylor","Shield Stephen Taylor","Hunter Armstrong Taylor-Black","Alexander Paul Tchang","Allison Xin Tee","Stephanie Tena-Meza","Mhar Eisen Santos Tenorio","Aoden Masa Toshi Teo","Janice Yeuhthong Teoh","Anam Sabine Terra","Isabella Cruz Terrazas","Jenna B. Teterin","Emma Hi'ilani Thain","Avinash Jatin Thakkar","Esha Singh Thakran","David N. Thao","Samrat Thapa","Nicole Elizete Theberath","Skya Jona Theobald","Vishala Thiagarajan","Elizabeth A. Thomas","Rahul Krishna Thomas","Christina Olive Susanne Thompson","Serena Kaur Thompson","Allise Elizabeth Thurman","Ashley Elizabeth Thurston","Helen Tian","Jeremy Tian","Ethan Sargo Tiao","Bryce Isaac Tiglon","Mikayla Illyssa Tillery","Noelle Christina Jordan Tinker","Randi Elizabeth Titus","Wesley Tjangnaka","Ivan Sheng Wei Toh","Esther Tok","Galen Topper","Andrii Torchylo","Alexis Armando Torres","Erick Torres","Janet Torres","Marisol Quon Torro","Sofia Marie Tosoni","Leyth Ramez Toubassy","L'Hussen De Kolia Tour","Gilberto Tovar","Carson Gilbert Trail","Alexis Van-Khanh Tran","Angela Mi Tran","Caitlynn To-Duyen Tran","Caroline Tran","Jocelyn Stephanie Tran","Kevin Tran","Serena Le Tran","Van-Khanh Vu Tran","Benjamin Gray Tripp","Janina Eve Troper","Chloe Trujillo","Tenzin Tsultrim","Michael Minh Quoc Tu","Kate Elizabeth Tully","Mikhail Roshan Hernandez Tupaz","Serena Renee Turner","Zoe Tweedie","Augusto Christophe Tan Ty","Ty Matthew Uber","Avi Udash","Austin Uke","Jamie Martin Ullman","Lukas Weatherby Ungar","Stephanie Unur","Richa P. Upadhyay","Gianna Uyemura","Lora Vachovska","Gowri Manju Vadmal","Rikhil Paresh Vagadia","Vivek Vajipey","Isaac Daniel Valdez","Airin Brittany Valdez-Monroy","Nathalie Del Valle","Maya E. Valmon","Lour Drick Bantayan Valsote","Caroline Mai Van","Caroline Mai Van","Lila Ryder Vandenberghe","Maximilian Atsunobu Vandervelden","James Ashton Varah","Anna Maria Vargas","Lauren Aida Vargas","Kavya Varkey","Vivianna Tiffany Varlack","Helena Gurgel Vasconcelos","Saniya Sudhir Vashist","Alexis Abiel Vasquez","Ricardo Vasquez","Marguerite Wong Vasy","Dhruv Vaze","Luke Ryan Veit","Julia Rose Veith","Elijah Jordan Vela","Esau Veliz","Shayana Aarthy Venukanthan","Linda Vera","Britta Elise Verhey","Rishi Raj Verma","Kaela Verner","Karthik V. Vetrivel","Gabriella Lanese Via","Vanessa Pearl Vicente","Santiago Bustamante Villa","Noelle Erispe Villanueva","Victoria Sofia Villarreal","Matthew Jordan Villescas","Neha Vinjapuri","Jannah Nur Kara Vira","Brianna Nicole Virabouth","Luke Andrew Virsik","David Nainoa Visperas","Hong Le Xuan Vo","Skylar Blair Volman","Jack Coleman Volpert","Brandon Vu","Ryan Do Vu","Scott Moon Vu","Piper Rae Van Wagenen","Justin Sherif Wahby","Justin Sherif Wahby","Leah Cecile Waites","Eli Guben Waldman","Siddharta Krishan Wali","Colt B. Walker","Chloe Anne Walsh","Sharon Njeri Wambu","Jackline Wanza Wambua","Aaron Long Wan","Eli Thomas Wandless","Alexander Jen Wang","Allen Wang","Anna Tianya Wang","Christina Rachel Wang","Emma S. Wang","Iris T. Wang","John N. Wang","Kaiden Wang","Katherine Ha Wang","Kelly Peiyi Wang","Kevina Wang","Kexin Wang","Lian Kingyee Wang","Natalie Carrie Wang","Olivia Lynn Wang","Sally Sihan Wang","Sera Wang","Vivian Yun Wang","Ye Wang","Yixing Wang","Yu Han Daisy Wang","Lea Wang-Tomic","Natalie Meian Ward","Joseph Jiang Warton","Aiyana Kaylin Washington","Ameera Celine Waterford","Avery Gannon Watkins","Grant Kevin Watson","Isaac Matthew Wayne","George T. Wehner","Justin Clarke Weiler","Bar Weiner","Demi Rebekah Weitz","Blaine Kennedy Wells","Celestine Jovanna Wenardy","Johan Oskar Wendt","Marissa Werts","Connor Scott Weselman","Allysa Mae Salamat Wesierski","Ariyanna Ellease Wesley","Peter Emmanuel Westbrook","Jasmine Bernice Wheeler","Justin Denilson Whilby","Benjamin Lee White","Kallie L. V. White","Renee Duarte White","Connor Garcia Whitehill","Haven K. Whitney","Hermione D'vana Williams","Jonathan Copeland Williams","Lois Vevine Williams","Luke Harrison Williams","Micah Xinha Williams","Samantha Magdalena Williams","Alexi Nicole Wilson","Alina Lianne Wilson","Taylor Collins Wilson","Dylan Zaw Win","Lauren Elizabeth Winkley","Pawan Wirawarn","Suzannah Dalton Wistreich","Zachary Witzel","Nicholas John Woehrle","Andrew Matthew Woen","Sam K. Wondsen","Katherine Wong","Noah Wong","Nyle Tiber Wong","Katherine E. Woo","Katherine E. Woo","Erica Wood","Erica Wood","Katherine Sarah Worden","Collin Dashon Wright","Cydney Pearl Wright","James Douglas Wright","Penelope Quetzal Wright-Cotera","Junrong Wu","Remy L. Wu","Sophie Wu","Yuechen Wu","Jimmy Wyrick","Nikita X-One","Iris Xinran Xia","Catherine Wang Xiang","Cary Xiao","Johnathan Wenjia Xie","Lanruo Xie","Yichen Xie","Zhouhua Xie","Ashton Keng Xiong","Hlee Xiong","Lee Xiong","Brian Xu","Brian Xu","Haomeng Xu","Pinlin Xu","Sidra Yang Xu","Sidra Yang Xu","Yixuan Xu","Xi Ya","Shinnosuke Yagi","Michael Jarek Yan","Nathaniel Raine Hanbury Masfen Yan","Nathaniel Raine Hanbury Masfen Yan","Alexander Hiu Wai Yang","Amelia Maivkaj Yang","Andrew Yang","Ellen HongYu Yang","Grace Kaixin Yang","Jailia Sarena Yang","Janice H. Yang","Jessica Gong Yang","Nicole Nouchee Yang","Yue Yang","Sarah Jade Yao","Tamjid Yacoub Yasin","Sutton Jens Orlando Yazzolino","Brion Qi Ye","Yining Ye","Yining Ye","Matthew Macario Yekell","Alexandra Yepifanova","Andre Yu Yeung","Belinda Yeung","Madison Nicole Yeung","Leyla Yilmaz","Ecem Yilmazhaliloglu","Thomas Yim","Richard Yin","Jihwun Joshua Yoon","Katherine Yoon","Pia Yoon","Sonny Young","Sonny Young","Willow Wishom Young","Alfred Yu","Angeline Chi Ying Yu","Chen Jie Yu","Chen Jie Yu","Jun Xiang Zachary Yu","Michael Jonathan Yu","Richard Yuan","YuYu Yuan","Ava Marie Yun","Zachary Zafran","Daniel J. Zamoshchin","Caterina Maria Zampa","Caroline Grace Zdanowski","David James Zeibert","Vernita Zhai","Anthony Zhan","Alan Zhang","Albert Zhang","Alex Zhang","Angela Xinyu Zhang","Aolin Edward Zhang","Boxin Zhang","Carl Zhang","Chuyi Zhang","Chuyi Zhang","Faith Zhang","Kehan Zhang","Michael Zhang","Serena Zhang","Shu Wen Zhang","Adam Lida Zhao","Emily Yuan Zhao","Isaac Dan Zhao","Steven Sun Zhao","Anna J. Zheng","Hayden Anderson Zheng","Kenny Zheng","Amy Siyi Zhou","Beining Zhou","David Yunsheng Zhou","Annie Z. Zhu","Eric Zhu","Michael Song Zhu","Olivia Elly Ziegler","Jordan Zietz","Marcus Zimmerman","Declan Murphy Zink","Kyle Diego Zuluaga","Benedict Elonga Zuzi","Teagan Elyse Zwaanstra"],K0=z.createContext(null),Au=()=>{const a=z.useContext(K0);if(!a)throw new Error("useAuth must be used within an AuthProvider");return a},no="/files/default-profile.png";function Rm(a){return!a||typeof a!="string"?"":a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^\w\s]/g," ").replace(/\s+/g," ").trim()}function MA(a,e){const n=Rm(a),r=e.find(g=>Rm(g)===n);if(r)return{exactMatch:r,potentialMatches:[]};const o=n.split(" ").filter(Boolean);if(o.length<2)return{potentialMatches:[]};const u=o[0],d=o[o.length-1];return{potentialMatches:e.filter(g=>{const E=Rm(g).split(" ").filter(Boolean);if(E.length<2)return!1;const S=E[0],T=E[E.length-1];return S===u&&T===d})}}function Cm(a,e){return a.email==="jpark22@stanford.edu"?e==="gsb"?`${a.uid}_gsb`:`${a.uid}_undergrad`:a.uid}const yx=({children:a})=>{const[e,n]=z.useState(null),[r,o]=z.useState(null),[u,d]=z.useState(!0),[m,g]=z.useState(null),[p,E]=z.useState(null),[S,T]=z.useState(null),L=Y=>!Y||!Array.isArray(Y)?[]:Y.map(X=>typeof X=="string"?{name:X,email:X.toLowerCase().replace(/\s+/g,".")+"@stanford.edu"}:X&&typeof X=="object"&&X.name&&X.email?{name:X.name,email:X.email}:{name:"Unknown",email:"unknown@stanford.edu"}),P=async Y=>{if(!(!(e!=null&&e.uid)||!m||!p))try{const X=Cm(e,p),le=ri(Xn,"users",X);await Jr(le,{name:Y,userClass:p,updatedAt:Jt()},{merge:!0}),g(null),T(p),E(null),await F()}catch(X){throw console.error("Error selecting name:",X),X}},F=async()=>{if(!(e!=null&&e.uid)){console.warn("refreshUserData called without user");return}try{if(S&&e.email==="jpark22@stanford.edu"){const Y=Cm(e,S),X=ri(Xn,"users",Y),le=await Qr(X);if(le.exists()){const D=le.data(),w={uid:D.uid,email:D.email,name:D.name||D.verifiedName||D.displayName||"",photoURL:D.photoURL,crushes:D.crushes||[],lockedCrushes:D.lockedCrushes||[],matches:L(D.matches),crushCount:D.crushCount||0,userClass:D.userClass||S,createdAt:D.createdAt,updatedAt:D.updatedAt,lastLogin:D.lastLogin};o(w);return}}if(e.email==="jpark22@stanford.edu"){const Y=`${e.uid}_gsb`,X=`${e.uid}_undergrad`,le=ri(Xn,"users",Y),D=ri(Xn,"users",X),[w,C]=await Promise.all([Qr(le),Qr(D)]);let N=null,k="gsb";if(w.exists()&&w.data().name?(N=w.data(),k="gsb"):C.exists()&&C.data().name?(N=C.data(),k="undergrad"):w.exists()?(N=w.data(),k="gsb"):C.exists()&&(N=C.data(),k="undergrad"),N){T(k);const O={uid:N.uid,email:N.email,name:N.name||N.verifiedName||N.displayName||"",photoURL:N.photoURL,crushes:N.crushes||[],lockedCrushes:N.lockedCrushes||[],matches:L(N.matches),crushCount:N.crushCount||0,userClass:N.userClass||k,createdAt:N.createdAt,updatedAt:N.updatedAt,lastLogin:N.lastLogin};o(O);return}}else{const Y=ri(Xn,"users",e.uid),X=await Qr(Y);if(X.exists()){const le=X.data(),D={uid:le.uid,email:le.email,name:le.name||le.verifiedName||le.displayName||"",photoURL:le.photoURL,crushes:le.crushes||[],lockedCrushes:le.lockedCrushes||[],matches:L(le.matches),crushCount:le.crushCount||0,userClass:le.userClass||"gsb",createdAt:le.createdAt,updatedAt:le.updatedAt,lastLogin:le.lastLogin};o(D);return}}console.error("User document does not exist"),o(null)}catch(Y){console.error("Error refreshing user data:",Y),o(null)}},G=async(Y,X)=>{var le,D;if(!Y.uid)return null;T(X);try{if(Y.email==="jpark22@stanford.edu"){const w=Cm(Y,X),C=ri(Xn,"users",w),N=await Qr(C);if(N.exists()){const k=N.data();console.log(`Using existing ${X} account for ${k.name}`);const O={uid:k.uid,email:k.email,name:k.name||k.verifiedName||k.displayName||"",photoURL:Y.photoURL||k.photoURL||no,crushes:k.crushes||[],lockedCrushes:k.lockedCrushes||[],matches:L(k.matches||[]),crushCount:k.crushCount||0,userClass:k.userClass||X,createdAt:k.createdAt,updatedAt:Jt(),lastLogin:Jt()};return await Jr(C,O,{merge:!0}),o(O),O}else{const k=X==="gsb"?lu:uu,O=Y.displayName||((le=Y.email)==null?void 0:le.split("@")[0])||"",{exactMatch:I,potentialMatches:Me}=MA(O,k);if(I){console.log(`Creating fresh ${X} account with name: ${I}`);const xe={uid:w,email:Y.email||"",name:I,photoURL:Y.photoURL||no,crushes:[],lockedCrushes:[],matches:[],crushCount:0,userClass:X,createdAt:Jt(),updatedAt:Jt(),lastLogin:Jt()};return await Jr(C,xe),o(xe),console.log(`Successfully created fresh ${X} account`),xe}else if(Me.length>0){console.log(`Multiple matches found for ${X}, showing selection`),g(Me),E(X);const xe={uid:w,email:Y.email||"",name:"",photoURL:Y.photoURL||no,crushes:[],lockedCrushes:[],matches:[],crushCount:0,userClass:X,createdAt:Jt(),updatedAt:Jt(),lastLogin:Jt()};return await Jr(C,xe),o(xe),xe}else return await to(Yi),alert(`Your name was not found in the ${X==="gsb"?"GSB Class of 2025":"Undergraduate Class of 2025"} roster.`),null}}else{const w=ri(Xn,"users",Y.uid),C=await Qr(w);if(C.exists()){const N=C.data();if(N.userClass&&N.userClass!==X){await to(Yi);const O=N.userClass==="gsb"?"GSB":"Undergraduate";return alert(`You are already registered as a ${O} student. Please sign in with the ${O} option.`),null}const k={uid:N.uid,email:N.email,name:N.name||N.verifiedName||N.displayName||"",photoURL:Y.photoURL||N.photoURL||no,crushes:N.crushes||[],lockedCrushes:N.lockedCrushes||[],matches:L(N.matches),crushCount:N.crushCount||0,userClass:N.userClass||X,createdAt:N.createdAt,updatedAt:Jt(),lastLogin:Jt()};return await Jr(w,k,{merge:!0}),o(k),k}else{const N=X==="gsb"?lu:uu,k=Y.displayName||((D=Y.email)==null?void 0:D.split("@")[0])||"",{exactMatch:O,potentialMatches:I}=MA(k,N);if(O){const Me={uid:Y.uid,email:Y.email||"",name:O,photoURL:Y.photoURL||no,crushes:[],lockedCrushes:[],matches:[],crushCount:0,userClass:X,createdAt:Jt(),updatedAt:Jt(),lastLogin:Jt()};return await Jr(w,Me),o(Me),Me}else if(I.length>0){g(I),E(X);const Me={uid:Y.uid,email:Y.email||"",name:"",photoURL:Y.photoURL||no,crushes:[],lockedCrushes:[],matches:[],crushCount:0,userClass:X,createdAt:Jt(),updatedAt:Jt(),lastLogin:Jt()};return await Jr(w,Me),o(Me),Me}else return await to(Yi),alert(`Your name was not found in the ${X==="gsb"?"GSB Class of 2025":"Undergraduate Class of 2025"} roster.`),null}}}catch(w){return console.error("Error creating/updating user document:",w),null}};z.useEffect(()=>AI(Yi,async X=>{var le;X?(le=X.email)!=null&&le.endsWith("@stanford.edu")?(n(X),d(!1)):(await to(Yi),n(null),o(null),T(null),d(!1),alert("Only @stanford.edu email addresses are allowed. Please sign in with your Stanford account.")):(n(null),o(null),g(null),E(null),T(null),d(!1))}),[]);const oe={user:e,userData:r,loading:u,nameOptions:m,signInWithGoogle:async Y=>{var X;try{const le=await jI(Yi,G0);if(!((X=le.user.email)!=null&&X.endsWith("@stanford.edu")))throw await to(Yi),new Error("Only @stanford.edu email addresses are allowed");await G(le.user,Y)}catch(le){console.error("Login error:",le),le.code==="auth/popup-closed-by-user"?console.log("Sign-in popup was closed by user"):le.code==="auth/cancelled-popup-request"?console.log("Another sign-in popup is already open"):alert("Login failed. Please make sure you're using a @stanford.edu email address.")}},selectName:P,logout:async()=>{try{await to(Yi),o(null),g(null),E(null),T(null)}catch(Y){console.error("Logout error:",Y)}},refreshUserData:F};return R.jsx(K0.Provider,{value:oe,children:a})},vx=()=>{const{signInWithGoogle:a}=Au(),e=n=>{a(n)};return R.jsx("div",{className:"login-container",children:R.jsxs("div",{className:"login-card",children:[R.jsx("h1",{children:"Stanford Last Chances"}),R.jsx("h2",{children:"Class of 2025"}),R.jsxs("p",{children:["Inspired by Dartmouth's famous ",R.jsx("i",{children:"Last Chances"})," tradition for graduating seniors",R.jsx("br",{}),R.jsx("br",{}),"Share your crushes anonymously and see if there's a mutual connection ",R.jsx("br",{}),R.jsx("br",{}),"The site will remain active until our Stanford accounts expire in October 2025"]}),R.jsxs("div",{className:"login-content",children:[R.jsx("p",{children:"Select your class:"}),R.jsxs("button",{className:"google-signin-btn",onClick:()=>e("gsb"),children:[R.jsxs("svg",{className:"google-icon",viewBox:"0 0 24 24",children:[R.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),R.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),R.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),R.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"GSB MBA Class of 2025"]}),R.jsxs("button",{className:"google-signin-btn",onClick:()=>e("undergrad"),children:[R.jsxs("svg",{className:"google-icon",viewBox:"0 0 24 24",children:[R.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),R.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),R.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),R.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Undergraduate Class of 2025"]})]})]})})},_x=({analytics:a,classDisplayName:e})=>a?R.jsxs("div",{className:"admin-overview",children:[R.jsxs("div",{className:"admin-class-header",children:[R.jsxs("h4",{children:[e," Class of 2025 - Analytics Dashboard"]}),R.jsxs("div",{className:"admin-class-stats-summary",children:[R.jsxs("span",{className:"class-stat",children:[R.jsx("strong",{children:a.totalUsers})," active users"]}),R.jsxs("span",{className:"class-stat",children:[R.jsx("strong",{children:a.totalClassSize})," total class size"]}),R.jsxs("span",{className:"class-stat",children:[R.jsxs("strong",{children:[a.classParticipationRate,"%"]})," class participation"]})]})]}),R.jsxs("div",{className:"admin-quick-insights",children:[R.jsxs("div",{className:"admin-insight-card",children:[R.jsx("h4",{children:"Platform Activity"}),R.jsxs("p",{children:[a.usersWithCrushes," users have sent crushes"]}),R.jsxs("p",{children:[a.usersWithMatches," users have matches"]}),R.jsxs("p",{children:[a.avgCrushes," average crushes sent per user"]}),R.jsxs("p",{children:[a.activeUsersLast24h,"% users active in last 24h"]})]}),R.jsxs("div",{className:"admin-insight-card",children:[R.jsx("h4",{children:"Participation Metrics"}),R.jsxs("p",{children:[a.participationRate,"% of signed-up users active"]}),R.jsxs("p",{children:[a.classParticipationRate,"% of total class participating"]}),R.jsxs("p",{children:[a.totalUsers,"/",a.totalClassSize," students signed up"]}),R.jsxs("p",{children:[a.inactiveReceivers.length," inactive receivers"]})]}),R.jsxs("div",{className:"admin-insight-card",children:[R.jsx("h4",{children:"Matching Success"}),R.jsxs("p",{children:[a.totalMatches," total matches"]}),R.jsxs("p",{children:[a.totalCrushes," total crushes sent"]}),R.jsxs("p",{children:[a.peopleWithCrushes," people receiving crushes"]}),R.jsxs("p",{children:[a.orphanedCrushes.length," orphaned crushes"]})]})]}),R.jsxs("div",{className:"admin-analytics",children:[R.jsxs("div",{className:"admin-analytics-section",children:[R.jsxs("h4",{children:["All ",e," Matches (",a.totalMatches,")"]}),a.matchedPairs.length?R.jsx("div",{className:"admin-matches-list",children:a.matchedPairs.map((n,r)=>R.jsxs("div",{className:"admin-match-item",children:[r+1,". ",n]},r))}):R.jsxs("p",{children:["No matches found yet in ",e," class."]})]}),R.jsxs("div",{className:"admin-analytics-section",children:[R.jsxs("h4",{children:["Top ",e," Crush Receivers"]}),R.jsx("div",{className:"admin-list",children:a.topCrushReceivers.slice(0,15).map((n,r)=>R.jsxs("div",{className:"admin-list-item",children:[R.jsxs("span",{children:[r+1,". ",n.name]}),R.jsxs("span",{children:[n.count," crushes"]})]},n.name))})]}),R.jsxs("div",{className:"admin-analytics-section",children:[R.jsxs("h4",{children:["Top ",e," Crush Senders"]}),R.jsx("div",{className:"admin-list",children:a.topCrushSenders.slice(0,15).map((n,r)=>R.jsxs("div",{className:"admin-list-item",children:[R.jsxs("span",{children:[r+1,". ",n.name]}),R.jsxs("span",{children:[n.count," crushes sent"]})]},n.name))})]}),R.jsxs("div",{className:"admin-analytics-section",children:[R.jsxs("h4",{children:[e," Inactive Receivers (",a.inactiveReceivers.length,")"]}),R.jsx("div",{className:"admin-list",children:a.inactiveReceivers.map((n,r)=>R.jsxs("div",{className:"admin-inactive-item",children:[R.jsxs("div",{className:"admin-inactive-header",children:[R.jsxs("span",{children:[r+1,". ",n.name]}),R.jsxs("span",{children:[n.crushCount," crushes"]})]}),R.jsxs("div",{className:"admin-inactive-details",children:[R.jsxs("p",{children:["Email: ",n.email]}),R.jsxs("p",{children:["Reason: ",n.reason]}),R.jsxs("p",{children:["Crushers: ",n.crushers.map(o=>o.name).join(", ")]})]})]},n.email))})]}),a.orphanedCrushes.length>0&&R.jsxs("div",{className:"admin-analytics-section",children:[R.jsxs("h4",{children:[e," Orphaned Crushes (",a.orphanedCrushes.length,")"]}),R.jsx("div",{className:"admin-list",children:a.orphanedCrushes.map((n,r)=>R.jsxs("div",{className:"admin-list-item",children:[R.jsxs("span",{children:[r+1,". ",n]}),R.jsx("span",{children:"Not signed up"})]},n))})]})]})]}):R.jsxs("div",{className:"admin-loading",children:["Loading ",e," analytics..."]}),Ex=({allUsers:a,loadingUsers:e,adminSearchTerm:n,setAdminSearchTerm:r,userFilter:o,setUserFilter:u,viewingUserId:d,handleViewUser:m,findCrushersForUser:g,userStats:p,classDisplayName:E})=>{const[S,T]=z.useState(0),[L,P]=z.useState(""),F=50,G=z.useCallback(Y=>{const X=Y.target.value;P(X),setTimeout(()=>{r(X)},300)},[r]),q=z.useMemo(()=>{const Y=S,X=Math.min(Y+F,a.length);return a.slice(Y,X)},[a,S]),ee=z.useCallback(Y=>{const le=Y.target.scrollTop,w=Math.floor(le/80);Math.abs(w-S)>5&&T(Math.max(0,w-10))},[S]),oe=kA.memo(({u:Y})=>{var Me,xe,$,he;const X=d===Y.uid,le=Y.crushCount||0,D=g(Y),w=Y.isInactive||!1,C=Y.isGhost||!1,N=Y.name||Y.email,k=!!(Y.name&&Y.name.trim());let O="",I="";return C?(O="admin-user-ghost",I=" Ghost User"):w&&(O="admin-user-inactive",I=" Inactive User"),R.jsxs("div",{className:`admin-user-item ${O}`,children:[R.jsxs("div",{className:"admin-user-header",children:[R.jsxs("div",{className:"admin-user-info",children:[R.jsxs("div",{className:"admin-user-name",children:[N,I&&R.jsx("span",{className:"user-type-label",children:I}),!w&&!C&&!k&&R.jsx("span",{className:"no-name-indicator",children:"(No name set)"})]}),R.jsx("div",{className:"admin-user-email",children:Y.email}),R.jsxs("div",{className:"admin-user-stats",children:[le," crushing  ",((Me=Y.matches)==null?void 0:Me.length)||0," matches  ",((xe=Y.crushes)==null?void 0:xe.length)||0," selected",!w&&!C&&le!==D.length&&R.jsxs("span",{className:"discrepancy-indicator",children:["(calc: ",D.length,")"]})]})]}),R.jsx("button",{onClick:()=>m(Y.uid),className:"admin-view-btn",disabled:w||C,children:C?"Ghost":w?"Inactive":X?"Collapse":"View"})]}),X&&!w&&!C&&R.jsxs("div",{className:"admin-user-expanded",children:[R.jsx("div",{className:"admin-view-header",children:R.jsxs("h4",{children:["Data for ",N," (",E,"):"]})}),R.jsxs("div",{className:"admin-data-grid",children:[R.jsxs("div",{className:"admin-data-card",children:[R.jsx("div",{className:"admin-data-number",children:le}),R.jsx("div",{className:"admin-data-label",children:"People Crushing On Them"}),D.length>0&&R.jsx("div",{className:"admin-data-names",children:D.map((me,De)=>R.jsx("div",{className:"admin-name-item",children:me.name},De))}),le!==D.length&&R.jsxs("div",{className:"admin-discrepancy",children:[" DB shows ",le,", calc shows ",D.length]})]}),R.jsxs("div",{className:"admin-data-card",children:[R.jsx("div",{className:"admin-data-number",children:(($=Y.matches)==null?void 0:$.length)||0}),R.jsx("div",{className:"admin-data-label",children:"Matches"}),Y.matches&&Y.matches.length>0&&R.jsx("div",{className:"admin-data-names",children:Y.matches.map((me,De)=>R.jsx("div",{className:"admin-name-item",children:me.name},De))})]}),R.jsxs("div",{className:"admin-data-card",children:[R.jsx("div",{className:"admin-data-number",children:((he=Y.crushes)==null?void 0:he.length)||0}),R.jsx("div",{className:"admin-data-label",children:"Crushes Sent"}),Y.crushes&&Y.crushes.length>0&&R.jsx("div",{className:"admin-data-names",children:Y.crushes.map((me,De)=>{var W;const M=(W=Y.lockedCrushes)==null?void 0:W.includes(me);return R.jsxs("div",{className:`admin-name-item ${M?"locked":""}`,children:[me," ",M&&""]},De)})})]})]}),le===0&&(!Y.matches||Y.matches.length===0)&&(!Y.crushes||Y.crushes.length===0)&&R.jsx("div",{className:"admin-no-activity",children:"No activity"})]})]})});return oe.displayName="UserItem",R.jsxs("div",{className:"admin-users",children:[R.jsxs("div",{className:"admin-class-users-header",children:[R.jsxs("h4",{children:[E," Users Management"]}),R.jsxs("div",{className:"admin-class-users-summary",children:[R.jsxs("span",{children:["Active: ",p.activeUsers]}),R.jsxs("span",{children:["Inactive: ",p.inactiveUsers]}),R.jsxs("span",{children:["Ghost: ",p.ghostUsers]}),R.jsxs("span",{children:["Total: ",p.total]})]})]}),R.jsxs("div",{className:"admin-controls",children:[R.jsxs("div",{className:"admin-search-section",children:[R.jsx("input",{type:"text",placeholder:`Search ${E} users...`,value:L,onChange:G,className:"admin-search-input"}),a.length>F&&R.jsxs("div",{className:"admin-pagination-info",children:["Showing ",Math.min(q.length,F)," of ",a.length," ",E," users"]})]}),R.jsx("div",{className:"admin-filter-section",children:R.jsxs("select",{value:o,onChange:Y=>u(Y.target.value),className:"admin-filter-dropdown",children:[R.jsxs("option",{value:"all",children:["All ",E," Users (",p.total,")"]}),R.jsxs("option",{value:"active",children:["Active Users (",p.activeUsers,")"]}),R.jsxs("option",{value:"inactive",children:["Inactive Users (",p.inactiveUsers,")"]}),R.jsxs("option",{value:"ghost",children:["Ghost Users (",p.ghostUsers,")"]})]})})]}),e?R.jsxs("div",{className:"loading",children:["Loading ",E," users..."]}):R.jsxs("div",{className:"admin-users-container",onScroll:ee,children:[S>0&&R.jsx("div",{style:{height:`${S*80}px`},className:"virtual-spacer"}),q.map(Y=>R.jsx(oe,{u:Y},Y.uid)),S+F<a.length&&R.jsx("div",{style:{height:`${(a.length-S-F)*80}px`},className:"virtual-spacer"}),a.length===0&&R.jsx("div",{className:"no-results",children:n?`No ${E} users found.`:`No ${E} users available.`})]})]})},Ax=({user:a})=>{const[e,n]=z.useState([]),[r,o]=z.useState(!1),[u,d]=z.useState(""),[m,g]=z.useState(null),[p,E]=z.useState("all"),[S,T]=z.useState("analytics"),[L,P]=z.useState("gsb"),[F,G]=z.useState(null),[q,ee]=z.useState(null),[oe,Y]=z.useState(!1),[X,le]=z.useState(0),D=z.useCallback(M=>!M||typeof M!="string"?"":M.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^\w\s]/g," ").replace(/\s+/g," ").trim(),[]),w=z.useCallback((M,W,ne)=>{if(!M||!M.trim())return null;const te=D(M),ce=ne?W.filter(ve=>(ve.userClass||"gsb")===ne):W;let Ee=ce.find(ve=>ve.name&&D(ve.name)===te);if(Ee)return Ee;const pe=te.split(" ");if(pe.length>=2){const ve=`${pe[0]} ${pe[pe.length-1]}`;Ee=ce.find(Ae=>{if(Ae.name){const je=D(Ae.name).split(" ");if(je.length>=2)return`${je[0]} ${je[je.length-1]}`===ve}return!1})}return Ee||null},[D]),C=z.useCallback(M=>{const W=[],ne=M.name,te=M.userClass||"gsb";return ne&&e.forEach(ce=>{if(ce.uid===M.uid||ce.isInactive||ce.isGhost||(ce.userClass||"gsb")!==te)return;(ce.crushes||[]).includes(ne)&&W.push({name:ce.name,email:ce.email})}),W},[e]);z.useEffect(()=>{const M=B2(mA(Xn,"analytics"),j2("createdAt","desc"),H2(1)),W=Y2(M,ne=>{if(!ne.empty){const te=ne.docs[0].data();console.log("Live analytics updated:",te),le(ce=>ce+1)}},ne=>{console.error("Error listening to analytics:",ne)});return()=>W()},[]);const N=z.useCallback(M=>{if(M.length===0)return 0;const W=new Date(Date.now()-24*60*60*1e3);let ne=0;return M.forEach(te=>{if(te.lastLogin){let ce;te.lastLogin.toDate?ce=te.lastLogin.toDate():te.lastLogin.seconds?ce=new Date(te.lastLogin.seconds*1e3):ce=new Date(te.lastLogin),ce>W&&ne++}}),Number((ne/M.length*100).toFixed(2))},[]),k=z.useCallback(M=>{const ne=e.filter(be=>!be.isInactive&&!be.isGhost).filter(be=>(be.userClass||"gsb")===M),te=M==="gsb"?lu.length:uu.length,ce=ne.length,Ee=new Set;ne.forEach(be=>{const lt=be.matches||[];Array.isArray(lt)&&lt.length>0&&lt.forEach(Ct=>{const xa=Ct.name||Ct,Ye=[be.name,xa].sort().join("  ");Ee.add(Ye)})});const pe=Ee.size,ve=Array.from(Ee).sort();let Ae=0;ne.forEach(be=>{const lt=be.crushes||[];Ae+=lt.length});const je=new Map,qe=new Map;ne.forEach(be=>{(be.crushes||[]).forEach(Ct=>{const xa=w(Ct,e,M);if(xa){const Ye=xa.name;Ye&&(je.set(Ye,(je.get(Ye)||0)+1),qe.has(Ye)||qe.set(Ye,[]),qe.get(Ye).push(be.name))}else je.set(Ct,(je.get(Ct)||0)+1),qe.has(Ct)||qe.set(Ct,[]),qe.get(Ct).push(be.name)})});const Ot=Array.from(je.keys()).filter(be=>je.get(be)>0).length,dn=ce>0?Ae/ce:0,sn=ne.filter(be=>be.crushes.length>0).length,_n=ne.filter(be=>be.matches.length>0).length,ka=ce>0?sn/ce*100:0,yi=te>0?sn/te*100:0,on=[],cs=new Set;ne.forEach(be=>{(be.crushes||[]).forEach(Ct=>{cs.add(Ct)})}),cs.forEach(be=>{w(be,e,M)||on.push(be)});const fr=Array.from(je.entries()).map(([be,lt])=>({name:be,count:lt,crushers:qe.get(be)||[]})).sort((be,lt)=>lt.count-be.count).slice(0,25),vi=ne.map(be=>({name:be.name,count:be.crushes.length,crushNames:be.crushes})).sort((be,lt)=>lt.count-be.count).slice(0,25),Fn=[];return ne.forEach(be=>{if(be.crushCount>0&&!!!(be.crushes&&be.crushes.length>0)){const Ct=C(be);Fn.push({name:be.name||"Unknown",email:be.email,crushCount:be.crushCount,reason:"No crushes submitted",crushers:Ct})}}),Fn.sort((be,lt)=>lt.crushCount-be.crushCount),{totalUsers:ce,totalClassSize:te,totalMatches:pe,matchedPairs:ve,totalCrushes:Ae,peopleWithCrushes:Ot,avgCrushes:Number(dn.toFixed(2)),usersWithCrushes:sn,usersWithMatches:_n,participationRate:Number(ka.toFixed(2)),classParticipationRate:Number(yi.toFixed(2)),orphanedCrushes:on,topCrushReceivers:fr,topCrushSenders:vi,inactiveReceivers:Fn,activeUsersLast24h:N(ne)}},[e,w,C,N]),O=z.useCallback(async()=>{o(!0);try{const M=await q2(mA(Xn,"users")),W=[];M.forEach(ve=>{const Ae=ve.data();W.push({...Ae,uid:ve.id,userClass:Ae.userClass||"gsb"})});const ne=new Set;W.forEach(ve=>{(ve.crushes||[]).forEach(je=>{ne.add(je)})});const te=new Set(W.map(ve=>ve.name).filter(Boolean)),ce=[],Ee=[];lu.forEach(ve=>{if(te.has(ve))return;let Ae=0;W.forEach(qe=>{(qe.userClass||"gsb")==="gsb"&&(qe.crushes||[]).includes(ve)&&Ae++});const je=`${ve.toLowerCase().replace(/\s+/g,".")}@stanford.edu`;if(Ae>0){const qe=`inactive-gsb-${D(ve).replace(/\s+/g,"-")}`;ce.push({uid:qe,email:je,name:ve,photoURL:"/files/default-profile.png",crushes:[],lockedCrushes:[],matches:[],crushCount:Ae,userClass:"gsb",isInactive:!0,createdAt:null,updatedAt:null,lastLogin:null})}else{const qe=`ghost-gsb-${D(ve).replace(/\s+/g,"-")}`;Ee.push({uid:qe,email:je,name:ve,photoURL:"/files/default-profile.png",crushes:[],lockedCrushes:[],matches:[],crushCount:0,userClass:"gsb",isGhost:!0,createdAt:null,updatedAt:null,lastLogin:null})}}),uu.forEach(ve=>{if(te.has(ve))return;let Ae=0;W.forEach(qe=>{qe.userClass==="undergrad"&&(qe.crushes||[]).includes(ve)&&Ae++});const je=`${ve.toLowerCase().replace(/\s+/g,".")}@stanford.edu`;if(Ae>0){const qe=`inactive-undergrad-${D(ve).replace(/\s+/g,"-")}`;ce.push({uid:qe,email:je,name:ve,photoURL:"/files/default-profile.png",crushes:[],lockedCrushes:[],matches:[],crushCount:Ae,userClass:"undergrad",isInactive:!0,createdAt:null,updatedAt:null,lastLogin:null})}else{const qe=`ghost-undergrad-${D(ve).replace(/\s+/g,"-")}`;Ee.push({uid:qe,email:je,name:ve,photoURL:"/files/default-profile.png",crushes:[],lockedCrushes:[],matches:[],crushCount:0,userClass:"undergrad",isGhost:!0,createdAt:null,updatedAt:null,lastLogin:null})}});const pe=[...W,...ce,...Ee];pe.sort((ve,Ae)=>{const je=ve.userClass||"gsb",qe=Ae.userClass||"gsb";if(je!==qe)return je==="gsb"?-1:1;const Ot=ve.isInactive||!1,dn=Ae.isInactive||!1,sn=ve.isGhost||!1,_n=Ae.isGhost||!1;if(!Ot&&!sn&&(dn||_n))return-1;if((Ot||sn)&&!dn&&!_n)return 1;if(Ot&&!dn&&_n)return-1;if(!Ot&&sn&&dn)return 1;const ka=ve.name||ve.email||"",yi=Ae.name||Ae.email||"";return ka.localeCompare(yi)}),n(pe)}catch(M){console.error("Error loading all users:",M)}finally{o(!1)}},[D]);z.useEffect(()=>{a&&O()},[a,O]),z.useEffect(()=>{if(e.length>0){Y(!0);const M=setTimeout(()=>{try{const W=k("gsb"),ne=k("undergrad");G(W),ee(ne)}finally{Y(!1)}},300);return()=>clearTimeout(M)}},[e,k,X]);const I=z.useMemo(()=>e.filter(M=>(M.userClass||"gsb")===L),[e,L]),Me=z.useMemo(()=>{const M=I.filter(te=>!te.isInactive&&!te.isGhost),W=I.filter(te=>te.isInactive),ne=I.filter(te=>te.isGhost);return{activeUsers:M.length,inactiveUsers:W.length,ghostUsers:ne.length,total:I.length}},[I]),xe=z.useCallback(M=>{g(m===M?null:M)},[m]),$=z.useMemo(()=>{let M=I;switch(p){case"active":M=M.filter(ne=>!ne.isInactive&&!ne.isGhost);break;case"inactive":M=M.filter(ne=>ne.isInactive);break;case"ghost":M=M.filter(ne=>ne.isGhost);break}if(!u.trim())return M;const W=u.toLowerCase();return M.filter(ne=>{const te=(ne.name||"").toLowerCase(),ce=(ne.email||"").toLowerCase();return te.includes(W)||ce.includes(W)})},[I,u,p]),he=z.useCallback(async()=>{le(M=>M+1),await O()},[O]),me=L==="gsb"?F:q,De=L==="gsb"?"GSB MBA":"Undergraduate";return R.jsxs("div",{className:"admin-section",children:[R.jsxs("div",{className:"admin-header-section",children:[R.jsxs("div",{className:"admin-title-row",children:[R.jsx("h3",{children:"Admin Dashboard"}),R.jsx("button",{onClick:he,className:"admin-refresh-btn",disabled:r||oe,children:r||oe?" Loading...":" Refresh"})]}),R.jsxs("div",{className:"admin-definitions",children:[R.jsxs("p",{children:[R.jsx("strong",{children:"Class Separation:"})," The system maintains strict class boundaries - GSB students can only match with GSB students, and undergrads can only match with undergrads."]}),R.jsxs("p",{children:[R.jsx("strong",{children:"Active Users:"})," Students who have signed up and can match within their class."]}),R.jsxs("p",{children:[R.jsx("strong",{children:"Inactive Users:"})," Students from the class roster who haven't signed up yet but are receiving crushes."]}),R.jsxs("p",{children:[R.jsx("strong",{children:"Ghost Users:"})," Students from the class roster with zero engagement."]})]})]}),R.jsxs("div",{className:"admin-class-nav",children:[R.jsxs("button",{onClick:()=>P("gsb"),className:`admin-class-btn ${L==="gsb"?"active":""}`,disabled:r,children:["GSB MBA Class (",(F==null?void 0:F.totalUsers)||0," active)"]}),R.jsxs("button",{onClick:()=>P("undergrad"),className:`admin-class-btn ${L==="undergrad"?"active":""}`,disabled:r,children:["Undergrad Class (",(q==null?void 0:q.totalUsers)||0," active)"]})]}),R.jsxs("div",{className:"admin-nav",children:[R.jsxs("button",{onClick:()=>T("analytics"),className:`admin-nav-btn ${S==="analytics"?"active":""}`,disabled:oe,children:[De," Analytics ",oe&&"(Loading...)"]}),R.jsxs("button",{onClick:()=>T("users"),className:`admin-nav-btn ${S==="users"?"active":""}`,disabled:r,children:[De," Users (",Me.total,") ",r&&"(Loading...)"]})]}),R.jsxs("div",{className:"admin-content",children:[S==="analytics"&&R.jsx(_x,{analytics:me,classView:L,classDisplayName:De}),S==="users"&&R.jsx(Ex,{allUsers:$,loadingUsers:r,adminSearchTerm:u,setAdminSearchTerm:d,userFilter:p,setUserFilter:E,viewingUserId:m,handleViewUser:xe,findCrushersForUser:C,userStats:Me,classView:L,classDisplayName:De})]})]})},Tx=({userData:a,searchTerm:e,setSearchTerm:n,selectedNames:r,savedNames:o,updating:u,error:d,handleNameToggle:m,handleRemoveSelected:g,handleUpdatePreferences:p})=>{const E=(a==null?void 0:a.matches)&&a.matches.length>0,S=(a==null?void 0:a.crushCount)||0,T=(a==null?void 0:a.lockedCrushes)||[],L=JSON.stringify(r.sort())!==JSON.stringify(o.sort()),P=(a==null?void 0:a.userClass)==="gsb"?lu:uu,F=(a==null?void 0:a.userClass)==="gsb"?"GSB MBA":"Undergraduate",G=kA.useMemo(()=>{const q=[...r];a!=null&&a.name&&q.push(a.name);const ee=P.filter(oe=>!q.includes(oe));return e?ee.filter(oe=>oe.toLowerCase().includes(e.toLowerCase())):ee},[r,e,a==null?void 0:a.name,P]);return R.jsxs(R.Fragment,{children:[S>0&&R.jsx("div",{className:"crush-count-section",children:R.jsxs("h2",{children:[S," ",S===1?"person is":"people are"," crushing on you!"]})}),E&&R.jsxs("div",{className:"matches-section",children:[R.jsxs("h2",{children:[" You have ",a.matches.length," match",a.matches.length>1?"es":"","!"]}),R.jsx("div",{className:"matches-list",children:a.matches.map((q,ee)=>R.jsxs("div",{className:"match-item",children:[R.jsx("div",{className:"match-name",children:q.name}),R.jsx("div",{className:"match-email",children:q.email})]},ee))})]}),R.jsxs("div",{className:"header-section",children:[R.jsx("div",{className:"class-indicator",children:R.jsxs("span",{className:"class-badge",children:[F," Class of 2025"]})}),R.jsx("div",{className:"instructions",children:R.jsxs("ol",{children:[R.jsx("li",{children:"Select any classmates you'd like to connect with. Your selections are completely private - only you can see who you've chosen."}),R.jsx("li",{children:`Click "Update Preferences" to save your changes. Matches appear automatically when someone you've selected also selects you. Matches are completely private.`}),R.jsx("li",{children:"You can add or remove names anytime. There's no limit on how many people you can select, and you can change your preferences as often as you want."}),R.jsx("li",{children:"Once you match with someone, you cannot remove them from your list."})]})})]}),R.jsxs("div",{className:"selection-counter",children:[r.length," selected",L&&R.jsx("span",{className:"unsaved-badge",children:"UNSAVED CHANGES"})]}),r.length>0&&R.jsxs("div",{className:"selected-names",children:[R.jsxs("h3",{children:["Your Selections (",r.length,")"]}),R.jsx("div",{className:"name-chips",children:r.map(q=>{const ee=T.includes(q);return R.jsxs("div",{className:`name-chip ${ee?"locked":"selected"}`,children:[R.jsx("span",{children:q}),ee?R.jsx("span",{className:"lock-icon",title:"Locked - you have matched with this person",children:""}):R.jsx("button",{onClick:()=>g(q),className:"remove-btn","aria-label":`Remove ${q}`,disabled:u,children:""})]},q)})})]}),R.jsx("div",{className:"search-section",children:R.jsx("input",{type:"text",placeholder:"Search names...",value:e,onChange:q=>n(q.target.value),className:"search-input"})}),R.jsxs("div",{className:"available-names",children:[R.jsxs("h3",{children:["Classmates",e&&` (${G.length} found)`]}),R.jsxs("div",{className:"names-simple-list",children:[G.map(q=>R.jsxs("div",{onClick:()=>!u&&m(q),className:`name-list-item ${u?"disabled":""}`,children:[R.jsx("span",{className:"name-text",children:q}),R.jsx("span",{className:"add-btn",children:"+"})]},q)),G.length===0&&R.jsx("div",{className:"no-results",children:e?"No names found matching your search.":"All classmates have been selected!"})]})]}),R.jsx("div",{className:"action-section",children:R.jsx("div",{className:"action-buttons",children:R.jsx("button",{onClick:p,disabled:u||!L,className:"update-btn",children:u?"Updating...":"Update Preferences"})})}),d&&R.jsx("div",{className:"error-message",style:{color:"red",textAlign:"center",marginTop:"15px"},children:d})]})};function NA(a,e){return(a==null?void 0:a.email)==="jpark22@stanford.edu"?((e==null?void 0:e.userClass)||"gsb")==="gsb"?`${a.uid}_gsb`:`${a.uid}_undergrad`:(a==null?void 0:a.uid)||""}const Sx=()=>{const{user:a,userData:e,logout:n,refreshUserData:r}=Au(),[o,u]=z.useState(!1),[d,m]=z.useState(""),[g,p]=z.useState([]),[E,S]=z.useState([]),[T,L]=z.useState(!0),[P,F]=z.useState(!1),[G,q]=z.useState(null),[ee,oe]=z.useState(!1),Y=(a==null?void 0:a.email)==="jpark22@stanford.edu",X=z.useCallback(async()=>{if(!(!a||!e))try{const k=NA(a,e),O=ri(Xn,"users",k),I=await Qr(O);if(I.exists()){const Me=I.data();Me.crushes&&Array.isArray(Me.crushes)&&(p(Me.crushes),S(Me.crushes))}}catch(k){console.error("Error loading user selections:",k),q("Failed to load your previous selections.")}},[a,e]);z.useEffect(()=>{(async()=>{try{q(null),a&&e&&await X()}catch(O){console.error("Error loading data:",O),q("Failed to load your data. Please refresh the page.")}finally{L(!1)}})()},[a,e,X]);const le=z.useCallback(()=>{u(!0)},[]),D=z.useCallback(()=>o?"/files/default-profile.png":(e==null?void 0:e.photoURL)||"/files/default-profile.png",[o,e==null?void 0:e.photoURL]),w=z.useCallback(k=>{P||p(O=>O.includes(k)?O.filter(I=>I!==k):[...O,k])},[P]),C=z.useCallback(k=>{P||((e==null?void 0:e.lockedCrushes)||[]).includes(k)||p(I=>I.filter(Me=>Me!==k))},[P,e==null?void 0:e.lockedCrushes]),N=z.useCallback(async()=>{if(!a||!e||P)return;const k=(e==null?void 0:e.lockedCrushes)||[];if(k.filter(I=>!g.includes(I)).length>0){const I=[...new Set([...g,...k])];p(I)}F(!0),q(null);try{const I=NA(a,e),Me=ri(Xn,"users",I),xe=[...new Set([...g,...k])];await J2(Me,{crushes:xe,updatedAt:new Date}),p(xe),S(xe),await r();const $=document.createElement("div");$.textContent="Preferences updated successfully!",$.style.cssText=`
                position: fixed;
                top: 20px;
                right: 20px;
                background: #28a745;
                color: white;
                padding: 12px 20px;
                border-radius: 8px;
                z-index: 1000;
                font-weight: 500;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            `,document.body.appendChild($),setTimeout(()=>{document.body.contains($)&&document.body.removeChild($)},3e3)}catch(I){console.error("Error updating preferences:",I),q("Failed to update preferences. Please try again.")}finally{F(!1)}},[a,e,P,g,r]);return T?R.jsx("div",{className:"loading",children:"Loading..."}):G?R.jsxs("div",{className:"loading",children:[R.jsx("p",{style:{color:"red"},children:G}),R.jsx("button",{onClick:()=>window.location.reload(),children:"Refresh Page"})]}):R.jsx("div",{className:"dashboard-container",children:R.jsxs("div",{className:"dashboard-card",children:[R.jsxs("div",{className:"dashboard-header",children:[R.jsx("h1",{children:"Stanford Last Chances"}),R.jsxs("div",{className:"user-info",children:[R.jsxs("div",{className:"user-details",children:[R.jsx("img",{src:D(),alt:"Profile",className:"profile-pic",onError:le,onLoad:()=>u(!1)}),R.jsxs("div",{children:[R.jsx("div",{className:"user-name",children:(e==null?void 0:e.name)||(a==null?void 0:a.displayName)}),R.jsx("div",{className:"user-email",children:a==null?void 0:a.email})]})]}),R.jsxs("div",{className:"header-actions",children:[Y&&R.jsx("button",{onClick:()=>oe(!ee),className:"admin-toggle-btn",children:ee?"Exit Admin View":"Admin View"}),R.jsx("button",{className:"logout-btn",onClick:n,children:"Logout"})]})]})]}),R.jsx("div",{className:"dashboard-content",children:ee&&Y?R.jsx(Ax,{user:a}):R.jsx(Tx,{userData:e,searchTerm:d,setSearchTerm:m,selectedNames:g,savedNames:E,updating:P,error:G,handleNameToggle:w,handleRemoveSelected:C,handleUpdatePreferences:N})})]})})},DA=()=>{const{user:a,nameOptions:e,selectName:n,logout:r}=Au(),[o,u]=z.useState(!1),[d,m]=z.useState(null),g=async p=>{if(!o){u(!0),m(null);try{await n(p)}catch(E){console.error("Error selecting name:",E),m("Failed to save your selection. Please try again.")}finally{u(!1)}}};return e?R.jsx("div",{className:"verification-container",children:R.jsxs("div",{className:"verification-card",children:[R.jsxs("div",{className:"verification-header",children:[R.jsx("h1",{children:"Stanford Last Chances"}),R.jsxs("div",{className:"user-info",children:[R.jsx("span",{children:a==null?void 0:a.email}),R.jsx("button",{className:"logout-btn",onClick:r,children:"Logout"})]})]}),R.jsxs("div",{className:"verification-content",children:[R.jsx("h2",{children:"Multiple matches found for your name"}),R.jsx("p",{children:"Please select which of these options matches your identity:"}),R.jsxs("div",{className:"names-list",children:[R.jsx("h3",{children:"Potential Matches"}),R.jsx("div",{className:"names-verification-list",children:e.map(p=>R.jsxs("div",{onClick:()=>!o&&g(p),className:`name-verification-item ${o?"disabled":""}`,children:[R.jsx("span",{className:"name-text",children:p}),R.jsx("span",{className:"select-btn",children:"Select"})]},p))})]}),o&&R.jsx("div",{className:"saving-indicator",children:"Saving your selection..."}),d&&R.jsx("div",{className:"error-message",style:{color:"red",textAlign:"center",marginTop:"15px"},children:d})]})]})}):R.jsx("div",{className:"loading",children:"Loading..."})},bx=({children:a})=>{const{user:e,userData:n,loading:r,nameOptions:o}=Au();return r?R.jsx("div",{className:"loading",children:"Loading..."}):e?n?o&&o.length>0?R.jsx(DA,{}):!n.name||n.name.trim()===""?R.jsx(DA,{}):R.jsx(R.Fragment,{children:a}):R.jsx("div",{className:"loading",children:"Setting up your account..."}):R.jsx(GA,{to:"/login"})},wx=({children:a})=>{const{user:e,loading:n}=Au();return n?R.jsx("div",{className:"loading",children:"Loading..."}):e?R.jsx(GA,{to:"/"}):R.jsx(R.Fragment,{children:a})};function Rx(){return R.jsx(yx,{children:R.jsx(BR,{children:R.jsx("div",{className:"App",children:R.jsxs(pR,{children:[R.jsx(Mm,{path:"/login",element:R.jsx(wx,{children:R.jsx(vx,{})})}),R.jsx(Mm,{path:"/",element:R.jsx(bx,{children:R.jsx(Sx,{})})})]})})})})}ww.createRoot(document.getElementById("root")).render(R.jsx(z.StrictMode,{children:R.jsx(Rx,{})}));
