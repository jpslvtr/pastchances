(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var $d={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function Qw(){if(l_)return Il;l_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Il.Fragment=e,Il.jsx=n,Il.jsxs=n,Il}var u_;function $w(){return u_||(u_=1,$d.exports=Qw()),$d.exports}var M=$w(),Xd={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function Xw(){if(c_)return Ne;c_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,j={};function H(O,te,le){this.props=O,this.context=te,this.refs=j,this.updater=le||D}H.prototype.isReactComponent={},H.prototype.setState=function(O,te){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,te,"setState")},H.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Q(){}Q.prototype=H.prototype;function $(O,te,le){this.props=O,this.context=te,this.refs=j,this.updater=le||D}var re=$.prototype=new Q;re.constructor=$,I(re,H.prototype),re.isPureReactComponent=!0;var ce=Array.isArray,fe={H:null,A:null,T:null,S:null,V:null},Ce=Object.prototype.hasOwnProperty;function k(O,te,le,ae,ge,De){return le=De.ref,{$$typeof:r,type:O,key:te,ref:le!==void 0?le:null,props:De}}function b(O,te){return k(O.type,te,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function x(O){var te={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return te[le]})}var P=/\/+/g;function U(O,te){return typeof O=="object"&&O!==null&&O.key!=null?x(""+O.key):te.toString(36)}function N(){}function lt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(N,N):(O.status="pending",O.then(function(te){O.status==="pending"&&(O.status="fulfilled",O.value=te)},function(te){O.status==="pending"&&(O.status="rejected",O.reason=te)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ot(O,te,le,ae,ge){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var Ae=!1;if(O===null)Ae=!0;else switch(De){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(O.$$typeof){case r:case e:Ae=!0;break;case E:return Ae=O._init,ot(Ae(O._payload),te,le,ae,ge)}}if(Ae)return ge=ge(O),Ae=ae===""?"."+U(O,0):ae,ce(ge)?(le="",Ae!=null&&(le=Ae.replace(P,"$&/")+"/"),ot(ge,te,le,"",function(Dn){return Dn})):ge!=null&&(R(ge)&&(ge=b(ge,le+(ge.key==null||O&&O.key===ge.key?"":(""+ge.key).replace(P,"$&/")+"/")+Ae)),te.push(ge)),1;Ae=0;var At=ae===""?".":ae+":";if(ce(O))for(var Be=0;Be<O.length;Be++)ae=O[Be],De=At+U(ae,Be),Ae+=ot(ae,te,le,De,ge);else if(Be=S(O),typeof Be=="function")for(O=Be.call(O),Be=0;!(ae=O.next()).done;)ae=ae.value,De=At+U(ae,Be++),Ae+=ot(ae,te,le,De,ge);else if(De==="object"){if(typeof O.then=="function")return ot(lt(O),te,le,ae,ge);throw te=String(O),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function X(O,te,le){if(O==null)return O;var ae=[],ge=0;return ot(O,ae,"","",function(De){return te.call(le,De,ge++)}),ae}function oe(O){if(O._status===-1){var te=O._result;te=te(),te.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=te)}if(O._status===1)return O._result.default;throw O._result}var de=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function je(){}return Ne.Children={map:X,forEach:function(O,te,le){X(O,function(){te.apply(this,arguments)},le)},count:function(O){var te=0;return X(O,function(){te++}),te},toArray:function(O){return X(O,function(te){return te})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ne.Component=H,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=$,Ne.StrictMode=a,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(O){return fe.H.useMemoCache(O)}},Ne.cache=function(O){return function(){return O.apply(null,arguments)}},Ne.cloneElement=function(O,te,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ae=I({},O.props),ge=O.key,De=void 0;if(te!=null)for(Ae in te.ref!==void 0&&(De=void 0),te.key!==void 0&&(ge=""+te.key),te)!Ce.call(te,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&te.ref===void 0||(ae[Ae]=te[Ae]);var Ae=arguments.length-2;if(Ae===1)ae.children=le;else if(1<Ae){for(var At=Array(Ae),Be=0;Be<Ae;Be++)At[Be]=arguments[Be+2];ae.children=At}return k(O.type,ge,void 0,void 0,De,ae)},Ne.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ne.createElement=function(O,te,le){var ae,ge={},De=null;if(te!=null)for(ae in te.key!==void 0&&(De=""+te.key),te)Ce.call(te,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ge[ae]=te[ae]);var Ae=arguments.length-2;if(Ae===1)ge.children=le;else if(1<Ae){for(var At=Array(Ae),Be=0;Be<Ae;Be++)At[Be]=arguments[Be+2];ge.children=At}if(O&&O.defaultProps)for(ae in Ae=O.defaultProps,Ae)ge[ae]===void 0&&(ge[ae]=Ae[ae]);return k(O,De,void 0,void 0,null,ge)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(O){return{$$typeof:m,render:O}},Ne.isValidElement=R,Ne.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:oe}},Ne.memo=function(O,te){return{$$typeof:g,type:O,compare:te===void 0?null:te}},Ne.startTransition=function(O){var te=fe.T,le={};fe.T=le;try{var ae=O(),ge=fe.S;ge!==null&&ge(le,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(je,de)}catch(De){de(De)}finally{fe.T=te}},Ne.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},Ne.use=function(O){return fe.H.use(O)},Ne.useActionState=function(O,te,le){return fe.H.useActionState(O,te,le)},Ne.useCallback=function(O,te){return fe.H.useCallback(O,te)},Ne.useContext=function(O){return fe.H.useContext(O)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(O,te){return fe.H.useDeferredValue(O,te)},Ne.useEffect=function(O,te,le){var ae=fe.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(O,te)},Ne.useId=function(){return fe.H.useId()},Ne.useImperativeHandle=function(O,te,le){return fe.H.useImperativeHandle(O,te,le)},Ne.useInsertionEffect=function(O,te){return fe.H.useInsertionEffect(O,te)},Ne.useLayoutEffect=function(O,te){return fe.H.useLayoutEffect(O,te)},Ne.useMemo=function(O,te){return fe.H.useMemo(O,te)},Ne.useOptimistic=function(O,te){return fe.H.useOptimistic(O,te)},Ne.useReducer=function(O,te,le){return fe.H.useReducer(O,te,le)},Ne.useRef=function(O){return fe.H.useRef(O)},Ne.useState=function(O){return fe.H.useState(O)},Ne.useSyncExternalStore=function(O,te,le){return fe.H.useSyncExternalStore(O,te,le)},Ne.useTransition=function(){return fe.H.useTransition()},Ne.version="19.1.0",Ne}var h_;function Ym(){return h_||(h_=1,Xd.exports=Xw()),Xd.exports}var G=Ym(),Jd={exports:{}},Nl={},Zd={exports:{}},Wd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function Jw(){return f_||(f_=1,function(r){function e(X,oe){var de=X.length;X.push(oe);e:for(;0<de;){var je=de-1>>>1,O=X[je];if(0<o(O,oe))X[je]=oe,X[de]=O,de=je;else break e}}function n(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var oe=X[0],de=X.pop();if(de!==oe){X[0]=de;e:for(var je=0,O=X.length,te=O>>>1;je<te;){var le=2*(je+1)-1,ae=X[le],ge=le+1,De=X[ge];if(0>o(ae,de))ge<O&&0>o(De,ae)?(X[je]=De,X[ge]=de,je=ge):(X[je]=ae,X[le]=de,je=le);else if(ge<O&&0>o(De,de))X[je]=De,X[ge]=de,je=ge;else break e}}return oe}function o(X,oe){var de=X.sortIndex-oe.sortIndex;return de!==0?de:X.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,w=null,S=3,D=!1,I=!1,j=!1,H=!1,Q=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ce(X){for(var oe=n(g);oe!==null;){if(oe.callback===null)a(g);else if(oe.startTime<=X)a(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(g)}}function fe(X){if(j=!1,ce(X),!I)if(n(p)!==null)I=!0,Ce||(Ce=!0,U());else{var oe=n(g);oe!==null&&ot(fe,oe.startTime-X)}}var Ce=!1,k=-1,b=5,R=-1;function x(){return H?!0:!(r.unstable_now()-R<b)}function P(){if(H=!1,Ce){var X=r.unstable_now();R=X;var oe=!0;try{e:{I=!1,j&&(j=!1,$(k),k=-1),D=!0;var de=S;try{t:{for(ce(X),w=n(p);w!==null&&!(w.expirationTime>X&&x());){var je=w.callback;if(typeof je=="function"){w.callback=null,S=w.priorityLevel;var O=je(w.expirationTime<=X);if(X=r.unstable_now(),typeof O=="function"){w.callback=O,ce(X),oe=!0;break t}w===n(p)&&a(p),ce(X)}else a(p);w=n(p)}if(w!==null)oe=!0;else{var te=n(g);te!==null&&ot(fe,te.startTime-X),oe=!1}}break e}finally{w=null,S=de,D=!1}oe=void 0}}finally{oe?U():Ce=!1}}}var U;if(typeof re=="function")U=function(){re(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,lt=N.port2;N.port1.onmessage=P,U=function(){lt.postMessage(null)}}else U=function(){Q(P,0)};function ot(X,oe){k=Q(function(){X(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(X){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var de=S;S=oe;try{return X()}finally{S=de}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var de=S;S=X;try{return oe()}finally{S=de}},r.unstable_scheduleCallback=function(X,oe,de){var je=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?je+de:je):de=je,X){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=de+O,X={id:E++,callback:oe,priorityLevel:X,startTime:de,expirationTime:O,sortIndex:-1},de>je?(X.sortIndex=de,e(g,X),n(p)===null&&X===n(g)&&(j?($(k),k=-1):j=!0,ot(fe,de-je))):(X.sortIndex=O,e(p,X),I||D||(I=!0,Ce||(Ce=!0,U()))),X},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(X){var oe=S;return function(){var de=S;S=oe;try{return X.apply(this,arguments)}finally{S=de}}}}(Wd)),Wd}var d_;function Zw(){return d_||(d_=1,Zd.exports=Jw()),Zd.exports}var em={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function Ww(){if(m_)return nn;m_=1;var r=Ym();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},nn.flushSync=function(p){var g=f.T,E=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=g,a.p=E,a.d.f()}},nn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},nn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},nn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:D}):E==="script"&&a.d.X(p,{crossOrigin:w,integrity:S,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},nn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);a.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},nn.requestFormReset=function(p){a.d.r(p)},nn.unstable_batchedUpdates=function(p,g){return p(g)},nn.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},nn.version="19.1.0",nn}var p_;function eb(){if(p_)return em.exports;p_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),em.exports=Ww(),em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function tb(){if(g_)return Nl;g_=1;var r=Zw(),e=Ym(),n=eb();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===s){_=!0,s=h,l=d;break}if(T===l){_=!0,l=h,s=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===s){_=!0,s=d,l=h;break}if(T===l){_=!0,l=d,s=h;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case I:return"Fragment";case H:return"Profiler";case j:return"StrictMode";case fe:return"Suspense";case Ce:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case re:return(t.displayName||"Context")+".Provider";case $:return(t._context.displayName||"Context")+".Consumer";case ce:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return i=t.displayName||null,i!==null?i:lt(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return lt(t(i))}catch{}}return null}var ot=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},je=[],O=-1;function te(t){return{current:t}}function le(t){0>O||(t.current=je[O],je[O]=null,O--)}function ae(t,i){O++,je[O]=t.current,t.current=i}var ge=te(null),De=te(null),Ae=te(null),At=te(null);function Be(t,i){switch(ae(Ae,i),ae(De,t),ae(ge,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Pv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Pv(i),t=Lv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(ge),ae(ge,t)}function Dn(){le(ge),le(De),le(Ae)}function On(t){t.memoizedState!==null&&ae(At,t);var i=ge.current,s=Lv(i,t.type);i!==s&&(ae(De,t),ae(ge,s))}function Kn(t){De.current===t&&(le(ge),le(De)),At.current===t&&(le(At),Sl._currentValue=de)}var si=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,be=r.unstable_cancelCallback,ye=r.unstable_shouldYield,He=r.unstable_requestPaint,Oe=r.unstable_now,ln=r.unstable_getCurrentPriorityLevel,oi=r.unstable_ImmediatePriority,li=r.unstable_UserBlockingPriority,xn=r.unstable_NormalPriority,Xe=r.unstable_LowPriority,pt=r.unstable_IdlePriority,en=r.log,Gt=r.unstable_setDisableYieldValue,Ye=null,Le=null;function Pt(t){if(typeof en=="function"&&Gt(t),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Ye,t)}catch{}}var Lt=Math.clz32?Math.clz32:ca,du=Math.log,Xh=Math.LN2;function ca(t){return t>>>=0,t===0?32:31-(du(t)/Xh|0)|0}var ha=256,fa=4194304;function Yn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function rs(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Yn(l):(_&=T,_!==0?h=Yn(_):s||(s=T&~t,s!==0&&(h=Yn(s))))):(T=l&~d,T!==0?h=Yn(T):_!==0?h=Yn(_):s||(s=l&~t,s!==0&&(h=Yn(s)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:h}function da(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function So(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wo(){var t=ha;return ha<<=1,(ha&4194048)===0&&(ha=256),t}function bo(){var t=fa;return fa<<=1,(fa&62914560)===0&&(fa=4194304),t}function ki(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Pi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ro(t,i,s,l,h,d){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,q=t.hiddenUpdates;for(s=_&~s;0<s;){var J=31-Lt(s),W=1<<J;T[J]=0,C[J]=-1;var F=q[J];if(F!==null)for(q[J]=null,J=0;J<F.length;J++){var K=F[J];K!==null&&(K.lane&=-536870913)}s&=~W}l!==0&&ui(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function ui(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Lt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Co(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-Lt(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function yr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function as(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vr(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:n_(t.type))}function mu(t,i){var s=oe.p;try{return oe.p=t,i()}finally{oe.p=s}}var ut=Math.random().toString(36).slice(2),It="__reactFiber$"+ut,St="__reactProps$"+ut,Mn="__reactContainer$"+ut,Io="__reactEvents$"+ut,Jh="__reactListeners$"+ut,_r="__reactHandles$"+ut,pu="__reactResources$"+ut,ma="__reactMarker$"+ut;function Er(t){delete t[It],delete t[St],delete t[Io],delete t[Jh],delete t[_r]}function Li(t){var i=t[It];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Mn]||s[It]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=Bv(t);t!==null;){if(s=t[It])return s;t=Bv(t)}return i}t=s,s=t.parentNode}return null}function ci(t){if(t=t[It]||t[Mn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function hi(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function un(t){var i=t[pu];return i||(i=t[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function vt(t){t[ma]=!0}var No=new Set,ss={};function Qn(t,i){Ui(t,i),Ui(t+"Capture",i)}function Ui(t,i){for(ss[t]=i,t=0;t<i.length;t++)No.add(i[t])}var gu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yu={},pa={};function vu(t){return si.call(pa,t)?!0:si.call(yu,t)?!1:gu.test(t)?pa[t]=!0:(yu[t]=!0,!1)}function Tr(t,i,s){if(vu(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function fi(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Kt(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var ga,_u;function zi(t){if(ga===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);ga=i&&i[1]||"",_u=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ga+t+_u}var os=!1;function ls(t,i){if(!t||os)return"";os=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(K){var F=K}Reflect.construct(t,[],W)}else{try{W.call()}catch(K){F=K}t.call(W.prototype)}}else{try{throw Error()}catch(K){F=K}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),q=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===q.length)for(l=C.length-1,h=q.length-1;1<=l&&0<=h&&C[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==q[h]){var J=`
`+C[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{os=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?zi(s):""}function Do(t){switch(t.tag){case 26:case 27:case 5:return zi(t.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return ls(t.type,!1);case 11:return ls(t.type.render,!1);case 1:return ls(t.type,!0);case 31:return zi("Activity");default:return""}}function us(t){try{var i="";do i+=Do(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function cn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Zh(t){var i=Oo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function cs(t){t._valueTracker||(t._valueTracker=Zh(t))}function xo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=Oo(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function ya(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Wh=/[\n"\\]/g;function wt(t){return t.replace(Wh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function En(t,i,s,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+cn(i)):t.value!==""+cn(i)&&(t.value=""+cn(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Ar(t,_,cn(i)):s!=null?Ar(t,_,cn(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+cn(T):t.removeAttribute("name")}function va(t,i,s,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+cn(s):"",i=i!=null?""+cn(i):s,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Ar(t,i,s){i==="number"&&ya(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ji(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+cn(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function tt(t,i,s){if(i!=null&&(i=""+cn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+cn(s):""}function _a(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(ot(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=cn(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function Vn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Ea=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eu(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||Ea.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Mo(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Eu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Eu(t,d,i[d])}function Vo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ef=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hs(t){return tf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Bi=null;function kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hi=null,qi=null;function ko(t){var i=ci(t);if(i&&(t=i.stateNode)){var s=t[St]||null;e:switch(t=i.stateNode,i.type){case"input":if(En(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+wt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[St]||null;if(!h)throw Error(a(90));En(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&xo(l)}break e;case"textarea":tt(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&ji(t,!!s.multiple,i,!1)}}}var di=!1;function Tu(t,i,s){if(di)return t(i,s);di=!0;try{var l=t(i);return l}finally{if(di=!1,(Hi!==null||qi!==null)&&(mc(),Hi&&(i=Hi,t=qi,qi=Hi=null,ko(i),t)))for(i=0;i<t.length;i++)ko(t[i])}}function Ta(t,i){var s=t.stateNode;if(s===null)return null;var l=s[St]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pn=!1;if($n)try{var Aa={};Object.defineProperty(Aa,"passive",{get:function(){Pn=!0}}),window.addEventListener("test",Aa,Aa),window.removeEventListener("test",Aa,Aa)}catch{Pn=!1}var mi=null,Sr=null,Fi=null;function Po(){if(Fi)return Fi;var t,i=Sr,s=i.length,l,h="value"in mi?mi.value:mi.textContent,d=h.length;for(t=0;t<s&&i[t]===h[t];t++);var _=s-t;for(l=1;l<=_&&i[s-l]===h[d-l];l++);return Fi=h.slice(t,1<l?1-l:void 0)}function pi(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function gi(){return!0}function Lo(){return!1}function Ut(t){function i(s,l,h,d,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?gi:Lo,this.isPropagationStopped=Lo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),i}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fs=Ut(Je),Sa=E({},Je,{view:0,detail:0}),Au=Ut(Sa),ds,ms,yi,wa=E({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ca,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yi&&(yi&&t.type==="mousemove"?(ds=t.screenX-yi.screenX,ms=t.screenY-yi.screenY):ms=ds=0,yi=t),ds)},movementY:function(t){return"movementY"in t?t.movementY:ms}}),Ln=Ut(wa),Su=E({},wa,{dataTransfer:0}),nf=Ut(Su),ba=E({},Sa,{relatedTarget:0}),ps=Ut(ba),Uo=E({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),gs=Ut(Uo),wu=E({},Je,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ys=Ut(wu),rf=E({},Je,{data:0}),zo=Ut(rf),Ra={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ru[t])?!!i[t]:!1}function Ca(){return jo}var Cu=E({},Sa,{key:function(t){if(t.key){var i=Ra[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=pi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ca,charCode:function(t){return t.type==="keypress"?pi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vs=Ut(Cu),Iu=E({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bo=Ut(Iu),Gi=E({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ca}),Nu=Ut(Gi),Du=E({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ou=Ut(Du),xu=E({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_s=Ut(xu),hn=E({},Je,{newState:0,oldState:0}),Mu=Ut(hn),Vu=[9,13,27,32],vi=$n&&"CompositionEvent"in window,c=null;$n&&"documentMode"in document&&(c=document.documentMode);var y=$n&&"TextEvent"in window&&!c,v=$n&&(!vi||c&&8<c&&11>=c),A=" ",z=!1;function Y(t,i){switch(t){case"keyup":return Vu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qe=!1;function Nt(t,i){switch(t){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(z=!0,A);case"textInput":return t=i.data,t===A&&z?null:t;default:return null}}function Fe(t,i){if(qe)return t==="compositionend"||!vi&&Y(t,i)?(t=Po(),Fi=Sr=mi=null,qe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!zt[t.type]:i==="textarea"}function Ki(t,i,s,l){Hi?qi?qi.push(l):qi=[l]:Hi=l,i=Ec(i,"onChange"),0<i.length&&(s=new fs("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var Yt=null,_i=null;function Ho(t){Ov(t,0)}function ku(t){var i=hi(t);if(xo(i))return t}function Zp(t,i){if(t==="change")return i}var Wp=!1;if($n){var af;if($n){var sf="oninput"in document;if(!sf){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),sf=typeof eg.oninput=="function"}af=sf}else af=!1;Wp=af&&(!document.documentMode||9<document.documentMode)}function tg(){Yt&&(Yt.detachEvent("onpropertychange",ng),_i=Yt=null)}function ng(t){if(t.propertyName==="value"&&ku(_i)){var i=[];Ki(i,_i,t,kn(t)),Tu(Ho,i)}}function wS(t,i,s){t==="focusin"?(tg(),Yt=i,_i=s,Yt.attachEvent("onpropertychange",ng)):t==="focusout"&&tg()}function bS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ku(_i)}function RS(t,i){if(t==="click")return ku(i)}function CS(t,i){if(t==="input"||t==="change")return ku(i)}function IS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Tn=typeof Object.is=="function"?Object.is:IS;function qo(t,i){if(Tn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!si.call(i,h)||!Tn(t[h],i[h]))return!1}return!0}function ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rg(t,i){var s=ig(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ig(s)}}function ag(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ag(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function sg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ya(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=ya(t.document)}return i}function of(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var NS=$n&&"documentMode"in document&&11>=document.documentMode,Es=null,lf=null,Fo=null,uf=!1;function og(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;uf||Es==null||Es!==ya(l)||(l=Es,"selectionStart"in l&&of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fo&&qo(Fo,l)||(Fo=l,l=Ec(lf,"onSelect"),0<l.length&&(i=new fs("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=Es)))}function Ia(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Ts={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionrun:Ia("Transition","TransitionRun"),transitionstart:Ia("Transition","TransitionStart"),transitioncancel:Ia("Transition","TransitionCancel"),transitionend:Ia("Transition","TransitionEnd")},cf={},lg={};$n&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Na(t){if(cf[t])return cf[t];if(!Ts[t])return t;var i=Ts[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in lg)return cf[t]=i[s];return t}var ug=Na("animationend"),cg=Na("animationiteration"),hg=Na("animationstart"),DS=Na("transitionrun"),OS=Na("transitionstart"),xS=Na("transitioncancel"),fg=Na("transitionend"),dg=new Map,hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hf.push("scrollEnd");function Xn(t,i){dg.set(t,i),Qn(i,[t])}var mg=new WeakMap;function Un(t,i){if(typeof t=="object"&&t!==null){var s=mg.get(t);return s!==void 0?s:(i={value:t,source:i,stack:us(i)},mg.set(t,i),i)}return{value:t,source:i,stack:us(i)}}var zn=[],As=0,ff=0;function Pu(){for(var t=As,i=ff=As=0;i<t;){var s=zn[i];zn[i++]=null;var l=zn[i];zn[i++]=null;var h=zn[i];zn[i++]=null;var d=zn[i];if(zn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&pg(s,h,d)}}function Lu(t,i,s,l){zn[As++]=t,zn[As++]=i,zn[As++]=s,zn[As++]=l,ff|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function df(t,i,s,l){return Lu(t,i,s,l),Uu(t)}function Ss(t,i){return Lu(t,null,null,i),Uu(t)}function pg(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Lt(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),d):null}function Uu(t){if(50<pl)throw pl=0,_d=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ws={};function MS(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,i,s,l){return new MS(t,i,s,l)}function mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yi(t,i){var s=t.alternate;return s===null?(s=An(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function gg(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function zu(t,i,s,l,h,d){var _=0;if(l=t,typeof t=="function")mf(t)&&(_=1);else if(typeof t=="string")_=kw(t,s,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=An(31,s,i,h),t.elementType=R,t.lanes=d,t;case I:return Da(s.children,h,d,i);case j:_=8,h|=24;break;case H:return t=An(12,s,i,h|2),t.elementType=H,t.lanes=d,t;case fe:return t=An(13,s,i,h),t.elementType=fe,t.lanes=d,t;case Ce:return t=An(19,s,i,h),t.elementType=Ce,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:case re:_=10;break e;case $:_=9;break e;case ce:_=11;break e;case k:_=14;break e;case b:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=An(_,s,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Da(t,i,s,l){return t=An(7,t,l,i),t.lanes=s,t}function pf(t,i,s){return t=An(6,t,null,i),t.lanes=s,t}function gf(t,i,s){return i=An(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var bs=[],Rs=0,ju=null,Bu=0,jn=[],Bn=0,Oa=null,Qi=1,$i="";function xa(t,i){bs[Rs++]=Bu,bs[Rs++]=ju,ju=t,Bu=i}function yg(t,i,s){jn[Bn++]=Qi,jn[Bn++]=$i,jn[Bn++]=Oa,Oa=t;var l=Qi;t=$i;var h=32-Lt(l)-1;l&=~(1<<h),s+=1;var d=32-Lt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Qi=1<<32-Lt(i)+h|s<<h|l,$i=d+t}else Qi=1<<d|s<<h|l,$i=t}function yf(t){t.return!==null&&(xa(t,1),yg(t,1,0))}function vf(t){for(;t===ju;)ju=bs[--Rs],bs[Rs]=null,Bu=bs[--Rs],bs[Rs]=null;for(;t===Oa;)Oa=jn[--Bn],jn[Bn]=null,$i=jn[--Bn],jn[Bn]=null,Qi=jn[--Bn],jn[Bn]=null}var fn=null,gt=null,$e=!1,Ma=null,Ei=!1,_f=Error(a(519));function Va(t){var i=Error(a(418,""));throw Yo(Un(i,t)),_f}function vg(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[It]=t,i[St]=l,s){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(s=0;s<yl.length;s++)Pe(yl[s],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),va(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),cs(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),_a(i,l.value,l.defaultValue,l.children),cs(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||kv(i.textContent,s)?(l.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),l.onScroll!=null&&Pe("scroll",i),l.onScrollEnd!=null&&Pe("scrollend",i),l.onClick!=null&&(i.onclick=Tc),i=!0):i=!1,i||Va(t)}function _g(t){for(fn=t.return;fn;)switch(fn.tag){case 5:case 13:Ei=!1;return;case 27:case 3:Ei=!0;return;default:fn=fn.return}}function Go(t){if(t!==fn)return!1;if(!$e)return _g(t),$e=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||kd(t.type,t.memoizedProps)),s=!s),s&&gt&&Va(t),_g(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){gt=Zn(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}gt=null}}else i===27?(i=gt,zr(t.type)?(t=zd,zd=null,gt=t):gt=i):gt=fn?Zn(t.stateNode.nextSibling):null;return!0}function Ko(){gt=fn=null,$e=!1}function Eg(){var t=Ma;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Ma=null),t}function Yo(t){Ma===null?Ma=[t]:Ma.push(t)}var Ef=te(null),ka=null,Xi=null;function wr(t,i,s){ae(Ef,i._currentValue),i._currentValue=s}function Ji(t){t._currentValue=Ef.current,le(Ef)}function Tf(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function Af(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),Tf(d.return,s,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),Tf(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Qo(t,i,s,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=h.type;Tn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===At.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}h=h.return}t!==null&&Af(i,t,s,l),i.flags|=262144}function Hu(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Pa(t){ka=t,Xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return Tg(ka,t)}function qu(t,i){return ka===null&&Pa(t),Tg(t,i)}function Tg(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Xi===null){if(t===null)throw Error(a(308));Xi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Xi=Xi.next=i;return s}var VS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},kS=r.unstable_scheduleCallback,PS=r.unstable_NormalPriority,Ot={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sf(){return{controller:new VS,data:new Map,refCount:0}}function $o(t){t.refCount--,t.refCount===0&&kS(PS,function(){t.controller.abort()})}var Xo=null,wf=0,Cs=0,Is=null;function LS(t,i){if(Xo===null){var s=Xo=[];wf=0,Cs=Rd(),Is={status:"pending",value:void 0,then:function(l){s.push(l)}}}return wf++,i.then(Ag,Ag),i}function Ag(){if(--wf===0&&Xo!==null){Is!==null&&(Is.status="fulfilled");var t=Xo;Xo=null,Cs=0,Is=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function US(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Sg=X.S;X.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&LS(t,i),Sg!==null&&Sg(t,i)};var La=te(null);function bf(){var t=La.current;return t!==null?t:st.pooledCache}function Fu(t,i){i===null?ae(La,La.current):ae(La,i.pool)}function wg(){var t=bf();return t===null?null:{parent:Ot._currentValue,pool:t}}var Jo=Error(a(460)),bg=Error(a(474)),Gu=Error(a(542)),Rf={then:function(){}};function Rg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ku(){}function Cg(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Ku,Ku),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ng(t),t;default:if(typeof i.status=="string")i.then(Ku,Ku);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ng(t),t}throw Zo=i,Jo}}var Zo=null;function Ig(){if(Zo===null)throw Error(a(459));var t=Zo;return Zo=null,t}function Ng(t){if(t===Jo||t===Gu)throw Error(a(483))}var br=!1;function Cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Rr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Cr(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Uu(t),pg(t,null,s),i}return Lu(t,l,i,s),Uu(t)}function Wo(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Co(t,s)}}function Nf(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Df=!1;function el(){if(Df){var t=Is;if(t!==null)throw t}}function tl(t,i,s,l){Df=!1;var h=t.updateQueue;br=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,q=C.next;C.next=null,_===null?d=q:_.next=q,_=C;var J=t.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==_&&(T===null?J.firstBaseUpdate=q:T.next=q,J.lastBaseUpdate=C))}if(d!==null){var W=h.baseState;_=0,J=q=C=null,T=d;do{var F=T.lane&-536870913,K=F!==T.lane;if(K?(Ge&F)===F:(l&F)===F){F!==0&&F===Cs&&(Df=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=t,_e=T;F=i;var rt=s;switch(_e.tag){case 1:if(Se=_e.payload,typeof Se=="function"){W=Se.call(rt,W,F);break e}W=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=_e.payload,F=typeof Se=="function"?Se.call(rt,W,F):Se,F==null)break e;W=E({},W,F);break e;case 2:br=!0}}F=T.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(q=J=K,C=W):J=J.next=K,_|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);J===null&&(C=W),h.baseState=C,h.firstBaseUpdate=q,h.lastBaseUpdate=J,d===null&&(h.shared.lanes=0),kr|=_,t.lanes=_,t.memoizedState=W}}function Dg(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Og(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Dg(s[t],i)}var Ns=te(null),Yu=te(0);function xg(t,i){t=rr,ae(Yu,t),ae(Ns,i),rr=t|i.baseLanes}function Of(){ae(Yu,rr),ae(Ns,Ns.current)}function xf(){rr=Yu.current,le(Ns),le(Yu)}var Ir=0,xe=null,nt=null,bt=null,Qu=!1,Ds=!1,Ua=!1,$u=0,nl=0,Os=null,zS=0;function _t(){throw Error(a(321))}function Mf(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Tn(t[s],i[s]))return!1;return!0}function Vf(t,i,s,l,h,d){return Ir=d,xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?py:gy,Ua=!1,d=s(l,h),Ua=!1,Ds&&(d=Vg(i,s,l,h)),Mg(t),d}function Mg(t){X.H=tc;var i=nt!==null&&nt.next!==null;if(Ir=0,bt=nt=xe=null,Qu=!1,nl=0,Os=null,i)throw Error(a(300));t===null||jt||(t=t.dependencies,t!==null&&Hu(t)&&(jt=!0))}function Vg(t,i,s,l){xe=t;var h=0;do{if(Ds&&(Os=null),nl=0,Ds=!1,25<=h)throw Error(a(301));if(h+=1,bt=nt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=KS,d=i(s,l)}while(Ds);return d}function jS(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?il(i):i,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(xe.flags|=1024),i}function kf(){var t=$u!==0;return $u=0,t}function Pf(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Lf(t){if(Qu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Qu=!1}Ir=0,bt=nt=xe=null,Ds=!1,nl=$u=0,Os=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?xe.memoizedState=bt=t:bt=bt.next=t,bt}function Rt(){if(nt===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var i=bt===null?xe.memoizedState:bt.next;if(i!==null)bt=i,nt=t;else{if(t===null)throw xe.alternate===null?Error(a(467)):Error(a(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},bt===null?xe.memoizedState=bt=t:bt=bt.next=t}return bt}function Uf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var i=nl;return nl+=1,Os===null&&(Os=[]),t=Cg(Os,t,i),i=xe,(bt===null?i.memoizedState:bt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?py:gy),t}function Xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===re)return tn(t)}throw Error(a(438,String(t)))}function zf(t){var i=null,s=xe.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Uf(),xe.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=x;return i.index++,s}function Zi(t,i){return typeof i=="function"?i(t):i}function Ju(t){var i=Rt();return jf(i,nt,t)}function jf(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,C=null,q=i,J=!1;do{var W=q.lane&-536870913;if(W!==q.lane?(Ge&W)===W:(Ir&W)===W){var F=q.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),W===Cs&&(J=!0);else if((Ir&F)===F){q=q.next,F===Cs&&(J=!0);continue}else W={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(T=C=W,_=d):C=C.next=W,xe.lanes|=F,kr|=F;W=q.action,Ua&&s(d,W),d=q.hasEagerState?q.eagerState:s(d,W)}else F={lane:W,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(T=C=F,_=d):C=C.next=F,xe.lanes|=W,kr|=W;q=q.next}while(q!==null&&q!==i);if(C===null?_=d:C.next=T,!Tn(d,t.memoizedState)&&(jt=!0,J&&(s=Is,s!==null)))throw s;t.memoizedState=d,t.baseState=_,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Bf(t){var i=Rt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Tn(d,i.memoizedState)||(jt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function kg(t,i,s){var l=xe,h=Rt(),d=$e;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var _=!Tn((nt||h).memoizedState,s);_&&(h.memoizedState=s,jt=!0),h=h.queue;var T=Ug.bind(null,l,h,t);if(rl(2048,8,T,[t]),h.getSnapshot!==i||_||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,xs(9,Zu(),Lg.bind(null,l,h,s,i),null),st===null)throw Error(a(349));d||(Ir&124)!==0||Pg(l,i,s)}return s}function Pg(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=xe.updateQueue,i===null?(i=Uf(),xe.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Lg(t,i,s,l){i.value=s,i.getSnapshot=l,zg(i)&&jg(t)}function Ug(t,i,s){return s(function(){zg(i)&&jg(t)})}function zg(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Tn(t,s)}catch{return!0}}function jg(t){var i=Ss(t,2);i!==null&&Cn(i,t,2)}function Hf(t){var i=dn();if(typeof t=="function"){var s=t;if(t=s(),Ua){Pt(!0);try{s()}finally{Pt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},i}function Bg(t,i,s,l){return t.baseState=s,jf(t,nt,typeof l=="function"?l:Zi)}function BS(t,i,s,l,h){if(ec(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,Hg(i,d)):(d.next=s.next,i.pending=s.next=d)}}function Hg(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=X.T,_={};X.T=_;try{var T=s(h,l),C=X.S;C!==null&&C(_,T),qg(t,i,T)}catch(q){qf(t,i,q)}finally{X.T=d}}else try{d=s(h,l),qg(t,i,d)}catch(q){qf(t,i,q)}}function qg(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Fg(t,i,l)},function(l){return qf(t,i,l)}):Fg(t,i,s)}function Fg(t,i,s){i.status="fulfilled",i.value=s,Gg(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,Hg(t,s)))}function qf(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Gg(i),i=i.next;while(i!==l)}t.action=null}function Gg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Kg(t,i){return i}function Yg(t,i){if($e){var s=st.formState;if(s!==null){e:{var l=xe;if($e){if(gt){t:{for(var h=gt,d=Ei;h.nodeType!==8;){if(!d){h=null;break t}if(h=Zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){gt=Zn(h.nextSibling),l=h.data==="F!";break e}}Va(l)}l=!1}l&&(i=s[0])}}return s=dn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:i},s.queue=l,s=fy.bind(null,xe,l),l.dispatch=s,l=Hf(!1),d=Qf.bind(null,xe,!1,l.queue),l=dn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=BS.bind(null,xe,h,d,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function Qg(t){var i=Rt();return $g(i,nt,t)}function $g(t,i,s){if(i=jf(t,i,Kg)[0],t=Ju(Zi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=il(i)}catch(_){throw _===Jo?Gu:_}else l=i;i=Rt();var h=i.queue,d=h.dispatch;return s!==i.memoizedState&&(xe.flags|=2048,xs(9,Zu(),HS.bind(null,h,s),null)),[l,d,t]}function HS(t,i){t.action=i}function Xg(t){var i=Rt(),s=nt;if(s!==null)return $g(i,s,t);Rt(),i=i.memoizedState,s=Rt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function xs(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=xe.updateQueue,i===null&&(i=Uf(),xe.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function Zu(){return{destroy:void 0,resource:void 0}}function Jg(){return Rt().memoizedState}function Wu(t,i,s,l){var h=dn();l=l===void 0?null:l,xe.flags|=t,h.memoizedState=xs(1|i,Zu(),s,l)}function rl(t,i,s,l){var h=Rt();l=l===void 0?null:l;var d=h.memoizedState.inst;nt!==null&&l!==null&&Mf(l,nt.memoizedState.deps)?h.memoizedState=xs(i,d,s,l):(xe.flags|=t,h.memoizedState=xs(1|i,d,s,l))}function Zg(t,i){Wu(8390656,8,t,i)}function Wg(t,i){rl(2048,8,t,i)}function ey(t,i){return rl(4,2,t,i)}function ty(t,i){return rl(4,4,t,i)}function ny(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function iy(t,i,s){s=s!=null?s.concat([t]):null,rl(4,4,ny.bind(null,i,t),s)}function Ff(){}function ry(t,i){var s=Rt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Mf(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function ay(t,i){var s=Rt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Mf(i,l[1]))return l[0];if(l=t(),Ua){Pt(!0);try{t()}finally{Pt(!1)}}return s.memoizedState=[l,i],l}function Gf(t,i,s){return s===void 0||(Ir&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=lv(),xe.lanes|=t,kr|=t,s)}function sy(t,i,s,l){return Tn(s,i)?s:Ns.current!==null?(t=Gf(t,s,l),Tn(t,i)||(jt=!0),t):(Ir&42)===0?(jt=!0,t.memoizedState=s):(t=lv(),xe.lanes|=t,kr|=t,i)}function oy(t,i,s,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=X.T,T={};X.T=T,Qf(t,!1,i,s);try{var C=h(),q=X.S;if(q!==null&&q(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var J=US(C,l);al(t,i,J,Rn(t))}else al(t,i,l,Rn(t))}catch(W){al(t,i,{then:function(){},status:"rejected",reason:W},Rn())}finally{oe.p=d,X.T=_}}function qS(){}function Kf(t,i,s,l){if(t.tag!==5)throw Error(a(476));var h=ly(t).queue;oy(t,h,i,de,s===null?qS:function(){return uy(t),s(l)})}function ly(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:de},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function uy(t){var i=ly(t).next.queue;al(t,i,{},Rn())}function Yf(){return tn(Sl)}function cy(){return Rt().memoizedState}function hy(){return Rt().memoizedState}function FS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Rn();t=Rr(s);var l=Cr(i,t,s);l!==null&&(Cn(l,i,s),Wo(l,i,s)),i={cache:Sf()},t.payload=i;return}i=i.return}}function GS(t,i,s){var l=Rn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},ec(t)?dy(i,s):(s=df(t,i,s,l),s!==null&&(Cn(s,t,l),my(s,i,l)))}function fy(t,i,s){var l=Rn();al(t,i,s,l)}function al(t,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(ec(t))dy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,s);if(h.hasEagerState=!0,h.eagerState=T,Tn(T,_))return Lu(t,i,h,0),st===null&&Pu(),!1}catch{}finally{}if(s=df(t,i,h,l),s!==null)return Cn(s,t,l),my(s,i,l),!0}return!1}function Qf(t,i,s,l){if(l={lane:2,revertLane:Rd(),action:l,hasEagerState:!1,eagerState:null,next:null},ec(t)){if(i)throw Error(a(479))}else i=df(t,s,l,2),i!==null&&Cn(i,t,2)}function ec(t){var i=t.alternate;return t===xe||i!==null&&i===xe}function dy(t,i){Ds=Qu=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function my(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Co(t,s)}}var tc={readContext:tn,use:Xu,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t},py={readContext:tn,use:Xu,useCallback:function(t,i){return dn().memoizedState=[t,i===void 0?null:i],t},useContext:tn,useEffect:Zg,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Wu(4194308,4,ny.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Wu(4194308,4,t,i)},useInsertionEffect:function(t,i){Wu(4,2,t,i)},useMemo:function(t,i){var s=dn();i=i===void 0?null:i;var l=t();if(Ua){Pt(!0);try{t()}finally{Pt(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=dn();if(s!==void 0){var h=s(i);if(Ua){Pt(!0);try{s(i)}finally{Pt(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=GS.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var i=dn();return t={current:t},i.memoizedState=t},useState:function(t){t=Hf(t);var i=t.queue,s=fy.bind(null,xe,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Ff,useDeferredValue:function(t,i){var s=dn();return Gf(s,t,i)},useTransition:function(){var t=Hf(!1);return t=oy.bind(null,xe,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=xe,h=dn();if($e){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),st===null)throw Error(a(349));(Ge&124)!==0||Pg(l,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,Zg(Ug.bind(null,l,d,t),[t]),l.flags|=2048,xs(9,Zu(),Lg.bind(null,l,d,s,i),null),s},useId:function(){var t=dn(),i=st.identifierPrefix;if($e){var s=$i,l=Qi;s=(l&~(1<<32-Lt(l)-1)).toString(32)+s,i="«"+i+"R"+s,s=$u++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=zS++,i="«"+i+"r"+s.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Yf,useFormState:Yg,useActionState:Yg,useOptimistic:function(t){var i=dn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Qf.bind(null,xe,!0,s),s.dispatch=i,[t,i]},useMemoCache:zf,useCacheRefresh:function(){return dn().memoizedState=FS.bind(null,xe)}},gy={readContext:tn,use:Xu,useCallback:ry,useContext:tn,useEffect:Wg,useImperativeHandle:iy,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:ay,useReducer:Ju,useRef:Jg,useState:function(){return Ju(Zi)},useDebugValue:Ff,useDeferredValue:function(t,i){var s=Rt();return sy(s,nt.memoizedState,t,i)},useTransition:function(){var t=Ju(Zi)[0],i=Rt().memoizedState;return[typeof t=="boolean"?t:il(t),i]},useSyncExternalStore:kg,useId:cy,useHostTransitionStatus:Yf,useFormState:Qg,useActionState:Qg,useOptimistic:function(t,i){var s=Rt();return Bg(s,nt,t,i)},useMemoCache:zf,useCacheRefresh:hy},KS={readContext:tn,use:Xu,useCallback:ry,useContext:tn,useEffect:Wg,useImperativeHandle:iy,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:ay,useReducer:Bf,useRef:Jg,useState:function(){return Bf(Zi)},useDebugValue:Ff,useDeferredValue:function(t,i){var s=Rt();return nt===null?Gf(s,t,i):sy(s,nt.memoizedState,t,i)},useTransition:function(){var t=Bf(Zi)[0],i=Rt().memoizedState;return[typeof t=="boolean"?t:il(t),i]},useSyncExternalStore:kg,useId:cy,useHostTransitionStatus:Yf,useFormState:Xg,useActionState:Xg,useOptimistic:function(t,i){var s=Rt();return nt!==null?Bg(s,nt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:zf,useCacheRefresh:hy},Ms=null,sl=0;function nc(t){var i=sl;return sl+=1,Ms===null&&(Ms=[]),Cg(Ms,t,i)}function ol(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ic(t,i){throw i.$$typeof===w?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function yy(t){var i=t._init;return i(t._payload)}function vy(t){function i(L,V){if(t){var B=L.deletions;B===null?(L.deletions=[V],L.flags|=16):B.push(V)}}function s(L,V){if(!t)return null;for(;V!==null;)i(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function h(L,V){return L=Yi(L,V),L.index=0,L.sibling=null,L}function d(L,V,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<V?(L.flags|=67108866,V):B):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,V,B,Z){return V===null||V.tag!==6?(V=pf(B,L.mode,Z),V.return=L,V):(V=h(V,B),V.return=L,V)}function C(L,V,B,Z){var he=B.type;return he===I?J(L,V,B.props.children,Z,B.key):V!==null&&(V.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===b&&yy(he)===V.type)?(V=h(V,B.props),ol(V,B),V.return=L,V):(V=zu(B.type,B.key,B.props,null,L.mode,Z),ol(V,B),V.return=L,V)}function q(L,V,B,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=gf(B,L.mode,Z),V.return=L,V):(V=h(V,B.children||[]),V.return=L,V)}function J(L,V,B,Z,he){return V===null||V.tag!==7?(V=Da(B,L.mode,Z,he),V.return=L,V):(V=h(V,B),V.return=L,V)}function W(L,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=pf(""+V,L.mode,B),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return B=zu(V.type,V.key,V.props,null,L.mode,B),ol(B,V),B.return=L,B;case D:return V=gf(V,L.mode,B),V.return=L,V;case b:var Z=V._init;return V=Z(V._payload),W(L,V,B)}if(ot(V)||U(V))return V=Da(V,L.mode,B,null),V.return=L,V;if(typeof V.then=="function")return W(L,nc(V),B);if(V.$$typeof===re)return W(L,qu(L,V),B);ic(L,V)}return null}function F(L,V,B,Z){var he=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return he!==null?null:T(L,V,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return B.key===he?C(L,V,B,Z):null;case D:return B.key===he?q(L,V,B,Z):null;case b:return he=B._init,B=he(B._payload),F(L,V,B,Z)}if(ot(B)||U(B))return he!==null?null:J(L,V,B,Z,null);if(typeof B.then=="function")return F(L,V,nc(B),Z);if(B.$$typeof===re)return F(L,V,qu(L,B),Z);ic(L,B)}return null}function K(L,V,B,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(B)||null,T(V,L,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return L=L.get(Z.key===null?B:Z.key)||null,C(V,L,Z,he);case D:return L=L.get(Z.key===null?B:Z.key)||null,q(V,L,Z,he);case b:var Ve=Z._init;return Z=Ve(Z._payload),K(L,V,B,Z,he)}if(ot(Z)||U(Z))return L=L.get(B)||null,J(V,L,Z,he,null);if(typeof Z.then=="function")return K(L,V,B,nc(Z),he);if(Z.$$typeof===re)return K(L,V,B,qu(V,Z),he);ic(V,Z)}return null}function Se(L,V,B,Z){for(var he=null,Ve=null,me=V,Ee=V=0,Ht=null;me!==null&&Ee<B.length;Ee++){me.index>Ee?(Ht=me,me=null):Ht=me.sibling;var Qe=F(L,me,B[Ee],Z);if(Qe===null){me===null&&(me=Ht);break}t&&me&&Qe.alternate===null&&i(L,me),V=d(Qe,V,Ee),Ve===null?he=Qe:Ve.sibling=Qe,Ve=Qe,me=Ht}if(Ee===B.length)return s(L,me),$e&&xa(L,Ee),he;if(me===null){for(;Ee<B.length;Ee++)me=W(L,B[Ee],Z),me!==null&&(V=d(me,V,Ee),Ve===null?he=me:Ve.sibling=me,Ve=me);return $e&&xa(L,Ee),he}for(me=l(me);Ee<B.length;Ee++)Ht=K(me,L,Ee,B[Ee],Z),Ht!==null&&(t&&Ht.alternate!==null&&me.delete(Ht.key===null?Ee:Ht.key),V=d(Ht,V,Ee),Ve===null?he=Ht:Ve.sibling=Ht,Ve=Ht);return t&&me.forEach(function(Fr){return i(L,Fr)}),$e&&xa(L,Ee),he}function _e(L,V,B,Z){if(B==null)throw Error(a(151));for(var he=null,Ve=null,me=V,Ee=V=0,Ht=null,Qe=B.next();me!==null&&!Qe.done;Ee++,Qe=B.next()){me.index>Ee?(Ht=me,me=null):Ht=me.sibling;var Fr=F(L,me,Qe.value,Z);if(Fr===null){me===null&&(me=Ht);break}t&&me&&Fr.alternate===null&&i(L,me),V=d(Fr,V,Ee),Ve===null?he=Fr:Ve.sibling=Fr,Ve=Fr,me=Ht}if(Qe.done)return s(L,me),$e&&xa(L,Ee),he;if(me===null){for(;!Qe.done;Ee++,Qe=B.next())Qe=W(L,Qe.value,Z),Qe!==null&&(V=d(Qe,V,Ee),Ve===null?he=Qe:Ve.sibling=Qe,Ve=Qe);return $e&&xa(L,Ee),he}for(me=l(me);!Qe.done;Ee++,Qe=B.next())Qe=K(me,L,Ee,Qe.value,Z),Qe!==null&&(t&&Qe.alternate!==null&&me.delete(Qe.key===null?Ee:Qe.key),V=d(Qe,V,Ee),Ve===null?he=Qe:Ve.sibling=Qe,Ve=Qe);return t&&me.forEach(function(Yw){return i(L,Yw)}),$e&&xa(L,Ee),he}function rt(L,V,B,Z){if(typeof B=="object"&&B!==null&&B.type===I&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case S:e:{for(var he=B.key;V!==null;){if(V.key===he){if(he=B.type,he===I){if(V.tag===7){s(L,V.sibling),Z=h(V,B.props.children),Z.return=L,L=Z;break e}}else if(V.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===b&&yy(he)===V.type){s(L,V.sibling),Z=h(V,B.props),ol(Z,B),Z.return=L,L=Z;break e}s(L,V);break}else i(L,V);V=V.sibling}B.type===I?(Z=Da(B.props.children,L.mode,Z,B.key),Z.return=L,L=Z):(Z=zu(B.type,B.key,B.props,null,L.mode,Z),ol(Z,B),Z.return=L,L=Z)}return _(L);case D:e:{for(he=B.key;V!==null;){if(V.key===he)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){s(L,V.sibling),Z=h(V,B.children||[]),Z.return=L,L=Z;break e}else{s(L,V);break}else i(L,V);V=V.sibling}Z=gf(B,L.mode,Z),Z.return=L,L=Z}return _(L);case b:return he=B._init,B=he(B._payload),rt(L,V,B,Z)}if(ot(B))return Se(L,V,B,Z);if(U(B)){if(he=U(B),typeof he!="function")throw Error(a(150));return B=he.call(B),_e(L,V,B,Z)}if(typeof B.then=="function")return rt(L,V,nc(B),Z);if(B.$$typeof===re)return rt(L,V,qu(L,B),Z);ic(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(s(L,V.sibling),Z=h(V,B),Z.return=L,L=Z):(s(L,V),Z=pf(B,L.mode,Z),Z.return=L,L=Z),_(L)):s(L,V)}return function(L,V,B,Z){try{sl=0;var he=rt(L,V,B,Z);return Ms=null,he}catch(me){if(me===Jo||me===Gu)throw me;var Ve=An(29,me,null,L.mode);return Ve.lanes=Z,Ve.return=L,Ve}finally{}}}var Vs=vy(!0),_y=vy(!1),Hn=te(null),Ti=null;function Nr(t){var i=t.alternate;ae(xt,xt.current&1),ae(Hn,t),Ti===null&&(i===null||Ns.current!==null||i.memoizedState!==null)&&(Ti=t)}function Ey(t){if(t.tag===22){if(ae(xt,xt.current),ae(Hn,t),Ti===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Ti=t)}}else Dr()}function Dr(){ae(xt,xt.current),ae(Hn,Hn.current)}function Wi(t){le(Hn),Ti===t&&(Ti=null),le(xt)}var xt=te(0);function rc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Ud(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function $f(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:E({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Xf={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=Rn(),h=Rr(l);h.payload=i,s!=null&&(h.callback=s),i=Cr(t,h,l),i!==null&&(Cn(i,t,l),Wo(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=Rn(),h=Rr(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Cr(t,h,l),i!==null&&(Cn(i,t,l),Wo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Rn(),l=Rr(s);l.tag=2,i!=null&&(l.callback=i),i=Cr(t,l,s),i!==null&&(Cn(i,t,s),Wo(i,t,s))}};function Ty(t,i,s,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!qo(s,l)||!qo(h,d):!0}function Ay(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&Xf.enqueueReplaceState(i,i.state,null)}function za(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=E({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var ac=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Sy(t){ac(t)}function wy(t){console.error(t)}function by(t){ac(t)}function sc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ry(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Jf(t,i,s){return s=Rr(s),s.tag=3,s.payload={element:null},s.callback=function(){sc(t,i)},s}function Cy(t){return t=Rr(t),t.tag=3,t}function Iy(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ry(i,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Ry(i,s,l),typeof h!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function YS(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Qo(i,s,h,!0),s=Hn.current,s!==null){switch(s.tag){case 13:return Ti===null?Td():s.alternate===null&&yt===0&&(yt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Rf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Sd(t,l,h)),!1;case 22:return s.flags|=65536,l===Rf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Sd(t,l,h)),!1}throw Error(a(435,s.tag))}return Sd(t,l,h),Td(),!1}if($e)return i=Hn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==_f&&(t=Error(a(422),{cause:l}),Yo(Un(t,s)))):(l!==_f&&(i=Error(a(423),{cause:l}),Yo(Un(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Un(l,s),h=Jf(t.stateNode,l,h),Nf(t,h),yt!==4&&(yt=2)),!1;var d=Error(a(520),{cause:l});if(d=Un(d,s),ml===null?ml=[d]:ml.push(d),yt!==4&&(yt=2),i===null)return!0;l=Un(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Jf(s.stateNode,l,t),Nf(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Pr===null||!Pr.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Cy(h),Iy(h,t,s,l),Nf(s,h),!1}s=s.return}while(s!==null);return!1}var Ny=Error(a(461)),jt=!1;function Qt(t,i,s,l){i.child=t===null?_y(i,null,s,l):Vs(i,t.child,s,l)}function Dy(t,i,s,l,h){s=s.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Pa(i),l=Vf(t,i,s,_,d,h),T=kf(),t!==null&&!jt?(Pf(t,i,h),er(t,i,h)):($e&&T&&yf(i),i.flags|=1,Qt(t,i,l,h),i.child)}function Oy(t,i,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!mf(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,xy(t,i,d,l,h)):(t=zu(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!ad(t,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:qo,s(_,l)&&t.ref===i.ref)return er(t,i,h)}return i.flags|=1,t=Yi(d,l),t.ref=i.ref,t.return=i,i.child=t}function xy(t,i,s,l,h){if(t!==null){var d=t.memoizedProps;if(qo(d,l)&&t.ref===i.ref)if(jt=!1,i.pendingProps=l=d,ad(t,h))(t.flags&131072)!==0&&(jt=!0);else return i.lanes=t.lanes,er(t,i,h)}return Zf(t,i,s,l,h)}function My(t,i,s){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Vy(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fu(i,d!==null?d.cachePool:null),d!==null?xg(i,d):Of(),Ey(i);else return i.lanes=i.childLanes=536870912,Vy(t,i,d!==null?d.baseLanes|s:s,s)}else d!==null?(Fu(i,d.cachePool),xg(i,d),Dr(),i.memoizedState=null):(t!==null&&Fu(i,null),Of(),Dr());return Qt(t,i,h,s),i.child}function Vy(t,i,s,l){var h=bf();return h=h===null?null:{parent:Ot._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},t!==null&&Fu(i,null),Of(),Ey(i),t!==null&&Qo(t,i,l,!0),null}function oc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Zf(t,i,s,l,h){return Pa(i),s=Vf(t,i,s,l,void 0,h),l=kf(),t!==null&&!jt?(Pf(t,i,h),er(t,i,h)):($e&&l&&yf(i),i.flags|=1,Qt(t,i,s,h),i.child)}function ky(t,i,s,l,h,d){return Pa(i),i.updateQueue=null,s=Vg(i,l,s,h),Mg(t),l=kf(),t!==null&&!jt?(Pf(t,i,d),er(t,i,d)):($e&&l&&yf(i),i.flags|=1,Qt(t,i,s,d),i.child)}function Py(t,i,s,l,h){if(Pa(i),i.stateNode===null){var d=ws,_=s.contextType;typeof _=="object"&&_!==null&&(d=tn(_)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Xf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Cf(i),_=s.contextType,d.context=typeof _=="object"&&_!==null?tn(_):ws,d.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&($f(i,s,_,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Xf.enqueueReplaceState(d,d.state,null),tl(i,l,d,h),el(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,C=za(s,T);d.props=C;var q=d.context,J=s.contextType;_=ws,typeof J=="object"&&J!==null&&(_=tn(J));var W=s.getDerivedStateFromProps;J=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==_)&&Ay(i,d,l,_),br=!1;var F=i.memoizedState;d.state=F,tl(i,l,d,h),el(),q=i.memoizedState,T||F!==q||br?(typeof W=="function"&&($f(i,s,W,l),q=i.memoizedState),(C=br||Ty(i,s,C,l,F,q,_))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,If(t,i),_=i.memoizedProps,J=za(s,_),d.props=J,W=i.pendingProps,F=d.context,q=s.contextType,C=ws,typeof q=="object"&&q!==null&&(C=tn(q)),T=s.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||F!==C)&&Ay(i,d,l,C),br=!1,F=i.memoizedState,d.state=F,tl(i,l,d,h),el();var K=i.memoizedState;_!==W||F!==K||br||t!==null&&t.dependencies!==null&&Hu(t.dependencies)?(typeof T=="function"&&($f(i,s,T,l),K=i.memoizedState),(J=br||Ty(i,s,J,l,F,K,C)||t!==null&&t.dependencies!==null&&Hu(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=C,l=J):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,oc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Vs(i,t.child,null,h),i.child=Vs(i,null,s,h)):Qt(t,i,s,h),i.memoizedState=d.state,t=i.child):t=er(t,i,h),t}function Ly(t,i,s,l){return Ko(),i.flags|=256,Qt(t,i,s,l),i.child}var Wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ed(t){return{baseLanes:t,cachePool:wg()}}function td(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=qn),t}function Uy(t,i,s){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if($e){if(h?Nr(i):Dr(),$e){var T=gt,C;if(C=T){e:{for(C=T,T=Ei;C.nodeType!==8;){if(!T){T=null;break e}if(C=Zn(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(i.memoizedState={dehydrated:T,treeContext:Oa!==null?{id:Qi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},C=An(18,null,null,0),C.stateNode=T,C.return=i,i.child=C,fn=i,gt=null,C=!0):C=!1}C||Va(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Ud(T)?i.lanes=32:i.lanes=536870912,null;Wi(i)}return T=l.children,l=l.fallback,h?(Dr(),h=i.mode,T=lc({mode:"hidden",children:T},h),l=Da(l,h,s,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=ed(s),h.childLanes=td(t,_,s),i.memoizedState=Wf,l):(Nr(i),nd(i,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(Nr(i),i.flags&=-257,i=id(t,i,s)):i.memoizedState!==null?(Dr(),i.child=t.child,i.flags|=128,i=null):(Dr(),h=l.fallback,T=i.mode,l=lc({mode:"visible",children:l.children},T),h=Da(h,T,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Vs(i,t.child,null,s),l=i.child,l.memoizedState=ed(s),l.childLanes=td(t,_,s),i.memoizedState=Wf,i=h);else if(Nr(i),Ud(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(a(419)),l.stack="",l.digest=_,Yo({value:l,source:null,stack:null}),i=id(t,i,s)}else if(jt||Qo(t,i,s,!1),_=(s&t.childLanes)!==0,jt||_){if(_=st,_!==null&&(l=s&-s,l=(l&42)!==0?1:yr(l),l=(l&(_.suspendedLanes|s))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Ss(t,l),Cn(_,t,l),Ny;T.data==="$?"||Td(),i=id(t,i,s)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,gt=Zn(T.nextSibling),fn=i,$e=!0,Ma=null,Ei=!1,t!==null&&(jn[Bn++]=Qi,jn[Bn++]=$i,jn[Bn++]=Oa,Qi=t.id,$i=t.overflow,Oa=i),i=nd(i,l.children),i.flags|=4096);return i}return h?(Dr(),h=l.fallback,T=i.mode,C=t.child,q=C.sibling,l=Yi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,q!==null?h=Yi(q,h):(h=Da(h,T,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=ed(s):(C=T.cachePool,C!==null?(q=Ot._currentValue,C=C.parent!==q?{parent:q,pool:q}:C):C=wg(),T={baseLanes:T.baseLanes|s,cachePool:C}),h.memoizedState=T,h.childLanes=td(t,_,s),i.memoizedState=Wf,l):(Nr(i),s=t.child,t=s.sibling,s=Yi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=s,i.memoizedState=null,s)}function nd(t,i){return i=lc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function lc(t,i){return t=An(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function id(t,i,s){return Vs(i,t.child,null,s),t=nd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function zy(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Tf(t.return,i,s)}function rd(t,i,s,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function jy(t,i,s){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Qt(t,i,l.children,s),l=xt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zy(t,s,i);else if(t.tag===19)zy(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ae(xt,l),h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&rc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),rd(i,!1,h,s,d);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&rc(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}rd(i,!0,s,null,d);break;case"together":rd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function er(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),kr|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(Qo(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Yi(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Yi(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function ad(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Hu(t)))}function QS(t,i,s){switch(i.tag){case 3:Be(i,i.stateNode.containerInfo),wr(i,Ot,t.memoizedState.cache),Ko();break;case 27:case 5:On(i);break;case 4:Be(i,i.stateNode.containerInfo);break;case 10:wr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Nr(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Uy(t,i,s):(Nr(i),t=er(t,i,s),t!==null?t.sibling:null);Nr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Qo(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return jy(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(xt,xt.current),l)break;return null;case 22:case 23:return i.lanes=0,My(t,i,s);case 24:wr(i,Ot,t.memoizedState.cache)}return er(t,i,s)}function By(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)jt=!0;else{if(!ad(t,s)&&(i.flags&128)===0)return jt=!1,QS(t,i,s);jt=(t.flags&131072)!==0}else jt=!1,$e&&(i.flags&1048576)!==0&&yg(i,Bu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")mf(l)?(t=za(l,t),i.tag=1,i=Py(null,i,l,t,s)):(i.tag=0,i=Zf(null,i,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===ce){i.tag=11,i=Dy(null,i,l,t,s);break e}else if(h===k){i.tag=14,i=Oy(null,i,l,t,s);break e}}throw i=lt(l)||l,Error(a(306,i,""))}}return i;case 0:return Zf(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=za(l,i.pendingProps),Py(t,i,l,h,s);case 3:e:{if(Be(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,If(t,i),tl(i,l,null,s);var _=i.memoizedState;if(l=_.cache,wr(i,Ot,l),l!==d.cache&&Af(i,[Ot],s,!0),el(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ly(t,i,l,s);break e}else if(l!==h){h=Un(Error(a(424)),i),Yo(h),i=Ly(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(gt=Zn(t.firstChild),fn=i,$e=!0,Ma=null,Ei=!0,s=_y(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ko(),l===h){i=er(t,i,s);break e}Qt(t,i,l,s)}i=i.child}return i;case 26:return oc(t,i),t===null?(s=Gv(i.type,null,i.pendingProps,null))?i.memoizedState=s:$e||(s=i.type,t=i.pendingProps,l=Ac(Ae.current).createElement(s),l[It]=i,l[St]=t,Xt(l,s,t),vt(l),i.stateNode=l):i.memoizedState=Gv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return On(i),t===null&&$e&&(l=i.stateNode=Hv(i.type,i.pendingProps,Ae.current),fn=i,Ei=!0,h=gt,zr(i.type)?(zd=h,gt=Zn(l.firstChild)):gt=h),Qt(t,i,i.pendingProps.children,s),oc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&$e&&((h=l=gt)&&(l=Aw(l,i.type,i.pendingProps,Ei),l!==null?(i.stateNode=l,fn=i,gt=Zn(l.firstChild),Ei=!1,h=!0):h=!1),h||Va(i)),On(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,kd(h,d)?l=null:_!==null&&kd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Vf(t,i,jS,null,null,s),Sl._currentValue=h),oc(t,i),Qt(t,i,l,s),i.child;case 6:return t===null&&$e&&((t=s=gt)&&(s=Sw(s,i.pendingProps,Ei),s!==null?(i.stateNode=s,fn=i,gt=null,t=!0):t=!1),t||Va(i)),null;case 13:return Uy(t,i,s);case 4:return Be(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Vs(i,null,l,s):Qt(t,i,l,s),i.child;case 11:return Dy(t,i,i.type,i.pendingProps,s);case 7:return Qt(t,i,i.pendingProps,s),i.child;case 8:return Qt(t,i,i.pendingProps.children,s),i.child;case 12:return Qt(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,wr(i,i.type,l.value),Qt(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Pa(i),h=tn(h),l=l(h),i.flags|=1,Qt(t,i,l,s),i.child;case 14:return Oy(t,i,i.type,i.pendingProps,s);case 15:return xy(t,i,i.type,i.pendingProps,s);case 19:return jy(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=lc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Yi(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return My(t,i,s);case 24:return Pa(i),l=tn(Ot),t===null?(h=bf(),h===null&&(h=st,d=Sf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:l,cache:h},Cf(i),wr(i,Ot,h)):((t.lanes&s)!==0&&(If(t,i),tl(i,null,null,s),el()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),wr(i,Ot,l)):(l=d.cache,wr(i,Ot,l),l!==h.cache&&Af(i,[Ot],s,!0))),Qt(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function tr(t){t.flags|=4}function Hy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xv(i)){if(i=Hn.current,i!==null&&((Ge&4194048)===Ge?Ti!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||i!==Ti))throw Zo=Rf,bg;t.flags|=8192}}function uc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?bo():536870912,t.lanes|=i,Us|=i)}function ll(t,i){if(!$e)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function dt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function $S(t,i,s){var l=i.pendingProps;switch(vf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(i),null;case 1:return dt(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ji(Ot),Dn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Go(i)?tr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Eg())),dt(i),null;case 26:return s=i.memoizedState,t===null?(tr(i),s!==null?(dt(i),Hy(i,s)):(dt(i),i.flags&=-16777217)):s?s!==t.memoizedState?(tr(i),dt(i),Hy(i,s)):(dt(i),i.flags&=-16777217):(t.memoizedProps!==l&&tr(i),dt(i),i.flags&=-16777217),null;case 27:Kn(i),s=Ae.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&tr(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return dt(i),null}t=ge.current,Go(i)?vg(i):(t=Hv(h,l,s),i.stateNode=t,tr(i))}return dt(i),null;case 5:if(Kn(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&tr(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return dt(i),null}if(t=ge.current,Go(i))vg(i);else{switch(h=Ac(Ae.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[It]=i,t[St]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Xt(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&tr(i)}}return dt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&tr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Ae.current,Go(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=fn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||kv(t.nodeValue,s)),t||Va(i)}else t=Ac(t).createTextNode(l),t[It]=i,i.stateNode=t}return dt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Go(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[It]=i}else Ko(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dt(i),h=!1}else h=Eg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Wi(i),i):(Wi(i),null)}if(Wi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),uc(i,i.updateQueue),dt(i),null;case 4:return Dn(),t===null&&Dd(i.stateNode.containerInfo),dt(i),null;case 10:return Ji(i.type),dt(i),null;case 19:if(le(xt),h=i.memoizedState,h===null)return dt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)ll(h,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=rc(t),d!==null){for(i.flags|=128,ll(h,!1),t=d.updateQueue,i.updateQueue=t,uc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)gg(s,t),s=s.sibling;return ae(xt,xt.current&1|2),i.child}t=t.sibling}h.tail!==null&&Oe()>fc&&(i.flags|=128,l=!0,ll(h,!1),i.lanes=4194304)}else{if(!l)if(t=rc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,uc(i,t),ll(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!$e)return dt(i),null}else 2*Oe()-h.renderingStartTime>fc&&s!==536870912&&(i.flags|=128,l=!0,ll(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Oe(),i.sibling=null,t=xt.current,ae(xt,l?t&1|2:t&1),i):(dt(i),null);case 22:case 23:return Wi(i),xf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(dt(i),i.subtreeFlags&6&&(i.flags|=8192)):dt(i),s=i.updateQueue,s!==null&&uc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&le(La),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Ji(Ot),dt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function XS(t,i){switch(vf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ji(Ot),Dn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Kn(i),null;case 13:if(Wi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Ko()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return le(xt),null;case 4:return Dn(),null;case 10:return Ji(i.type),null;case 22:case 23:return Wi(i),xf(),t!==null&&le(La),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ji(Ot),null;case 25:return null;default:return null}}function qy(t,i){switch(vf(i),i.tag){case 3:Ji(Ot),Dn();break;case 26:case 27:case 5:Kn(i);break;case 4:Dn();break;case 13:Wi(i);break;case 19:le(xt);break;case 10:Ji(i.type);break;case 22:case 23:Wi(i),xf(),t!==null&&le(La);break;case 24:Ji(Ot)}}function ul(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==h)}}catch(T){at(i,i.return,T)}}function Or(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var C=s,q=T;try{q()}catch(J){at(h,C,J)}}}l=l.next}while(l!==d)}}catch(J){at(i,i.return,J)}}function Fy(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Og(i,s)}catch(l){at(t,t.return,l)}}}function Gy(t,i,s){s.props=za(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){at(t,i,l)}}function cl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){at(t,i,h)}}function Ai(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){at(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){at(t,i,h)}else s.current=null}function Ky(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){at(t,t.return,h)}}function sd(t,i,s){try{var l=t.stateNode;yw(l,t.type,s,i),l[St]=i}catch(h){at(t,t.return,h)}}function Yy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zr(t.type)||t.tag===4}function od(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ld(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Tc));else if(l!==4&&(l===27&&zr(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(ld(t,i,s),t=t.sibling;t!==null;)ld(t,i,s),t=t.sibling}function cc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&zr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(cc(t,i,s),t=t.sibling;t!==null;)cc(t,i,s),t=t.sibling}function Qy(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Xt(i,l,s),i[It]=t,i[St]=s}catch(d){at(t,t.return,d)}}var nr=!1,Et=!1,ud=!1,$y=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function JS(t,i){if(t=t.containerInfo,Md=Ic,t=sg(t),of(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,T=-1,C=-1,q=0,J=0,W=t,F=null;t:for(;;){for(var K;W!==s||h!==0&&W.nodeType!==3||(T=_+h),W!==d||l!==0&&W.nodeType!==3||(C=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(K=W.firstChild)!==null;)F=W,W=K;for(;;){if(W===t)break t;if(F===s&&++q===h&&(T=_),F===d&&++J===l&&(C=_),(K=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=K}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Vd={focusedElem:t,selectionRange:s},Ic=!1,Bt=i;Bt!==null;)if(i=Bt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Bt=t;else for(;Bt!==null;){switch(i=Bt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Se=za(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Se,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){at(s,s.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Ld(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ld(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Bt=t;break}Bt=i.return}}function Xy(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:xr(t,s),l&4&&ul(5,s);break;case 1:if(xr(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(_){at(s,s.return,_)}else{var h=za(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){at(s,s.return,_)}}l&64&&Fy(s),l&512&&cl(s,s.return);break;case 3:if(xr(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Og(t,i)}catch(_){at(s,s.return,_)}}break;case 27:i===null&&l&4&&Qy(s);case 26:case 5:xr(t,s),i===null&&l&4&&Ky(s),l&512&&cl(s,s.return);break;case 12:xr(t,s);break;case 13:xr(t,s),l&4&&Wy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=sw.bind(null,s),ww(t,s))));break;case 22:if(l=s.memoizedState!==null||nr,!l){i=i!==null&&i.memoizedState!==null||Et,h=nr;var d=Et;nr=l,(Et=i)&&!d?Mr(t,s,(s.subtreeFlags&8772)!==0):xr(t,s),nr=h,Et=d}break;case 30:break;default:xr(t,s)}}function Jy(t){var i=t.alternate;i!==null&&(t.alternate=null,Jy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Er(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,mn=!1;function ir(t,i,s){for(s=s.child;s!==null;)Zy(t,i,s),s=s.sibling}function Zy(t,i,s){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Ye,s)}catch{}switch(s.tag){case 26:Et||Ai(s,i),ir(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Et||Ai(s,i);var l=ct,h=mn;zr(s.type)&&(ct=s.stateNode,mn=!1),ir(t,i,s),_l(s.stateNode),ct=l,mn=h;break;case 5:Et||Ai(s,i);case 6:if(l=ct,h=mn,ct=null,ir(t,i,s),ct=l,mn=h,ct!==null)if(mn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(s.stateNode)}catch(d){at(s,i,d)}else try{ct.removeChild(s.stateNode)}catch(d){at(s,i,d)}break;case 18:ct!==null&&(mn?(t=ct,jv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Cl(t)):jv(ct,s.stateNode));break;case 4:l=ct,h=mn,ct=s.stateNode.containerInfo,mn=!0,ir(t,i,s),ct=l,mn=h;break;case 0:case 11:case 14:case 15:Et||Or(2,s,i),Et||Or(4,s,i),ir(t,i,s);break;case 1:Et||(Ai(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Gy(s,i,l)),ir(t,i,s);break;case 21:ir(t,i,s);break;case 22:Et=(l=Et)||s.memoizedState!==null,ir(t,i,s),Et=l;break;default:ir(t,i,s)}}function Wy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(s){at(i,i.return,s)}}function ZS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new $y),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new $y),i;default:throw Error(a(435,t.tag))}}function cd(t,i){var s=ZS(t);i.forEach(function(l){var h=ow.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function Sn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(zr(T.type)){ct=T.stateNode,mn=!1;break e}break;case 5:ct=T.stateNode,mn=!1;break e;case 3:case 4:ct=T.stateNode.containerInfo,mn=!0;break e}T=T.return}if(ct===null)throw Error(a(160));Zy(d,_,h),ct=null,mn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ev(i,t),i=i.sibling}var Jn=null;function ev(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(i,t),wn(t),l&4&&(Or(3,t,t.return),ul(3,t),Or(5,t,t.return));break;case 1:Sn(i,t),wn(t),l&512&&(Et||s===null||Ai(s,s.return)),l&64&&nr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Jn;if(Sn(i,t),wn(t),l&512&&(Et||s===null||Ai(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ma]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Xt(d,l,s),d[It]=t,vt(d),l=d;break e;case"link":var _=Qv("link","href",h).get(l+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Xt(d,l,s),h.head.appendChild(d);break;case"meta":if(_=Qv("meta","content",h).get(l+(s.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Xt(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[It]=t,vt(d),l=d}t.stateNode=l}else $v(h,t.type,t.stateNode);else t.stateNode=Yv(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?$v(h,t.type,t.stateNode):Yv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&sd(t,t.memoizedProps,s.memoizedProps)}break;case 27:Sn(i,t),wn(t),l&512&&(Et||s===null||Ai(s,s.return)),s!==null&&l&4&&sd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Sn(i,t),wn(t),l&512&&(Et||s===null||Ai(s,s.return)),t.flags&32){h=t.stateNode;try{Vn(h,"")}catch(K){at(t,t.return,K)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,sd(t,h,s!==null?s.memoizedProps:h)),l&1024&&(ud=!0);break;case 6:if(Sn(i,t),wn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(K){at(t,t.return,K)}}break;case 3:if(bc=null,h=Jn,Jn=Sc(i.containerInfo),Sn(i,t),Jn=h,wn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Cl(i.containerInfo)}catch(K){at(t,t.return,K)}ud&&(ud=!1,tv(t));break;case 4:l=Jn,Jn=Sc(t.stateNode.containerInfo),Sn(i,t),wn(t),Jn=l;break;case 12:Sn(i,t),wn(t);break;case 13:Sn(i,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(gd=Oe()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cd(t,l)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,q=nr,J=Et;if(nr=q||h,Et=J||C,Sn(i,t),Et=J,nr=q,wn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||C||nr||Et||ja(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){C=s=i;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var W=C.memoizedProps.style,F=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(K){at(C,C.return,K)}}}else if(i.tag===6){if(s===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(K){at(C,C.return,K)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,cd(t,s))));break;case 19:Sn(i,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cd(t,l)));break;case 30:break;case 21:break;default:Sn(i,t),wn(t)}}function wn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(Yy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=od(t);cc(t,d,h);break;case 5:var _=s.stateNode;s.flags&32&&(Vn(_,""),s.flags&=-33);var T=od(t);cc(t,T,_);break;case 3:case 4:var C=s.stateNode.containerInfo,q=od(t);ld(t,q,C);break;default:throw Error(a(161))}}catch(J){at(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function tv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;tv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function xr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Xy(t,i.alternate,i),i=i.sibling}function ja(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Or(4,i,i.return),ja(i);break;case 1:Ai(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Gy(i,i.return,s),ja(i);break;case 27:_l(i.stateNode);case 26:case 5:Ai(i,i.return),ja(i);break;case 22:i.memoizedState===null&&ja(i);break;case 30:ja(i);break;default:ja(i)}t=t.sibling}}function Mr(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Mr(h,d,s),ul(4,d);break;case 1:if(Mr(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){at(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Dg(C[h],T)}catch(q){at(l,l.return,q)}}s&&_&64&&Fy(d),cl(d,d.return);break;case 27:Qy(d);case 26:case 5:Mr(h,d,s),s&&l===null&&_&4&&Ky(d),cl(d,d.return);break;case 12:Mr(h,d,s);break;case 13:Mr(h,d,s),s&&_&4&&Wy(h,d);break;case 22:d.memoizedState===null&&Mr(h,d,s),cl(d,d.return);break;case 30:break;default:Mr(h,d,s)}i=i.sibling}}function hd(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&$o(s))}function fd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&$o(t))}function Si(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)nv(t,i,s,l),i=i.sibling}function nv(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Si(t,i,s,l),h&2048&&ul(9,i);break;case 1:Si(t,i,s,l);break;case 3:Si(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&$o(t)));break;case 12:if(h&2048){Si(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){at(i,i.return,C)}}else Si(t,i,s,l);break;case 13:Si(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Si(t,i,s,l):hl(t,i):d._visibility&2?Si(t,i,s,l):(d._visibility|=2,ks(t,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&hd(_,i);break;case 24:Si(t,i,s,l),h&2048&&fd(i.alternate,i);break;default:Si(t,i,s,l)}}function ks(t,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,_=i,T=s,C=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:ks(d,_,T,C,h),ul(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?ks(d,_,T,C,h):hl(d,_):(J._visibility|=2,ks(d,_,T,C,h)),h&&q&2048&&hd(_.alternate,_);break;case 24:ks(d,_,T,C,h),h&&q&2048&&fd(_.alternate,_);break;default:ks(d,_,T,C,h)}i=i.sibling}}function hl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:hl(s,l),h&2048&&hd(l.alternate,l);break;case 24:hl(s,l),h&2048&&fd(l.alternate,l);break;default:hl(s,l)}i=i.sibling}}var fl=8192;function Ps(t){if(t.subtreeFlags&fl)for(t=t.child;t!==null;)iv(t),t=t.sibling}function iv(t){switch(t.tag){case 26:Ps(t),t.flags&fl&&t.memoizedState!==null&&Lw(Jn,t.memoizedState,t.memoizedProps);break;case 5:Ps(t);break;case 3:case 4:var i=Jn;Jn=Sc(t.stateNode.containerInfo),Ps(t),Jn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=fl,fl=16777216,Ps(t),fl=i):Ps(t));break;default:Ps(t)}}function rv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function dl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Bt=l,sv(l,t)}rv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)av(t),t=t.sibling}function av(t){switch(t.tag){case 0:case 11:case 15:dl(t),t.flags&2048&&Or(9,t,t.return);break;case 3:dl(t);break;case 12:dl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,hc(t)):dl(t);break;default:dl(t)}}function hc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Bt=l,sv(l,t)}rv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Or(8,i,i.return),hc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,hc(i));break;default:hc(i)}t=t.sibling}}function sv(t,i){for(;Bt!==null;){var s=Bt;switch(s.tag){case 0:case 11:case 15:Or(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$o(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Bt=l;else e:for(s=t;Bt!==null;){l=Bt;var h=l.sibling,d=l.return;if(Jy(l),l===s){Bt=null;break e}if(h!==null){h.return=d,Bt=h;break e}Bt=d}}}var WS={getCacheForType:function(t){var i=tn(Ot),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},ew=typeof WeakMap=="function"?WeakMap:Map,We=0,st=null,ke=null,Ge=0,et=0,bn=null,Vr=!1,Ls=!1,dd=!1,rr=0,yt=0,kr=0,Ba=0,md=0,qn=0,Us=0,ml=null,pn=null,pd=!1,gd=0,fc=1/0,dc=null,Pr=null,$t=0,Lr=null,zs=null,js=0,yd=0,vd=null,ov=null,pl=0,_d=null;function Rn(){if((We&2)!==0&&Ge!==0)return Ge&-Ge;if(X.T!==null){var t=Cs;return t!==0?t:Rd()}return vr()}function lv(){qn===0&&(qn=(Ge&536870912)===0||$e?wo():536870912);var t=Hn.current;return t!==null&&(t.flags|=32),qn}function Cn(t,i,s){(t===st&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(Bs(t,0),Ur(t,Ge,qn,!1)),Pi(t,s),((We&2)===0||t!==st)&&(t===st&&((We&2)===0&&(Ba|=s),yt===4&&Ur(t,Ge,qn,!1)),wi(t))}function uv(t,i,s){if((We&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||da(t,i),h=l?iw(t,i):Ad(t,i,!0),d=l;do{if(h===0){Ls&&!l&&Ur(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!tw(s)){h=Ad(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=ml;var C=T.current.memoizedState.isDehydrated;if(C&&(Bs(T,_).flags|=256),_=Ad(T,_,!1),_!==2){if(dd&&!C){T.errorRecoveryDisabledLanes|=d,Ba|=d,h=4;break e}d=pn,pn=h,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Bs(t,0),Ur(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ur(l,i,qn,!Vr);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=gd+300-Oe(),10<h)){if(Ur(l,i,qn,!Vr),rs(l,0,!0)!==0)break e;l.timeoutHandle=Uv(cv.bind(null,l,s,pn,dc,pd,i,qn,Ba,Us,Vr,d,2,-0,0),h);break e}cv(l,s,pn,dc,pd,i,qn,Ba,Us,Vr,d,0,-0,0)}}break}while(!0);wi(t)}function cv(t,i,s,l,h,d,_,T,C,q,J,W,F,K){if(t.timeoutHandle=-1,W=i.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:Pw},iv(i),W=Uw(),W!==null)){t.cancelPendingCommit=W(yv.bind(null,t,i,d,s,l,h,_,T,C,J,1,F,K)),Ur(t,d,_,!q);return}yv(t,i,d,s,l,h,_,T,C)}function tw(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!Tn(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ur(t,i,s,l){i&=~md,i&=~Ba,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Lt(h),_=1<<d;l[d]=-1,h&=~_}s!==0&&ui(t,s,i)}function mc(){return(We&6)===0?(gl(0),!1):!0}function Ed(){if(ke!==null){if(et===0)var t=ke.return;else t=ke,Xi=ka=null,Lf(t),Ms=null,sl=0,t=ke;for(;t!==null;)qy(t.alternate,t),t=t.return;ke=null}}function Bs(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,_w(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Ed(),st=t,ke=s=Yi(t.current,null),Ge=i,et=0,bn=null,Vr=!1,Ls=da(t,i),dd=!1,Us=qn=md=Ba=kr=yt=0,pn=ml=null,pd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Lt(l),d=1<<h;i|=t[h],l&=~d}return rr=i,Pu(),s}function hv(t,i){xe=null,X.H=tc,i===Jo||i===Gu?(i=Ig(),et=3):i===bg?(i=Ig(),et=4):et=i===Ny?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,ke===null&&(yt=1,sc(t,Un(i,t.current)))}function fv(){var t=X.H;return X.H=tc,t===null?tc:t}function dv(){var t=X.A;return X.A=WS,t}function Td(){yt=4,Vr||(Ge&4194048)!==Ge&&Hn.current!==null||(Ls=!0),(kr&134217727)===0&&(Ba&134217727)===0||st===null||Ur(st,Ge,qn,!1)}function Ad(t,i,s){var l=We;We|=2;var h=fv(),d=dv();(st!==t||Ge!==i)&&(dc=null,Bs(t,i)),i=!1;var _=yt;e:do try{if(et!==0&&ke!==null){var T=ke,C=bn;switch(et){case 8:Ed(),_=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(i=!0);var q=et;if(et=0,bn=null,Hs(t,T,C,q),s&&Ls){_=0;break e}break;default:q=et,et=0,bn=null,Hs(t,T,C,q)}}nw(),_=yt;break}catch(J){hv(t,J)}while(!0);return i&&t.shellSuspendCounter++,Xi=ka=null,We=l,X.H=h,X.A=d,ke===null&&(st=null,Ge=0,Pu()),_}function nw(){for(;ke!==null;)mv(ke)}function iw(t,i){var s=We;We|=2;var l=fv(),h=dv();st!==t||Ge!==i?(dc=null,fc=Oe()+500,Bs(t,i)):Ls=da(t,i);e:do try{if(et!==0&&ke!==null){i=ke;var d=bn;t:switch(et){case 1:et=0,bn=null,Hs(t,i,d,1);break;case 2:case 9:if(Rg(d)){et=0,bn=null,pv(i);break}i=function(){et!==2&&et!==9||st!==t||(et=7),wi(t)},d.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Rg(d)?(et=0,bn=null,pv(i)):(et=0,bn=null,Hs(t,i,d,7));break;case 5:var _=null;switch(ke.tag){case 26:_=ke.memoizedState;case 5:case 27:var T=ke;if(!_||Xv(_)){et=0,bn=null;var C=T.sibling;if(C!==null)ke=C;else{var q=T.return;q!==null?(ke=q,pc(q)):ke=null}break t}}et=0,bn=null,Hs(t,i,d,5);break;case 6:et=0,bn=null,Hs(t,i,d,6);break;case 8:Ed(),yt=6;break e;default:throw Error(a(462))}}rw();break}catch(J){hv(t,J)}while(!0);return Xi=ka=null,X.H=l,X.A=h,We=s,ke!==null?0:(st=null,Ge=0,Pu(),yt)}function rw(){for(;ke!==null&&!ye();)mv(ke)}function mv(t){var i=By(t.alternate,t,rr);t.memoizedProps=t.pendingProps,i===null?pc(t):ke=i}function pv(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=ky(s,i,i.pendingProps,i.type,void 0,Ge);break;case 11:i=ky(s,i,i.pendingProps,i.type.render,i.ref,Ge);break;case 5:Lf(i);default:qy(s,i),i=ke=gg(i,rr),i=By(s,i,rr)}t.memoizedProps=t.pendingProps,i===null?pc(t):ke=i}function Hs(t,i,s,l){Xi=ka=null,Lf(i),Ms=null,sl=0;var h=i.return;try{if(YS(t,h,i,s,Ge)){yt=1,sc(t,Un(s,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;yt=1,sc(t,Un(s,t.current)),ke=null;return}i.flags&32768?($e||l===1?t=!0:Ls||(Ge&536870912)!==0?t=!1:(Vr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),gv(i,t)):pc(i)}function pc(t){var i=t;do{if((i.flags&32768)!==0){gv(i,Vr);return}t=i.return;var s=$S(i.alternate,i,rr);if(s!==null){ke=s;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=t}while(i!==null);yt===0&&(yt=5)}function gv(t,i){do{var s=XS(t.alternate,t);if(s!==null){s.flags&=32767,ke=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){ke=t;return}ke=t=s}while(t!==null);yt=6,ke=null}function yv(t,i,s,l,h,d,_,T,C){t.cancelPendingCommit=null;do gc();while($t!==0);if((We&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=ff,Ro(t,s,d,_,T,C),t===st&&(ke=st=null,Ge=0),zs=i,Lr=t,js=s,yd=d,vd=h,ov=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,lw(xn,function(){return Av(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=oe.p,oe.p=2,_=We,We|=4;try{JS(t,i,s)}finally{We=_,oe.p=h,X.T=l}}$t=1,vv(),_v(),Ev()}}function vv(){if($t===1){$t=0;var t=Lr,i=zs,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var l=oe.p;oe.p=2;var h=We;We|=4;try{ev(i,t);var d=Vd,_=sg(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&ag(T.ownerDocument.documentElement,T)){if(C!==null&&of(T)){var q=C.start,J=C.end;if(J===void 0&&(J=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(J,T.value.length);else{var W=T.ownerDocument||document,F=W&&W.defaultView||window;if(F.getSelection){var K=F.getSelection(),Se=T.textContent.length,_e=Math.min(C.start,Se),rt=C.end===void 0?_e:Math.min(C.end,Se);!K.extend&&_e>rt&&(_=rt,rt=_e,_e=_);var L=rg(T,_e),V=rg(T,rt);if(L&&V&&(K.rangeCount!==1||K.anchorNode!==L.node||K.anchorOffset!==L.offset||K.focusNode!==V.node||K.focusOffset!==V.offset)){var B=W.createRange();B.setStart(L.node,L.offset),K.removeAllRanges(),_e>rt?(K.addRange(B),K.extend(V.node,V.offset)):(B.setEnd(V.node,V.offset),K.addRange(B))}}}}for(W=[],K=T;K=K.parentNode;)K.nodeType===1&&W.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var Z=W[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Ic=!!Md,Vd=Md=null}finally{We=h,oe.p=l,X.T=s}}t.current=i,$t=2}}function _v(){if($t===2){$t=0;var t=Lr,i=zs,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var l=oe.p;oe.p=2;var h=We;We|=4;try{Xy(t,i.alternate,i)}finally{We=h,oe.p=l,X.T=s}}$t=3}}function Ev(){if($t===4||$t===3){$t=0,He();var t=Lr,i=zs,s=js,l=ov;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$t=5:($t=0,zs=Lr=null,Tv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Pr=null),as(s),i=i.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Ye,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,h=oe.p,oe.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{X.T=i,oe.p=h}}(js&3)!==0&&gc(),wi(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===_d?pl++:(pl=0,_d=t):pl=0,gl(0)}}function Tv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,$o(i)))}function gc(t){return vv(),_v(),Ev(),Av()}function Av(){if($t!==5)return!1;var t=Lr,i=yd;yd=0;var s=as(js),l=X.T,h=oe.p;try{oe.p=32>s?32:s,X.T=null,s=vd,vd=null;var d=Lr,_=js;if($t=0,zs=Lr=null,js=0,(We&6)!==0)throw Error(a(331));var T=We;if(We|=4,av(d.current),nv(d,d.current,_,s),We=T,gl(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Ye,d)}catch{}return!0}finally{oe.p=h,X.T=l,Tv(t,i)}}function Sv(t,i,s){i=Un(s,i),i=Jf(t.stateNode,i,2),t=Cr(t,i,2),t!==null&&(Pi(t,2),wi(t))}function at(t,i,s){if(t.tag===3)Sv(t,t,s);else for(;i!==null;){if(i.tag===3){Sv(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Pr===null||!Pr.has(l))){t=Un(s,t),s=Cy(2),l=Cr(i,s,2),l!==null&&(Iy(s,l,i,t),Pi(l,2),wi(l));break}}i=i.return}}function Sd(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new ew;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(dd=!0,h.add(s),t=aw.bind(null,t,i,s),i.then(t,t))}function aw(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,st===t&&(Ge&s)===s&&(yt===4||yt===3&&(Ge&62914560)===Ge&&300>Oe()-gd?(We&2)===0&&Bs(t,0):md|=s,Us===Ge&&(Us=0)),wi(t)}function wv(t,i){i===0&&(i=bo()),t=Ss(t,i),t!==null&&(Pi(t,i),wi(t))}function sw(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),wv(t,s)}function ow(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),wv(t,s)}function lw(t,i){return ie(t,i)}var yc=null,qs=null,wd=!1,vc=!1,bd=!1,Ha=0;function wi(t){t!==qs&&t.next===null&&(qs===null?yc=qs=t:qs=qs.next=t),vc=!0,wd||(wd=!0,cw())}function gl(t,i){if(!bd&&vc){bd=!0;do for(var s=!1,l=yc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Lt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Iv(l,d))}else d=Ge,d=rs(l,l===st?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||da(l,d)||(s=!0,Iv(l,d));l=l.next}while(s);bd=!1}}function uw(){bv()}function bv(){vc=wd=!1;var t=0;Ha!==0&&(vw()&&(t=Ha),Ha=0);for(var i=Oe(),s=null,l=yc;l!==null;){var h=l.next,d=Rv(l,i);d===0?(l.next=null,s===null?yc=h:s.next=h,h===null&&(qs=s)):(s=l,(t!==0||(d&3)!==0)&&(vc=!0)),l=h}gl(t)}function Rv(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Lt(d),T=1<<_,C=h[_];C===-1?((T&s)===0||(T&l)!==0)&&(h[_]=So(T,i)):C<=i&&(t.expiredLanes|=T),d&=~T}if(i=st,s=Ge,s=rs(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(et===2||et===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&be(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||da(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&be(l),as(s)){case 2:case 8:s=li;break;case 32:s=xn;break;case 268435456:s=pt;break;default:s=xn}return l=Cv.bind(null,t),s=ie(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&be(l),t.callbackPriority=2,t.callbackNode=null,2}function Cv(t,i){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(gc()&&t.callbackNode!==s)return null;var l=Ge;return l=rs(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(uv(t,l,i),Rv(t,Oe()),t.callbackNode!=null&&t.callbackNode===s?Cv.bind(null,t):null)}function Iv(t,i){if(gc())return null;uv(t,i,!0)}function cw(){Ew(function(){(We&6)!==0?ie(oi,uw):bv()})}function Rd(){return Ha===0&&(Ha=wo()),Ha}function Nv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:hs(""+t)}function Dv(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function hw(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var d=Nv((h[St]||null).action),_=l.submitter;_&&(i=(i=_[St]||null)?Nv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new fs("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ha!==0){var C=_?Dv(h,_):new FormData(h);Kf(s,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?Dv(h,_):new FormData(h),Kf(s,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Cd=0;Cd<hf.length;Cd++){var Id=hf[Cd],fw=Id.toLowerCase(),dw=Id[0].toUpperCase()+Id.slice(1);Xn(fw,"on"+dw)}Xn(ug,"onAnimationEnd"),Xn(cg,"onAnimationIteration"),Xn(hg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(DS,"onTransitionRun"),Xn(OS,"onTransitionStart"),Xn(xS,"onTransitionCancel"),Xn(fg,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function Ov(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,q=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(J){ac(J)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,q=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(J){ac(J)}h.currentTarget=null,d=C}}}}function Pe(t,i){var s=i[Io];s===void 0&&(s=i[Io]=new Set);var l=t+"__bubble";s.has(l)||(xv(i,t,2,!1),s.add(l))}function Nd(t,i,s){var l=0;i&&(l|=4),xv(s,t,l,i)}var _c="_reactListening"+Math.random().toString(36).slice(2);function Dd(t){if(!t[_c]){t[_c]=!0,No.forEach(function(s){s!=="selectionchange"&&(mw.has(s)||Nd(s,!1,t),Nd(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[_c]||(i[_c]=!0,Nd("selectionchange",!1,i))}}function xv(t,i,s,l){switch(n_(i)){case 2:var h=Bw;break;case 8:h=Hw;break;default:h=Fd}s=h.bind(null,i,s,t),h=void 0,!Pn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function Od(t,i,s,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Li(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Tu(function(){var q=d,J=kn(s),W=[];e:{var F=dg.get(t);if(F!==void 0){var K=fs,Se=t;switch(t){case"keypress":if(pi(s)===0)break e;case"keydown":case"keyup":K=vs;break;case"focusin":Se="focus",K=ps;break;case"focusout":Se="blur",K=ps;break;case"beforeblur":case"afterblur":K=ps;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Nu;break;case ug:case cg:case hg:K=gs;break;case fg:K=Ou;break;case"scroll":case"scrollend":K=Au;break;case"wheel":K=_s;break;case"copy":case"cut":case"paste":K=ys;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Bo;break;case"toggle":case"beforetoggle":K=Mu}var _e=(i&4)!==0,rt=!_e&&(t==="scroll"||t==="scrollend"),L=_e?F!==null?F+"Capture":null:F;_e=[];for(var V=q,B;V!==null;){var Z=V;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||L===null||(Z=Ta(V,L),Z!=null&&_e.push(vl(V,Z,B))),rt)break;V=V.return}0<_e.length&&(F=new K(F,Se,null,s,J),W.push({event:F,listeners:_e}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&s!==Bi&&(Se=s.relatedTarget||s.fromElement)&&(Li(Se)||Se[Mn]))break e;if((K||F)&&(F=J.window===J?J:(F=J.ownerDocument)?F.defaultView||F.parentWindow:window,K?(Se=s.relatedTarget||s.toElement,K=q,Se=Se?Li(Se):null,Se!==null&&(rt=u(Se),_e=Se.tag,Se!==rt||_e!==5&&_e!==27&&_e!==6)&&(Se=null)):(K=null,Se=q),K!==Se)){if(_e=Ln,Z="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Bo,Z="onPointerLeave",L="onPointerEnter",V="pointer"),rt=K==null?F:hi(K),B=Se==null?F:hi(Se),F=new _e(Z,V+"leave",K,s,J),F.target=rt,F.relatedTarget=B,Z=null,Li(J)===q&&(_e=new _e(L,V+"enter",Se,s,J),_e.target=B,_e.relatedTarget=rt,Z=_e),rt=Z,K&&Se)t:{for(_e=K,L=Se,V=0,B=_e;B;B=Fs(B))V++;for(B=0,Z=L;Z;Z=Fs(Z))B++;for(;0<V-B;)_e=Fs(_e),V--;for(;0<B-V;)L=Fs(L),B--;for(;V--;){if(_e===L||L!==null&&_e===L.alternate)break t;_e=Fs(_e),L=Fs(L)}_e=null}else _e=null;K!==null&&Mv(W,F,K,_e,!1),Se!==null&&rt!==null&&Mv(W,rt,Se,_e,!0)}}e:{if(F=q?hi(q):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var he=Zp;else if(Dt(F))if(Wp)he=CS;else{he=bS;var Ve=wS}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Vo(q.elementType)&&(he=Zp):he=RS;if(he&&(he=he(t,q))){Ki(W,he,s,J);break e}Ve&&Ve(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Ar(F,"number",F.value)}switch(Ve=q?hi(q):window,t){case"focusin":(Dt(Ve)||Ve.contentEditable==="true")&&(Es=Ve,lf=q,Fo=null);break;case"focusout":Fo=lf=Es=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,og(W,s,J);break;case"selectionchange":if(NS)break;case"keydown":case"keyup":og(W,s,J)}var me;if(vi)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else qe?Y(t,s)&&(Ee="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ee="onCompositionStart");Ee&&(v&&s.locale!=="ko"&&(qe||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&qe&&(me=Po()):(mi=J,Sr="value"in mi?mi.value:mi.textContent,qe=!0)),Ve=Ec(q,Ee),0<Ve.length&&(Ee=new zo(Ee,t,null,s,J),W.push({event:Ee,listeners:Ve}),me?Ee.data=me:(me=se(s),me!==null&&(Ee.data=me)))),(me=y?Nt(t,s):Fe(t,s))&&(Ee=Ec(q,"onBeforeInput"),0<Ee.length&&(Ve=new zo("onBeforeInput","beforeinput",null,s,J),W.push({event:Ve,listeners:Ee}),Ve.data=me)),hw(W,t,q,s,J)}Ov(W,i)})}function vl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Ec(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ta(t,s),h!=null&&l.unshift(vl(t,h,d)),h=Ta(t,i),h!=null&&l.push(vl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Fs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Mv(t,i,s,l,h){for(var d=i._reactName,_=[];s!==null&&s!==l;){var T=s,C=T.alternate,q=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||q===null||(C=q,h?(q=Ta(s,d),q!=null&&_.unshift(vl(s,q,C))):h||(q=Ta(s,d),q!=null&&_.push(vl(s,q,C)))),s=s.return}_.length!==0&&t.push({event:i,listeners:_})}var pw=/\r\n?/g,gw=/\u0000|\uFFFD/g;function Vv(t){return(typeof t=="string"?t:""+t).replace(pw,`
`).replace(gw,"")}function kv(t,i){return i=Vv(i),Vv(t)===i}function Tc(){}function it(t,i,s,l,h,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Vn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Vn(t,""+l);break;case"className":fi(t,"class",l);break;case"tabIndex":fi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fi(t,s,l);break;case"style":Mo(t,l,d);break;case"data":if(i!=="object"){fi(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=hs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&it(t,i,"name",h.name,h,null),it(t,i,"formEncType",h.formEncType,h,null),it(t,i,"formMethod",h.formMethod,h,null),it(t,i,"formTarget",h.formTarget,h,null)):(it(t,i,"encType",h.encType,h,null),it(t,i,"method",h.method,h,null),it(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=hs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Tc);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=hs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),Tr(t,"popover",l);break;case"xlinkActuate":Kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Kt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Kt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Kt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Kt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Tr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ef.get(s)||s,Tr(t,s,l))}}function xd(t,i,s,l,h,d){switch(s){case"style":Mo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Vn(t,l):(typeof l=="number"||typeof l=="bigint")&&Vn(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ss.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=t[St]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Tr(t,s,l)}}}function Xt(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:it(t,i,d,_,s,null)}}h&&it(t,i,"srcSet",s.srcSet,s,null),l&&it(t,i,"src",s.src,s,null);return;case"input":Pe("invalid",t);var T=d=_=h=null,C=null,q=null;for(l in s)if(s.hasOwnProperty(l)){var J=s[l];if(J!=null)switch(l){case"name":h=J;break;case"type":_=J;break;case"checked":C=J;break;case"defaultChecked":q=J;break;case"value":d=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:it(t,i,l,J,s,null)}}va(t,d,T,C,q,_,h,!1),cs(t);return;case"select":Pe("invalid",t),l=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:it(t,i,h,T,s,null)}i=d,s=_,t.multiple=!!l,i!=null?ji(t,!!l,i,!1):s!=null&&ji(t,!!l,s,!0);return;case"textarea":Pe("invalid",t),d=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:it(t,i,_,T,s,null)}_a(t,l,h,d),cs(t);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:it(t,i,C,l,s,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<yl.length;l++)Pe(yl[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:it(t,i,q,l,s,null)}return;default:if(Vo(i)){for(J in s)s.hasOwnProperty(J)&&(l=s[J],l!==void 0&&xd(t,i,J,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&it(t,i,T,l,s,null))}function yw(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,q=null,J=null;for(K in s){var W=s[K];if(s.hasOwnProperty(K)&&W!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":C=W;default:l.hasOwnProperty(K)||it(t,i,K,null,l,W)}}for(var F in l){var K=l[F];if(W=s[F],l.hasOwnProperty(F)&&(K!=null||W!=null))switch(F){case"type":d=K;break;case"name":h=K;break;case"checked":q=K;break;case"defaultChecked":J=K;break;case"value":_=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,i));break;default:K!==W&&it(t,i,F,K,l,W)}}En(t,_,T,C,q,J,d,h);return;case"select":K=_=T=F=null;for(d in s)if(C=s[d],s.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":K=C;default:l.hasOwnProperty(d)||it(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=s[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&it(t,i,h,d,l,C)}i=T,s=_,l=K,F!=null?ji(t,!!s,F,!1):!!l!=!!s&&(i!=null?ji(t,!!s,i,!0):ji(t,!!s,s?[]:"",!1));return;case"textarea":K=F=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:it(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=s[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&it(t,i,_,h,l,d)}tt(t,F,K);return;case"option":for(var Se in s)if(F=s[Se],s.hasOwnProperty(Se)&&F!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":t.selected=!1;break;default:it(t,i,Se,null,l,F)}for(C in l)if(F=l[C],K=s[C],l.hasOwnProperty(C)&&F!==K&&(F!=null||K!=null))switch(C){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:it(t,i,C,F,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in s)F=s[_e],s.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&it(t,i,_e,null,l,F);for(q in l)if(F=l[q],K=s[q],l.hasOwnProperty(q)&&F!==K&&(F!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,i));break;default:it(t,i,q,F,l,K)}return;default:if(Vo(i)){for(var rt in s)F=s[rt],s.hasOwnProperty(rt)&&F!==void 0&&!l.hasOwnProperty(rt)&&xd(t,i,rt,void 0,l,F);for(J in l)F=l[J],K=s[J],!l.hasOwnProperty(J)||F===K||F===void 0&&K===void 0||xd(t,i,J,F,l,K);return}}for(var L in s)F=s[L],s.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&it(t,i,L,null,l,F);for(W in l)F=l[W],K=s[W],!l.hasOwnProperty(W)||F===K||F==null&&K==null||it(t,i,W,F,l,K)}var Md=null,Vd=null;function Ac(t){return t.nodeType===9?t:t.ownerDocument}function Pv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function kd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Pd=null;function vw(){var t=window.event;return t&&t.type==="popstate"?t===Pd?!1:(Pd=t,!0):(Pd=null,!1)}var Uv=typeof setTimeout=="function"?setTimeout:void 0,_w=typeof clearTimeout=="function"?clearTimeout:void 0,zv=typeof Promise=="function"?Promise:void 0,Ew=typeof queueMicrotask=="function"?queueMicrotask:typeof zv<"u"?function(t){return zv.resolve(null).then(t).catch(Tw)}:Uv;function Tw(t){setTimeout(function(){throw t})}function zr(t){return t==="head"}function jv(t,i){var s=i,l=0,h=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var _=t.ownerDocument;if(s&1&&_l(_.documentElement),s&2&&_l(_.body),s&4)for(s=_.head,_l(s),_=s.firstChild;_;){var T=_.nextSibling,C=_.nodeName;_[ma]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=T}}if(h===0){t.removeChild(d),Cl(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);Cl(i)}function Ld(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ld(s),Er(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Aw(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ma])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Zn(t.nextSibling),t===null)break}return null}function Sw(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Zn(t.nextSibling),t===null))return null;return t}function Ud(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function ww(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var zd=null;function Bv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function Hv(t,i,s){switch(i=Ac(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function _l(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Er(t)}var Fn=new Map,qv=new Set;function Sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ar=oe.d;oe.d={f:bw,r:Rw,D:Cw,C:Iw,L:Nw,m:Dw,X:xw,S:Ow,M:Mw};function bw(){var t=ar.f(),i=mc();return t||i}function Rw(t){var i=ci(t);i!==null&&i.tag===5&&i.type==="form"?uy(i):ar.r(t)}var Gs=typeof document>"u"?null:document;function Fv(t,i,s){var l=Gs;if(l&&typeof i=="string"&&i){var h=wt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),qv.has(h)||(qv.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Xt(i,"link",t),vt(i),l.head.appendChild(i)))}}function Cw(t){ar.D(t),Fv("dns-prefetch",t,null)}function Iw(t,i){ar.C(t,i),Fv("preconnect",t,i)}function Nw(t,i,s){ar.L(t,i,s);var l=Gs;if(l&&t&&i){var h='link[rel="preload"][as="'+wt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+wt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+wt(s.imageSizes)+'"]')):h+='[href="'+wt(t)+'"]';var d=h;switch(i){case"style":d=Ks(t);break;case"script":d=Ys(t)}Fn.has(d)||(t=E({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Fn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(El(d))||i==="script"&&l.querySelector(Tl(d))||(i=l.createElement("link"),Xt(i,"link",t),vt(i),l.head.appendChild(i)))}}function Dw(t,i){ar.m(t,i);var s=Gs;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+wt(l)+'"][href="'+wt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ys(t)}if(!Fn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Fn.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Tl(d)))return}l=s.createElement("link"),Xt(l,"link",t),vt(l),s.head.appendChild(l)}}}function Ow(t,i,s){ar.S(t,i,s);var l=Gs;if(l&&t){var h=un(l).hoistableStyles,d=Ks(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(El(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Fn.get(d))&&jd(t,s);var C=_=l.createElement("link");vt(C),Xt(C,"link",t),C._p=new Promise(function(q,J){C.onload=q,C.onerror=J}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,wc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function xw(t,i){ar.X(t,i);var s=Gs;if(s&&t){var l=un(s).hoistableScripts,h=Ys(t),d=l.get(h);d||(d=s.querySelector(Tl(h)),d||(t=E({src:t,async:!0},i),(i=Fn.get(h))&&Bd(t,i),d=s.createElement("script"),vt(d),Xt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Mw(t,i){ar.M(t,i);var s=Gs;if(s&&t){var l=un(s).hoistableScripts,h=Ys(t),d=l.get(h);d||(d=s.querySelector(Tl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Fn.get(h))&&Bd(t,i),d=s.createElement("script"),vt(d),Xt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Gv(t,i,s,l){var h=(h=Ae.current)?Sc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Ks(s.href),s=un(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ks(s.href);var d=un(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(El(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Fn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Fn.set(t,s),d||Vw(h,t,s,_.state))),i&&l===null)throw Error(a(528,""));return _}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ys(s),s=un(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ks(t){return'href="'+wt(t)+'"'}function El(t){return'link[rel="stylesheet"]['+t+"]"}function Kv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function Vw(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xt(i,"link",s),vt(i),t.head.appendChild(i))}function Ys(t){return'[src="'+wt(t)+'"]'}function Tl(t){return"script[async]"+t}function Yv(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+wt(s.href)+'"]');if(l)return i.instance=l,vt(l),l;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),vt(l),Xt(l,"style",h),wc(l,s.precedence,t),i.instance=l;case"stylesheet":h=Ks(s.href);var d=t.querySelector(El(h));if(d)return i.state.loading|=4,i.instance=d,vt(d),d;l=Kv(s),(h=Fn.get(h))&&jd(l,h),d=(t.ownerDocument||t).createElement("link"),vt(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Xt(d,"link",l),i.state.loading|=4,wc(d,s.precedence,t),i.instance=d;case"script":return d=Ys(s.src),(h=t.querySelector(Tl(d)))?(i.instance=h,vt(h),h):(l=s,(h=Fn.get(d))&&(l=E({},s),Bd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),vt(h),Xt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,wc(l,s.precedence,t));return i.instance}function wc(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Bd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var bc=null;function Qv(t,i,s){if(bc===null){var l=new Map,h=bc=new Map;h.set(s,l)}else h=bc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[ma]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function $v(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function kw(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Xv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Al=null;function Pw(){}function Lw(t,i,s){if(Al===null)throw Error(a(475));var l=Al;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ks(s.href),d=t.querySelector(El(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Rc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,vt(d);return}d=t.ownerDocument||t,s=Kv(s),(h=Fn.get(h))&&jd(s,h),d=d.createElement("link"),vt(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Xt(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Rc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function Uw(){if(Al===null)throw Error(a(475));var t=Al;return t.stylesheets&&t.count===0&&Hd(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&Hd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Rc(){if(this.count--,this.count===0){if(this.stylesheets)Hd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Cc=null;function Hd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Cc=new Map,i.forEach(zw,t),Cc=null,Rc.call(t))}function zw(t,i){if(!(i.state.loading&4)){var s=Cc.get(t);if(s)var l=s.get(null);else{s=new Map,Cc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,h),s.set(_,h),this.count++,l=Rc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Sl={$$typeof:re,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function jw(t,i,s,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.hiddenUpdates=ki(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Jv(t,i,s,l,h,d,_,T,C,q,J,W){return t=new jw(t,i,s,_,T,C,q,W),i=1,d===!0&&(i|=24),d=An(3,null,null,i),t.current=d,d.stateNode=t,i=Sf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},Cf(d),t}function Zv(t){return t?(t=ws,t):ws}function Wv(t,i,s,l,h,d){h=Zv(h),l.context===null?l.context=h:l.pendingContext=h,l=Rr(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Cr(t,l,i),s!==null&&(Cn(s,t,i),Wo(s,t,i))}function e_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function qd(t,i){e_(t,i),(t=t.alternate)&&e_(t,i)}function t_(t){if(t.tag===13){var i=Ss(t,67108864);i!==null&&Cn(i,t,67108864),qd(t,67108864)}}var Ic=!0;function Bw(t,i,s,l){var h=X.T;X.T=null;var d=oe.p;try{oe.p=2,Fd(t,i,s,l)}finally{oe.p=d,X.T=h}}function Hw(t,i,s,l){var h=X.T;X.T=null;var d=oe.p;try{oe.p=8,Fd(t,i,s,l)}finally{oe.p=d,X.T=h}}function Fd(t,i,s,l){if(Ic){var h=Gd(l);if(h===null)Od(t,i,l,Nc,s),i_(t,l);else if(Fw(h,t,i,s,l))l.stopPropagation();else if(i_(t,l),i&4&&-1<qw.indexOf(t)){for(;h!==null;){var d=ci(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Yn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-Lt(_);T.entanglements[1]|=C,_&=~C}wi(d),(We&6)===0&&(fc=Oe()+500,gl(0))}}break;case 13:T=Ss(d,2),T!==null&&Cn(T,d,2),mc(),qd(d,2)}if(d=Gd(l),d===null&&Od(t,i,l,Nc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Od(t,i,l,null,s)}}function Gd(t){return t=kn(t),Kd(t)}var Nc=null;function Kd(t){if(Nc=null,t=Li(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=f(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Nc=t,null}function n_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ln()){case oi:return 2;case li:return 8;case xn:case Xe:return 32;case pt:return 268435456;default:return 32}default:return 32}}var Yd=!1,jr=null,Br=null,Hr=null,wl=new Map,bl=new Map,qr=[],qw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i_(t,i){switch(t){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":wl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(i.pointerId)}}function Rl(t,i,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ci(i),i!==null&&t_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Fw(t,i,s,l,h){switch(i){case"focusin":return jr=Rl(jr,t,i,s,l,h),!0;case"dragenter":return Br=Rl(Br,t,i,s,l,h),!0;case"mouseover":return Hr=Rl(Hr,t,i,s,l,h),!0;case"pointerover":var d=h.pointerId;return wl.set(d,Rl(wl.get(d)||null,t,i,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,bl.set(d,Rl(bl.get(d)||null,t,i,s,l,h)),!0}return!1}function r_(t){var i=Li(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){t.blockedOn=i,mu(t.priority,function(){if(s.tag===13){var l=Rn();l=yr(l);var h=Ss(s,l);h!==null&&Cn(h,s,l),qd(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Gd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Bi=l,s.target.dispatchEvent(l),Bi=null}else return i=ci(s),i!==null&&t_(i),t.blockedOn=s,!1;i.shift()}return!0}function a_(t,i,s){Dc(t)&&s.delete(i)}function Gw(){Yd=!1,jr!==null&&Dc(jr)&&(jr=null),Br!==null&&Dc(Br)&&(Br=null),Hr!==null&&Dc(Hr)&&(Hr=null),wl.forEach(a_),bl.forEach(a_)}function Oc(t,i){t.blockedOn===i&&(t.blockedOn=null,Yd||(Yd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Gw)))}var xc=null;function s_(t){xc!==t&&(xc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){xc===t&&(xc=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Kd(l||s)===null)continue;break}var d=ci(s);d!==null&&(t.splice(i,3),i-=3,Kf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Cl(t){function i(C){return Oc(C,t)}jr!==null&&Oc(jr,t),Br!==null&&Oc(Br,t),Hr!==null&&Oc(Hr,t),wl.forEach(i),bl.forEach(i);for(var s=0;s<qr.length;s++){var l=qr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<qr.length&&(s=qr[0],s.blockedOn===null);)r_(s),s.blockedOn===null&&qr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],_=h[St]||null;if(typeof d=="function")_||s_(s);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[St]||null)T=_.formAction;else if(Kd(h)!==null)continue}else T=_.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),s_(s)}}}function Qd(t){this._internalRoot=t}Mc.prototype.render=Qd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Rn();Wv(s,l,t,i,null,null)},Mc.prototype.unmount=Qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Wv(t.current,2,null,t,null,null),mc(),i[Mn]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var i=vr();t={blockedOn:null,target:t,priority:i};for(var s=0;s<qr.length&&i!==0&&i<qr[s].priority;s++);qr.splice(s,0,t),s===0&&r_(t)}};var o_=e.version;if(o_!=="19.1.0")throw Error(a(527,o_,"19.1.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var Kw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{Ye=Vc.inject(Kw),Le=Vc}catch{}}return Nl.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",h=Sy,d=wy,_=by,T=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=Jv(t,1,!1,null,null,s,l,h,d,_,T,null),t[Mn]=i.current,Dd(t),new Qd(i)},Nl.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=Sy,_=wy,T=by,C=null,q=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks),s.formState!==void 0&&(q=s.formState)),i=Jv(t,1,!0,i,s??null,l,h,d,_,T,C,q),i.context=Zv(null),s=i.current,l=Rn(),l=yr(l),h=Rr(l),h.callback=null,Cr(s,h,l),s=l,i.current.lanes=s,Pi(i,s),wi(i),t[Mn]=i.current,Dd(t),new Mc(i)},Nl.version="19.1.0",Nl}var y_;function nb(){if(y_)return Jd.exports;y_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jd.exports=tb(),Jd.exports}var ib=nb(),Dl={},v_;function rb(){if(v_)return Dl;v_=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.parse=f,Dl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,D){const I=new u,j=S.length;if(j<2)return I;const H=(D==null?void 0:D.decode)||E;let Q=0;do{const $=S.indexOf("=",Q);if($===-1)break;const re=S.indexOf(";",Q),ce=re===-1?j:re;if($>ce){Q=S.lastIndexOf(";",$-1)+1;continue}const fe=m(S,Q,$),Ce=p(S,$,fe),k=S.slice(fe,Ce);if(I[k]===void 0){let b=m(S,$+1,ce),R=p(S,ce,b);const x=H(S.slice(b,R));I[k]=x}Q=ce+1}while(Q<j);return I}function m(S,D,I){do{const j=S.charCodeAt(D);if(j!==32&&j!==9)return D}while(++D<I);return I}function p(S,D,I){for(;D>I;){const j=S.charCodeAt(--D);if(j!==32&&j!==9)return D+1}return I}function g(S,D,I){const j=(I==null?void 0:I.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const H=j(D);if(!e.test(H))throw new TypeError(`argument val is invalid: ${D}`);let Q=S+"="+H;if(!I)return Q;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);Q+="; Max-Age="+I.maxAge}if(I.domain){if(!n.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);Q+="; Domain="+I.domain}if(I.path){if(!a.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);Q+="; Path="+I.path}if(I.expires){if(!w(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);Q+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(Q+="; HttpOnly"),I.secure&&(Q+="; Secure"),I.partitioned&&(Q+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return Q}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function w(S){return o.call(S)==="[object Date]"}return Dl}rb();var __="popstate";function ab(r={}){function e(a,o){let{pathname:u,search:f,hash:m}=a.location;return ym("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Fl(o)}return ob(e,n,null,r)}function ft(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ni(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sb(){return Math.random().toString(36).substring(2,10)}function E_(r,e){return{usr:r.state,key:r.key,idx:e}}function ym(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?fo(e):e,state:n,key:e&&e.key||a||sb()}}function Fl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function fo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function ob(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let H=E(),Q=H==null?null:H-g;g=H,p&&p({action:m,location:j.location,delta:Q})}function S(H,Q){m="PUSH";let $=ym(j.location,H,Q);g=E()+1;let re=E_($,g),ce=j.createHref($);try{f.pushState(re,"",ce)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(ce)}u&&p&&p({action:m,location:j.location,delta:1})}function D(H,Q){m="REPLACE";let $=ym(j.location,H,Q);g=E();let re=E_($,g),ce=j.createHref($);f.replaceState(re,"",ce),u&&p&&p({action:m,location:j.location,delta:0})}function I(H){return lb(H)}let j={get action(){return m},get location(){return r(o,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(__,w),p=H,()=>{o.removeEventListener(__,w),p=null}},createHref(H){return e(o,H)},createURL:I,encodeLocation(H){let Q=I(H);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:S,replace:D,go(H){return f.go(H)}};return j}function lb(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Fl(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function s0(r,e,n="/"){return ub(r,e,n,!1)}function ub(r,e,n,a){let o=typeof e=="string"?fo(e):e,u=hr(o.pathname||"/",n);if(u==null)return null;let f=o0(r);cb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Tb(u);m=_b(f[p],g,a)}return m}function o0(r,e=[],n=[],a=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ft(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=ur([a,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(ft(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),o0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:yb(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of l0(u.path))o(u,f,p)}),e}function l0(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=l0(a.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function cb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:vb(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var hb=/^:[\w-]+$/,fb=3,db=2,mb=1,pb=10,gb=-2,T_=r=>r==="*";function yb(r,e){let n=r.split("/"),a=n.length;return n.some(T_)&&(a+=gb),e&&(a+=db),n.filter(o=>!T_(o)).reduce((o,u)=>o+(hb.test(u)?fb:u===""?mb:pb),a)}function vb(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function _b(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",f=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=th({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!w&&g&&n&&!a[a.length-1].route.index&&(w=th({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:ur([u,w.pathname]),pathnameBase:bb(ur([u,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(u=ur([u,w.pathnameBase]))}return f}function th(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=Eb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:E,isOptional:w},S)=>{if(E==="*"){let I=m[S]||"";f=u.slice(0,u.length-I.length).replace(/(.)\/+$/,"$1")}const D=m[S];return w&&!D?g[E]=void 0:g[E]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function Eb(r,e=!1,n=!0){ni(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function Tb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ni(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function hr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function Ab(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?fo(r):r;return{pathname:n?n.startsWith("/")?n:Sb(n,e):e,search:Rb(a),hash:Cb(o)}}function Sb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function tm(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qm(r){let e=wb(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function $m(r,e,n,a=!1){let o;typeof r=="string"?o=fo(r):(o={...r},ft(!o.pathname||!o.pathname.includes("?"),tm("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),tm("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),tm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!a&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}m=w>=0?e[w]:"/"}let p=Ab(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var ur=r=>r.join("/").replace(/\/\/+/g,"/"),bb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Rb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Cb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Ib(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var u0=["POST","PUT","PATCH","DELETE"];new Set(u0);var Nb=["GET",...u0];new Set(Nb);var mo=G.createContext(null);mo.displayName="DataRouter";var Sh=G.createContext(null);Sh.displayName="DataRouterState";var c0=G.createContext({isTransitioning:!1});c0.displayName="ViewTransition";var Db=G.createContext(new Map);Db.displayName="Fetchers";var Ob=G.createContext(null);Ob.displayName="Await";var ri=G.createContext(null);ri.displayName="Navigation";var tu=G.createContext(null);tu.displayName="Location";var Vi=G.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var Xm=G.createContext(null);Xm.displayName="RouteError";function xb(r,{relative:e}={}){ft(po(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=G.useContext(ri),{hash:o,pathname:u,search:f}=nu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ur([n,u])),a.createHref({pathname:m,search:f,hash:o})}function po(){return G.useContext(tu)!=null}function oa(){return ft(po(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(tu).location}var h0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function f0(r){G.useContext(ri).static||G.useLayoutEffect(r)}function d0(){let{isDataRoute:r}=G.useContext(Vi);return r?Gb():Mb()}function Mb(){ft(po(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(mo),{basename:e,navigator:n}=G.useContext(ri),{matches:a}=G.useContext(Vi),{pathname:o}=oa(),u=JSON.stringify(Qm(a)),f=G.useRef(!1);return f0(()=>{f.current=!0}),G.useCallback((p,g={})=>{if(ni(f.current,h0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=$m(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ur([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}G.createContext(null);function nu(r,{relative:e}={}){let{matches:n}=G.useContext(Vi),{pathname:a}=oa(),o=JSON.stringify(Qm(n));return G.useMemo(()=>$m(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function Vb(r,e){return m0(r,e)}function m0(r,e,n,a){var Q;ft(po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=G.useContext(ri),{matches:u}=G.useContext(Vi),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let $=E&&E.path||"";p0(p,!E||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let w=oa(),S;if(e){let $=typeof e=="string"?fo(e):e;ft(g==="/"||((Q=$.pathname)==null?void 0:Q.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${$.pathname}" was given in the \`location\` prop.`),S=$}else S=w;let D=S.pathname||"/",I=D;if(g!=="/"){let $=g.replace(/^\//,"").split("/");I="/"+D.replace(/^\//,"").split("/").slice($.length).join("/")}let j=s0(r,{pathname:I});ni(E||j!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),ni(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=zb(j&&j.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:ur([g,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?g:ur([g,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),u,n,a);return e&&H?G.createElement(tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},H):H}function kb(){let r=Fb(),e=Ib(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,f)}var Pb=G.createElement(kb,null),Lb=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?G.createElement(Vi.Provider,{value:this.props.routeContext},G.createElement(Xm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ub({routeContext:r,match:e,children:n}){let a=G.useContext(mo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Vi.Provider,{value:r},n)}function zb(r,e=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ft(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:w}=n,S=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let w,S=!1,D=null,I=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||Pb,f&&(m<0&&E===0?(p0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,I=null):m===E&&(S=!0,I=g.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,E+1)),H=()=>{let Q;return w?Q=D:S?Q=I:g.route.Component?Q=G.createElement(g.route.Component,null):g.route.element?Q=g.route.element:Q=p,G.createElement(Ub,{match:g,routeContext:{outlet:p,matches:j,isDataRoute:n!=null},children:Q})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?G.createElement(Lb,{location:n.location,revalidation:n.revalidation,component:D,error:w,children:H(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):H()},null)}function Jm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jb(r){let e=G.useContext(mo);return ft(e,Jm(r)),e}function Bb(r){let e=G.useContext(Sh);return ft(e,Jm(r)),e}function Hb(r){let e=G.useContext(Vi);return ft(e,Jm(r)),e}function Zm(r){let e=Hb(r),n=e.matches[e.matches.length-1];return ft(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function qb(){return Zm("useRouteId")}function Fb(){var a;let r=G.useContext(Xm),e=Bb("useRouteError"),n=Zm("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[n]}function Gb(){let{router:r}=jb("useNavigate"),e=Zm("useNavigate"),n=G.useRef(!1);return f0(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{ni(n.current,h0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var A_={};function p0(r,e,n){!e&&!A_[r]&&(A_[r]=!0,ni(!1,n))}G.memo(Kb);function Kb({routes:r,future:e,state:n}){return m0(r,void 0,n,e)}function g0({to:r,replace:e,state:n,relative:a}){ft(po(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(ri);ni(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(Vi),{pathname:f}=oa(),m=d0(),p=$m(r,Qm(u),f,a==="path"),g=JSON.stringify(p);return G.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:a})},[m,g,a,e,n]),null}function vm(r){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yb({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){ft(!po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=fo(n));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:S="default"}=n,D=G.useMemo(()=>{let I=hr(p,f);return I==null?null:{location:{pathname:I,search:g,hash:E,state:w,key:S},navigationType:a}},[f,p,g,E,w,S,a]);return ni(D!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:G.createElement(ri.Provider,{value:m},G.createElement(tu.Provider,{children:e,value:D}))}function Qb({children:r,location:e}){return Vb(_m(r),e)}function _m(r,e=[]){let n=[];return G.Children.forEach(r,(a,o)=>{if(!G.isValidElement(a))return;let u=[...e,o];if(a.type===G.Fragment){n.push.apply(n,_m(a.props.children,u));return}ft(a.type===vm,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=_m(a.props.children,u)),n.push(f)}),n}var qc="get",Fc="application/x-www-form-urlencoded";function wh(r){return r!=null&&typeof r.tagName=="string"}function $b(r){return wh(r)&&r.tagName.toLowerCase()==="button"}function Xb(r){return wh(r)&&r.tagName.toLowerCase()==="form"}function Jb(r){return wh(r)&&r.tagName.toLowerCase()==="input"}function Zb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Wb(r,e){return r.button===0&&(!e||e==="_self")&&!Zb(r)}var kc=null;function e1(){if(kc===null)try{new FormData(document.createElement("form"),0),kc=!1}catch{kc=!0}return kc}var t1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nm(r){return r!=null&&!t1.has(r)?(ni(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fc}"`),null):r}function n1(r,e){let n,a,o,u,f;if(Xb(r)){let m=r.getAttribute("action");a=m?hr(m,e):null,n=r.getAttribute("method")||qc,o=nm(r.getAttribute("enctype"))||Fc,u=new FormData(r)}else if($b(r)||Jb(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?hr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||qc,o=nm(r.getAttribute("formenctype"))||nm(m.getAttribute("enctype"))||Fc,u=new FormData(m,r),!e1()){let{name:g,type:E,value:w}=r;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,w)}}else{if(wh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qc,a=null,o=Fc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Wm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function i1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function r1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function a1(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await i1(u,n);return f.links?f.links():[]}return[]}));return u1(a.flat(1).filter(r1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function S_(r,e,n,a,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function s1(r,e,{includeHydrateFallback:n}={}){return o1(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function o1(r){return[...new Set(r)]}function l1(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function u1(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(l1(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var c1=new Set([100,101,204,205]);function h1(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&hr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function y0(){let r=G.useContext(mo);return Wm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function f1(){let r=G.useContext(Sh);return Wm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ep=G.createContext(void 0);ep.displayName="FrameworkContext";function v0(){let r=G.useContext(ep);return Wm(r,"You must render this element inside a <HydratedRouter> element"),r}function d1(r,e){let n=G.useContext(ep),[a,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,S=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let j=Q=>{Q.forEach($=>{f($.isIntersecting)})},H=new IntersectionObserver(j,{threshold:.5});return S.current&&H.observe(S.current),()=>{H.disconnect()}}},[r]),G.useEffect(()=>{if(a){let j=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(j)}}},[a]);let D=()=>{o(!0)},I=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Ol(m,D),onBlur:Ol(p,I),onMouseEnter:Ol(g,D),onMouseLeave:Ol(E,I),onTouchStart:Ol(w,D)}]:[!1,S,{}]}function Ol(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function m1({page:r,...e}){let{router:n}=y0(),a=G.useMemo(()=>s0(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?G.createElement(g1,{page:r,matches:a,...e}):null}function p1(r){let{manifest:e,routeModules:n}=v0(),[a,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return a1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),a}function g1({page:r,matches:e,...n}){let a=oa(),{manifest:o,routeModules:u}=v0(),{basename:f}=y0(),{loaderData:m,matches:p}=f1(),g=G.useMemo(()=>S_(r,e,p,o,a,"data"),[r,e,p,o,a]),E=G.useMemo(()=>S_(r,e,p,o,a,"assets"),[r,e,p,o,a]),w=G.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let I=new Set,j=!1;if(e.forEach(Q=>{var re;let $=o.routes[Q.route.id];!$||!$.hasLoader||(!g.some(ce=>ce.route.id===Q.route.id)&&Q.route.id in m&&((re=u[Q.route.id])!=null&&re.shouldRevalidate)||$.hasClientLoader?j=!0:I.add(Q.route.id))}),I.size===0)return[];let H=h1(r,f);return j&&I.size>0&&H.searchParams.set("_routes",e.filter(Q=>I.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[H.pathname+H.search]},[f,m,a,o,g,e,r,u]),S=G.useMemo(()=>s1(E,o),[E,o]),D=p1(E);return G.createElement(G.Fragment,null,w.map(I=>G.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),S.map(I=>G.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),D.map(({key:I,link:j})=>G.createElement("link",{key:I,...j})))}function y1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_0&&(window.__reactRouterVersion="7.6.2")}catch{}function v1({basename:r,children:e,window:n}){let a=G.useRef();a.current==null&&(a.current=ab({window:n,v5Compat:!0}));let o=a.current,[u,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>f(p))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(Yb,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var E0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T0=G.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,...S},D){let{basename:I}=G.useContext(ri),j=typeof g=="string"&&E0.test(g),H,Q=!1;if(typeof g=="string"&&j&&(H=g,_0))try{let R=new URL(window.location.href),x=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=hr(x.pathname,I);x.origin===R.origin&&P!=null?g=P+x.search+x.hash:Q=!0}catch{ni(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=xb(g,{relative:o}),[re,ce,fe]=d1(a,S),Ce=A1(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function k(R){e&&e(R),R.defaultPrevented||Ce(R)}let b=G.createElement("a",{...S,...fe,href:H||$,onClick:Q||u?e:k,ref:y1(D,ce),target:p,"data-discover":!j&&n==="render"?"true":void 0});return re&&!j?G.createElement(G.Fragment,null,b,G.createElement(m1,{page:$})):b});T0.displayName="Link";var _1=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let w=nu(f,{relative:g.relative}),S=oa(),D=G.useContext(Sh),{navigator:I,basename:j}=G.useContext(ri),H=D!=null&&C1(w)&&m===!0,Q=I.encodeLocation?I.encodeLocation(w).pathname:w.pathname,$=S.pathname,re=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||($=$.toLowerCase(),re=re?re.toLowerCase():null,Q=Q.toLowerCase()),re&&j&&(re=hr(re,j)||re);const ce=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let fe=$===Q||!o&&$.startsWith(Q)&&$.charAt(ce)==="/",Ce=re!=null&&(re===Q||!o&&re.startsWith(Q)&&re.charAt(Q.length)==="/"),k={isActive:fe,isPending:Ce,isTransitioning:H},b=fe?e:void 0,R;typeof a=="function"?R=a(k):R=[a,fe?"active":null,Ce?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(k):u;return G.createElement(T0,{...g,"aria-current":b,className:R,ref:E,style:x,to:f,viewTransition:m},typeof p=="function"?p(k):p)});_1.displayName="NavLink";var E1=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=qc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...S},D)=>{let I=b1(),j=R1(m,{relative:g}),H=f.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&E0.test(m),$=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let ce=re.nativeEvent.submitter,fe=(ce==null?void 0:ce.getAttribute("formmethod"))||f;I(ce||re.currentTarget,{fetcherKey:e,method:fe,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return G.createElement("form",{ref:D,method:H,action:j,onSubmit:a?p:$,...S,"data-discover":!Q&&r==="render"?"true":void 0})});E1.displayName="Form";function T1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A0(r){let e=G.useContext(mo);return ft(e,T1(r)),e}function A1(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=d0(),p=oa(),g=nu(r,{relative:u});return G.useCallback(E=>{if(Wb(E,e)){E.preventDefault();let w=n!==void 0?n:Fl(p)===Fl(g);m(r,{replace:w,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,a,e,r,o,u,f])}var S1=0,w1=()=>`__${String(++S1)}__`;function b1(){let{router:r}=A0("useSubmit"),{basename:e}=G.useContext(ri),n=qb();return G.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=n1(a,e);if(o.navigate===!1){let E=o.fetcherKey||w1();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function R1(r,{relative:e}={}){let{basename:n}=G.useContext(ri),a=G.useContext(Vi);ft(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...nu(r||".",{relative:e})},f=oa();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ur([n,u.pathname])),Fl(u)}function C1(r,e={}){let n=G.useContext(c0);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=A0("useViewTransitionState"),o=nu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=hr(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=hr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return th(o.pathname,f)!=null||th(o.pathname,u)!=null}[...c1];const I1=()=>{};var w_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},N1=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},w0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,D=g&63;p||(D=64,f||(S=64)),a.push(n[E],n[w],n[S],n[D])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(S0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):N1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new D1;const S=u<<2|m>>4;if(a.push(S),g!==64){const D=m<<4&240|g>>2;if(a.push(D),w!==64){const I=g<<6&192|w;a.push(I)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class D1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O1=function(r){const e=S0(r);return w0.encodeByteArray(e,!0)},nh=function(r){return O1(r).replace(/\./g,"")},b0=function(r){try{return w0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=()=>x1().__FIREBASE_DEFAULTS__,V1=()=>{if(typeof process>"u"||typeof w_>"u")return;const r=w_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},k1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&b0(r[1]);return e&&JSON.parse(e)},bh=()=>{try{return I1()||M1()||V1()||k1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},R0=r=>{var e,n;return(n=(e=bh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},P1=r=>{const e=R0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},C0=()=>{var r;return(r=bh())===null||r===void 0?void 0:r.config},I0=r=>{var e;return(e=bh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(r){return r.endsWith(".cloudworkstations.dev")}async function N0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[nh(JSON.stringify(n)),nh(JSON.stringify(f)),""].join(".")}const Ll={};function z1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ll))Ll[e]?r.emulator.push(e):r.prod.push(e);return r}function j1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let b_=!1;function D0(r,e){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||Ll[r]===e||Ll[r]||b_)return;Ll[r]=e;function n(S){return`__firebase__banner__${S}`}const a="__firebase__banner",u=z1().prod.length>0;function f(){const S=document.getElementById(a);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,D){S.setAttribute("width","24"),S.setAttribute("id",D),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{b_=!0,f()},S}function E(S,D){S.setAttribute("id",D),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=j1(a),D=n("text"),I=document.getElementById(D)||document.createElement("span"),j=n("learnmore"),H=document.getElementById(j)||document.createElement("a"),Q=n("preprendIcon"),$=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const re=S.element;m(re),E(H,j);const ce=g();p($,Q),re.append($,I,H,ce),document.body.appendChild(re)}u?(I.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function H1(){var r;const e=(r=bh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function q1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function O0(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function F1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function G1(){const r=on();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function K1(){return!H1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x0(){try{return typeof indexedDB=="object"}catch{return!1}}function M0(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}function Y1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="FirebaseError";class ai extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=Q1,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,es.prototype.create)}}class es{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?$1(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ai(o,m,a)}}function $1(r,e){return r.replace(X1,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const X1=/\{\$([^}]+)}/g;function J1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ea(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],f=e[o];if(R_(u)&&R_(f)){if(!ea(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function R_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Z1(r,e){const n=new W1(r,e);return n.subscribe.bind(n)}class W1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");eR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=im),o.error===void 0&&(o.error=im),o.complete===void 0&&(o.complete=im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function im(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=1e3,nR=2,iR=4*60*60*1e3,rR=.5;function C_(r,e=tR,n=nR){const a=e*Math.pow(n,r),o=Math.round(rR*a*(Math.random()-.5)*2);return Math.min(iR,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(r){return r&&r._delegate?r._delegate:r}class ii{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new L1;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oR(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:sR(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sR(r){return r===qa?void 0:r}function oR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ue||(Ue={}));const uR={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},cR=Ue.INFO,hR={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},fR=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=hR[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rh{constructor(e){this.name=e,this._logLevel=cR,this._logHandler=fR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const dR=(r,e)=>e.some(n=>r instanceof n);let I_,N_;function mR(){return I_||(I_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pR(){return N_||(N_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V0=new WeakMap,Em=new WeakMap,k0=new WeakMap,rm=new WeakMap,tp=new WeakMap;function gR(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Xr(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&V0.set(n,r)}).catch(()=>{}),tp.set(e,r),e}function yR(r){if(Em.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Em.set(r,e)}let Tm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Em.get(r);if(e==="objectStoreNames")return r.objectStoreNames||k0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function vR(r){Tm=r(Tm)}function _R(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(am(this),e,...n);return k0.set(a,e.sort?e.sort():[e]),Xr(a)}:pR().includes(r)?function(...e){return r.apply(am(this),e),Xr(V0.get(this))}:function(...e){return Xr(r.apply(am(this),e))}}function ER(r){return typeof r=="function"?_R(r):(r instanceof IDBTransaction&&yR(r),dR(r,mR())?new Proxy(r,Tm):r)}function Xr(r){if(r instanceof IDBRequest)return gR(r);if(rm.has(r))return rm.get(r);const e=ER(r);return e!==r&&(rm.set(r,e),tp.set(e,r)),e}const am=r=>tp.get(r);function P0(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Xr(f);return a&&f.addEventListener("upgradeneeded",p=>{a(Xr(f.result),p.oldVersion,p.newVersion,Xr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const TR=["get","getKey","getAll","getAllKeys","count"],AR=["put","add","delete","clear"],sm=new Map;function D_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(sm.get(e))return sm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=AR.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||TR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return sm.set(e,u),u}vR(r=>({...r,get:(e,n,a)=>D_(e,n)||r.get(e,n,a),has:(e,n)=>!!D_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wR(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function wR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Am="@firebase/app",O_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new Rh("@firebase/app"),bR="@firebase/app-compat",RR="@firebase/analytics-compat",CR="@firebase/analytics",IR="@firebase/app-check-compat",NR="@firebase/app-check",DR="@firebase/auth",OR="@firebase/auth-compat",xR="@firebase/database",MR="@firebase/data-connect",VR="@firebase/database-compat",kR="@firebase/functions",PR="@firebase/functions-compat",LR="@firebase/installations",UR="@firebase/installations-compat",zR="@firebase/messaging",jR="@firebase/messaging-compat",BR="@firebase/performance",HR="@firebase/performance-compat",qR="@firebase/remote-config",FR="@firebase/remote-config-compat",GR="@firebase/storage",KR="@firebase/storage-compat",YR="@firebase/firestore",QR="@firebase/ai",$R="@firebase/firestore-compat",XR="firebase",JR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="[DEFAULT]",ZR={[Am]:"fire-core",[bR]:"fire-core-compat",[CR]:"fire-analytics",[RR]:"fire-analytics-compat",[NR]:"fire-app-check",[IR]:"fire-app-check-compat",[DR]:"fire-auth",[OR]:"fire-auth-compat",[xR]:"fire-rtdb",[MR]:"fire-data-connect",[VR]:"fire-rtdb-compat",[kR]:"fire-fn",[PR]:"fire-fn-compat",[LR]:"fire-iid",[UR]:"fire-iid-compat",[zR]:"fire-fcm",[jR]:"fire-fcm-compat",[BR]:"fire-perf",[HR]:"fire-perf-compat",[qR]:"fire-rc",[FR]:"fire-rc-compat",[GR]:"fire-gcs",[KR]:"fire-gcs-compat",[YR]:"fire-fst",[$R]:"fire-fst-compat",[QR]:"fire-vertex","fire-js":"fire-js",[XR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,WR=new Map,wm=new Map;function x_(r,e){try{r.container.addComponent(e)}catch(n){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Di(r){const e=r.name;if(wm.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,r);for(const n of ih.values())x_(n,r);for(const n of WR.values())x_(n,r);return!0}function ts(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Wn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new es("app","Firebase",eC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=JR;function L0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Sm,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw Jr.create("bad-app-name",{appName:String(o)});if(n||(n=C0()),!n)throw Jr.create("no-options");const u=ih.get(o);if(u){if(ea(n,u.options)&&ea(a,u.config))return u;throw Jr.create("duplicate-app",{appName:o})}const f=new lR(o);for(const p of wm.values())f.addComponent(p);const m=new tC(n,a,f);return ih.set(o,m),m}function np(r=Sm){const e=ih.get(r);if(!e&&r===Sm&&C0())return L0();if(!e)throw Jr.create("no-app",{appName:r});return e}function Gn(r,e,n){var a;let o=(a=ZR[r])!==null&&a!==void 0?a:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(m.join(" "));return}Di(new ii(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="firebase-heartbeat-database",iC=1,Gl="firebase-heartbeat-store";let om=null;function U0(){return om||(om=P0(nC,iC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Gl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Jr.create("idb-open",{originalErrorMessage:r.message})})),om}async function rC(r){try{const n=(await U0()).transaction(Gl),a=await n.objectStore(Gl).get(z0(r));return await n.done,a}catch(e){if(e instanceof ai)fr.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fr.warn(n.message)}}}async function M_(r,e){try{const a=(await U0()).transaction(Gl,"readwrite");await a.objectStore(Gl).put(e,z0(r)),await a.done}catch(n){if(n instanceof ai)fr.warn(n.message);else{const a=Jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fr.warn(a.message)}}}function z0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=1024,sC=30;class oC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uC(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=V_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>sC){const f=cC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){fr.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=V_(),{heartbeatsToSend:a,unsentEntries:o}=lC(this._heartbeatsCache.heartbeats),u=nh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return fr.warn(n),""}}}function V_(){return new Date().toISOString().substring(0,10)}function lC(r,e=aC){const n=[];let a=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),k_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),k_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class uC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x0()?M0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return M_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return M_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function k_(r){return nh(JSON.stringify({version:2,heartbeats:r})).length}function cC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(r){Di(new ii("platform-logger",e=>new SR(e),"PRIVATE")),Di(new ii("heartbeat",e=>new oC(e),"PRIVATE")),Gn(Am,O_,r),Gn(Am,O_,"esm2017"),Gn("fire-js","")}hC("");function ip(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n}function j0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fC=j0,B0=new es("auth","Firebase",j0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Rh("@firebase/auth");function dC(r,...e){rh.logLevel<=Ue.WARN&&rh.warn(`Auth (${yo}): ${r}`,...e)}function Gc(r,...e){rh.logLevel<=Ue.ERROR&&rh.error(`Auth (${yo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(r,...e){throw ap(r,...e)}function ti(r,...e){return ap(r,...e)}function rp(r,e,n){const a=Object.assign(Object.assign({},fC()),{[e]:n});return new es("auth","Firebase",a).create(e,{appName:r.name})}function Ya(r){return rp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mC(r,e,n){const a=n;if(!(e instanceof a))throw a.name!==e.constructor.name&&Oi(r,"argument-error"),rp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ap(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return B0.create(r,...e)}function we(r,e,...n){if(!r)throw ap(e,...n)}function or(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Gc(e),new Error(e)}function dr(r,e){r||or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function pC(){return P_()==="http:"||P_()==="https:"}function P_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pC()||O0()||"connection"in navigator)?navigator.onLine:!0}function yC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,dr(n>e,"Short delay should be less than long delay!"),this.isMobile=B1()||F1()}get(){return gC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(r,e){dr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EC=new ru(3e4,6e4);function op(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function vo(r,e,n,a,o={}){return q0(r,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const m=iu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return q1()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&go(r.emulatorConfig.host)&&(g.credentials="include"),H0.fetch()(await F0(r,r.config.apiHost,n,m),g)})}async function q0(r,e,n){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},vC),e);try{const o=new AC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Pc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Pc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Pc(r,"user-disabled",f);const E=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw rp(r,E,g);Oi(r,E)}}catch(o){if(o instanceof ai)throw o;Oi(r,"network-request-failed",{message:String(o)})}}async function TC(r,e,n,a,o={}){const u=await vo(r,e,n,a,o);return"mfaPendingCredential"in u&&Oi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function F0(r,e,n,a){const o=`${e}${n}?${a}`,u=r,f=u.config.emulator?sp(r.config,o):`${r.config.apiScheme}://${o}`;return _C.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class AC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(ti(this.auth,"network-request-failed")),EC.get())})}}function Pc(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=ti(r,e,a);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(r,e){return vo(r,"POST","/v1/accounts:delete",e)}async function ah(r,e){return vo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wC(r,e=!1){const n=Ft(r),a=await n.getIdToken(e),o=lp(a);we(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:Ul(lm(o.auth_time)),issuedAtTime:Ul(lm(o.iat)),expirationTime:Ul(lm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function lm(r){return Number(r)*1e3}function lp(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const o=b0(n);return o?JSON.parse(o):(Gc("Failed to decode base64 JWT payload"),null)}catch(o){return Gc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function L_(r){const e=lp(r);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof ai&&bC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function bC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(r){var e;const n=r.auth,a=await r.getIdToken(),o=await Kl(r,ah(n,{idToken:a}));we(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?G0(u.providerUserInfo):[],m=IC(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Rm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,w)}async function CC(r){const e=Ft(r);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IC(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function G0(r){return r.map(e=>{var{providerId:n}=e,a=ip(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(r,e){const n=await q0(r,{},async()=>{const a=iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await F0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return r.emulatorConfig&&go(r.emulatorConfig.host)&&(p.credentials="include"),H0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function DC(r,e){return vo(r,"POST","/v2/accounts:revokeToken",op(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=L_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await NC(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new Ws;return a&&(we(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(we(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ws,this.toJSON())}_performRefresh(){return or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(r,e){we(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ei{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,u=ip(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Rm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wC(this,e)}reload(){return CC(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await sh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(Ya(this.auth));const e=await this.getIdToken();return await Kl(this,SC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,u,f,m,p,g,E;const w=(a=n.displayName)!==null&&a!==void 0?a:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,D=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,I=(f=n.photoURL)!==null&&f!==void 0?f:void 0,j=(m=n.tenantId)!==null&&m!==void 0?m:void 0,H=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(g=n.createdAt)!==null&&g!==void 0?g:void 0,$=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:re,emailVerified:ce,isAnonymous:fe,providerData:Ce,stsTokenManager:k}=n;we(re&&k,e,"internal-error");const b=Ws.fromJSON(this.name,k);we(typeof re=="string",e,"internal-error"),Gr(w,e.name),Gr(S,e.name),we(typeof ce=="boolean",e,"internal-error"),we(typeof fe=="boolean",e,"internal-error"),Gr(D,e.name),Gr(I,e.name),Gr(j,e.name),Gr(H,e.name),Gr(Q,e.name),Gr($,e.name);const R=new ei({uid:re,auth:e,email:S,emailVerified:ce,displayName:w,isAnonymous:fe,photoURL:I,phoneNumber:D,tenantId:j,stsTokenManager:b,createdAt:Q,lastLoginAt:$});return Ce&&Array.isArray(Ce)&&(R.providerData=Ce.map(x=>Object.assign({},x))),H&&(R._redirectEventId=H),R}static async _fromIdTokenResponse(e,n,a=!1){const o=new Ws;o.updateFromServerResponse(n);const u=new ei({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await sh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?G0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ws;m.updateFromIdToken(a);const p=new ei({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=new Map;function lr(r){dr(r instanceof Function,"Expected a class definition");let e=U_.get(r);return e?(dr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,U_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}K0.type="NONE";const z_=K0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(r,e,n){return`firebase:${r}:${e}:${n}`}class eo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Kc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Kc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ah(this.auth,{idToken:e}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new eo(lr(z_),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||lr(z_);const f=Kc(a,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const S=await ah(e,{idToken:E}).catch(()=>{});if(!S)break;w=await ei._fromGetAccountInfoResponse(e,S,E)}else w=ei._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new eo(u,e,a):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new eo(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(X0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Y0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Z0(e))return"Blackberry";if(W0(e))return"Webos";if(Q0(e))return"Safari";if((e.includes("chrome/")||$0(e))&&!e.includes("edge/"))return"Chrome";if(J0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function Y0(r=on()){return/firefox\//i.test(r)}function Q0(r=on()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $0(r=on()){return/crios\//i.test(r)}function X0(r=on()){return/iemobile/i.test(r)}function J0(r=on()){return/android/i.test(r)}function Z0(r=on()){return/blackberry/i.test(r)}function W0(r=on()){return/webos/i.test(r)}function up(r=on()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function OC(r=on()){var e;return up(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xC(){return G1()&&document.documentMode===10}function eT(r=on()){return up(r)||J0(r)||W0(r)||Z0(r)||/windows phone/i.test(r)||X0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(r,e=[]){let n;switch(r){case"Browser":n=j_(on());break;case"Worker":n=`${j_(on())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(r,e={}){return vo(r,"GET","/v2/passwordPolicy",op(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=6;class PC{constructor(e){var n,a,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:kC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B_(this),this.idTokenSubscription=new B_(this),this.beforeStateQueue=new MC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ah(this,{idToken:e}),a=await ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Wn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(Ya(this));const n=e?Ft(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(Ya(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(Ya(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VC(this),n=new PC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new es("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await DC(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&lr(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&dC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ch(r){return Ft(r)}class B_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Z1(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UC(r){cp=r}function zC(r){return cp.loadJS(r)}function jC(){return cp.gapiScript}function BC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(r,e){const n=ts(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ea(u,e??{}))return o;Oi(o,"already-initialized")}return n.initialize({options:e})}function qC(r,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(lr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function FC(r,e,n){const a=Ch(r);we(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=nT(e),{host:f,port:m}=GC(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){we(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),we(ea(g,a.config.emulator)&&ea(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,go(f)?(N0(`${u}//${f}${p}`),D0("Auth",!0)):KC()}function nT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function GC(r){const e=nT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:H_(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:H_(f)}}}function H_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function KC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(r,e){return TC(r,"POST","/v1/accounts:signInWithIdp",op(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="http://localhost";class $a extends iT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,u=ip(n,["providerId","signInMethod"]);if(!a||!o)return null;const f=new $a(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return to(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,to(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,to(e,n)}buildRequest(){const e={requestUri:YC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=iu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends hp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends au{constructor(){super("facebook.com")}static credential(e){return $a._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $a._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return sr.credential(n,a)}catch{return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com";sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends au{constructor(){super("github.com")}static credential(e){return $a._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends au{constructor(){super("twitter.com")}static credential(e,n){return $a._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Qr.credential(n,a)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await ei._fromIdTokenResponse(e,a,o),f=q_(a);return new ro({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=q_(a);return new ro({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function q_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends ai{constructor(e,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new oh(e,n,a,o)}}function rT(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(r,u,e,a):u})}async function QC(r,e,n=!1){const a=await Kl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ro._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(r,e,n=!1){const{auth:a}=r;if(Wn(a.app))return Promise.reject(Ya(a));const o="reauthenticate";try{const u=await Kl(r,rT(a,o,e,r),n);we(u.idToken,a,"internal-error");const f=lp(u.idToken);we(f,a,"internal-error");const{sub:m}=f;return we(r.uid===m,a,"user-mismatch"),ro._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Oi(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XC(r,e,n=!1){if(Wn(r.app))return Promise.reject(Ya(r));const a="signIn",o=await rT(r,a,e),u=await ro._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}function JC(r,e,n,a){return Ft(r).onIdTokenChanged(e,n,a)}function ZC(r,e,n){return Ft(r).beforeAuthStateChanged(e,n)}function WC(r,e,n,a){return Ft(r).onAuthStateChanged(e,n,a)}function Lc(r){return Ft(r).signOut()}const lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=1e3,tI=10;class sT extends aT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);xC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,tI):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},eI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sT.type="LOCAL";const nI=sT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT extends aT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oT.type="SESSION";const lT=oT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Ih(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await iI(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=fp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return window}function aI(r){Ri().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function sI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function lI(){return uT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="firebaseLocalStorageDb",uI=1,uh="firebaseLocalStorage",hT="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nh(r,e){return r.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function cI(){const r=indexedDB.deleteDatabase(cT);return new su(r).toPromise()}function Cm(){const r=indexedDB.open(cT,uI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(uh,{keyPath:hT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(uh)?e(a):(a.close(),await cI(),e(await Cm()))})})}async function F_(r,e,n){const a=Nh(r,!0).put({[hT]:e,value:n});return new su(a).toPromise()}async function hI(r,e){const n=Nh(r,!1).get(e),a=await new su(n).toPromise();return a===void 0?null:a.value}function G_(r,e){const n=Nh(r,!0).delete(e);return new su(n).toPromise()}const fI=800,dI=3;class fT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>dI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance(lI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sI(),!this.activeServiceWorker)return;this.sender=new rI(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cm();return await F_(e,lh,"1"),await G_(e,lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>F_(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>hI(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>G_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Nh(o,!1).getAll();return new su(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fT.type="LOCAL";const mI=fT;new ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(r,e){return e?lr(e):(we(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp extends iT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,n){return to(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pI(r){return XC(r.auth,new dp(r),r.bypassAuthState)}function gI(r){const{auth:e,user:n}=r;return we(n,e,"internal-error"),$C(n,new dp(r),r.bypassAuthState)}async function yI(r){const{auth:e,user:n}=r;return we(n,e,"internal-error"),QC(n,new dp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pI;case"linkViaPopup":case"linkViaRedirect":return yI;case"reauthViaPopup":case"reauthViaRedirect":return gI;default:Oi(this.auth,"internal-error")}}resolve(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=new ru(2e3,1e4);async function _I(r,e,n){if(Wn(r.app))return Promise.reject(ti(r,"operation-not-supported-in-this-environment"));const a=Ch(r);mC(r,e,hp);const o=dT(a,n);return new Fa(a,"signInViaPopup",e,o).executeNotNull()}class Fa extends mT{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const e=fp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vI.get())};e()}}Fa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="pendingRedirect",Yc=new Map;class TI extends mT{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Yc.get(this.auth._key());if(!e){try{const a=await AI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Yc.set(this.auth._key(),e)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AI(r,e){const n=bI(e),a=wI(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function SI(r,e){Yc.set(r._key(),e)}function wI(r){return lr(r._redirectPersistence)}function bI(r){return Kc(EI,r.config.apiKey,r.name)}async function RI(r,e,n=!1){if(Wn(r.app))return Promise.reject(Ya(r));const a=Ch(r),o=dT(a,e),f=await new TI(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=10*60*1e3;class II{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!pT(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(ti(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CI&&this.cachedEventUids.clear(),this.cachedEventUids.has(K_(e))}saveEventToCache(e){this.cachedEventUids.add(K_(e)),this.lastProcessedEventTime=Date.now()}}function K_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function pT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(r,e={}){return vo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xI=/^https?/;async function MI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await DI(r);for(const n of e)try{if(VI(n))return}catch{}Oi(r,"unauthorized-domain")}function VI(r){const e=bm(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!xI.test(n))return!1;if(OI.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=new ru(3e4,6e4);function Y_(){const r=Ri().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function PI(r){return new Promise((e,n)=>{var a,o,u;function f(){Y_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Y_(),n(ti(r,"network-request-failed"))},timeout:kI.get()})}if(!((o=(a=Ri().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ri().gapi)===null||u===void 0)&&u.load)f();else{const m=BC("iframefcb");return Ri()[m]=()=>{gapi.load?f():n(ti(r,"network-request-failed"))},zC(`${jC()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function LI(r){return Qc=Qc||PI(r),Qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=new ru(5e3,15e3),zI="__/auth/iframe",jI="emulator/auth/iframe",BI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qI(r){const e=r.config;we(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?sp(e,jI):`https://${r.config.authDomain}/${zI}`,a={apiKey:e.apiKey,appName:r.name,v:yo},o=HI.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${iu(a).slice(1)}`}async function FI(r){const e=await LI(r),n=Ri().gapi;return we(n,r,"internal-error"),e.open({where:document.body,url:qI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BI,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=ti(r,"network-request-failed"),m=Ri().setTimeout(()=>{u(f)},UI.get());function p(){Ri().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KI=500,YI=600,QI="_blank",$I="http://localhost";class Q_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XI(r,e,n,a=KI,o=YI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=Object.assign(Object.assign({},GI),{width:a.toString(),height:o.toString(),top:u,left:f}),g=on().toLowerCase();n&&(m=$0(g)?QI:n),Y0(g)&&(e=e||$I,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[D,I])=>`${S}${D}=${I},`,"");if(OC(g)&&m!=="_self")return JI(e||"",m),new Q_(null);const w=window.open(e||"",m,E);we(w,r,"popup-blocked");try{w.focus()}catch{}return new Q_(w)}function JI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="__/auth/handler",WI="emulator/auth/handler",e2=encodeURIComponent("fac");async function $_(r,e,n,a,o,u){we(r.config.authDomain,r,"auth-domain-config-required"),we(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:yo,eventId:o};if(e instanceof hp){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",J1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof au){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${e2}=${encodeURIComponent(p)}`:"";return`${t2(r)}?${iu(m).slice(1)}${g}`}function t2({config:r}){return r.emulator?sp(r,WI):`https://${r.authDomain}/${ZI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="webStorageSupport";class n2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lT,this._completeRedirectFn=RI,this._overrideRedirectResult=SI}async _openPopup(e,n,a,o){var u;dr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await $_(e,n,a,bm(),o);return XI(e,f,fp())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await $_(e,n,a,bm(),o);return aI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(dr(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await FI(e),a=new II(e);return n.register("authEvent",o=>(we(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(um,{type:um},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[um];f!==void 0&&n(!!f),Oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eT()||Q0()||up()}}const i2=n2;var X_="@firebase/auth",J_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s2(r){Di(new ii("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;we(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tT(r)},g=new LC(a,o,u,p);return qC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Di(new ii("auth-internal",e=>{const n=Ch(e.getProvider("auth").getImmediate());return(a=>new r2(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(X_,J_,a2(r)),Gn(X_,J_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=5*60,l2=I0("authIdTokenMaxAge")||o2;let Z_=null;const u2=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>l2)return;const o=n==null?void 0:n.token;Z_!==o&&(Z_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function c2(r=np()){const e=ts(r,"auth");if(e.isInitialized())return e.getImmediate();const n=HC(r,{popupRedirectResolver:i2,persistence:[mI,nI,lT]}),a=I0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=u2(u.toString());ZC(n,f,()=>f(n.currentUser)),JC(n,m=>f(m))}}const o=R0("auth");return o&&FC(n,`http://${o}`),n}function h2(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}UC({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=ti("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",h2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s2("Browser");var W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zr,gT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,b){function R(){}R.prototype=b.prototype,k.D=b.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(x,P,U){for(var N=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)N[lt-2]=arguments[lt];return b.prototype[P].apply(x,N)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,b,R){R||(R=0);var x=Array(16);if(typeof b=="string")for(var P=0;16>P;++P)x[P]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(P=0;16>P;++P)x[P]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=k.g[0],R=k.g[1],P=k.g[2];var U=k.g[3],N=b+(U^R&(P^U))+x[0]+3614090360&4294967295;b=R+(N<<7&4294967295|N>>>25),N=U+(P^b&(R^P))+x[1]+3905402710&4294967295,U=b+(N<<12&4294967295|N>>>20),N=P+(R^U&(b^R))+x[2]+606105819&4294967295,P=U+(N<<17&4294967295|N>>>15),N=R+(b^P&(U^b))+x[3]+3250441966&4294967295,R=P+(N<<22&4294967295|N>>>10),N=b+(U^R&(P^U))+x[4]+4118548399&4294967295,b=R+(N<<7&4294967295|N>>>25),N=U+(P^b&(R^P))+x[5]+1200080426&4294967295,U=b+(N<<12&4294967295|N>>>20),N=P+(R^U&(b^R))+x[6]+2821735955&4294967295,P=U+(N<<17&4294967295|N>>>15),N=R+(b^P&(U^b))+x[7]+4249261313&4294967295,R=P+(N<<22&4294967295|N>>>10),N=b+(U^R&(P^U))+x[8]+1770035416&4294967295,b=R+(N<<7&4294967295|N>>>25),N=U+(P^b&(R^P))+x[9]+2336552879&4294967295,U=b+(N<<12&4294967295|N>>>20),N=P+(R^U&(b^R))+x[10]+4294925233&4294967295,P=U+(N<<17&4294967295|N>>>15),N=R+(b^P&(U^b))+x[11]+2304563134&4294967295,R=P+(N<<22&4294967295|N>>>10),N=b+(U^R&(P^U))+x[12]+1804603682&4294967295,b=R+(N<<7&4294967295|N>>>25),N=U+(P^b&(R^P))+x[13]+4254626195&4294967295,U=b+(N<<12&4294967295|N>>>20),N=P+(R^U&(b^R))+x[14]+2792965006&4294967295,P=U+(N<<17&4294967295|N>>>15),N=R+(b^P&(U^b))+x[15]+1236535329&4294967295,R=P+(N<<22&4294967295|N>>>10),N=b+(P^U&(R^P))+x[1]+4129170786&4294967295,b=R+(N<<5&4294967295|N>>>27),N=U+(R^P&(b^R))+x[6]+3225465664&4294967295,U=b+(N<<9&4294967295|N>>>23),N=P+(b^R&(U^b))+x[11]+643717713&4294967295,P=U+(N<<14&4294967295|N>>>18),N=R+(U^b&(P^U))+x[0]+3921069994&4294967295,R=P+(N<<20&4294967295|N>>>12),N=b+(P^U&(R^P))+x[5]+3593408605&4294967295,b=R+(N<<5&4294967295|N>>>27),N=U+(R^P&(b^R))+x[10]+38016083&4294967295,U=b+(N<<9&4294967295|N>>>23),N=P+(b^R&(U^b))+x[15]+3634488961&4294967295,P=U+(N<<14&4294967295|N>>>18),N=R+(U^b&(P^U))+x[4]+3889429448&4294967295,R=P+(N<<20&4294967295|N>>>12),N=b+(P^U&(R^P))+x[9]+568446438&4294967295,b=R+(N<<5&4294967295|N>>>27),N=U+(R^P&(b^R))+x[14]+3275163606&4294967295,U=b+(N<<9&4294967295|N>>>23),N=P+(b^R&(U^b))+x[3]+4107603335&4294967295,P=U+(N<<14&4294967295|N>>>18),N=R+(U^b&(P^U))+x[8]+1163531501&4294967295,R=P+(N<<20&4294967295|N>>>12),N=b+(P^U&(R^P))+x[13]+2850285829&4294967295,b=R+(N<<5&4294967295|N>>>27),N=U+(R^P&(b^R))+x[2]+4243563512&4294967295,U=b+(N<<9&4294967295|N>>>23),N=P+(b^R&(U^b))+x[7]+1735328473&4294967295,P=U+(N<<14&4294967295|N>>>18),N=R+(U^b&(P^U))+x[12]+2368359562&4294967295,R=P+(N<<20&4294967295|N>>>12),N=b+(R^P^U)+x[5]+4294588738&4294967295,b=R+(N<<4&4294967295|N>>>28),N=U+(b^R^P)+x[8]+2272392833&4294967295,U=b+(N<<11&4294967295|N>>>21),N=P+(U^b^R)+x[11]+1839030562&4294967295,P=U+(N<<16&4294967295|N>>>16),N=R+(P^U^b)+x[14]+4259657740&4294967295,R=P+(N<<23&4294967295|N>>>9),N=b+(R^P^U)+x[1]+2763975236&4294967295,b=R+(N<<4&4294967295|N>>>28),N=U+(b^R^P)+x[4]+1272893353&4294967295,U=b+(N<<11&4294967295|N>>>21),N=P+(U^b^R)+x[7]+4139469664&4294967295,P=U+(N<<16&4294967295|N>>>16),N=R+(P^U^b)+x[10]+3200236656&4294967295,R=P+(N<<23&4294967295|N>>>9),N=b+(R^P^U)+x[13]+681279174&4294967295,b=R+(N<<4&4294967295|N>>>28),N=U+(b^R^P)+x[0]+3936430074&4294967295,U=b+(N<<11&4294967295|N>>>21),N=P+(U^b^R)+x[3]+3572445317&4294967295,P=U+(N<<16&4294967295|N>>>16),N=R+(P^U^b)+x[6]+76029189&4294967295,R=P+(N<<23&4294967295|N>>>9),N=b+(R^P^U)+x[9]+3654602809&4294967295,b=R+(N<<4&4294967295|N>>>28),N=U+(b^R^P)+x[12]+3873151461&4294967295,U=b+(N<<11&4294967295|N>>>21),N=P+(U^b^R)+x[15]+530742520&4294967295,P=U+(N<<16&4294967295|N>>>16),N=R+(P^U^b)+x[2]+3299628645&4294967295,R=P+(N<<23&4294967295|N>>>9),N=b+(P^(R|~U))+x[0]+4096336452&4294967295,b=R+(N<<6&4294967295|N>>>26),N=U+(R^(b|~P))+x[7]+1126891415&4294967295,U=b+(N<<10&4294967295|N>>>22),N=P+(b^(U|~R))+x[14]+2878612391&4294967295,P=U+(N<<15&4294967295|N>>>17),N=R+(U^(P|~b))+x[5]+4237533241&4294967295,R=P+(N<<21&4294967295|N>>>11),N=b+(P^(R|~U))+x[12]+1700485571&4294967295,b=R+(N<<6&4294967295|N>>>26),N=U+(R^(b|~P))+x[3]+2399980690&4294967295,U=b+(N<<10&4294967295|N>>>22),N=P+(b^(U|~R))+x[10]+4293915773&4294967295,P=U+(N<<15&4294967295|N>>>17),N=R+(U^(P|~b))+x[1]+2240044497&4294967295,R=P+(N<<21&4294967295|N>>>11),N=b+(P^(R|~U))+x[8]+1873313359&4294967295,b=R+(N<<6&4294967295|N>>>26),N=U+(R^(b|~P))+x[15]+4264355552&4294967295,U=b+(N<<10&4294967295|N>>>22),N=P+(b^(U|~R))+x[6]+2734768916&4294967295,P=U+(N<<15&4294967295|N>>>17),N=R+(U^(P|~b))+x[13]+1309151649&4294967295,R=P+(N<<21&4294967295|N>>>11),N=b+(P^(R|~U))+x[4]+4149444226&4294967295,b=R+(N<<6&4294967295|N>>>26),N=U+(R^(b|~P))+x[11]+3174756917&4294967295,U=b+(N<<10&4294967295|N>>>22),N=P+(b^(U|~R))+x[2]+718787259&4294967295,P=U+(N<<15&4294967295|N>>>17),N=R+(U^(P|~b))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+b&4294967295,k.g[1]=k.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+U&4294967295}a.prototype.u=function(k,b){b===void 0&&(b=k.length);for(var R=b-this.blockSize,x=this.B,P=this.h,U=0;U<b;){if(P==0)for(;U<=R;)o(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<b;)if(x[P++]=k.charCodeAt(U++),P==this.blockSize){o(this,x),P=0;break}}else for(;U<b;)if(x[P++]=k[U++],P==this.blockSize){o(this,x),P=0;break}}this.h=P,this.o+=b},a.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var b=1;b<k.length-8;++b)k[b]=0;var R=8*this.o;for(b=k.length-8;b<k.length;++b)k[b]=R&255,R/=256;for(this.u(k),k=Array(16),b=R=0;4>b;++b)for(var x=0;32>x;x+=8)k[R++]=this.g[b]>>>x&255;return k};function u(k,b){var R=m;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=b(k)}function f(k,b){this.h=b;for(var R=[],x=!0,P=k.length-1;0<=P;P--){var U=k[P]|0;x&&U==b||(R[P]=U,x=!1)}this.g=R}var m={};function p(k){return-128<=k&&128>k?u(k,function(b){return new f([b|0],0>b?-1:0)}):new f([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return w;if(0>k)return H(g(-k));for(var b=[],R=1,x=0;k>=R;x++)b[x]=k/R|0,R*=4294967296;return new f(b,0)}function E(k,b){if(k.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(k.charAt(0)=="-")return H(E(k.substring(1),b));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(b,8)),x=w,P=0;P<k.length;P+=8){var U=Math.min(8,k.length-P),N=parseInt(k.substring(P,P+U),b);8>U?(U=g(Math.pow(b,U)),x=x.j(U).add(g(N))):(x=x.j(R),x=x.add(g(N)))}return x}var w=p(0),S=p(1),D=p(16777216);r=f.prototype,r.m=function(){if(j(this))return-H(this).m();for(var k=0,b=1,R=0;R<this.g.length;R++){var x=this.i(R);k+=(0<=x?x:4294967296+x)*b,b*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(I(this))return"0";if(j(this))return"-"+H(this).toString(k);for(var b=g(Math.pow(k,6)),R=this,x="";;){var P=ce(R,b).g;R=Q(R,P.j(b));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=P,I(R))return U+x;for(;6>U.length;)U="0"+U;x=U+x}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function I(k){if(k.h!=0)return!1;for(var b=0;b<k.g.length;b++)if(k.g[b]!=0)return!1;return!0}function j(k){return k.h==-1}r.l=function(k){return k=Q(this,k),j(k)?-1:I(k)?0:1};function H(k){for(var b=k.g.length,R=[],x=0;x<b;x++)R[x]=~k.g[x];return new f(R,~k.h).add(S)}r.abs=function(){return j(this)?H(this):this},r.add=function(k){for(var b=Math.max(this.g.length,k.g.length),R=[],x=0,P=0;P<=b;P++){var U=x+(this.i(P)&65535)+(k.i(P)&65535),N=(U>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);x=N>>>16,U&=65535,N&=65535,R[P]=N<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Q(k,b){return k.add(H(b))}r.j=function(k){if(I(this)||I(k))return w;if(j(this))return j(k)?H(this).j(H(k)):H(H(this).j(k));if(j(k))return H(this.j(H(k)));if(0>this.l(D)&&0>k.l(D))return g(this.m()*k.m());for(var b=this.g.length+k.g.length,R=[],x=0;x<2*b;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var P=0;P<k.g.length;P++){var U=this.i(x)>>>16,N=this.i(x)&65535,lt=k.i(P)>>>16,ot=k.i(P)&65535;R[2*x+2*P]+=N*ot,$(R,2*x+2*P),R[2*x+2*P+1]+=U*ot,$(R,2*x+2*P+1),R[2*x+2*P+1]+=N*lt,$(R,2*x+2*P+1),R[2*x+2*P+2]+=U*lt,$(R,2*x+2*P+2)}for(x=0;x<b;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=b;x<2*b;x++)R[x]=0;return new f(R,0)};function $(k,b){for(;(k[b]&65535)!=k[b];)k[b+1]+=k[b]>>>16,k[b]&=65535,b++}function re(k,b){this.g=k,this.h=b}function ce(k,b){if(I(b))throw Error("division by zero");if(I(k))return new re(w,w);if(j(k))return b=ce(H(k),b),new re(H(b.g),H(b.h));if(j(b))return b=ce(k,H(b)),new re(H(b.g),b.h);if(30<k.g.length){if(j(k)||j(b))throw Error("slowDivide_ only works with positive integers.");for(var R=S,x=b;0>=x.l(k);)R=fe(R),x=fe(x);var P=Ce(R,1),U=Ce(x,1);for(x=Ce(x,2),R=Ce(R,2);!I(x);){var N=U.add(x);0>=N.l(k)&&(P=P.add(R),U=N),x=Ce(x,1),R=Ce(R,1)}return b=Q(k,P.j(b)),new re(P,b)}for(P=w;0<=k.l(b);){for(R=Math.max(1,Math.floor(k.m()/b.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),U=g(R),N=U.j(b);j(N)||0<N.l(k);)R-=x,U=g(R),N=U.j(b);I(U)&&(U=S),P=P.add(U),k=Q(k,N)}return new re(P,k)}r.A=function(k){return ce(this,k).h},r.and=function(k){for(var b=Math.max(this.g.length,k.g.length),R=[],x=0;x<b;x++)R[x]=this.i(x)&k.i(x);return new f(R,this.h&k.h)},r.or=function(k){for(var b=Math.max(this.g.length,k.g.length),R=[],x=0;x<b;x++)R[x]=this.i(x)|k.i(x);return new f(R,this.h|k.h)},r.xor=function(k){for(var b=Math.max(this.g.length,k.g.length),R=[],x=0;x<b;x++)R[x]=this.i(x)^k.i(x);return new f(R,this.h^k.h)};function fe(k){for(var b=k.g.length+1,R=[],x=0;x<b;x++)R[x]=k.i(x)<<1|k.i(x-1)>>>31;return new f(R,k.h)}function Ce(k,b){var R=b>>5;b%=32;for(var x=k.g.length-R,P=[],U=0;U<x;U++)P[U]=0<b?k.i(U+R)>>>b|k.i(U+R+1)<<32-b:k.i(U+R);return new f(P,k.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,gT=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Zr=f}).apply(typeof W_<"u"?W_:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yT,Ml,vT,$c,Im,_T,ET,TT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var v=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in v))break e;v=v[z]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,A=!1,z={next:function(){if(!A&&v<c.length){var Y=v++;return{value:y(Y,c[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function w(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,S.apply(null,arguments)}function D(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function I(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,z,Y){for(var se=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)se[qe-2]=arguments[qe];return y.prototype[z].apply(A,se)}}function j(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function H(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const z=c.length||0,Y=A.length||0;c.length=z+Y;for(let se=0;se<Y;se++)c[z+se]=A[se]}else c.push(A)}}class Q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var fe=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function Ce(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function k(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function b(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,y){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)c[v]=A[v];for(let Y=0;Y<R.length;Y++)v=R[Y],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function P(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function U(c){m.setTimeout(()=>{throw c},0)}function N(){var c=je;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class lt{constructor(){this.h=this.g=null}add(y,v){const A=ot.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ot=new Q(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,de=!1,je=new lt,O=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(te)}};var te=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){U(v)}var y=ot;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}de=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function De(c,y){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(fe){e:{try{ce(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}I(De,ae);var Ae={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var At="closure_listenable_"+(1e6*Math.random()|0),Be=0;function Dn(c,y,v,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=z,this.key=++Be,this.da=this.fa=!1}function On(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Kn(c){this.src=c,this.g={},this.h=0}Kn.prototype.add=function(c,y,v,A,z){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var se=ie(c,y,A,z);return-1<se?(y=c[se],v||(y.fa=!1)):(y=new Dn(y,this.src,Y,!!A,z),y.fa=v,c.push(y)),y};function si(c,y){var v=y.type;if(v in c.g){var A=c.g[v],z=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=0<=z)&&Array.prototype.splice.call(A,z,1),Y&&(On(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ie(c,y,v,A){for(var z=0;z<c.length;++z){var Y=c[z];if(!Y.da&&Y.listener==y&&Y.capture==!!v&&Y.ha==A)return z}return-1}var be="closure_lm_"+(1e6*Math.random()|0),ye={};function He(c,y,v,A,z){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)He(c,y[Y],v,A,z);return null}return v=Gt(v),c&&c[At]?c.K(y,v,g(A)?!!A.capture:!1,z):Oe(c,y,v,!1,A,z)}function Oe(c,y,v,A,z,Y){if(!y)throw Error("Invalid event type");var se=g(z)?!!z.capture:!!z,qe=pt(c);if(qe||(c[be]=qe=new Kn(c)),v=qe.add(y,v,A,se,Y),v.proxy)return v;if(A=ln(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)ge||(z=se),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(xn(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ln(){function c(v){return y.call(c.src,c.listener,v)}const y=Xe;return c}function oi(c,y,v,A,z){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)oi(c,y[Y],v,A,z);else A=g(A)?!!A.capture:!!A,v=Gt(v),c&&c[At]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],v=ie(Y,v,A,z),-1<v&&(On(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=pt(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ie(y,v,A,z)),(v=-1<c?y[c]:null)&&li(v))}function li(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[At])si(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(xn(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=pt(y))?(si(v,c),v.h==0&&(v.src=null,y[be]=null)):On(c)}}}function xn(c){return c in ye?ye[c]:ye[c]="on"+c}function Xe(c,y){if(c.da)c=!0;else{y=new De(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&li(c),c=v.call(A,y)}return c}function pt(c){return c=c[be],c instanceof Kn?c:null}var en="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gt(c){return typeof c=="function"?c:(c[en]||(c[en]=function(y){return c.handleEvent(y)}),c[en])}function Ye(){le.call(this),this.i=new Kn(this),this.M=this,this.F=null}I(Ye,le),Ye.prototype[At]=!0,Ye.prototype.removeEventListener=function(c,y,v,A){oi(this,c,y,v,A)};function Le(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ae(y,c);else if(y instanceof ae)y.target=y.target||c;else{var z=y;y=new ae(A,c),x(y,z)}if(z=!0,v)for(var Y=v.length-1;0<=Y;Y--){var se=y.g=v[Y];z=Pt(se,A,!0,y)&&z}if(se=y.g=c,z=Pt(se,A,!0,y)&&z,z=Pt(se,A,!1,y)&&z,v)for(Y=0;Y<v.length;Y++)se=y.g=v[Y],z=Pt(se,A,!1,y)&&z}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)On(v[A]);delete c.g[y],c.h--}}this.F=null},Ye.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},Ye.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function Pt(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,Y=0;Y<y.length;++Y){var se=y[Y];if(se&&!se.da&&se.capture==v){var qe=se.listener,Nt=se.ha||se.src;se.fa&&si(c.i,se),z=qe.call(Nt,A)!==!1&&z}}return z&&!A.defaultPrevented}function Lt(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function du(c){c.g=Lt(()=>{c.g=null,c.i&&(c.i=!1,du(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Xh extends le{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:du(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ca(c){le.call(this),this.h=c,this.g={}}I(ca,le);var ha=[];function fa(c){Ce(c.g,function(y,v){this.g.hasOwnProperty(v)&&li(y)},c),c.g={}}ca.prototype.N=function(){ca.aa.N.call(this),fa(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yn=m.JSON.stringify,rs=m.JSON.parse,da=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function So(){}So.prototype.h=null;function wo(c){return c.h||(c.h=c.i())}function bo(){}var ki={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pi(){ae.call(this,"d")}I(Pi,ae);function Ro(){ae.call(this,"c")}I(Ro,ae);var ui={},Co=null;function yr(){return Co=Co||new Ye}ui.La="serverreachability";function as(c){ae.call(this,ui.La,c)}I(as,ae);function vr(c){const y=yr();Le(y,new as(y))}ui.STAT_EVENT="statevent";function mu(c,y){ae.call(this,ui.STAT_EVENT,c),this.stat=y}I(mu,ae);function ut(c){const y=yr();Le(y,new mu(y,c))}ui.Ma="timingevent";function It(c,y){ae.call(this,ui.Ma,c),this.size=y}I(It,ae);function St(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Mn(){this.g=!0}Mn.prototype.xa=function(){this.g=!1};function Io(c,y,v,A,z,Y){c.info(function(){if(c.g)if(Y)for(var se="",qe=Y.split("&"),Nt=0;Nt<qe.length;Nt++){var Fe=qe[Nt].split("=");if(1<Fe.length){var zt=Fe[0];Fe=Fe[1];var Dt=zt.split("_");se=2<=Dt.length&&Dt[1]=="type"?se+(zt+"="+Fe+"&"):se+(zt+"=redacted&")}}else se=null;else se=Y;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+v+`
`+se})}function Jh(c,y,v,A,z,Y,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+v+`
`+Y+" "+se})}function _r(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ma(c,v)+(A?" "+A:"")})}function pu(c,y){c.info(function(){return"TIMEOUT: "+y})}Mn.prototype.info=function(){};function ma(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var Y=z[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var se=1;se<z.length;se++)z[se]=""}}}}return Yn(v)}catch{return y}}var Er={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ci;function hi(){}I(hi,So),hi.prototype.g=function(){return new XMLHttpRequest},hi.prototype.i=function(){return{}},ci=new hi;function un(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new ca(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vt}function vt(){this.i=null,this.g="",this.h=!1}var No={},ss={};function Qn(c,y,v){c.L=1,c.v=_a(En(y)),c.m=v,c.P=!0,Ui(c,null)}function Ui(c,y){c.F=Date.now(),pa(c),c.A=En(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),ko(v.i,"t",A),c.C=0,v=c.j.J,c.h=new vt,c.g=Ou(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Xh(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(ha[0]=z.toString()),z=ha);for(var Y=0;Y<z.length;Y++){var se=He(v,z[Y],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),vr(),Io(c.i,c.u,c.A,c.l,c.R,c.m)}un.prototype.ca=function(c){c=c.target;const y=this.M;y&&Ln(c)==3?y.j():this.Y(c)},un.prototype.Y=function(c){try{if(c==this.g)e:{const Dt=Ln(this.g);var y=this.g.Ba();const Ki=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||Su(this.g)))){this.J||Dt!=4||y==7||(y==8||0>=Ki?vr(3):vr(2)),Tr(this);var v=this.g.Z();this.X=v;t:if(gu(this)){var A=Su(this.g);c="";var z=A.length,Y=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),fi(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Y&&y==z-1)});A.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=v==200,Jh(this.i,this.u,this.A,this.l,this.R,Dt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Nt=this.g;if((qe=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(qe)){var Fe=qe;break t}}Fe=null}if(v=Fe)_r(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ga(this,v);else{this.o=!1,this.s=3,ut(12),Kt(this),fi(this);break e}}if(this.P){v=!0;let Yt;for(;!this.J&&this.C<se.length;)if(Yt=yu(this,se),Yt==ss){Dt==4&&(this.s=4,ut(14),v=!1),_r(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==No){this.s=4,ut(15),_r(this.i,this.l,se,"[Invalid Chunk]"),v=!1;break}else _r(this.i,this.l,Yt,null),ga(this,Yt);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||se.length!=0||this.h.h||(this.s=1,ut(16),v=!1),this.o=this.o&&v,!v)_r(this.i,this.l,se,"[Invalid Chunked Response]"),Kt(this),fi(this);else if(0<se.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Ca(zt),zt.M=!0,ut(11))}}else _r(this.i,this.l,se,null),ga(this,se);Dt==4&&Kt(this),this.o&&!this.J&&(Dt==4?Iu(this.j,this):(this.o=!1,pa(this)))}else nf(this.g),v==400&&0<se.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Kt(this),fi(this)}}}catch{}finally{}};function gu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function yu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?ss:(v=Number(y.substring(v,A)),isNaN(v)?No:(A+=1,A+v>y.length?ss:(y=y.slice(A,A+v),c.C=A+v,y)))}un.prototype.cancel=function(){this.J=!0,Kt(this)};function pa(c){c.S=Date.now()+c.I,vu(c,c.I)}function vu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=St(S(c.ba,c),y)}function Tr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(pu(this.i,this.A),this.L!=2&&(vr(),ut(17)),Kt(this),this.s=2,fi(this)):vu(this,this.S-c)};function fi(c){c.j.G==0||c.J||Iu(c.j,c)}function Kt(c){Tr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,fa(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ga(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Do(v.h,c))){if(!c.K&&Do(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)vs(v),gs(v);else break e;jo(v),ut(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=St(S(v.Za,v),6e3));if(1>=ls(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Gi(v,11)}else if((c.K||v.g==c)&&vs(v),!$(y))for(z=v.Da.g.parse(y),y=0;y<z.length;y++){let Fe=z[y];if(v.T=Fe[0],Fe=Fe[1],v.G==2)if(Fe[0]=="c"){v.K=Fe[1],v.ia=Fe[2];const zt=Fe[3];zt!=null&&(v.la=zt,v.j.info("VER="+v.la));const Dt=Fe[4];Dt!=null&&(v.Aa=Dt,v.j.info("SVER="+v.Aa));const Ki=Fe[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(A=1.5*Ki,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Yt=c.g;if(Yt){const _i=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var Y=A.h;Y.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(us(Y,Y.h),Y.h=null))}if(A.D){const Ho=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&(A.ya=Ho,tt(A.I,A.D,Ho))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var se=c;if(A.qa=Du(A,A.J?A.ia:null,A.W),se.K){cn(A.h,se);var qe=se,Nt=A.L;Nt&&(qe.I=Nt),qe.B&&(Tr(qe),pa(qe)),A.g=se}else Ru(A);0<v.i.length&&ys(v)}else Fe[0]!="stop"&&Fe[0]!="close"||Gi(v,7);else v.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Gi(v,7):Uo(v):Fe[0]!="noop"&&v.l&&v.l.ta(Fe),v.v=0)}}vr(4)}catch{}}var _u=class{constructor(c,y){this.g=c,this.map=y}};function zi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function os(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ls(c){return c.h?1:c.g?c.g.size:0}function Do(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function us(c,y){c.g?c.g.add(y):c.h=y}function cn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}zi.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Oo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return j(c.i)}function Zh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function cs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function xo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=cs(c),A=Zh(c),z=A.length,Y=0;Y<z;Y++)y.call(void 0,A[Y],v&&v[Y],c)}var ya=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wh(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),z=null;if(0<=A){var Y=c[v].substring(0,A);z=c[v].substring(A+1)}else Y=c[v];y(Y,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function wt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wt){this.h=c.h,va(this,c.j),this.o=c.o,this.g=c.g,Ar(this,c.s),this.l=c.l;var y=c.i,v=new Bi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),ji(this,v),this.m=c.m}else c&&(y=String(c).match(ya))?(this.h=!1,va(this,y[1]||"",!0),this.o=Vn(y[2]||""),this.g=Vn(y[3]||"",!0),Ar(this,y[4]),this.l=Vn(y[5]||"",!0),ji(this,y[6]||"",!0),this.m=Vn(y[7]||"")):(this.h=!1,this.i=new Bi(null,this.h))}wt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ea(y,Mo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ea(y,Mo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ea(v,v.charAt(0)=="/"?ef:Vo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ea(v,hs)),c.join("")};function En(c){return new wt(c)}function va(c,y,v){c.j=v?Vn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ar(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ji(c,y,v){y instanceof Bi?(c.i=y,Tu(c.i,c.h)):(v||(y=Ea(y,tf)),c.i=new Bi(y,c.h))}function tt(c,y,v){c.i.set(y,v)}function _a(c){return tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Vn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ea(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Eu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Eu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Mo=/[#\/\?@]/g,Vo=/[#\?:]/g,ef=/[#\?]/g,tf=/[#\?@]/g,hs=/#/g;function Bi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function kn(c){c.g||(c.g=new Map,c.h=0,c.i&&Wh(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Bi.prototype,r.add=function(c,y){kn(this),this.i=null,c=di(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Hi(c,y){kn(c),y=di(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function qi(c,y){return kn(c),y=di(c,y),c.g.has(y)}r.forEach=function(c,y){kn(this),this.g.forEach(function(v,A){v.forEach(function(z){c.call(y,z,A,this)},this)},this)},r.na=function(){kn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const z=c[A];for(let Y=0;Y<z.length;Y++)v.push(y[A])}return v},r.V=function(c){kn(this);let y=[];if(typeof c=="string")qi(this,c)&&(y=y.concat(this.g.get(di(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return kn(this),this.i=null,c=di(this,c),qi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ko(c,y,v){Hi(c,y),0<v.length&&(c.i=null,c.g.set(di(c,y),j(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const Y=encodeURIComponent(String(A)),se=this.V(A);for(A=0;A<se.length;A++){var z=Y;se[A]!==""&&(z+="="+encodeURIComponent(String(se[A]))),c.push(z)}}return this.i=c.join("&")};function di(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Tu(c,y){y&&!c.j&&(kn(c),c.i=null,c.g.forEach(function(v,A){var z=A.toLowerCase();A!=z&&(Hi(this,A),ko(this,z,v))},c)),c.j=y}function Ta(c,y){const v=new Mn;if(m.Image){const A=new Image;A.onload=D(Pn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=D(Pn,v,"TestLoadImage: error",!1,y,A),A.onabort=D(Pn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=D(Pn,v,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function $n(c,y){const v=new Mn,A=new AbortController,z=setTimeout(()=>{A.abort(),Pn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(z),Y.ok?Pn(v,"TestPingServer: ok",!0,y):Pn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Pn(v,"TestPingServer: error",!1,y)})}function Pn(c,y,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function Aa(){this.g=new da}function mi(c,y,v){const A=v||"";try{xo(c,function(z,Y){let se=z;g(z)&&(se=Yn(z)),y.push(A+Y+"="+encodeURIComponent(se))})}catch(z){throw y.push(A+"type="+encodeURIComponent("_badmap")),z}}function Sr(c){this.l=c.Ub||null,this.j=c.eb||!1}I(Sr,So),Sr.prototype.g=function(){return new Fi(this.l,this.j)},Sr.prototype.i=function(c){return function(){return c}}({});function Fi(c,y){Ye.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Fi,Ye),r=Fi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,gi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pi(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Po(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Po(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?pi(this):gi(this),this.readyState==3&&Po(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,pi(this))},r.Qa=function(c){this.g&&(this.response=c,pi(this))},r.ga=function(){this.g&&pi(this)};function pi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,gi(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function gi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Lo(c){let y="";return Ce(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Ut(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Lo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):tt(c,y,v))}function Je(c){Ye.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Je,Ye);var fs=/^https?$/i,Sa=["POST","PUT"];r=Je.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ci.g(),this.v=this.o?wo(this.o):wo(ci),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Au(this,Y);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())v.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Sa,y,void 0))||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,se]of v)this.g.setRequestHeader(Y,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wa(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Au(this,Y)}};function Au(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ds(c),yi(c)}function ds(c){c.A||(c.A=!0,Le(c,"complete"),Le(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Le(this,"complete"),Le(this,"abort"),yi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yi(this,!0)),Je.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ms(this):this.bb())},r.bb=function(){ms(this)};function ms(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Ln(c)!=4||c.Z()!=2)){if(c.u&&Ln(c)==4)Lt(c.Ea,0,c);else if(Le(c,"readystatechange"),Ln(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=se===0){var z=String(c.D).match(ya)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),A=!fs.test(z?z.toLowerCase():"")}v=A}if(v)Le(c,"complete"),Le(c,"success");else{c.m=6;try{var Y=2<Ln(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",ds(c)}}finally{yi(c)}}}}function yi(c,y){if(c.g){wa(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Le(c,"ready");try{v.onreadystatechange=A}catch{}}}function wa(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Ln(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),rs(y)}};function Su(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function nf(c){const y={};c=(c.g&&2<=Ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if($(c[A]))continue;var v=P(c[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=y[z]||[];y[z]=Y,Y.push(v)}k(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ba(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function ps(c){this.Aa=0,this.i=[],this.j=new Mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ba("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ba("baseRetryDelayMs",5e3,c),this.cb=ba("retryDelaySeedMs",1e4,c),this.Wa=ba("forwardChannelMaxRetries",2,c),this.wa=ba("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new zi(c&&c.concurrentRequestLimit),this.Da=new Aa,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ps.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,A){ut(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Du(this,null,this.W),ys(this)};function Uo(c){if(wu(c),c.G==3){var y=c.U++,v=En(c.I);if(tt(v,"SID",c.K),tt(v,"RID",y),tt(v,"TYPE","terminate"),Ra(c,v),y=new un(c,c.j,y),y.L=2,y.v=_a(En(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Ou(y.j,null),y.g.ea(y.v)),y.F=Date.now(),pa(y)}Nu(c)}function gs(c){c.g&&(Ca(c),c.g.cancel(),c.g=null)}function wu(c){gs(c),c.u&&(m.clearTimeout(c.u),c.u=null),vs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ys(c){if(!os(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||O(),de||(oe(),de=!0),je.add(y,c),c.B=0}}function rf(c,y){return ls(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=St(S(c.Ga,c,y),Bo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new un(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=b(Y),x(Y,this.S)):Y=this.S),this.m!==null||this.O||(z.H=Y,Y=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=bu(this,z,y),v=En(this.I),tt(v,"RID",c),tt(v,"CVER",22),this.D&&tt(v,"X-HTTP-Session-Id",this.D),Ra(this,v),Y&&(this.O?y="headers="+encodeURIComponent(String(Lo(Y)))+"&"+y:this.m&&Ut(v,this.m,Y)),us(this.h,z),this.Ua&&tt(v,"TYPE","init"),this.P?(tt(v,"$req",y),tt(v,"SID","null"),z.T=!0,Qn(z,v,null)):Qn(z,v,y),this.G=2}}else this.G==3&&(c?zo(this,c):this.i.length==0||os(this.h)||zo(this))};function zo(c,y){var v;y?v=y.l:v=c.U++;const A=En(c.I);tt(A,"SID",c.K),tt(A,"RID",v),tt(A,"AID",c.T),Ra(c,A),c.m&&c.o&&Ut(A,c.m,c.o),v=new un(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=bu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),us(c.h,v),Qn(v,A,y)}function Ra(c,y){c.H&&Ce(c.H,function(v,A){tt(y,A,v)}),c.l&&xo({},function(v,A){tt(y,A,v)})}function bu(c,y,v){v=Math.min(c.i.length,v);var A=c.l?S(c.l.Na,c.l,c):null;e:{var z=c.i;let Y=-1;for(;;){const se=["count="+v];Y==-1?0<v?(Y=z[0].g,se.push("ofs="+Y)):Y=0:se.push("ofs="+Y);let qe=!0;for(let Nt=0;Nt<v;Nt++){let Fe=z[Nt].g;const zt=z[Nt].map;if(Fe-=Y,0>Fe)Y=Math.max(0,z[Nt].g-100),qe=!1;else try{mi(zt,se,"req"+Fe+"_")}catch{A&&A(zt)}}if(qe){A=se.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function Ru(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||O(),de||(oe(),de=!0),je.add(y,c),c.v=0}}function jo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=St(S(c.Fa,c),Bo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=St(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),gs(this),Cu(this))};function Ca(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Cu(c){c.g=new un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=En(c.qa);tt(y,"RID","rpc"),tt(y,"SID",c.K),tt(y,"AID",c.T),tt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&tt(y,"TO",c.ja),tt(y,"TYPE","xmlhttp"),Ra(c,y),c.m&&c.o&&Ut(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=_a(En(y)),v.m=null,v.P=!0,Ui(v,c)}r.Za=function(){this.C!=null&&(this.C=null,gs(this),jo(this),ut(19))};function vs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Iu(c,y){var v=null;if(c.g==y){vs(c),Ca(c),c.g=null;var A=2}else if(Do(c.h,y))v=y.D,cn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;A=yr(),Le(A,new It(A,v)),ys(c)}else Ru(c);else if(z=y.s,z==3||z==0&&0<y.X||!(A==1&&rf(c,y)||A==2&&jo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),z){case 1:Gi(c,5);break;case 4:Gi(c,10);break;case 3:Gi(c,6);break;default:Gi(c,2)}}}function Bo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Gi(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),A=c.Xa;const z=!A;A=new wt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||va(A,"https"),_a(A),z?Ta(A.toString(),v):$n(A.toString(),v)}else ut(2);c.G=0,c.l&&c.l.sa(y),Nu(c),wu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Nu(c){if(c.G=0,c.ka=[],c.l){const y=Oo(c.h);(y.length!=0||c.i.length!=0)&&(H(c.ka,y),H(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function Du(c,y,v){var A=v instanceof wt?En(v):new wt(v);if(A.g!="")y&&(A.g=y+"."+A.g),Ar(A,A.s);else{var z=m.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var Y=new wt(null);A&&va(Y,A),y&&(Y.g=y),z&&Ar(Y,z),v&&(Y.l=v),A=Y}return v=c.D,y=c.ya,v&&y&&tt(A,v,y),tt(A,"VER",c.la),Ra(c,A),A}function Ou(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Je(new Sr({eb:v})):new Je(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}r=xu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function _s(){}_s.prototype.g=function(c,y){return new hn(c,y)};function hn(c,y){Ye.call(this),this.g=new ps(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!$(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!$(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new vi(this)}I(hn,Ye),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Uo(this.g)},hn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Yn(c),c=v);y.i.push(new _u(y.Ya++,c)),y.G==3&&ys(y)},hn.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,hn.aa.N.call(this)};function Mu(c){Pi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}I(Mu,Pi);function Vu(){Ro.call(this),this.status=1}I(Vu,Ro);function vi(c){this.g=c}I(vi,xu),vi.prototype.ua=function(){Le(this.g,"a")},vi.prototype.ta=function(c){Le(this.g,new Mu(c))},vi.prototype.sa=function(c){Le(this.g,new Vu)},vi.prototype.ra=function(){Le(this.g,"b")},_s.prototype.createWebChannel=_s.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,TT=function(){return new _s},ET=function(){return yr()},_T=ui,Im={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Er.NO_ERROR=0,Er.TIMEOUT=8,Er.HTTP_ERROR=6,$c=Er,Li.COMPLETE="complete",vT=Li,bo.EventType=ki,ki.OPEN="a",ki.CLOSE="b",ki.ERROR="c",ki.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,Ml=bo,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,yT=Je}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});const eE="@firebase/firestore",tE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new Rh("@firebase/firestore");function $s(){return Xa.logLevel}function ue(r,...e){if(Xa.logLevel<=Ue.DEBUG){const n=e.map(mp);Xa.debug(`Firestore (${_o}): ${r}`,...n)}}function mr(r,...e){if(Xa.logLevel<=Ue.ERROR){const n=e.map(mp);Xa.error(`Firestore (${_o}): ${r}`,...n)}}function ao(r,...e){if(Xa.logLevel<=Ue.WARN){const n=e.map(mp);Xa.warn(`Firestore (${_o}): ${r}`,...n)}}function mp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,AT(r,a,n)}function AT(r,e,n){let a=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw mr(a),new Error(a)}function Ze(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||AT(e,o,a)}function Ie(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class f2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class d2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class m2{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new cr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new cr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ze(typeof a.accessToken=="string",31837,{l:a}),new ST(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class p2{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class g2{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new p2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ze(this.o===void 0,3512);const a=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new nE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new nE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=v2(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Me(r,e){return r<e?-1:r>e?1:0}function Nm(r,e){let n=0;for(;n<r.length&&n<e.length;){const a=r.codePointAt(n),o=e.codePointAt(n);if(a!==o){if(a<128&&o<128)return Me(a,o);{const u=wT(),f=_2(u.encode(iE(r,n)),u.encode(iE(e,n)));return f!==0?f:Me(a,o)}}n+=a>65535?2:1}return Me(r.length,e.length)}function iE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function _2(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Me(r[n],e[n]);return Me(r.length,e.length)}function so(r,e,n){return r.length===e.length&&r.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=-62135596800,aE=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*aE);return new Vt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rE)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aE}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-rE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Vt(0,0))}static max(){return new Re(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="__name__";class bi{constructor(e,n,a){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Te(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return bi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bi?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=bi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Me(e.length,n.length)}static compareSegments(e,n){const a=bi.isNumericId(e),o=bi.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?bi.extractNumericId(e).compare(bi.extractNumericId(n)):Nm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zr.fromString(e.substring(4,e.length-2))}}class ht extends bi{construct(e,n,a){return new ht(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new pe(ne.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new ht(n)}static emptyPath(){return new ht([])}}const E2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends bi{construct(e,n,a){return new Zt(e,n,a)}static isValidIdentifier(e){return E2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sE}static keyField(){return new Zt([sE])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new pe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new pe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ht.fromString(e))}static fromName(e){return new ve(ht.fromString(e).popFirst(5))}static empty(){return new ve(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;function T2(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(a===1e9?new Vt(n+1,0):new Vt(n,a));return new ta(o,ve.empty(),e)}function A2(r){return new ta(r.readTime,r.key,Yl)}class ta{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ta(Re.min(),ve.empty(),Yl)}static max(){return new ta(Re.max(),ve.empty(),Yl)}}function S2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(r.documentKey,e.documentKey),n!==0?n:Me(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==w2)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,a)=>{n(e)})}static reject(e){return new ee((n,a)=>{a(e)})}static waitFor(e){return new ee((n,a)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>a(p))}),f=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const a of e)n=n.next(o=>o?ee.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new ee((a,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&a(f)},E=>o(E))}})}static doWhile(e,n){return new ee((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function R2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function To(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>n.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Dh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=-1;function Oh(r){return r==null}function ch(r){return r===0&&1/r==-1/0}function C2(r){return typeof r=="number"&&Number.isInteger(r)&&!ch(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="";function I2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=oE(e)),e=N2(r.get(n),e);return oE(e)}function N2(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case RT:n+="";break;default:n+=u}}return n}function oE(r){return r+RT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function la(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function CT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}}class zc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??Jt.RED,this.left=o??Jt.EMPTY,this.right=u??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new Jt(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uE(this.data.getIterator())}getIteratorFrom(e){return new uE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class uE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new In([])}unionWith(e){let n=new kt(Zt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return so(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new IT("Invalid base64 string: "+u):u}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const D2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function na(r){if(Ze(!!r,39018),typeof r=="string"){let e=0;const n=D2.exec(r);if(Ze(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Tt(r.seconds),nanos:Tt(r.nanos)}}function Tt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ia(r){return typeof r=="string"?Wt.fromBase64String(r):Wt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="server_timestamp",DT="__type__",OT="__previous_value__",xT="__local_write_time__";function gp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[DT])===null||n===void 0?void 0:n.stringValue)===NT}function xh(r){const e=r.mapValue.fields[OT];return gp(e)?xh(e):e}function Ql(r){const e=na(r.mapValue.fields[xT].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n,a,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const hh="(default)";class $l{constructor(e,n){this.projectId=e,this.database=n||hh}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="__type__",x2="__max__",jc={mapValue:{}},VT="__vector__",fh="value";function ra(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?gp(r)?4:V2(r)?9007199254740991:M2(r)?10:11:Te(28295,{value:r})}function xi(r,e){if(r===e)return!0;const n=ra(r);if(n!==ra(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ql(r).isEqual(Ql(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=na(o.timestampValue),m=na(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ia(o.bytesValue).isEqual(ia(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Tt(o.geoPointValue.latitude)===Tt(u.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Tt(o.integerValue)===Tt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Tt(o.doubleValue),m=Tt(u.doubleValue);return f===m?ch(f)===ch(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return so(r.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(lE(f)!==lE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!xi(f[p],m[p])))return!1;return!0}(r,e);default:return Te(52216,{left:r})}}function Xl(r,e){return(r.values||[]).find(n=>xi(n,e))!==void 0}function oo(r,e){if(r===e)return 0;const n=ra(r),a=ra(e);if(n!==a)return Me(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Tt(u.integerValue||u.doubleValue),p=Tt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return cE(r.timestampValue,e.timestampValue);case 4:return cE(Ql(r),Ql(e));case 5:return Nm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=ia(u),p=ia(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Me(m[g],p[g]);if(E!==0)return E}return Me(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Me(Tt(u.latitude),Tt(f.latitude));return m!==0?m:Me(Tt(u.longitude),Tt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return hE(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const w=u.fields||{},S=f.fields||{},D=(m=w[fh])===null||m===void 0?void 0:m.arrayValue,I=(p=S[fh])===null||p===void 0?void 0:p.arrayValue,j=Me(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((E=I==null?void 0:I.values)===null||E===void 0?void 0:E.length)||0);return j!==0?j:hE(D,I)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===jc.mapValue&&f===jc.mapValue)return 0;if(u===jc.mapValue)return 1;if(f===jc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const S=Nm(p[w],E[w]);if(S!==0)return S;const D=oo(m[p[w]],g[E[w]]);if(D!==0)return D}return Me(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Te(23264,{Pe:n})}}function cE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Me(r,e);const n=na(r),a=na(e),o=Me(n.seconds,a.seconds);return o!==0?o:Me(n.nanos,a.nanos)}function hE(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=oo(n[o],a[o]);if(u)return u}return Me(n.length,a.length)}function lo(r){return Dm(r)}function Dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=na(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ia(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ve.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Dm(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${Dm(n.fields[f])}`;return o+"}"}(r.mapValue):Te(61005,{value:r})}function Xc(r){switch(ra(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xh(r);return e?16+Xc(e):16;case 5:return 2*r.stringValue.length;case 6:return ia(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Xc(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return la(a.fields,(u,f)=>{o+=u.length+Xc(f)}),o}(r.mapValue);default:throw Te(13486,{value:r})}}function Om(r){return!!r&&"integerValue"in r}function yp(r){return!!r&&"arrayValue"in r}function fE(r){return!!r&&"nullValue"in r}function dE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Jc(r){return!!r&&"mapValue"in r}function M2(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[MT])===null||n===void 0?void 0:n.stringValue)===VT}function zl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return la(r.mapValue.fields,(n,a)=>e.mapValue.fields[n]=zl(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function V2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===x2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(n)}setAll(e){let n=Zt.emptyPath(),a={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=zl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){la(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new yn(zl(this.value))}}function kT(r){const e=[];return la(r.fields,(n,a)=>{const o=new Zt([n]);if(Jc(a)){const u=kT(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,a,o,u,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new sn(e,0,Re.min(),Re.min(),Re.min(),yn.empty(),0)}static newFoundDocument(e,n,a,o){return new sn(e,1,n,Re.min(),a,o,0)}static newNoDocument(e,n){return new sn(e,2,n,Re.min(),Re.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,Re.min(),Re.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n){this.position=e,this.inclusive=n}}function mE(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?a=ve.comparator(ve.fromName(f.referenceValue),n.key):a=oo(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function pE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!xi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n="asc"){this.field=e,this.dir=n}}function k2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{}class Mt extends PT{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new L2(e,n,a):n==="array-contains"?new j2(e,a):n==="in"?new B2(e,a):n==="not-in"?new H2(e,a):n==="array-contains-any"?new q2(e,a):new Mt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new U2(e,a):new z2(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oo(n,this.value)):n!==null&&ra(this.value)===ra(n)&&this.matchesComparison(oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends PT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Mi(e,n)}matches(e){return LT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function LT(r){return r.op==="and"}function UT(r){return P2(r)&&LT(r)}function P2(r){for(const e of r.filters)if(e instanceof Mi)return!1;return!0}function xm(r){if(r instanceof Mt)return r.field.canonicalString()+r.op.toString()+lo(r.value);if(UT(r))return r.filters.map(e=>xm(e)).join(",");{const e=r.filters.map(n=>xm(n)).join(",");return`${r.op}(${e})`}}function zT(r,e){return r instanceof Mt?function(a,o){return o instanceof Mt&&a.op===o.op&&a.field.isEqual(o.field)&&xi(a.value,o.value)}(r,e):r instanceof Mi?function(a,o){return o instanceof Mi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,m)=>u&&zT(f,o.filters[m]),!0):!1}(r,e):void Te(19439)}function jT(r){return r instanceof Mt?function(n){return`${n.field.canonicalString()} ${n.op} ${lo(n.value)}`}(r):r instanceof Mi?function(n){return n.op.toString()+" {"+n.getFilters().map(jT).join(" ,")+"}"}(r):"Filter"}class L2 extends Mt{constructor(e,n,a){super(e,n,a),this.key=ve.fromName(a.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class U2 extends Mt{constructor(e,n){super(e,"in",n),this.keys=BT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class z2 extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=BT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>ve.fromName(a.referenceValue))}class j2 extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yp(n)&&Xl(n.arrayValue,this.value)}}class B2 extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class H2 extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xl(this.value.arrayValue,n)}}class q2 extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Xl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n=null,a=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function gE(r,e=null,n=[],a=[],o=null,u=null,f=null){return new F2(r,e,n,a,o,u,f)}function vp(r){const e=Ie(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>xm(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>lo(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>lo(a)).join(",")),e.Ie=n}return e.Ie}function _p(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!k2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!zT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!pE(r.startAt,e.startAt)&&pE(r.endAt,e.endAt)}function Mm(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n=null,a=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function G2(r,e,n,a,o,u,f,m){return new Mh(r,e,n,a,o,u,f,m)}function Ep(r){return new Mh(r)}function yE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function K2(r){return r.collectionGroup!==null}function jl(r){const e=Ie(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new kt(Zt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new mh(u,a))}),n.has(Zt.keyField().canonicalString())||e.Ee.push(new mh(Zt.keyField(),a))}return e.Ee}function Ci(r){const e=Ie(r);return e.de||(e.de=Y2(e,jl(r))),e.de}function Y2(r,e){if(r.limitType==="F")return gE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new mh(o.field,u)});const n=r.endAt?new dh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new dh(r.startAt.position,r.startAt.inclusive):null;return gE(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Vm(r,e,n){return new Mh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Vh(r,e){return _p(Ci(r),Ci(e))&&r.limitType===e.limitType}function HT(r){return`${vp(Ci(r))}|lt:${r.limitType}`}function Xs(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>jT(o)).join(", ")}]`),Oh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>lo(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>lo(o)).join(",")),`Target(${a})`}(Ci(r))}; limitType=${r.limitType})`}function kh(r,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):ve.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,o){for(const u of jl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(f,m,p){const g=mE(f,m,p);return f.inclusive?g<=0:g<0}(a.startAt,jl(a),o)||a.endAt&&!function(f,m,p){const g=mE(f,m,p);return f.inclusive?g>=0:g>0}(a.endAt,jl(a),o))}(r,e)}function Q2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function qT(r){return(e,n)=>{let a=!1;for(const o of jl(r)){const u=$2(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function $2(r,e,n){const a=r.field.isKeyField()?ve.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?oo(p,g):Te(42886)}(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return CT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new mt(ve.comparator);function pr(){return X2}const FT=new mt(ve.comparator);function Vl(...r){let e=FT;for(const n of r)e=e.insert(n.key,n);return e}function GT(r){let e=FT;return r.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function Ga(){return Bl()}function KT(){return Bl()}function Bl(){return new ns(r=>r.toString(),(r,e)=>r.isEqual(e))}const J2=new mt(ve.comparator),Z2=new kt(ve.comparator);function ze(...r){let e=Z2;for(const n of r)e=e.add(n);return e}const W2=new kt(Me);function eN(){return W2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function YT(r){return{integerValue:""+r}}function tN(r,e){return C2(e)?YT(e):Tp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this._=void 0}}function nN(r,e,n){return r instanceof Jl?function(o,u){const f={fields:{[DT]:{stringValue:NT},[xT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&gp(u)&&(u=xh(u)),u&&(f.fields[OT]=u),{mapValue:f}}(n,e):r instanceof Zl?$T(r,e):r instanceof Wl?XT(r,e):function(o,u){const f=QT(o,u),m=vE(f)+vE(o.Re);return Om(f)&&Om(o.Re)?YT(m):Tp(o.serializer,m)}(r,e)}function iN(r,e,n){return r instanceof Zl?$T(r,e):r instanceof Wl?XT(r,e):n}function QT(r,e){return r instanceof ph?function(a){return Om(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class Jl extends Ph{}class Zl extends Ph{constructor(e){super(),this.elements=e}}function $T(r,e){const n=JT(e);for(const a of r.elements)n.some(o=>xi(o,a))||n.push(a);return{arrayValue:{values:n}}}class Wl extends Ph{constructor(e){super(),this.elements=e}}function XT(r,e){let n=JT(e);for(const a of r.elements)n=n.filter(o=>!xi(o,a));return{arrayValue:{values:n}}}class ph extends Ph{constructor(e,n){super(),this.serializer=e,this.Re=n}}function vE(r){return Tt(r.integerValue||r.doubleValue)}function JT(r){return yp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n){this.field=e,this.transform=n}}function aN(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof Zl&&o instanceof Zl||a instanceof Wl&&o instanceof Wl?so(a.elements,o.elements,xi):a instanceof ph&&o instanceof ph?xi(a.Re,o.Re):a instanceof Jl&&o instanceof Jl}(r.transform,e.transform)}class sN{constructor(e,n){this.version=e,this.transformResults=n}}class Ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Lh{}function ZT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new eA(r.key,Ii.none()):new ou(r.key,r.data,Ii.none());{const n=r.data,a=yn.empty();let o=new kt(Zt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new ua(r.key,a,new In(o.toArray()),Ii.none())}}function oN(r,e,n){r instanceof ou?function(o,u,f){const m=o.value.clone(),p=EE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof ua?function(o,u,f){if(!Zc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=EE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(WT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Hl(r,e,n,a){return r instanceof ou?function(u,f,m,p){if(!Zc(u.precondition,f))return m;const g=u.value.clone(),E=TE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,a):r instanceof ua?function(u,f,m,p){if(!Zc(u.precondition,f))return m;const g=TE(u.fieldTransforms,p,f),E=f.data;return E.setAll(WT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,n,a):function(u,f,m){return Zc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function lN(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=QT(a.transform,o||null);u!=null&&(n===null&&(n=yn.empty()),n.set(a.field,u))}return n||null}function _E(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&so(a,o,(u,f)=>aN(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ou extends Lh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ua extends Lh{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function WT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}}),e}function EE(r,e,n){const a=new Map;Ze(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);a.set(u.field,iN(f,m,n[o]))}return a}function TE(r,e,n){const a=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);a.set(o.field,nN(u,f,e))}return a}class eA extends Lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uN extends Lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&oN(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Hl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Hl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=KT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=ZT(f,m);p!==null&&a.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Re.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&so(this.mutations,e.mutations,(n,a)=>_E(n,a))&&so(this.baseMutations,e.baseMutations,(n,a)=>_E(n,a))}}class Ap{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Ze(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let o=function(){return J2}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new Ap(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Ke;function dN(r){switch(r){case ne.OK:return Te(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function tA(r){if(r===void 0)return mr("GRPC error has no .code"),ne.UNKNOWN;switch(r){case Ct.OK:return ne.OK;case Ct.CANCELLED:return ne.CANCELLED;case Ct.UNKNOWN:return ne.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return ne.INTERNAL;case Ct.UNAVAILABLE:return ne.UNAVAILABLE;case Ct.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ct.NOT_FOUND:return ne.NOT_FOUND;case Ct.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ct.ABORTED:return ne.ABORTED;case Ct.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ct.DATA_LOSS:return ne.DATA_LOSS;default:return Te(39323,{code:r})}}(Ke=Ct||(Ct={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new Zr([4294967295,4294967295],0);function AE(r){const e=wT().encode(r),n=new gT;return n.update(e),new Uint8Array(n.digest())}function SE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Zr([n,a],0),new Zr([o,u],0)]}class Sp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new kl(`Invalid padding: ${n}`);if(a<0)throw new kl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new kl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Zr.fromNumber(this.pe)}we(e,n,a){let o=e.add(n.multiply(Zr.fromNumber(a)));return o.compare(mN)===1&&(o=new Zr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=AE(e),[a,o]=SE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(a,o,u);if(!this.be(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Sp(u,o,n);return a.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=AE(e),[a,o]=SE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(a,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Uh(Re.min(),o,new mt(Me),pr(),ze())}}class lu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new lu(a,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n,a,o){this.De=e,this.removedTargetIds=n,this.key=a,this.ve=o}}class nA{constructor(e,n){this.targetId=e,this.Ce=n}}class iA{constructor(e,n,a=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class wE{constructor(){this.Fe=0,this.Me=bE(),this.xe=Wt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ze(),n=ze(),a=ze();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Te(38017,{changeType:u})}}),new lu(this.xe,this.Oe,e,n,a)}Qe(){this.Ne=!1,this.Me=bE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class pN{constructor(e){this.ze=e,this.je=new Map,this.He=pr(),this.Je=Bc(),this.Ye=Bc(),this.Ze=new mt(Me)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const a=this.rt(n);switch(e.state){case 0:this.it(n)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(n);break;case 3:this.it(n)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),a.ke(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((a,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,a=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Mm(u))if(a===0){const f=new ve(u.path);this.tt(n,f,sn.newNoDocument(f,Re.min()))}else Ze(a===1,20013,{expectedCount:a});else{const f=this.ut(n);if(f!==a){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ia(a).toUint8Array()}catch(p){if(p instanceof IT)return ao("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Sp(f,o,u)}catch(p){return ao(p instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,a){return n.Ce.count===a-this.Tt(e,n.targetId)?0:2}Tt(e,n){const a=this.ze.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Mm(m.target)){const p=new ve(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,sn.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let a=ze();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Uh(e,n,this.Ze,this.He,a);return this.He=pr(),this.Je=Bc(),this.Ye=Bc(),this.Ze=new mt(Me),o}et(e,n){if(!this.it(e))return;const a=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,a),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,a){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),a&&(this.He=this.He.insert(n,a))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new wE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new kt(Me),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new kt(Me),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new wE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Bc(){return new mt(ve.comparator)}function bE(){return new mt(ve.comparator)}const gN={asc:"ASCENDING",desc:"DESCENDING"},yN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vN={and:"AND",or:"OR"};class _N{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function km(r,e){return r.useProto3Json||Oh(e)?e:{value:e}}function gh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function EN(r,e){return gh(r,e.toTimestamp())}function Ni(r){return Ze(!!r,49232),Re.fromTimestamp(function(n){const a=na(n);return new Vt(a.seconds,a.nanos)}(r))}function wp(r,e){return Pm(r,e).canonicalString()}function Pm(r,e){const n=function(o){return new ht(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function aA(r){const e=ht.fromString(r);return Ze(cA(e),10190,{key:e.toString()}),e}function Lm(r,e){return wp(r.databaseId,e.path)}function cm(r,e){const n=aA(e);if(n.get(1)!==r.databaseId.projectId)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ve(oA(n))}function sA(r,e){return wp(r.databaseId,e)}function TN(r){const e=aA(r);return e.length===4?ht.emptyPath():oA(e)}function Um(r){return new ht(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function oA(r){return Ze(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function RE(r,e,n){return{name:Lm(r,e),fields:n.value.mapValue.fields}}function AN(r,e){let n;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ze(E===void 0||typeof E=="string",58123),Wt.fromBase64String(E||"")):(Ze(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Wt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?ne.UNKNOWN:tA(g.code);return new pe(E,g.message||"")}(f);n=new iA(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=cm(r,a.document.name),u=Ni(a.document.updateTime),f=a.document.createTime?Ni(a.document.createTime):Re.min(),m=new yn({mapValue:{fields:a.document.fields}}),p=sn.newFoundDocument(o,u,f,m),g=a.targetIds||[],E=a.removedTargetIds||[];n=new Wc(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=cm(r,a.document),u=a.readTime?Ni(a.readTime):Re.min(),f=sn.newNoDocument(o,u),m=a.removedTargetIds||[];n=new Wc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=cm(r,a.document),u=a.removedTargetIds||[];n=new Wc([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new fN(o,u),m=a.targetId;n=new nA(m,f)}}return n}function SN(r,e){let n;if(e instanceof ou)n={update:RE(r,e.key,e.value)};else if(e instanceof eA)n={delete:Lm(r,e.key)};else if(e instanceof ua)n={update:RE(r,e.key,e.data),updateMask:xN(e.fieldMask)};else{if(!(e instanceof uN))return Te(16599,{ft:e.type});n={verify:Lm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,f){const m=f.transform;if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Wl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ph)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Te(20930,{transform:f.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:EN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(r,e.precondition)),n}function wN(r,e){return r&&r.length>0?(Ze(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?Ni(o.updateTime):Ni(u);return f.isEqual(Re.min())&&(f=Ni(u)),new sN(f,o.transformResults||[])}(n,e))):[]}function bN(r,e){return{documents:[sA(r,e.path)]}}function RN(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=sA(r,o);const u=function(g){if(g.length!==0)return uA(Mi.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(S){return{field:Js(S.field),direction:NN(S.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=km(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function CN(r){let e=TN(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Ze(a===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const S=lA(w);return S instanceof Mi&&UT(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(S=>function(I){return new mh(Zs(I.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(w){let S;return S=typeof w=="object"?w.value:w,Oh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(w){const S=!!w.before,D=w.values||[];return new dh(D,S)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const S=!w.before,D=w.values||[];return new dh(D,S)}(n.endAt)),G2(e,o,f,u,m,"F",p,g)}function IN(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lA(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Zs(n.unaryFilter.field);return Mt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Zs(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Zs(n.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Zs(n.unaryFilter.field);return Mt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(r):r.fieldFilter!==void 0?function(n){return Mt.create(Zs(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Mi.create(n.compositeFilter.filters.map(a=>lA(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(r):Te(30097,{filter:r})}function NN(r){return gN[r]}function DN(r){return yN[r]}function ON(r){return vN[r]}function Js(r){return{fieldPath:r.canonicalString()}}function Zs(r){return Zt.fromServerFormat(r.fieldPath)}function uA(r){return r instanceof Mt?function(n){if(n.op==="=="){if(dE(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NAN"}};if(fE(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dE(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NOT_NAN"}};if(fE(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Js(n.field),op:DN(n.op),value:n.value}}}(r):r instanceof Mi?function(n){const a=n.getFilters().map(o=>uA(o));return a.length===1?a[0]:{compositeFilter:{op:ON(n.op),filters:a}}}(r):Te(54877,{filter:r})}function xN(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n,a,o,u=Re.min(),f=Re.min(),m=Wt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new $r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.wt=e}}function VN(r){const e=CN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Vm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.Cn=new PN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(ta.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(ta.min())}updateCollectionGroup(e,n,a){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class PN{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new kt(ht.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new kt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hA=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(hA,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new uo(0)}static lr(){return new uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="LruGarbageCollector",LN=1048576;function NE([r,e],[n,a]){const o=Me(r,n);return o===0?Me(e,a):o}class UN{constructor(e){this.Er=e,this.buffer=new kt(NE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();NE(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zN{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ue(IE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?ue(IE,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.mr(3e5)})}}class jN{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Dh.le);const a=new UN(n);return this.gr.forEachTarget(e,o=>a.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>a.Rr(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.gr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(CE)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let a,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(a=w,m=Date.now(),this.removeTargets(e,a,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(w=>(g=Date.now(),$s()<=Ue.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function BN(r,e){return new jN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.changes=new ns(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ee.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&Hl(a.mutation,o,In.empty(),Vt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,ze()).next(()=>a))}getLocalViewOfDocuments(e,n,a=ze()){const o=Ga();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let f=Vl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const a=Ga();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,ze()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,a,o){let u=pr();const f=Bl(),m=function(){return Bl()}();return n.forEach((p,g)=>{const E=a.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ua)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Hl(E.mutation,g,E.mutation.getFieldMask(),Vt.now())):f.set(g.key,In.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var w;return m.set(g,new qN(E,(w=f.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const a=Bl();let o=new mt((f,m)=>f-m),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=a.get(p)||In.empty();E=m.applyToLocalView(g,E),a.set(p,E);const w=(o.get(m.batchId)||ze()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=KT();E.forEach(S=>{if(!u.has(S)){const D=ZT(n.get(S),a.get(S));D!==null&&w.set(S,D),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return ee.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(f){return ve.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):K2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ee.resolve(Ga());let m=Yl,p=u;return f.next(g=>ee.forEach(g,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,ze())).next(E=>({batchId:m,changes:GT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(a=>{let o=Vl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=Vl();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,p=>{const g=function(w,S){return new Mh(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(E=>{E.forEach((w,S)=>{f=f.insert(w,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,sn.newInvalidDocument(E)))});let m=Vl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Hl(E.mutation,g,In.empty(),Vt.now()),kh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ee.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:VN(o.bundledQuery),readTime:Ni(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.overlays=new mt(ve.comparator),this.Qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Ga();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.St(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Qr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(a)),ee.resolve()}getOverlaysForCollection(e,n,a){const o=Ga(),u=n.length+1,f=new ve(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new mt((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let E=u.get(g.largestBatchId);E===null&&(E=Ga(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Ga(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return ee.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(a.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new hN(n,a));let u=this.Qr.get(n);u===void 0&&(u=ze(),this.Qr.set(n,u)),this.Qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(){this.$r=new kt(qt.Ur),this.Kr=new kt(qt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const a=new qt(e,n);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.zr(new qt(e,n))}jr(e,n){e.forEach(a=>this.removeReference(a,n))}Hr(e){const n=new ve(new ht([])),a=new qt(n,e),o=new qt(n,e+1),u=[];return this.Kr.forEachInRange([a,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ve(new ht([])),a=new qt(n,e),o=new qt(n,e+1);let u=ze();return this.Kr.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new qt(e,0),a=this.$r.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class qt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ve.comparator(e.key,n.key)||Me(e.Zr,n.Zr)}static Wr(e,n){return Me(e.Zr,n.Zr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new kt(qt.Ur)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new cN(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ti(a),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?pp:this.nr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([a,o],f=>{const m=this.ei(f.Zr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new kt(Me);return n.forEach(o=>{const u=new qt(o,0),f=new qt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{a=a.add(m.Zr)})}),ee.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;ve.isDocumentKey(u)||(u=u.child(""));const f=new qt(new ve(u),0);let m=new kt(Me);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},f),ee.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(a=>{const o=this.ei(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ze(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return ee.forEach(n.mutations,o=>{const u=new qt(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,n){const a=new qt(n,0),o=this.Xr.firstAfterOrEqual(a);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.ii=e,this.docs=function(){return new mt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ee.resolve(a?a.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let a=pr();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))}),ee.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=pr();const f=n.path,m=new ve(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||S2(A2(E),a)<=0||(o.has(E.key)||kh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Te(9500)}si(e,n){return ee.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new XN(this)}getSize(e){return ee.resolve(this.size)}}class XN extends HN{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(a)}),ee.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.persistence=e,this.oi=new ns(n=>vp(n),_p),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this._i=0,this.ai=new bp,this.targetCount=0,this.ui=uo.cr()}forEachTarget(e,n){return this.oi.forEach((a,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this._i&&(this._i=n),ee.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new uo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Tr(n),ee.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const a=this.oi.get(n)||null;return ee.resolve(a)}addMatchingKeys(e,n,a){return this.ai.Gr(n,a),ee.resolve()}removeMatchingKeys(e,n,a){this.ai.jr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const a=this.ai.Yr(n);return ee.resolve(a)}containsKey(e,n){return ee.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,n){this.ci={},this.overlays={},this.li=new Dh(0),this.hi=!1,this.hi=!0,this.Pi=new YN,this.referenceDelegate=e(this),this.Ti=new JN(this),this.indexManager=new kN,this.remoteDocumentCache=function(o){return new $N(o)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new MN(n),this.Ei=new GN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ci[e.toKey()];return a||(a=new QN(n,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,a){ue("MemoryPersistence","Starting transaction:",e);const o=new ZN(this.li.next());return this.referenceDelegate.di(),a(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return ee.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,n)))}}class ZN extends b2{constructor(e){super(),this.currentSequenceNumber=e}}class Rp{constructor(e){this.persistence=e,this.Vi=new bp,this.mi=null}static fi(e){return new Rp(e)}get gi(){if(this.mi)return this.mi;throw Te(60996)}addReference(e,n,a){return this.Vi.addReference(a,n),this.gi.delete(a.toString()),ee.resolve()}removeReference(e,n,a){return this.Vi.removeReference(a,n),this.gi.add(a.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.gi,a=>{const o=ve.fromPath(a);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Re.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(a=>{a?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ee.or([()=>ee.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class yh{constructor(e,n){this.persistence=e,this.yi=new ns(a=>I2(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=BN(this,n)}static fi(e,n){return new yh(e,n)}di(){}Ai(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}br(e){let n=0;return this.yr(e,a=>{n++}).next(()=>n)}yr(e,n){return ee.forEach(this.yi,(a,o)=>this.Dr(e,a,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,f=>this.Dr(e,f,n).next(m=>{m||(a++,u.removeEntry(f,Re.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.yi.set(a,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,a){return this.yi.set(a,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ee.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xc(e.data.value)),n}Dr(e,n,a){return ee.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return ee.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.ds=a,this.As=o}static Rs(e,n){let a=ze(),o=ze();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Cp(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return K1()?8:R2(on())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ws(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(e,n,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new WN;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,f,m.size)})}).next(()=>u.result)}Ds(e,n,a,o){return a.documentReadCount<this.gs?($s()<=Ue.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Xs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ee.resolve()):($s()<=Ue.DEBUG&&ue("QueryEngine","Query:",Xs(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ps*o?($s()<=Ue.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Xs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(n))):ee.resolve())}ws(e,n){if(yE(n))return ee.resolve(null);let a=Ci(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Vm(n,null,"F"),a=Ci(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const f=ze(...u);return this.ys.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,a).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,f,p.readTime)?this.ws(e,Vm(n,null,"F")):this.Fs(e,g,n,p)}))})))}bs(e,n,a,o){return yE(n)||o.isEqual(Re.min())?ee.resolve(null):this.ys.getDocuments(e,a).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,a,o)?ee.resolve(null):($s()<=Ue.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xs(n)),this.Fs(e,f,n,T2(o,Yl)).next(m=>m))})}vs(e,n){let a=new kt(qT(e));return n.forEach((o,u)=>{kh(e,u)&&(a=a.add(u))}),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,a){return $s()<=Ue.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Xs(n)),this.ys.getDocumentsMatchingQuery(e,n,ta.min(),a)}Fs(e,n,a,o){return this.ys.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="LocalStore",tD=3e8;class nD{constructor(e,n,a,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new mt(Me),this.Os=new ns(u=>vp(u),_p),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function iD(r,e,n,a){return new nD(r,e,n,a)}async function dA(r,e){const n=Ie(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],m=[];let p=ze();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(a,p).next(g=>({ks:g,removedBatchIds:f,addedBatchIds:m}))})})}function rD(r,e){const n=Ie(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const w=g.batch,S=w.keys();let D=ee.resolve();return S.forEach(I=>{D=D.next(()=>E.getEntry(p,I)).next(j=>{const H=g.docVersions.get(I);Ze(H!==null,48541),j.version.compareTo(H)<0&&(w.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),E.addEntry(j)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=ze();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function mA(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function aD(r,e){const n=Ie(r),a=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((E,w)=>{const S=o.get(w);if(!S)return;m.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,w)));let D=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?D=D.withResumeToken(Wt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,a)),o=o.insert(w,D),function(j,H,Q){return j.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=tD?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(S,D,E)&&m.push(n.Ti.updateTargetData(u,D))});let p=pr(),g=ze();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(sD(u,f,e.documentUpdates).next(E=>{p=E.qs,g=E.Qs})),!a.isEqual(Re.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(w=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(E)}return ee.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function sD(r,e,n){let a=ze(),o=ze();return n.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let f=pr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(Ip,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function oD(r,e){const n=Ie(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=pp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function lD(r,e){const n=Ie(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Ti.getTargetData(a,e).next(u=>u?(o=u,ee.resolve(o)):n.Ti.allocateTargetId(a).next(f=>(o=new $r(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Ti.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.xs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(a.targetId,a),n.Os.set(e,a.targetId)),a})}async function zm(r,e,n){const a=Ie(r),o=a.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!To(f))throw f;ue(Ip,`Failed to update sequence numbers for target ${e}: ${f}`)}a.xs=a.xs.remove(e),a.Os.delete(o.target)}function DE(r,e,n){const a=Ie(r);let o=Re.min(),u=ze();return a.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const w=Ie(p),S=w.Os.get(E);return S!==void 0?ee.resolve(w.xs.get(S)):w.Ti.getTargetData(g,E)}(a,f,Ci(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>a.Ms.getDocumentsMatchingQuery(f,e,n?o:Re.min(),n?u:ze())).next(m=>(uD(a,Q2(e),m),{documents:m,$s:u})))}function uD(r,e,n){let a=r.Ns.get(e)||Re.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.Ns.set(e,a)}class OE{constructor(){this.activeTargetIds=eN()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cD{constructor(){this.xo=new OE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,a){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new OE,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="ConnectivityMonitor";class ME{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ue(xE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ue(xE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc=null;function jm(){return Hc===null?Hc=function(){return 268435456+Math.round(2147483648*Math.random())}():Hc++,"0x"+Hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="RestConnection",fD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dD{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${a}/databases/${o}`,this.Go=this.databaseId.database===hh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}zo(e,n,a,o,u){const f=jm(),m=this.jo(e,n.toUriEncodedString());ue(hm,`Sending RPC '${e}' ${f}:`,m,a);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),E=go(g);return this.Jo(e,m,p,a,E).then(w=>(ue(hm,`Received RPC '${e}' ${f}: `,w),w),w=>{throw ao(hm,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",a),w})}Yo(e,n,a,o,u,f){return this.zo(e,n,a,o,u)}Ho(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_o}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const a=fD[e];return`${this.Ko}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class pD extends dD{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const f=jm();return new Promise((m,p)=>{const g=new yT;g.setWithCredentials(!0),g.listenOnce(vT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case $c.NO_ERROR:const w=g.getResponseJson();ue(rn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case $c.TIMEOUT:ue(rn,`RPC '${e}' ${f} timed out`),p(new pe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:const S=g.getStatus();if(ue(rn,`RPC '${e}' ${f} failed with status:`,S,"response text:",g.getResponseText()),S>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const I=D==null?void 0:D.error;if(I&&I.status&&I.message){const j=function(Q){const $=Q.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf($)>=0?$:ne.UNKNOWN}(I.status);p(new pe(j,I.message))}else p(new pe(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new pe(ne.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{h_:e,streamId:f,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{ue(rn,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);ue(rn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,a,15)})}I_(e,n,a){const o=jm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=TT(),m=ET(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(rn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);this.E_(w);let S=!1,D=!1;const I=new mD({Zo:H=>{D?ue(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(S||(ue(rn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),ue(rn,`RPC '${e}' stream ${o} sending:`,H),w.send(H))},Xo:()=>w.close()}),j=(H,Q,$)=>{H.listen(Q,re=>{try{$(re)}catch(ce){setTimeout(()=>{throw ce},0)}})};return j(w,Ml.EventType.OPEN,()=>{D||(ue(rn,`RPC '${e}' stream ${o} transport opened.`),I.__())}),j(w,Ml.EventType.CLOSE,()=>{D||(D=!0,ue(rn,`RPC '${e}' stream ${o} transport closed`),I.u_(),this.d_(w))}),j(w,Ml.EventType.ERROR,H=>{D||(D=!0,ao(rn,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),I.u_(new pe(ne.UNAVAILABLE,"The operation could not be completed")))}),j(w,Ml.EventType.MESSAGE,H=>{var Q;if(!D){const $=H.data[0];Ze(!!$,16349);const re=$,ce=(re==null?void 0:re.error)||((Q=re[0])===null||Q===void 0?void 0:Q.error);if(ce){ue(rn,`RPC '${e}' stream ${o} received error:`,ce);const fe=ce.status;let Ce=function(R){const x=Ct[R];if(x!==void 0)return tA(x)}(fe),k=ce.message;Ce===void 0&&(Ce=ne.INTERNAL,k="Unknown error status: "+fe+" with message "+ce.message),D=!0,I.u_(new pe(Ce,k)),w.close()}else ue(rn,`RPC '${e}' stream ${o} received:`,$),I.c_($)}}),j(m,_T.STAT_EVENT,H=>{H.stat===Im.PROXY?ue(rn,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===Im.NOPROXY&&ue(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{I.a_()},0),I}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function fm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(r){return new _N(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n,a=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=a,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),a=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-a);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="PersistentStream";class gA{constructor(e,n,a,o,u,f,m,p){this.xi=e,this.S_=a,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new pA(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.v_===n&&this.z_(a,o)},a=>{e(()=>{const o=new pe(ne.UNKNOWN,"Fetching auth token failed: "+a.message);return this.j_(o)})})}z_(e,n){const a=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{a(()=>this.j_(o))}),this.stream.onMessage(o=>{a(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ue(VE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(ue(VE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gD extends gA{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=AN(this.serializer,e),a=function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?Ni(f.readTime):Re.min()}(e);return this.listener.Y_(n,a)}Z_(e){const n={};n.database=Um(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Mm(p)?{documents:bN(u,p)}:{query:RN(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=rA(u,f.resumeToken);const g=km(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Re.min())>0){m.readTime=gh(u,f.snapshotVersion.toTimestamp());const g=km(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const a=IN(this.serializer,e);a&&(n.labels=a),this.Q_(n)}X_(e){const n={};n.database=Um(this.serializer),n.removeTarget=e,this.Q_(n)}}class yD extends gA{constructor(e,n,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=wN(e.writeResults,e.commitTime),a=Ni(e.commitTime);return this.listener.ra(a,n)}ia(){const e={};e.database=Um(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>SN(this.serializer,a))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{}class _D extends vD{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,a,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(e,Pm(n,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(ne.UNKNOWN,u.toString())})}Yo(e,n,a,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(e,Pm(n,a),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pe(ne.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class ED{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(mr(n),this.ua=!1):ue("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="RemoteStore";class TD{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{a.enqueueAndForget(async()=>{is(this)&&(ue(Ja,"Restarting streams for network reachability change."),await async function(p){const g=Ie(p);g.da.add(4),await uu(g),g.Va.set("Unknown"),g.da.delete(4),await jh(g)}(this))})}),this.Va=new ED(a,o)}}async function jh(r){if(is(r))for(const e of r.Aa)await e(!0)}async function uu(r){for(const e of r.Aa)await e(!1)}function yA(r,e){const n=Ie(r);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),xp(n)?Op(n):Ao(n).N_()&&Dp(n,e))}function Np(r,e){const n=Ie(r),a=Ao(n);n.Ea.delete(e),a.N_()&&vA(n,e),n.Ea.size===0&&(a.N_()?a.k_():is(n)&&n.Va.set("Unknown"))}function Dp(r,e){if(r.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(r).Z_(e)}function vA(r,e){r.ma.Ke(e),Ao(r).X_(e)}function Op(r){r.ma=new pN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Ea.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Ao(r).start(),r.Va.ca()}function xp(r){return is(r)&&!Ao(r).O_()&&r.Ea.size>0}function is(r){return Ie(r).da.size===0}function _A(r){r.ma=void 0}async function AD(r){r.Va.set("Online")}async function SD(r){r.Ea.forEach((e,n)=>{Dp(r,e)})}async function wD(r,e){_A(r),xp(r)?(r.Va.Pa(e),Op(r)):r.Va.set("Unknown")}async function bD(r,e,n){if(r.Va.set("Online"),e instanceof iA&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ea.delete(m),o.ma.removeTarget(m))}(r,e)}catch(a){ue(Ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await vh(r,a)}else if(e instanceof Wc?r.ma.Xe(e):e instanceof nA?r.ma.ot(e):r.ma.nt(e),!n.isEqual(Re.min()))try{const a=await mA(r.localStore);n.compareTo(a)>=0&&await function(u,f){const m=u.ma.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ea.get(g);E&&u.Ea.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ea.get(p);if(!E)return;u.Ea.set(p,E.withResumeToken(Wt.EMPTY_BYTE_STRING,E.snapshotVersion)),vA(u,p);const w=new $r(E.target,p,g,E.sequenceNumber);Dp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(a){ue(Ja,"Failed to raise snapshot:",a),await vh(r,a)}}async function vh(r,e,n){if(!To(e))throw e;r.da.add(1),await uu(r),r.Va.set("Offline"),n||(n=()=>mA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue(Ja,"Retrying IndexedDB access"),await n(),r.da.delete(1),await jh(r)})}function EA(r,e){return e().catch(n=>vh(r,n,e))}async function Bh(r){const e=Ie(r),n=aa(e);let a=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:pp;for(;RD(e);)try{const o=await oD(e.localStore,a);if(o===null){e.Ia.length===0&&n.k_();break}a=o.batchId,CD(e,o)}catch(o){await vh(e,o)}TA(e)&&AA(e)}function RD(r){return is(r)&&r.Ia.length<10}function CD(r,e){r.Ia.push(e);const n=aa(r);n.N_()&&n.ea&&n.ta(e.mutations)}function TA(r){return is(r)&&!aa(r).O_()&&r.Ia.length>0}function AA(r){aa(r).start()}async function ID(r){aa(r).ia()}async function ND(r){const e=aa(r);for(const n of r.Ia)e.ta(n.mutations)}async function DD(r,e,n){const a=r.Ia.shift(),o=Ap.from(a,e,n);await EA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Bh(r)}async function OD(r,e){e&&aa(r).ea&&await async function(a,o){if(function(f){return dN(f)&&f!==ne.ABORTED}(o.code)){const u=a.Ia.shift();aa(a).L_(),await EA(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Bh(a)}}(r,e),TA(r)&&AA(r)}async function kE(r,e){const n=Ie(r);n.asyncQueue.verifyOperationInProgress(),ue(Ja,"RemoteStore received new credentials");const a=is(n);n.da.add(3),await uu(n),a&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await jh(n)}async function xD(r,e){const n=Ie(r);e?(n.da.delete(2),await jh(n)):e||(n.da.add(2),await uu(n),n.Va.set("Unknown"))}function Ao(r){return r.fa||(r.fa=function(n,a,o){const u=Ie(n);return u.oa(),new gD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:AD.bind(null,r),n_:SD.bind(null,r),i_:wD.bind(null,r),Y_:bD.bind(null,r)}),r.Aa.push(async e=>{e?(r.fa.L_(),xp(r)?Op(r):r.Va.set("Unknown")):(await r.fa.stop(),_A(r))})),r.fa}function aa(r){return r.ga||(r.ga=function(n,a,o){const u=Ie(n);return u.oa(),new yD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:ID.bind(null,r),i_:OD.bind(null,r),na:ND.bind(null,r),ra:DD.bind(null,r)}),r.Aa.push(async e=>{e?(r.ga.L_(),await Bh(r)):(await r.ga.stop(),r.Ia.length>0&&(ue(Ja,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,m=new Mp(e,n,f,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vp(r,e){if(mr("AsyncQueue",`${e}: ${r}`),To(r))return new pe(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{static emptySet(e){return new no(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ve.comparator(n.key,a.key):(n,a)=>ve.comparator(n.key,a.key),this.keyedMap=Vl(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new no;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.pa=new mt(ve.comparator)}track(e){const n=e.doc.key,a=this.pa.get(n);a?e.type!==0&&a.type===3?this.pa=this.pa.insert(n,e):e.type===3&&a.type!==1?this.pa=this.pa.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.pa=this.pa.remove(n):e.type===1&&a.type===2?this.pa=this.pa.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,ya:a}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,a)=>{e.push(a)}),e}}class co{constructor(e,n,a,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new co(e,n,no.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class VD{constructor(){this.queries=LE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=Ie(n),u=o.queries;o.queries=LE(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(a)})})(this,new pe(ne.ABORTED,"Firestore shutting down"))}}function LE(){return new ns(r=>HT(r),Vh)}async function SA(r,e){const n=Ie(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(a=2):(u=new MD,a=e.va()?0:1);try{switch(a){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Vp(f,`Initialization of query '${Xs(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&kp(n)}async function wA(r,e){const n=Ie(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function kD(r,e){const n=Ie(r);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Ma(o)&&(a=!0);f.ba=o}}a&&kp(n)}function PD(r,e,n){const a=Ie(r),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);a.queries.delete(e)}function kp(r){r.Ca.forEach(e=>{e.next()})}var Bm,UE;(UE=Bm||(Bm={})).xa="default",UE.Cache="cache";class bA{constructor(e,n,a){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=a||{}}Ma(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new co(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const a=n!=="Offline";return(!this.options.Qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.key=e}}class CA{constructor(e){this.key=e}}class LD{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.Za=qT(e),this.Xa=new no(this.Za)}get eu(){return this.Ha}tu(e,n){const a=n?n.nu:new PE,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const S=o.get(E),D=kh(this.query,w)?w:null,I=!!S&&this.mutatedKeys.has(S.key),j=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let H=!1;S&&D?S.data.isEqual(D.data)?I!==j&&(a.track({type:3,doc:D}),H=!0):this.ru(S,D)||(a.track({type:2,doc:D}),H=!0,(p&&this.Za(D,p)>0||g&&this.Za(D,g)<0)&&(m=!0)):!S&&D?(a.track({type:0,doc:D}),H=!0):S&&!D&&(a.track({type:1,doc:S}),H=!0,(p||g)&&(m=!0)),H&&(D?(f=f.add(D),u=j?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{Xa:f,nu:a,Cs:m,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const f=e.nu.wa();f.sort((E,w)=>function(D,I){const j=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:H})}};return j(D)-j(I)}(E.type,w.type)||this.Za(E.doc,w.doc)),this.iu(a),o=o!=null&&o;const m=n&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,f.length!==0||g?{snapshot:new co(this.query,e.Xa,u,f,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new PE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.Xa.forEach(a=>{this._u(a.key)&&(this.Ya=this.Ya.add(a.key))});const n=[];return e.forEach(a=>{this.Ya.has(a)||n.push(new CA(a))}),this.Ya.forEach(a=>{e.has(a)||n.push(new RA(a))}),n}au(e){this.Ha=e.$s,this.Ya=ze();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return co.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Pp="SyncEngine";class UD{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class zD{constructor(e){this.key=e,this.cu=!1}}class jD{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new ns(m=>HT(m),Vh),this.Pu=new Map,this.Tu=new Set,this.Iu=new mt(ve.comparator),this.Eu=new Map,this.du=new bp,this.Au={},this.Ru=new Map,this.Vu=uo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function BD(r,e,n=!0){const a=MA(r);let o;const u=a.hu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await IA(a,e,n,!0),o}async function HD(r,e){const n=MA(r);await IA(n,e,!0,!1)}async function IA(r,e,n,a){const o=await lD(r.localStore,Ci(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await qD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&yA(r.remoteStore,o),m}async function qD(r,e,n,a,o){r.fu=(w,S,D)=>async function(j,H,Q,$){let re=H.view.tu(Q);re.Cs&&(re=await DE(j.localStore,H.query,!1).then(({documents:k})=>H.view.tu(k,re)));const ce=$&&$.targetChanges.get(H.targetId),fe=$&&$.targetMismatches.get(H.targetId)!=null,Ce=H.view.applyChanges(re,j.isPrimaryClient,ce,fe);return jE(j,H.targetId,Ce.ou),Ce.snapshot}(r,w,S,D);const u=await DE(r.localStore,e,!0),f=new LD(e,u.$s),m=f.tu(u.documents),p=lu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);jE(r,n,g.ou);const E=new UD(e,n,f);return r.hu.set(e,E),r.Pu.has(n)?r.Pu.get(n).push(e):r.Pu.set(n,[e]),g.snapshot}async function FD(r,e,n){const a=Ie(r),o=a.hu.get(e),u=a.Pu.get(o.targetId);if(u.length>1)return a.Pu.set(o.targetId,u.filter(f=>!Vh(f,e))),void a.hu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await zm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Np(a.remoteStore,o.targetId),Hm(a,o.targetId)}).catch(Eo)):(Hm(a,o.targetId),await zm(a.localStore,o.targetId,!0))}async function GD(r,e){const n=Ie(r),a=n.hu.get(e),o=n.Pu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Np(n.remoteStore,a.targetId))}async function KD(r,e,n){const a=WD(r);try{const o=await function(f,m){const p=Ie(f),g=Vt.now(),E=m.reduce((D,I)=>D.add(I.key),ze());let w,S;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let I=pr(),j=ze();return p.Bs.getEntries(D,E).next(H=>{I=H,I.forEach((Q,$)=>{$.isValidDocument()||(j=j.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,I)).next(H=>{w=H;const Q=[];for(const $ of m){const re=lN($,w.get($.key).overlayedDocument);re!=null&&Q.push(new ua($.key,re,kT(re.value.mapValue),Ii.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,Q,m)}).next(H=>{S=H;const Q=H.applyToLocalDocumentSet(w,j);return p.documentOverlayCache.saveOverlays(D,H.batchId,Q)})}).then(()=>({batchId:S.batchId,changes:GT(w)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Au[f.currentUser.toKey()];g||(g=new mt(Me)),g=g.insert(m,p),f.Au[f.currentUser.toKey()]=g}(a,o.batchId,n),await cu(a,o.changes),await Bh(a.remoteStore)}catch(o){const u=Vp(o,"Failed to persist write");n.reject(u)}}async function NA(r,e){const n=Ie(r);try{const a=await aD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?Ze(f.cu,14607):o.removedDocuments.size>0&&(Ze(f.cu,42227),f.cu=!1))}),await cu(n,a,e)}catch(a){await Eo(a)}}function zE(r,e,n){const a=Ie(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.hu.forEach((u,f)=>{const m=f.view.Fa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ie(f);p.onlineState=m;let g=!1;p.queries.forEach((E,w)=>{for(const S of w.Sa)S.Fa(m)&&(g=!0)}),g&&kp(p)}(a.eventManager,e),o.length&&a.lu.Y_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function YD(r,e,n){const a=Ie(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Eu.get(e),u=o&&o.key;if(u){let f=new mt(ve.comparator);f=f.insert(u,sn.newNoDocument(u,Re.min()));const m=ze().add(u),p=new Uh(Re.min(),new Map,new mt(Me),f,m);await NA(a,p),a.Iu=a.Iu.remove(u),a.Eu.delete(e),Lp(a)}else await zm(a.localStore,e,!1).then(()=>Hm(a,e,n)).catch(Eo)}async function QD(r,e){const n=Ie(r),a=e.batch.batchId;try{const o=await rD(n.localStore,e);OA(n,a,null),DA(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await cu(n,o)}catch(o){await Eo(o)}}async function $D(r,e,n){const a=Ie(r);try{const o=await function(f,m){const p=Ie(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(Ze(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(a.localStore,e);OA(a,e,n),DA(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await cu(a,o)}catch(o){await Eo(o)}}function DA(r,e){(r.Ru.get(e)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(e)}function OA(r,e,n){const a=Ie(r);let o=a.Au[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Au[a.currentUser.toKey()]=o}}function Hm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Pu.get(e))r.hu.delete(a),n&&r.lu.gu(a,n);r.Pu.delete(e),r.isPrimaryClient&&r.du.Hr(e).forEach(a=>{r.du.containsKey(a)||xA(r,a)})}function xA(r,e){r.Tu.delete(e.path.canonicalString());const n=r.Iu.get(e);n!==null&&(Np(r.remoteStore,n),r.Iu=r.Iu.remove(e),r.Eu.delete(n),Lp(r))}function jE(r,e,n){for(const a of n)a instanceof RA?(r.du.addReference(a.key,e),XD(r,a)):a instanceof CA?(ue(Pp,"Document no longer in limbo: "+a.key),r.du.removeReference(a.key,e),r.du.containsKey(a.key)||xA(r,a.key)):Te(19791,{pu:a})}function XD(r,e){const n=e.key,a=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(a)||(ue(Pp,"New document in limbo: "+n),r.Tu.add(a),Lp(r))}function Lp(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const e=r.Tu.values().next().value;r.Tu.delete(e);const n=new ve(ht.fromString(e)),a=r.Vu.next();r.Eu.set(a,new zD(n)),r.Iu=r.Iu.insert(n,a),yA(r.remoteStore,new $r(Ci(Ep(n.path)),a,"TargetPurposeLimboResolution",Dh.le))}}async function cu(r,e,n){const a=Ie(r),o=[],u=[],f=[];a.hu.isEmpty()||(a.hu.forEach((m,p)=>{f.push(a.fu(p,e,n).then(g=>{var E;if((g||n)&&a.isPrimaryClient){const w=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Cp.Rs(p.targetId,g);u.push(w)}}))}),await Promise.all(f),a.lu.Y_(o),await async function(p,g){const E=Ie(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ee.forEach(g,S=>ee.forEach(S.ds,D=>E.persistence.referenceDelegate.addReference(w,S.targetId,D)).next(()=>ee.forEach(S.As,D=>E.persistence.referenceDelegate.removeReference(w,S.targetId,D)))))}catch(w){if(!To(w))throw w;ue(Ip,"Failed to update sequence numbers: "+w)}for(const w of g){const S=w.targetId;if(!w.fromCache){const D=E.xs.get(S),I=D.snapshotVersion,j=D.withLastLimboFreeSnapshotVersion(I);E.xs=E.xs.insert(S,j)}}}(a.localStore,u))}async function JD(r,e){const n=Ie(r);if(!n.currentUser.isEqual(e)){ue(Pp,"User change. New user:",e.toKey());const a=await dA(n.localStore,e);n.currentUser=e,function(u,f){u.Ru.forEach(m=>{m.forEach(p=>{p.reject(new pe(ne.CANCELLED,f))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await cu(n,a.ks)}}function ZD(r,e){const n=Ie(r),a=n.Eu.get(e);if(a&&a.cu)return ze().add(a.key);{let o=ze();const u=n.Pu.get(e);if(!u)return o;for(const f of u){const m=n.hu.get(f);o=o.unionWith(m.view.eu)}return o}}function MA(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=NA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YD.bind(null,e),e.lu.Y_=kD.bind(null,e.eventManager),e.lu.gu=PD.bind(null,e.eventManager),e}function WD(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$D.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return iD(this.persistence,new eD,e.initialUser,this.serializer)}Su(e){return new fA(Rp.fi,this.serializer)}bu(e){return new cD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class eO extends _h{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Ze(this.persistence.referenceDelegate instanceof yh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new zN(a,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new fA(a=>yh.fi(a,n),this.serializer)}}class qm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>zE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=JD.bind(null,this.syncEngine),await xD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VD}()}createDatastore(e){const n=zh(e.databaseInfo.databaseId),a=function(u){return new pD(u)}(e.databaseInfo);return function(u,f,m,p){return new _D(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,f,m){return new TD(a,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>zE(this.syncEngine,n,0),function(){return ME.C()?new ME:new hD}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const w=new jD(o,u,f,m,p,g);return E&&(w.mu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ie(o);ue(Ja,"RemoteStore shutting down."),u.da.add(5),await uu(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}qm.provider={build:()=>new qm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="FirestoreClient";class tO{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=bT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{ue(sa,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(ue(sa,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Vp(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function dm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(sa,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await dA(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function BE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await nO(r);ue(sa,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(a=>kE(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>kE(e.remoteStore,o)),r._onlineComponents=e}async function nO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(sa,"Using user provided OfflineComponentProvider");try{await dm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await dm(r,new _h)}}else ue(sa,"Using default OfflineComponentProvider"),await dm(r,new eO(void 0));return r._offlineComponents}async function kA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(sa,"Using user provided OnlineComponentProvider"),await BE(r,r._uninitializedComponentsProvider._online)):(ue(sa,"Using default OnlineComponentProvider"),await BE(r,new qm))),r._onlineComponents}function iO(r){return kA(r).then(e=>e.syncEngine)}async function PA(r){const e=await kA(r),n=e.eventManager;return n.onListen=BD.bind(null,e.syncEngine),n.onUnlisten=FD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=HD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GD.bind(null,e.syncEngine),n}function rO(r,e,n={}){const a=new cr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new VA({next:S=>{E.xu(),f.enqueueAndForget(()=>wA(u,w));const D=S.docs.has(m);!D&&S.fromCache?g.reject(new pe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&S.fromCache&&p&&p.source==="server"?g.reject(new pe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new bA(Ep(m.path),E,{includeMetadataChanges:!0,Qa:!0});return SA(u,w)}(await PA(r),r.asyncQueue,e,n,a)),a.promise}function aO(r,e,n={}){const a=new cr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new VA({next:S=>{E.xu(),f.enqueueAndForget(()=>wA(u,w)),S.fromCache&&p.source==="server"?g.reject(new pe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new bA(m,E,{includeMetadataChanges:!0,Qa:!0});return SA(u,w)}(await PA(r),r.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(r,e,n){if(!n)throw new pe(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function sO(r,e,n,a){if(e===!0&&a===!0)throw new pe(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function qE(r){if(!ve.isDocumentKey(r))throw new pe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function FE(r){if(ve.isDocumentKey(r))throw new pe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Up(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function gr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Up(r);throw new pe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="firestore.googleapis.com",GE=!0;class KE{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zA,this.ssl=GE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:GE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LN)throw new pe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LA((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new f2;switch(a.type){case"firstParty":return new g2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new pe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=HE.get(n);a&&(ue("ComponentProvider","Removing Datastore"),HE.delete(n),a.terminate())}(this),Promise.resolve()}}function oO(r,e,n,a={}){var o;r=gr(r,Hh);const u=go(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u&&(N0(`https://${p}`),D0("Firestore",!0)),f.host!==zA&&f.host!==p&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:a});if(!ea(g,m)&&(r._setSettings(g),a.mockUserToken)){let E,w;if(typeof a.mockUserToken=="string")E=a.mockUserToken,w=an.MOCK_USER;else{E=U1(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new pe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new an(S)}r._authCredentials=new d2(new ST(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new qh(this.firestore,e,this._query)}}class vn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class Wr extends qh{constructor(e,n,a){super(e,n,Ep(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new ve(e))}withConverter(e){return new Wr(this.firestore,e,this._path)}}function jA(r,e,...n){if(r=Ft(r),UA("collection","path",e),r instanceof Hh){const a=ht.fromString(e,...n);return FE(a),new Wr(r,null,a)}{if(!(r instanceof vn||r instanceof Wr))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ht.fromString(e,...n));return FE(a),new Wr(r.firestore,null,a)}}function eu(r,e,...n){if(r=Ft(r),arguments.length===1&&(e=bT.newId()),UA("doc","path",e),r instanceof Hh){const a=ht.fromString(e,...n);return qE(a),new vn(r,null,new ve(a))}{if(!(r instanceof vn||r instanceof Wr))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ht.fromString(e,...n));return qE(a),new vn(r.firestore,r instanceof Wr?r.converter:null,new ve(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="AsyncQueue";class QE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new pA(this,"async_queue_retry"),this.rc=()=>{const a=fm();a&&ue(YE,"Visibility state changed to "+a.visibilityState),this.x_.b_()},this.sc=e;const n=fm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new cr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!To(e))throw e;ue(YE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(a=>{throw this.Xu=a,this.ec=!1,mr("INTERNAL UNHANDLED ERROR: ",$E(a)),a}).then(a=>(this.ec=!1,a))));return this.sc=n,n}enqueueAfterDelay(e,n,a){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=Mp.createAndSchedule(this,e,n,a,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Te(47125,{cc:$E(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function $E(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class hu extends Hh{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new QE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new QE(e),this._firestoreClient=void 0,await e}}}function lO(r,e){const n=typeof r=="object"?r:np(),a=typeof r=="string"?r:hh,o=ts(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=P1("firestore");u&&oO(o,...u)}return o}function zp(r){if(r._terminated)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||uO(r),r._firestoreClient}function uO(r){var e,n,a;const o=r._freezeSettings(),u=function(m,p,g,E){return new O2(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,LA(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new tO(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ho(Wt.fromBase64String(e))}catch(n){throw new pe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ho(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=/^__.*__$/;class hO{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new ua(e,this.data,this.fieldMask,n,this.fieldTransforms):new ou(e,this.data,n,this.fieldTransforms)}}class BA{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new ua(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ic:r})}}class Hp{constructor(e,n,a,o,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Hp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:a,Rc:!1});return o.Vc(e),o}mc(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:a,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Eh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(HA(this.Ic)&&cO.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class fO{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||zh(e)}bc(e,n,a,o=!1){return new Hp({Ic:e,methodName:n,wc:a,path:Zt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qA(r){const e=r._freezeSettings(),n=zh(r._databaseId);return new fO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function dO(r,e,n,a,o,u={}){const f=r.bc(u.merge||u.mergeFields?2:0,e,n,o);Fp("Data must be an object, but it was:",f,a);const m=FA(a,f);let p,g;if(u.merge)p=new In(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const S=Fm(e,w,n);if(!f.contains(S))throw new pe(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);KA(E,S)||E.push(S)}p=new In(E),g=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=f.fieldTransforms;return new hO(new yn(m),p,g)}class Kh extends Gh{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kh}}class qp extends Gh{_toFieldTransform(e){return new rN(e.path,new Jl)}isEqual(e){return e instanceof qp}}function mO(r,e,n,a){const o=r.bc(1,e,n);Fp("Data must be an object, but it was:",o,a);const u=[],f=yn.empty();la(a,(p,g)=>{const E=Gp(e,p,n);g=Ft(g);const w=o.mc(E);if(g instanceof Kh)u.push(E);else{const S=Yh(g,w);S!=null&&(u.push(E),f.set(E,S))}});const m=new In(u);return new BA(f,m,o.fieldTransforms)}function pO(r,e,n,a,o,u){const f=r.bc(1,e,n),m=[Fm(e,a,n)],p=[o];if(u.length%2!=0)throw new pe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Fm(e,u[S])),p.push(u[S+1]);const g=[],E=yn.empty();for(let S=m.length-1;S>=0;--S)if(!KA(g,m[S])){const D=m[S];let I=p[S];I=Ft(I);const j=f.mc(D);if(I instanceof Kh)g.push(D);else{const H=Yh(I,j);H!=null&&(g.push(D),E.set(D,H))}}const w=new In(g);return new BA(E,w,f.fieldTransforms)}function Yh(r,e){if(GA(r=Ft(r)))return Fp("Unsupported field value:",e,r),FA(r,e);if(r instanceof Gh)return function(a,o){if(!HA(o.Ic))throw o.gc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(a,o){const u=[];let f=0;for(const m of a){let p=Yh(m,o.fc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(a,o){if((a=Ft(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return tN(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Vt.fromDate(a);return{timestampValue:gh(o.serializer,u)}}if(a instanceof Vt){const u=new Vt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:gh(o.serializer,u)}}if(a instanceof jp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ho)return{bytesValue:rA(o.serializer,a._byteString)};if(a instanceof vn){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:wp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Bp)return function(f,m){return{mapValue:{fields:{[MT]:{stringValue:VT},[fh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.gc("VectorValues must only contain numeric values.");return Tp(m.serializer,g)})}}}}}}(a,o);throw o.gc(`Unsupported field value: ${Up(a)}`)}(r,e)}function FA(r,e){const n={};return CT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(r,(a,o)=>{const u=Yh(o,e.Ac(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function GA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Vt||r instanceof jp||r instanceof ho||r instanceof vn||r instanceof Gh||r instanceof Bp)}function Fp(r,e,n){if(!GA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=Up(n);throw a==="an object"?e.gc(r+" a custom object"):e.gc(r+" "+a)}}function Fm(r,e,n){if((e=Ft(e))instanceof Fh)return e._internalPath;if(typeof e=="string")return Gp(r,e);throw Eh("Field path arguments must be of type string or ",r,!1,void 0,n)}const gO=new RegExp("[~\\*/\\[\\]]");function Gp(r,e,n){if(e.search(gO)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Fh(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Eh(r,e,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${a}`),f&&(p+=` in document ${o}`),p+=")"),new pe(ne.INVALID_ARGUMENT,m+r+p)}function KA(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(QA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yO extends YA{data(){return super.data()}}function QA(r,e){return typeof e=="string"?Gp(r,e):e instanceof Fh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _O{convertValue(e,n="none"){switch(ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return la(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[fh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>Tt(f.doubleValue));return new Bp(u)}convertGeoPoint(e){return new jp(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=xh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const n=na(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=ht.fromString(e);Ze(cA(a),9688,{name:e});const o=new $l(a.get(1),a.get(3)),u=new ve(a.popFirst(5));return o.isEqual(n)||mr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(r,e,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $A extends YA{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(QA("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class eh extends $A{data(e={}){return super.data(e)}}class TO{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Pl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new eh(this._firestore,this._userDataWriter,a.key,a,new Pl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Pl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Pl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:AO(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function AO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(r){r=gr(r,vn);const e=gr(r.firestore,hu);return rO(zp(e),r._key).then(n=>SO(e,r,n))}class XA extends _O{constructor(e){super(),this.firestore=e}convertBytes(e){return new ho(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function JA(r){r=gr(r,qh);const e=gr(r.firestore,hu),n=zp(e),a=new XA(e);return vO(r._query),aO(n,r._query).then(o=>new TO(e,a,r,o))}function XE(r,e,n){r=gr(r,vn);const a=gr(r.firestore,hu),o=EO(r.converter,e,n);return WA(a,[dO(qA(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Ii.none())])}function ZA(r,e,n,...a){r=gr(r,vn);const o=gr(r.firestore,hu),u=qA(o);let f;return f=typeof(e=Ft(e))=="string"||e instanceof Fh?pO(u,"updateDoc",r._key,e,n,a):mO(u,"updateDoc",r._key,e),WA(o,[f.toMutation(r._key,Ii.exists(!0))])}function WA(r,e){return function(a,o){const u=new cr;return a.asyncQueue.enqueueAndForget(async()=>KD(await iO(a),o,u)),u.promise}(zp(r),e)}function SO(r,e,n){const a=n.docs.get(e._key),o=new XA(r);return new $A(r,o,e._key,a,new Pl(n.hasPendingWrites,n.fromCache),e.converter)}function xl(){return new qp("serverTimestamp")}(function(e,n=!0){(function(o){_o=o})(yo),Di(new ii("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new hu(new m2(a.getProvider("auth-internal")),new y2(f,a.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Gn(eE,tE,e),Gn(eE,tE,"esm2017")})();var wO="firebase",bO="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn(wO,bO,"app");const eS="@firebase/installations",Kp="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=1e4,nS=`w:${Kp}`,iS="FIS_v2",RO="https://firebaseinstallations.googleapis.com/v1",CO=60*60*1e3,IO="installations",NO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Za=new es(IO,NO,DO);function rS(r){return r instanceof ai&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS({projectId:r}){return`${RO}/projects/${r}/installations`}function sS(r){return{token:r.token,requestStatus:2,expiresIn:xO(r.expiresIn),creationTime:Date.now()}}async function oS(r,e){const a=(await e.json()).error;return Za.create("request-failed",{requestName:r,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function lS({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function OO(r,{refreshToken:e}){const n=lS(r);return n.append("Authorization",MO(e)),n}async function uS(r){const e=await r();return e.status>=500&&e.status<600?r():e}function xO(r){return Number(r.replace("s","000"))}function MO(r){return`${iS} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const a=aS(r),o=lS(r),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:n,authVersion:iS,appId:r.appId,sdkVersion:nS},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await uS(()=>fetch(a,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:sS(g.authToken)}}else throw await oS("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=/^[cdef][\w-]{21}$/,Km="";function LO(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=UO(r);return PO.test(n)?n:Km}catch{return Km}}function UO(r){return kO(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=new Map;function fS(r,e){const n=Qh(r);dS(n,e),zO(n,e)}function dS(r,e){const n=hS.get(r);if(n)for(const a of n)a(e)}function zO(r,e){const n=jO();n&&n.postMessage({key:r,fid:e}),BO()}let Ka=null;function jO(){return!Ka&&"BroadcastChannel"in self&&(Ka=new BroadcastChannel("[Firebase] FID Change"),Ka.onmessage=r=>{dS(r.data.key,r.data.fid)}),Ka}function BO(){hS.size===0&&Ka&&(Ka.close(),Ka=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="firebase-installations-database",qO=1,Wa="firebase-installations-store";let mm=null;function Yp(){return mm||(mm=P0(HO,qO,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Wa)}}})),mm}async function Th(r,e){const n=Qh(r),o=(await Yp()).transaction(Wa,"readwrite"),u=o.objectStore(Wa),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&fS(r,e.fid),e}async function mS(r){const e=Qh(r),a=(await Yp()).transaction(Wa,"readwrite");await a.objectStore(Wa).delete(e),await a.done}async function $h(r,e){const n=Qh(r),o=(await Yp()).transaction(Wa,"readwrite"),u=o.objectStore(Wa),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&fS(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qp(r){let e;const n=await $h(r.appConfig,a=>{const o=FO(a),u=GO(r,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Km?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function FO(r){const e=r||{fid:LO(),registrationStatus:0};return pS(e)}function GO(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Za.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=KO(r,n);return{installationEntry:n,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:YO(r)}:{installationEntry:e}}async function KO(r,e){try{const n=await VO(r,e);return Th(r.appConfig,n)}catch(n){throw rS(n)&&n.customData.serverCode===409?await mS(r.appConfig):await Th(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function YO(r){let e=await JE(r.appConfig);for(;e.registrationStatus===1;)await cS(100),e=await JE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:a}=await Qp(r);return a||n}return e}function JE(r){return $h(r,e=>{if(!e)throw Za.create("installation-not-found");return pS(e)})}function pS(r){return QO(r)?{fid:r.fid,registrationStatus:0}:r}function QO(r){return r.registrationStatus===1&&r.registrationTime+tS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $O({appConfig:r,heartbeatServiceProvider:e},n){const a=XO(r,n),o=OO(r,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:nS,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await uS(()=>fetch(a,m));if(p.ok){const g=await p.json();return sS(g)}else throw await oS("Generate Auth Token",p)}function XO(r,{fid:e}){return`${aS(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $p(r,e=!1){let n;const a=await $h(r.appConfig,u=>{if(!gS(u))throw Za.create("not-registered");const f=u.authToken;if(!e&&WO(f))return u;if(f.requestStatus===1)return n=JO(r,e),u;{if(!navigator.onLine)throw Za.create("app-offline");const m=tx(u);return n=ZO(r,m),m}});return n?await n:a.authToken}async function JO(r,e){let n=await ZE(r.appConfig);for(;n.authToken.requestStatus===1;)await cS(100),n=await ZE(r.appConfig);const a=n.authToken;return a.requestStatus===0?$p(r,e):a}function ZE(r){return $h(r,e=>{if(!gS(e))throw Za.create("not-registered");const n=e.authToken;return nx(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function ZO(r,e){try{const n=await $O(r,e),a=Object.assign(Object.assign({},e),{authToken:n});return await Th(r.appConfig,a),n}catch(n){if(rS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await mS(r.appConfig);else{const a=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Th(r.appConfig,a)}throw n}}function gS(r){return r!==void 0&&r.registrationStatus===2}function WO(r){return r.requestStatus===2&&!ex(r)}function ex(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+CO}function tx(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function nx(r){return r.requestStatus===1&&r.requestTime+tS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(r){const e=r,{installationEntry:n,registrationPromise:a}=await Qp(e);return a?a.catch(console.error):$p(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(r,e=!1){const n=r;return await ax(n),(await $p(n,e)).token}async function ax(r){const{registrationPromise:e}=await Qp(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(r){if(!r||!r.options)throw pm("App Configuration");if(!r.name)throw pm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw pm(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function pm(r){return Za.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="installations",ox="installations-internal",lx=r=>{const e=r.getProvider("app").getImmediate(),n=sx(e),a=ts(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},ux=r=>{const e=r.getProvider("app").getImmediate(),n=ts(e,yS).getImmediate();return{getId:()=>ix(n),getToken:o=>rx(n,o)}};function cx(){Di(new ii(yS,lx,"PUBLIC")),Di(new ii(ox,ux,"PRIVATE"))}cx();Gn(eS,Kp);Gn(eS,Kp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah="analytics",hx="firebase_id",fx="origin",dx=60*1e3,mx="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n=new Rh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Nn=new es("analytics","Analytics",px);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(r){if(!r.startsWith(Xp)){const e=Nn.create("invalid-gtag-resource",{gtagURL:r});return _n.warn(e.message),""}return r}function vS(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function yx(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function vx(r,e){const n=yx("firebase-js-sdk-policy",{createScriptURL:gx}),a=document.createElement("script"),o=`${Xp}?l=${r}&id=${e}`;a.src=n?n==null?void 0:n.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function _x(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function Ex(r,e,n,a,o,u){const f=a[o];try{if(f)await e[f];else{const p=(await vS(n)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){_n.error(m)}r("config",o,u)}async function Tx(r,e,n,a,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await vS(n);for(const p of f){const g=m.find(w=>w.measurementId===p),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",a,o||{})}catch(u){_n.error(u)}}function Ax(r,e,n,a){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await Tx(r,e,n,m,p)}else if(u==="config"){const[m,p]=f;await Ex(r,e,n,a,m,p)}else if(u==="consent"){const[m,p]=f;r("consent",m,p)}else if(u==="get"){const[m,p,g]=f;r("get",m,p,g)}else if(u==="set"){const[m]=f;r("set",m)}else r(u,...f)}catch(m){_n.error(m)}}return o}function Sx(r,e,n,a,o){let u=function(...f){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=Ax(u,r,e,n),{gtagCore:u,wrappedGtag:window[o]}}function wx(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Xp)&&n.src.includes(r))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=30,Rx=1e3;class Cx{constructor(e={},n=Rx){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const _S=new Cx;function Ix(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function Nx(r){var e;const{appId:n,apiKey:a}=r,o={method:"GET",headers:Ix(a)},u=mx.replace("{app-id}",n),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let m="";try{const p=await f.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw Nn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function Dx(r,e=_S,n){const{appId:a,apiKey:o,measurementId:u}=r.options;if(!a)throw Nn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:a};throw Nn.create("no-api-key")}const f=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new Mx;return setTimeout(async()=>{m.abort()},dx),ES({appId:a,apiKey:o,measurementId:u},f,m,e)}async function ES(r,{throttleEndTimeMillis:e,backoffCount:n},a,o=_S){var u;const{appId:f,measurementId:m}=r;try{await Ox(a,e)}catch(p){if(m)return _n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:m};throw p}try{const p=await Nx(r);return o.deleteThrottleMetadata(f),p}catch(p){const g=p;if(!xx(g)){if(o.deleteThrottleMetadata(f),m)return _n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:f,measurementId:m};throw p}const E=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?C_(n,o.intervalMillis,bx):C_(n,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return o.setThrottleMetadata(f,w),_n.debug(`Calling attemptFetch again in ${E} millis`),ES(r,w,a,o)}}function Ox(r,e){return new Promise((n,a)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),a(Nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function xx(r){if(!(r instanceof ai)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class Mx{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Vx(r,e,n,a,o){if(o&&o.global){r("event",n,a);return}else{const u=await e,f=Object.assign(Object.assign({},a),{send_to:u});r("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kx(){if(x0())try{await M0()}catch(r){return _n.warn(Nn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return _n.warn(Nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Px(r,e,n,a,o,u,f){var m;const p=Dx(r);p.then(D=>{n[D.measurementId]=D.appId,r.options.measurementId&&D.measurementId!==r.options.measurementId&&_n.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${D.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(D=>_n.error(D)),e.push(p);const g=kx().then(D=>{if(D)return a.getId()}),[E,w]=await Promise.all([p,g]);wx(u)||vx(u,E.measurementId),o("js",new Date);const S=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return S[fx]="firebase",S.update=!0,w!=null&&(S[hx]=w),o("config",E.measurementId,S),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.app=e}_delete(){return delete ql[this.app.options.appId],Promise.resolve()}}let ql={},WE=[];const e0={};let gm="dataLayer",Ux="gtag",t0,TS,n0=!1;function zx(){const r=[];if(O0()&&r.push("This is a browser extension environment."),Y1()||r.push("Cookies are not available."),r.length>0){const e=r.map((a,o)=>`(${o+1}) ${a}`).join(" "),n=Nn.create("invalid-analytics-context",{errorInfo:e});_n.warn(n.message)}}function jx(r,e,n){zx();const a=r.options.appId;if(!a)throw Nn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)_n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Nn.create("no-api-key");if(ql[a]!=null)throw Nn.create("already-exists",{id:a});if(!n0){_x(gm);const{wrappedGtag:u,gtagCore:f}=Sx(ql,WE,e0,gm,Ux);TS=u,t0=f,n0=!0}return ql[a]=Px(r,WE,e0,e,t0,gm,n),new Lx(r)}function Bx(r=np()){r=Ft(r);const e=ts(r,Ah);return e.isInitialized()?e.getImmediate():Hx(r)}function Hx(r,e={}){const n=ts(r,Ah);if(n.isInitialized()){const o=n.getImmediate();if(ea(e,n.getOptions()))return o;throw Nn.create("already-initialized")}return n.initialize({options:e})}function qx(r,e,n,a){r=Ft(r),Vx(TS,ql[r.app.options.appId],e,n,a).catch(o=>_n.error(o))}const i0="@firebase/analytics",r0="0.10.16";function Fx(){Di(new ii(Ah,(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return jx(a,o,n)},"PUBLIC")),Di(new ii("analytics-internal",r,"PRIVATE")),Gn(i0,r0),Gn(i0,r0,"esm2017");function r(e){try{const n=e.getProvider(Ah).getImmediate();return{logEvent:(a,o,u)=>qx(n,a,o,u)}}catch(n){throw Nn.create("interop-component-reg-failed",{reason:n})}}}Fx();const Gx={apiKey:"AIzaSyDC_YL8wau3PKK1r2ZYYHc32TtnoXe5giQ",authDomain:"stanford-lastchances.firebaseapp.com",projectId:"stanford-lastchances",storageBucket:"stanford-lastchances.firebasestorage.app",messagingSenderId:"792276801448",appId:"1:792276801448:web:84a43cc96308673321ef9d",measurementId:"G-HLD1E4T34S"},Jp=L0(Gx),Qs=c2(Jp),Qa=lO(Jp);Bx(Jp);const AS=new sr;AS.setCustomParameters({hd:"stanford.edu"});const io=["Nicolas Abad","Khaled Abdulkarim","Layla Aboukhater","Kate Kabat (Adams)","Max Adams","Krupa Adusumilli","Sabrina Afroz","Megha Agarwal","Will Agathis","Qurrat Ahmad","Naza Aibar","SimoneTess Aisiks","Tireni Ajilore","Maha Al Fahim","Khalid Alajlan","Jude Alawa","Aziz Aldawood","Bea Alessio","Faisal Alhindi","Noor Alsharif","Mubarak Alliyu","João Pedro Almeida","Mia Amin","Ricardo Anaya","Travis Anderson","Andrew Raffi Ansell","Mark Garo Ansell","Sonja Anton","Zahra Asghar","Ruby Au","Yalcin Aydin","Mohammed Azhari","Mo Babeker","Kathryn Bacher","Michael Bakan","Niranjan Balachandar","Alvaro Baleato Varela","Pranay Balijepalli","Alan Balson","Philip Balson","Erica Barry","Erin Barrett","Itai Barsade","Juan Bautista Baistrocchi","Savannah Baum","Ryan Bayne","Chris Beckmann","Pedro Benoit","Helen Berhanu","Anya Bharadwaj","Mallika Bhandari","Lauren Bilbo","Becca Blais","Caroline Blanck","Jake Blank","Mira Bodek (Mibo)","Piali Bopanna","Chris Bradbury","Sam Braunseis","Caden Broussard","Sarah Brown","Carolyn Bruckmann","Cyrus Buckman","Sabrina (Namato) Bukenya","Courtney Burton","Holly Burwick","Jesse Cai","Keith Calix","Daniela Camargo Carrillo","Maria Cano","Georgia Carroll","Tom Carroll","Zooey Wilkinson","Amir Chain Nemtala","Avis Chan","Charlotte Chang","Richa Chaturvedi","Devika Chatwani","Zoë Chazen","Anli Chen","Caroline Chen","Caro Chen","Grace Chen","Jinny Chen","Kimberly Chen","Sophia Chen","Xixi Chen","Catherine Cheng","Mariami Chikovani","Yody Chiu","Henry Choi","Wonjun Choi","Olivia Christensen","Stephen Chu","Will Clark","Eugenio Claro","Josh Cohen","Chloë Conacher","Camila Cordara","Colter Corish","Mateus Costa","Rakiya Cunningham","Bryan Danielson","Owen Davies","Joshua Davis","Ryan Davis","Ian De Luna","Nico deLuna","Batu Demir","Lydia Deneen","Gabriela Diaz","Catherine Didier","Marcos Diehl","Trey Dodson","Amir Donath","Omer Doron","Meera Doshi","Hob Du","Noelle Durkin","Zach Dyce","Iain Edmundson","Fatma Elshenawy","Nico Enriquez","Tyler Erb","Lauren Esrig","Esteban Estevez Juttner","Noelle Eveland","Valerie Fanelle","Hamza Farrukh","Andreas Fatschel","Jessica Feng","Paty Fernandez de Castro","Eliana Field-Marsham","Sofia Figueroa","Stephen Flynn","Eugénie Fontugne","Paige Frank","Daniel Freedland","Leif Frey","Mengdi (Mandy) Gao","Santiago García Vargas","Anirudh Garg","Max Garrett","Ishwar Gawande","Ben Gedeon","Uma Girkar","Dhanush Girish","David Goehring","Pablo Golac","Cayo Gonzalez","Ana Gonzalez Galindo","Carmen Gordon","Tom Gorman","Carlton Gossett","Chris Gramling","Olivia Greenberg","Sam Greenberg","Esther Gross","Katie Gudeman","Julia Guillemot","Sean Guo","Juliette Hackett","Isa Haegg","Hans Halvorsen","Richard Hamrick","Farrukh Hamza","Michelle Han","Conor Harrity","Tess Hartigan","Madi Harvey","Rachel Hersh","Sonia Hernandez","Jon Hoey","Vinicius Hojo","Kristen Hong","Royi Horowitz","Irving Hsu","Zhi Huang","Madison Hughes","Lizzie Hunpatin","Winston Huynh","Toshi Imamura","Henry Iseman","Muhammad Awais Islam","Joao Jablonski","Stephen Jacobs","Akshita Jain","Katharine Jessiman-Ketcham","Sandhya Jetty","Karen Jiang","Chloe Jin","Kripanshi Jindal","Imren Johar","Joel Johnson","Barclay Jones","Jake Jordaan","Akshatha Kamath","Esther Kamgaing","Vikram Kanodia","Chad Kanoff","Amee Kapadia","Ayesha Karnik","Allison Kaslow","Tamara Kawash","Chris Kay","Larken Kemp","Farha Khan","Sakshi Khanna","Cyrus Kharche","Laura Vanessa Kiehl","Hokuto Kikuchi","Brendan Kim","Rachel Kim","Ethan Klein","Kelsey Klein","Annie Klosowicz","Bruno Koba","Peter Koch","Ankita Kodavoor","Steven Koh","Mackenzie Kosseim","Aakash Kotak","Tomi Kovanen","Tushar Krishnan","Tomo Kumahira","Catherine Lacy","Ana Laginha","Norma Langdon","Krystal Lau","Gahong (Grace) Lee","Katrina Lee","Mark Lee","Mia Lee","Paul Lee","Conor Leen","Mikos Legrand","Tyler Lehman","Caroline Levy","Quinn Lewis","Nicki Liang","Lyn Li","Yue Li","Zhenyan (Jane) Li","Adam Lifshitz","Lexie Lin","Alice Liu","Michael Liu","Andrew Lobel","Alex Lubkin","Henry Lu","Jessica Lu","Maisie Lynton","Lucy Ma","Mark Ma","Andrea Madero","Matt Mahowald","Ndirangu (Bryan) Maina","Zac Maslia","Fernando Mata","Anthony Mattar El Raachini","Keita Matsumoto","Lauren Maymar","Alexander McCarthy","Elizabeth McNally","Ian McRae","Holley McShan","Cam McWatt","Arnav Mehta","Adam Merrill","Eric Meyers","Salome Mikadze-Struk","Jordan Miller","Mckenna Miller","Hiroaki Minoo","Madison Minsk","Bryce Mitchell","Suhani Mohan","Mehek Mohan","Munim Moiz","Mason Montgomery","Cariana Morales","Gherardo Morona","Yoshimi Muneta","Hannah Murdoch","Matt Murphy","Harshi Murthy","Carson Muscat","Marin Nagase Tominaga","Karn Nahata","Joe Nail","Sasha Nanda","Ahmad Nasir","Chase Navellier","Elliot Nell","Kyle Nelson","Ludwig Neumann","Shelly Ngo","Floriane Ngako Kameni","Danielle Nguyen","Kha-ai Nguyen","Michelle Nguyen","Dru Nkansah","Joan Nolla Suárez","Arinze Nwagbata","Gabby Nyman","Matías Oberpaur","Jerry O'Connor","Gloria Odoemelam","Ewoma Ogbaudu","John Onderdonk","Bobby O'Reilly","Sidney Owen","Michael Paretzky","Chanwoo Park","James Park","Joon Park","Terry Park","Sravan Patchala","Kayan Patel","Neal Patel","Shivam Patel","Ken Pattarasittiwate","Andrew Paulmeno","Juan Pablo","Kelli Pedersen","Kiera Peltz","Olivia Peniston","Anirudh Pennathur","Nathan Petrie","Stephanie Pham","Doug Phipps","Alan Pimstein","Jackson Polatnick","Meagan Prins-McKinney","Christina Puccinelli","Vibha Puri","Riley Quinn","Claire Rafson","Liam Rahman","Vasundhara Rakesh","Alex Rakestraw","James Ramsay","Angeline Rao","Pragati Rastogi","Advait Reddy","Glenn Reddy","Rachael Rhee","Anya Ring","Joseph Robillard","Aria Rodli","Javi Rodriguez","Abu Rogers","Katharina Rohr","Maria Rojas","Matt Rojas","Micaela Romero Valdez","Olivia Rosen","Aislin Roth","Anna Rowe","Jonathan Rozenberg","Eduardo Rubini","Rob Rush","Priscilla Russo","Shailee Samar","Payaum Sanatkar","Sonia Sarda","Philipp Schellhaas","Stefano Schiappacasse","Sophie Schick","Paul Sédille","Priyanka Seegobin","Sean Sellers","Joon Seo","Ishir Seth","Jay Shah","Mirai Shah","Shreya Shah","Evelyn Shao","Akanksha Sharma","Arushi Sharma","Annabel Shaw","Dina Sheira","Michelle Shen","Daniel Sheppard","Chris Shim","Amit Shimshi","Ila Shon","Jack Shumway","Saman Siddiqui","Billy Silk","Ramon Silva","Jackson Simon","Rohan Sinha","Patrick Skehan","Mykhailo Skrobach","Meredith Slifkin","MinJae Song","Shikhar Sood","Preetam Soundararajan","Marc-Aurele Stark","Adam Starr","Mara Steiu","Eli Stern","Jack Stone","Jack Strauss","Amanda Studebaker","Sushant Sudheendranath","Julia Sun","Kailash Sundaram","Leah Surratt","Max Susman","Gabriela Tafur","Lydia Tahraoui","Sarah Tang","Eliza Teach","Nofel Teldjoune","Emily Tench","Nattanon (Pat) Thitisarnsiri","Seyon Thomas","Claire Thompson","Nicholas Tobin","Sydney Tomlinson","Gustavo Tori","Henry Townley","Devan Trammel","Jamie Tym","Shievani Upadhyay","Christian Antonio Urrutia","Isabel Vallina Garcia","Jessica Garcia","Katie Van Dyk","Mahek Vara","Dhananjay (DJ) Varma","Agustin Villarreal","Jessica Villarreal","Sea Wachakorn","Callie Walker","Tyler Walker","Alex Wang","Ricky Wang","Jake Waskowitz","Colin Weidmann","Melanie Weinsten","Henry Welsh","Chris West","Cort White","Sadiki Wiltshire","Joseph Wise","Walter Woo","Andre Xiong","Fang (Frank) Xu","Yingkai (Kevin) Xu","Haoxiang (Mike) Yang","Talha Yousaf","Theresa Yu","Michael Yuan","Dario Zarrabian","Elena Zhang","Henry Zhang","Jade Zhang","Ruoyao Zhang","Max Zhou","Will Zhou","Bastiaan Zwanenburg","Test Account"],SS=G.createContext(null),fu=()=>{const r=G.useContext(SS);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},a0="/files/default-profile.png";function Kx(r,e){if(!r||!e)return{allowed:!1,reason:"Missing display name or email"};const n=r.trim().toLowerCase().replace(/\s+/g," ");if(io.some(u=>u.toLowerCase().replace(/\s+/g," ")===n))return{allowed:!0};const o=n.split(" ");if(o.length>=2){const u=`${o[0]} ${o[o.length-1]}`;if(io.some(m=>{const p=m.toLowerCase().replace(/\s+/g," ").split(" ");return p.length>=2?`${p[0]} ${p[p.length-1]}`===u:!1}))return{allowed:!0}}return{allowed:!1,reason:`Your name "${r}" was not found in the GSB Class of 2025 roster. Please contact the administrator if you believe this is an error.`}}const Yx=({children:r})=>{const[e,n]=G.useState(null),[a,o]=G.useState(null),[u,f]=G.useState(!0),m=D=>!D||!Array.isArray(D)?[]:D.map(I=>typeof I=="string"?{name:I,email:I.toLowerCase().replace(/\s+/g,".")+"@stanford.edu"}:I&&typeof I=="object"&&I.name&&I.email?{name:I.name,email:I.email}:{name:"Unknown",email:"unknown@stanford.edu"}),p=async()=>{if(!(e!=null&&e.uid)){console.warn("refreshUserData called without user");return}try{const D=eu(Qa,"users",e.uid),I=await Gm(D);if(I.exists()){const j=I.data(),H={uid:j.uid,email:j.email,displayName:j.displayName,photoURL:j.photoURL,verifiedName:j.verifiedName||"",crushes:j.crushes||[],lockedCrushes:j.lockedCrushes||[],matches:m(j.matches),crushCount:j.crushCount||0,createdAt:j.createdAt,updatedAt:j.updatedAt,lastLogin:j.lastLogin};o(H)}else console.error("User document does not exist after creation"),o(null)}catch(D){console.error("Error refreshing user data:",D),o(null)}},g=async D=>{var j,H;if(!D.uid)return null;const I=eu(Qa,"users",D.uid);try{const Q=await Gm(I);if(Q.exists()){const $=Q.data(),re={uid:$.uid,email:$.email,displayName:D.displayName||$.displayName,photoURL:D.photoURL||$.photoURL||a0,verifiedName:$.verifiedName||"",crushes:$.crushes||[],lockedCrushes:$.lockedCrushes||[],matches:m($.matches),crushCount:$.crushCount||0,createdAt:$.createdAt,updatedAt:xl(),lastLogin:xl()};return await XE(I,re,{merge:!0}),console.log("User document updated:",D.email),o(re),re}else{const $=Kx(D.displayName||((j=D.email)==null?void 0:j.split("@")[0])||"",D.email||"");if(!$.allowed)return console.log("User not allowed to sign up:",$.reason),await Lc(Qs),alert($.reason||"You are not authorized to access this application."),null;const re={uid:D.uid,email:D.email||"",displayName:D.displayName||((H=D.email)==null?void 0:H.split("@")[0])||"",photoURL:D.photoURL||a0,verifiedName:"",crushes:[],lockedCrushes:[],matches:[],crushCount:0,createdAt:xl(),updatedAt:xl(),lastLogin:xl()};return await XE(I,re),console.log("New user document created:",D.email),o(re),re}}catch(Q){return console.error("Error creating/updating user document:",Q),null}};G.useEffect(()=>WC(Qs,async I=>{var j;console.log("Auth state changed:",I==null?void 0:I.email),I?(j=I.email)!=null&&j.endsWith("@stanford.edu")?(n(I),await g(I),f(!1)):(console.log("Invalid email domain:",I.email),await Lc(Qs),n(null),o(null),f(!1),alert("Only @stanford.edu email addresses are allowed. Please sign in with your Stanford account.")):(n(null),o(null),f(!1))}),[]);const S={user:e,userData:a,loading:u,signInWithGoogle:async()=>{var D;try{console.log("Attempting Google sign-in...");const I=await _I(Qs,AS);if(console.log("Sign-in successful:",I.user.email),!((D=I.user.email)!=null&&D.endsWith("@stanford.edu")))throw await Lc(Qs),new Error("Only @stanford.edu email addresses are allowed")}catch(I){console.error("Login error:",I),I.code==="auth/configuration-not-found"?alert("Authentication is not properly configured. Please contact the administrator."):I.code==="auth/popup-closed-by-user"?console.log("Sign-in popup was closed by user"):I.code==="auth/cancelled-popup-request"?console.log("Another sign-in popup is already open"):alert("Login failed. Please make sure you're using a @stanford.edu email address.")}},logout:async()=>{try{await Lc(Qs),o(null),console.log("User signed out successfully")}catch(D){console.error("Logout error:",D)}},refreshUserData:p};return M.jsx(SS.Provider,{value:S,children:r})},Qx=()=>{const{signInWithGoogle:r}=fu();return M.jsx("div",{className:"login-container",children:M.jsxs("div",{className:"login-card",children:[M.jsx("h1",{children:"Stanford Last Chances"}),M.jsx("h2",{children:"GSB Class of 2025"}),M.jsxs("p",{children:["Inspired by Dartmouth's famous ",M.jsx("i",{children:"Last Chances"})," tradition for graduating seniors",M.jsx("br",{}),M.jsx("br",{}),"Share your crushes anonymously and see if there's a mutual connection 👀",M.jsx("br",{}),M.jsx("br",{}),"The site will remain active until our Stanford accounts expire in October 2025"]}),M.jsx("div",{className:"login-content",children:M.jsxs("button",{className:"google-signin-btn",onClick:r,children:[M.jsxs("svg",{className:"google-icon",viewBox:"0 0 24 24",children:[M.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),M.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),M.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),M.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with your @stanford.edu"]})})]})})},$x=()=>{const{user:r,userData:e,logout:n,refreshUserData:a}=fu(),[o,u]=G.useState(!1),[f,m]=G.useState(""),[p,g]=G.useState([]),[E,w]=G.useState([]),[S,D]=G.useState(!0),[I,j]=G.useState(!1),[H,Q]=G.useState(null),[$,re]=G.useState(!1),[ce,fe]=G.useState([]),[Ce,k]=G.useState(!1),[b,R]=G.useState(""),[x,P]=G.useState(null),[U,N]=G.useState("all"),lt=(r==null?void 0:r.email)==="jpark22@stanford.edu",ot=G.useCallback(ie=>!ie||typeof ie!="string"?"":ie.trim().toLowerCase().replace(/\s+/g," "),[]),X=G.useCallback(ie=>{const be=[],ye=ie.verifiedName;return ye&&ce.forEach(He=>{if(He.uid===ie.uid||He.isGhost)return;(He.crushes||[]).includes(ye)&&be.push({name:He.verifiedName||He.displayName,email:He.email})}),be},[ce]),oe=G.useCallback(async()=>{if(lt){k(!0);try{const ie=await JA(jA(Qa,"users")),be=[];ie.forEach(Xe=>{const pt=Xe.data();be.push({...pt,uid:Xe.id})});const ye=new Set;be.forEach(Xe=>{(Xe.crushes||[]).forEach(en=>{ye.add(en)})});const He=new Set(be.map(Xe=>Xe.verifiedName).filter(Boolean)),Oe=[];io.forEach(Xe=>{if(He.has(Xe))return;let pt=0;be.forEach(Ye=>{(Ye.crushes||[]).includes(Xe)&&pt++});const en=`ghost-${ot(Xe).replace(/\s+/g,"-")}`,Gt=`${Xe.toLowerCase().replace(/\s+/g,".")}@stanford.edu`;Oe.push({uid:en,email:Gt,displayName:Xe,photoURL:"/files/default-profile.png",verifiedName:Xe,crushes:[],lockedCrushes:[],matches:[],crushCount:pt,isGhost:!0,ghostType:pt>0?"with-crushes":"no-crushes",createdAt:null,updatedAt:null,lastLogin:null})});const ln=[...be,...Oe];ln.sort((Xe,pt)=>{const en=Xe.isGhost||!1,Gt=pt.isGhost||!1,Ye=Xe.ghostType,Le=pt.ghostType;if(!en&&Gt)return-1;if(en&&!Gt)return 1;if(en&&Gt){if(Ye==="with-crushes"&&Le==="no-crushes")return-1;if(Ye==="no-crushes"&&Le==="with-crushes")return 1}const Pt=Xe.verifiedName||Xe.displayName||Xe.email||"",Lt=pt.verifiedName||pt.displayName||pt.email||"";return Pt.localeCompare(Lt)}),fe(ln);const oi=be.length,li=Oe.filter(Xe=>Xe.ghostType==="with-crushes").length,xn=Oe.filter(Xe=>Xe.ghostType==="no-crushes").length;console.log(`Loaded ${oi} real users, ${li} ghosts with crushes, ${xn} ghosts without crushes`)}catch(ie){console.error("Error loading all users:",ie)}finally{k(!1)}}},[lt,ot]),de=G.useMemo(()=>{let ie=ce;switch(U){case"active":ie=ie.filter(ye=>!ye.isGhost);break;case"ghost":ie=ie.filter(ye=>ye.isGhost&&ye.ghostType==="with-crushes");break;case"inactive":ie=ie.filter(ye=>ye.isGhost&&ye.ghostType==="no-crushes");break}if(!b.trim())return ie;const be=b.toLowerCase();return ie.filter(ye=>{const He=(ye.verifiedName||"").toLowerCase(),Oe=(ye.displayName||"").toLowerCase(),ln=(ye.email||"").toLowerCase();return He.includes(be)||Oe.includes(be)||ln.includes(be)})},[ce,b,U]),je=G.useCallback(async()=>{if(r)try{const ie=eu(Qa,"users",r.uid),be=await Gm(ie);if(be.exists()){const ye=be.data();ye.crushes&&Array.isArray(ye.crushes)&&(g(ye.crushes),w(ye.crushes))}}catch(ie){console.error("Error loading user selections:",ie),Q("Failed to load your previous selections.")}},[r]);G.useEffect(()=>{(async()=>{try{Q(null),r&&(await je(),lt&&await oe())}catch(be){console.error("Error loading data:",be),Q("Failed to load your data. Please refresh the page.")}finally{D(!1)}})()},[r,je,oe,lt]);const O=G.useMemo(()=>{const ie=[...p];e!=null&&e.verifiedName&&ie.push(e.verifiedName);const be=io.filter(ye=>!ie.includes(ye));return f?be.filter(ye=>ye.toLowerCase().includes(f.toLowerCase())):be},[p,f,e==null?void 0:e.verifiedName]),te=G.useCallback(()=>{u(!0)},[]),le=G.useCallback(()=>o?"/files/default-profile.png":(e==null?void 0:e.photoURL)||"/files/default-profile.png",[o,e==null?void 0:e.photoURL]),ae=G.useCallback(ie=>{I||g(be=>be.includes(ie)?be.filter(ye=>ye!==ie):[...be,ie])},[I]),ge=G.useCallback(ie=>{I||((e==null?void 0:e.lockedCrushes)||[]).includes(ie)||g(ye=>ye.filter(He=>He!==ie))},[I,e==null?void 0:e.lockedCrushes]),De=G.useCallback(async()=>{if(!r||I)return;const ie=(e==null?void 0:e.lockedCrushes)||[];if(ie.filter(ye=>!p.includes(ye)).length>0){const ye=[...new Set([...p,...ie])];g(ye)}j(!0),Q(null);try{const ye=eu(Qa,"users",r.uid),He=[...new Set([...p,...ie])];await ZA(ye,{crushes:He,updatedAt:new Date}),g(He),w(He),await a();const Oe=document.createElement("div");Oe.textContent="Preferences updated successfully!",Oe.style.cssText=`
                position: fixed;
                top: 20px;
                right: 20px;
                background: #28a745;
                color: white;
                padding: 12px 20px;
                border-radius: 8px;
                z-index: 1000;
                font-weight: 500;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            `,document.body.appendChild(Oe),setTimeout(()=>{document.body.contains(Oe)&&document.body.removeChild(Oe)},3e3)}catch(ye){console.error("Error updating preferences:",ye),Q("Failed to update preferences. Please try again.")}finally{j(!1)}},[r,I,p,e==null?void 0:e.lockedCrushes,a]),Ae=ie=>{R(ie.target.value)},At=ie=>{P(x===ie?null:ie)},Be=G.useMemo(()=>{const ie=ce.filter(He=>!He.isGhost),be=ce.filter(He=>He.ghostType==="with-crushes"),ye=ce.filter(He=>He.ghostType==="no-crushes");return{realUsers:ie.length,ghostsWithCrushes:be.length,ghostsWithoutCrushes:ye.length,total:ce.length}},[ce]);if(S)return M.jsx("div",{className:"loading",children:"Loading..."});if(H)return M.jsxs("div",{className:"loading",children:[M.jsx("p",{style:{color:"red"},children:H}),M.jsx("button",{onClick:()=>window.location.reload(),children:"Refresh Page"})]});const Dn=(e==null?void 0:e.matches)&&e.matches.length>0,On=(e==null?void 0:e.crushCount)||0,Kn=(e==null?void 0:e.lockedCrushes)||[],si=JSON.stringify(p.sort())!==JSON.stringify(E.sort());return M.jsx("div",{className:"dashboard-container",children:M.jsxs("div",{className:"dashboard-card",children:[M.jsxs("div",{className:"dashboard-header",children:[M.jsx("h1",{children:"Stanford Last Chances"}),M.jsxs("div",{className:"user-info",children:[M.jsxs("div",{className:"user-details",children:[M.jsx("img",{src:le(),alt:"Profile",className:"profile-pic",onError:te,onLoad:()=>u(!1)}),M.jsxs("div",{children:[M.jsx("div",{className:"user-name",children:(e==null?void 0:e.verifiedName)||(e==null?void 0:e.displayName)||(r==null?void 0:r.displayName)}),M.jsx("div",{className:"user-email",children:r==null?void 0:r.email})]})]}),M.jsxs("div",{className:"header-actions",children:[lt&&M.jsx("button",{onClick:()=>re(!$),className:"admin-toggle-btn",children:$?"Exit Admin View":"Admin View"}),M.jsx("button",{className:"logout-btn",onClick:n,children:"Logout"})]})]})]}),M.jsx("div",{className:"dashboard-content",children:$&&lt?M.jsxs("div",{className:"admin-section",children:[M.jsx("h3",{children:"Admin View - User Data"}),M.jsx("div",{className:"admin-definitions",children:M.jsxs("div",{className:"admin-definition-grid",children:[M.jsxs("div",{className:"admin-definition-card active-definition",children:[M.jsx("div",{className:"admin-definition-header",children:M.jsx("h4",{children:"Active Users"})}),M.jsx("p",{children:"Those who have created accounts and verified their names. They can send crushes and receive matches."})]}),M.jsxs("div",{className:"admin-definition-card ghost-definition",children:[M.jsxs("div",{className:"admin-definition-header",children:[M.jsx("br",{}),M.jsx("h4",{children:"Ghost Users"})]}),M.jsx("p",{children:"Those who haven't signed up yet but are receiving crushes from active users."})]}),M.jsxs("div",{className:"admin-definition-card inactive-definition",children:[M.jsxs("div",{className:"admin-definition-header",children:[M.jsx("br",{}),M.jsx("h4",{children:"Inactive Users"})]}),M.jsx("p",{children:"Those who haven't signed up and are not receiving any crushes."}),M.jsx("br",{})]})]})}),M.jsxs("div",{className:"admin-stats-summary",children:[M.jsxs("div",{className:"admin-stat-item",children:[M.jsx("span",{className:"admin-stat-number",children:Be.realUsers}),M.jsx("span",{className:"admin-stat-label",children:"Active Users"})]}),M.jsxs("div",{className:"admin-stat-item",children:[M.jsx("span",{className:"admin-stat-number",children:Be.ghostsWithCrushes}),M.jsx("span",{className:"admin-stat-label",children:"Ghost Users"})]}),M.jsxs("div",{className:"admin-stat-item",children:[M.jsx("span",{className:"admin-stat-number",children:Be.ghostsWithoutCrushes}),M.jsx("span",{className:"admin-stat-label",children:"Inactive Users"})]}),M.jsxs("div",{className:"admin-stat-item",children:[M.jsx("span",{className:"admin-stat-number",children:io.length}),M.jsx("span",{className:"admin-stat-label",children:"Total Class"})]})]}),M.jsxs("div",{className:"admin-controls",children:[M.jsx("div",{className:"admin-search-section",children:M.jsx("input",{type:"text",placeholder:"Search users by name or email...",value:b,onChange:Ae,className:"admin-search-input"})}),M.jsx("div",{className:"admin-filter-section",children:M.jsxs("select",{value:U,onChange:ie=>N(ie.target.value),className:"admin-filter-dropdown",children:[M.jsxs("option",{value:"all",children:["All Users (",Be.total,")"]}),M.jsxs("option",{value:"active",children:["Active Users (",Be.realUsers,")"]}),M.jsxs("option",{value:"ghost",children:["Ghost Users (",Be.ghostsWithCrushes,")"]}),M.jsxs("option",{value:"inactive",children:["Inactive Users (",Be.ghostsWithoutCrushes,")"]})]})})]}),Ce?M.jsx("div",{className:"loading",children:"Loading users..."}):M.jsxs("div",{className:"admin-users-container",children:[de.map(ie=>{var xn,Xe,pt,en;const be=x===ie.uid,ye=ie.crushCount||0,He=X(ie),Oe=ie.isGhost||!1,ln=ie.ghostType,oi=ie.verifiedName||ie.displayName||ie.email,li=!!(ie.verifiedName&&ie.verifiedName.trim());return M.jsxs("div",{className:`admin-user-item ${Oe?`admin-user-ghost admin-user-ghost-${ln}`:""}`,children:[M.jsxs("div",{className:"admin-user-header",children:[M.jsxs("div",{className:"admin-user-info",children:[M.jsxs("div",{className:"admin-user-name",children:[oi,Oe&&ln==="with-crushes"&&M.jsx("span",{style:{color:"#dc3545",marginLeft:"8px",fontSize:"11px"},children:"👻 Ghost User"}),Oe&&ln==="no-crushes"&&M.jsx("span",{style:{color:"#6c757d",marginLeft:"8px",fontSize:"11px"},children:"💤 Inactive User"}),!Oe&&!li&&M.jsx("span",{style:{color:"#dc3545",marginLeft:"8px",fontSize:"11px"},children:"(Not verified)"})]}),M.jsx("div",{className:"admin-user-email",children:ie.email}),M.jsxs("div",{className:"admin-user-stats",children:[ye," crushing • ",((xn=ie.matches)==null?void 0:xn.length)||0," matches • ",((Xe=ie.crushes)==null?void 0:Xe.length)||0," selected",!Oe&&ye!==He.length&&M.jsxs("span",{style:{color:"#dc3545",marginLeft:"8px"},children:["(calc: ",He.length,")"]})]})]}),M.jsx("button",{onClick:()=>At(ie.uid),className:"admin-view-btn",disabled:Oe&&ln==="no-crushes",children:Oe&&ln==="no-crushes"?"No Data":be?"Collapse":"View"})]}),be&&!(Oe&&ln==="no-crushes")&&M.jsxs("div",{className:"admin-user-expanded",children:[M.jsx("div",{className:"admin-view-header",children:M.jsxs("h4",{children:["Data for ",oi,":"]})}),M.jsxs("div",{className:"admin-data-grid",children:[M.jsxs("div",{className:"admin-data-card",children:[M.jsx("div",{className:"admin-data-number",children:ye}),M.jsx("div",{className:"admin-data-label",children:"People Crushing On Them"}),He.length>0&&M.jsx("div",{className:"admin-data-names",children:He.map((Gt,Ye)=>M.jsx("div",{className:"admin-name-item",children:Gt.name},Ye))}),!Oe&&ye!==He.length&&M.jsxs("div",{className:"admin-discrepancy",children:["⚠️ DB shows ",ye,", calc shows ",He.length]})]}),M.jsxs("div",{className:"admin-data-card",children:[M.jsx("div",{className:"admin-data-number",children:((pt=ie.matches)==null?void 0:pt.length)||0}),M.jsx("div",{className:"admin-data-label",children:"Matches"}),ie.matches&&ie.matches.length>0&&M.jsx("div",{className:"admin-data-names",children:ie.matches.map((Gt,Ye)=>M.jsx("div",{className:"admin-name-item",children:Gt.name},Ye))}),Oe&&M.jsx("div",{className:"admin-no-activity",children:"Ghost users cannot have matches yet"})]}),M.jsxs("div",{className:"admin-data-card",children:[M.jsx("div",{className:"admin-data-number",children:((en=ie.crushes)==null?void 0:en.length)||0}),M.jsx("div",{className:"admin-data-label",children:"Crushes Sent"}),ie.crushes&&ie.crushes.length>0&&M.jsx("div",{className:"admin-data-names",children:ie.crushes.map((Gt,Ye)=>{var Pt;const Le=(Pt=ie.lockedCrushes)==null?void 0:Pt.includes(Gt);return M.jsxs("div",{className:`admin-name-item ${Le?"locked":""}`,children:[Gt," ",Le&&"🔒"]},Ye)})}),Oe&&M.jsx("div",{className:"admin-no-activity",children:"Ghost users haven't signed up yet"})]})]}),!Oe&&ye===0&&(!ie.matches||ie.matches.length===0)&&(!ie.crushes||ie.crushes.length===0)&&M.jsx("div",{className:"admin-no-activity",children:"No activity"})]})]},ie.uid)}),de.length===0&&M.jsx("div",{className:"no-results",children:b?"No users found.":"No users available."})]})]}):M.jsxs(M.Fragment,{children:[On>0&&M.jsx("div",{className:"crush-count-section",children:M.jsxs("h2",{children:[On," ",On===1?"person is":"people are"," crushing on you!"]})}),Dn&&M.jsxs("div",{className:"matches-section",children:[M.jsxs("h2",{children:["🎉 You have ",e.matches.length," match",e.matches.length>1?"es":"","!"]}),M.jsx("div",{className:"matches-list",children:e.matches.map((ie,be)=>M.jsxs("div",{className:"match-item",children:[M.jsx("div",{className:"match-name",children:ie.name}),M.jsx("div",{className:"match-email",children:ie.email})]},be))})]}),M.jsx("div",{className:"header-section",children:M.jsx("div",{className:"instructions",children:M.jsxs("ol",{children:[M.jsx("li",{children:"Select any classmates you'd like to connect with. Your selections are completely private - only you can see who you've chosen."}),M.jsx("li",{children:`Click "Update Preferences" to save your changes. Matches appear automatically when someone you've selected also selects you. Matches are completely private.`}),M.jsx("li",{children:"You can add or remove names anytime. There's no limit on how many people you can select, and you can change your preferences as often as you want."}),M.jsx("li",{children:"Once you match with someone, you cannot remove them from your list."})]})})}),M.jsxs("div",{className:"selection-counter",children:[p.length," selected",si&&M.jsx("span",{className:"unsaved-badge",children:"UNSAVED CHANGES"})]}),p.length>0&&M.jsxs("div",{className:"selected-names",children:[M.jsxs("h3",{children:["Your Selections (",p.length,")"]}),M.jsx("div",{className:"name-chips",children:p.map(ie=>{const be=Kn.includes(ie);return M.jsxs("div",{className:`name-chip ${be?"locked":"selected"}`,children:[M.jsx("span",{children:ie}),be?M.jsx("span",{className:"lock-icon",title:"Locked - you have matched with this person",children:"🔒"}):M.jsx("button",{onClick:()=>ge(ie),className:"remove-btn","aria-label":`Remove ${ie}`,disabled:I,children:"×"})]},ie)})})]}),M.jsx("div",{className:"search-section",children:M.jsx("input",{type:"text",placeholder:"Search names...",value:f,onChange:ie=>m(ie.target.value),className:"search-input"})}),M.jsxs("div",{className:"available-names",children:[M.jsxs("h3",{children:["Classmates",f&&` (${O.length} found)`]}),M.jsxs("div",{className:"names-simple-list",children:[O.map(ie=>M.jsxs("div",{onClick:()=>!I&&ae(ie),className:`name-list-item ${I?"disabled":""}`,children:[M.jsx("span",{className:"name-text",children:ie}),M.jsx("span",{className:"add-btn",children:"+"})]},ie)),O.length===0&&M.jsx("div",{className:"no-results",children:f?"No names found matching your search.":"All classmates have been selected!"})]})]}),M.jsx("div",{className:"action-section",children:M.jsx("div",{className:"action-buttons",children:M.jsx("button",{onClick:De,disabled:I||!si,className:"update-btn",children:I?"Updating...":"Update Preferences"})})}),H&&M.jsx("div",{className:"error-message",style:{color:"red",textAlign:"center",marginTop:"15px"},children:H})]})})]})})},Xx=()=>{const{user:r,refreshUserData:e,logout:n}=fu(),[a,o]=G.useState(""),[u,f]=G.useState(!1),[m,p]=G.useState(!0),[g,E]=G.useState(null),[w,S]=G.useState(new Set);G.useEffect(()=>{r&&(async()=>{try{p(!0),E(null);const H=jA(Qa,"takenNames"),Q=await JA(H),$=new Set;Q.forEach(re=>{$.add(re.id)}),S($)}catch(H){console.error("Error fetching taken names:",H),E("Failed to load available names. Please refresh the page.")}finally{p(!1)}})()},[r]);const D=G.useMemo(()=>io.map(j=>({name:j,isTaken:w.has(j),matchesSearch:!a||j.toLowerCase().includes(a.toLowerCase())})).filter(j=>j.matchesSearch),[a,w]),I=G.useCallback(async j=>{if(!(!r||u)){if(w.has(j)){E("This name has already been taken by another user. Please select a different name.");return}f(!0),E(null);try{const H=eu(Qa,"users",r.uid);await ZA(H,{verifiedName:j,updatedAt:new Date}),await e()}catch(H){console.error("Error saving verified name:",H),E("Failed to save your selection. Please try again.")}finally{f(!1)}}},[r,u,e,w]);return m?M.jsx("div",{className:"loading",children:"Loading available names..."}):g&&w.size===0?M.jsxs("div",{className:"loading",children:[M.jsx("p",{style:{color:"red"},children:g}),M.jsx("button",{onClick:()=>window.location.reload(),children:"Refresh Page"})]}):M.jsx("div",{className:"verification-container",children:M.jsxs("div",{className:"verification-card",children:[M.jsxs("div",{className:"verification-header",children:[M.jsx("h1",{children:"Stanford Last Chances"}),M.jsxs("div",{className:"user-info",children:[M.jsx("span",{children:r==null?void 0:r.email}),M.jsx("button",{className:"logout-btn",onClick:n,children:"Logout"})]})]}),M.jsxs("div",{className:"verification-content",children:[M.jsx("h2",{children:"To ensure accuracy of matches, which Class of 2025 student are you?"}),M.jsxs("p",{children:["Please select ",M.jsx("b",{children:"your name"})," from the list below, not your crush's name."]}),M.jsx("div",{className:"search-section",children:M.jsx("input",{type:"text",placeholder:"Search for your name...",value:a,onChange:j=>o(j.target.value),className:"search-input"})}),M.jsx("br",{}),M.jsxs("div",{className:"names-list",children:[M.jsxs("h3",{children:["GSB MBA Class of 2025",a&&` (${D.length} found)`]}),M.jsxs("div",{className:"names-verification-list",children:[D.map(({name:j,isTaken:H})=>M.jsxs("div",{onClick:()=>!u&&!H&&I(j),className:`name-verification-item ${u||H?"disabled":""}`,children:[M.jsx("span",{className:"name-text",children:j}),M.jsx("span",{className:`select-btn ${H?"taken":""}`,children:H?"Taken":"Select"})]},j)),D.length===0&&M.jsx("div",{className:"no-results",children:a?"No available names found matching your search.":"No names available."})]})]}),u&&M.jsx("div",{className:"saving-indicator",children:"Saving your selection..."}),g&&M.jsx("div",{className:"error-message",style:{color:"red",textAlign:"center",marginTop:"15px"},children:g})]})]})})},Jx=({children:r})=>{const{user:e,userData:n,loading:a}=fu();return a?M.jsx("div",{className:"loading",children:"Loading..."}):e?n?!n.verifiedName||n.verifiedName.trim()===""?M.jsx(Xx,{}):M.jsx(M.Fragment,{children:r}):M.jsx("div",{className:"loading",children:"Setting up your account..."}):M.jsx(g0,{to:"/login"})},Zx=({children:r})=>{const{user:e,loading:n}=fu();return n?M.jsx("div",{className:"loading",children:"Loading..."}):e?M.jsx(g0,{to:"/"}):M.jsx(M.Fragment,{children:r})};function Wx(){return M.jsx(Yx,{children:M.jsx(v1,{children:M.jsx("div",{className:"App",children:M.jsxs(Qb,{children:[M.jsx(vm,{path:"/login",element:M.jsx(Zx,{children:M.jsx(Qx,{})})}),M.jsx(vm,{path:"/",element:M.jsx(Jx,{children:M.jsx($x,{})})})]})})})})}ib.createRoot(document.getElementById("root")).render(M.jsx(G.StrictMode,{children:M.jsx(Wx,{})}));
