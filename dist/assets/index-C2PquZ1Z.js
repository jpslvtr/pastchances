(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var qd={exports:{}},Al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function Pb(){if(s_)return Al;s_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Al.Fragment=e,Al.jsx=n,Al.jsxs=n,Al}var o_;function Lb(){return o_||(o_=1,qd.exports=Pb()),qd.exports}var J=Lb(),Fd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function Ub(){if(l_)return Re;l_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=b&&x[b]||x["@@iterator"],typeof x=="function"?x:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,H={};function q(x,te,oe){this.props=x,this.context=te,this.refs=H,this.updater=oe||N}q.prototype.isReactComponent={},q.prototype.setState=function(x,te){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,te,"setState")},q.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Y(){}Y.prototype=q.prototype;function ee(x,te,oe){this.props=x,this.context=te,this.refs=H,this.updater=oe||N}var re=ee.prototype=new Y;re.constructor=ee,D(re,q.prototype),re.isPureReactComponent=!0;var he=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},be=Object.prototype.hasOwnProperty;function k(x,te,oe,ie,me,De){return oe=De.ref,{$$typeof:r,type:x,key:te,ref:oe!==void 0?oe:null,props:De}}function w(x,te){return k(x.type,te,void 0,void 0,void 0,x.props)}function I(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function M(x){var te={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(oe){return te[oe]})}var P=/\/+/g;function O(x,te){return typeof x=="object"&&x!==null&&x.key!=null?M(""+x.key):te.toString(36)}function R(){}function Be(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(R,R):(x.status="pending",x.then(function(te){x.status==="pending"&&(x.status="fulfilled",x.value=te)},function(te){x.status==="pending"&&(x.status="rejected",x.reason=te)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function st(x,te,oe,ie,me){var De=typeof x;(De==="undefined"||De==="boolean")&&(x=null);var Ae=!1;if(x===null)Ae=!0;else switch(De){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(x.$$typeof){case r:case e:Ae=!0;break;case E:return Ae=x._init,st(Ae(x._payload),te,oe,ie,me)}}if(Ae)return me=me(x),Ae=ie===""?"."+O(x,0):ie,he(me)?(oe="",Ae!=null&&(oe=Ae.replace(P,"$&/")+"/"),st(me,te,oe,"",function(Yn){return Yn})):me!=null&&(I(me)&&(me=w(me,oe+(me.key==null||x&&x.key===me.key?"":(""+me.key).replace(P,"$&/")+"/")+Ae)),te.push(me)),1;Ae=0;var Ct=ie===""?".":ie+":";if(he(x))for(var We=0;We<x.length;We++)ie=x[We],De=Ct+O(ie,We),Ae+=st(ie,te,oe,De,me);else if(We=S(x),typeof We=="function")for(x=We.call(x),We=0;!(ie=x.next()).done;)ie=ie.value,De=Ct+O(ie,We++),Ae+=st(ie,te,oe,De,me);else if(De==="object"){if(typeof x.then=="function")return st(Be(x),te,oe,ie,me);throw te=String(x),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function Q(x,te,oe){if(x==null)return x;var ie=[],me=0;return st(x,ie,"","",function(De){return te.call(oe,De,me++)}),ie}function se(x){if(x._status===-1){var te=x._result;te=te(),te.then(function(oe){(x._status===0||x._status===-1)&&(x._status=1,x._result=oe)},function(oe){(x._status===0||x._status===-1)&&(x._status=2,x._result=oe)}),x._status===-1&&(x._status=0,x._result=te)}if(x._status===1)return x._result.default;throw x._result}var de=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function je(){}return Re.Children={map:Q,forEach:function(x,te,oe){Q(x,function(){te.apply(this,arguments)},oe)},count:function(x){var te=0;return Q(x,function(){te++}),te},toArray:function(x){return Q(x,function(te){return te})||[]},only:function(x){if(!I(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Re.Component=q,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=ee,Re.StrictMode=a,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Re.__COMPILER_RUNTIME={__proto__:null,c:function(x){return ce.H.useMemoCache(x)}},Re.cache=function(x){return function(){return x.apply(null,arguments)}},Re.cloneElement=function(x,te,oe){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ie=D({},x.props),me=x.key,De=void 0;if(te!=null)for(Ae in te.ref!==void 0&&(De=void 0),te.key!==void 0&&(me=""+te.key),te)!be.call(te,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&te.ref===void 0||(ie[Ae]=te[Ae]);var Ae=arguments.length-2;if(Ae===1)ie.children=oe;else if(1<Ae){for(var Ct=Array(Ae),We=0;We<Ae;We++)Ct[We]=arguments[We+2];ie.children=Ct}return k(x.type,me,void 0,void 0,De,ie)},Re.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Re.createElement=function(x,te,oe){var ie,me={},De=null;if(te!=null)for(ie in te.key!==void 0&&(De=""+te.key),te)be.call(te,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(me[ie]=te[ie]);var Ae=arguments.length-2;if(Ae===1)me.children=oe;else if(1<Ae){for(var Ct=Array(Ae),We=0;We<Ae;We++)Ct[We]=arguments[We+2];me.children=Ct}if(x&&x.defaultProps)for(ie in Ae=x.defaultProps,Ae)me[ie]===void 0&&(me[ie]=Ae[ie]);return k(x,De,void 0,void 0,null,me)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(x){return{$$typeof:m,render:x}},Re.isValidElement=I,Re.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:se}},Re.memo=function(x,te){return{$$typeof:y,type:x,compare:te===void 0?null:te}},Re.startTransition=function(x){var te=ce.T,oe={};ce.T=oe;try{var ie=x(),me=ce.S;me!==null&&me(oe,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(je,de)}catch(De){de(De)}finally{ce.T=te}},Re.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Re.use=function(x){return ce.H.use(x)},Re.useActionState=function(x,te,oe){return ce.H.useActionState(x,te,oe)},Re.useCallback=function(x,te){return ce.H.useCallback(x,te)},Re.useContext=function(x){return ce.H.useContext(x)},Re.useDebugValue=function(){},Re.useDeferredValue=function(x,te){return ce.H.useDeferredValue(x,te)},Re.useEffect=function(x,te,oe){var ie=ce.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(x,te)},Re.useId=function(){return ce.H.useId()},Re.useImperativeHandle=function(x,te,oe){return ce.H.useImperativeHandle(x,te,oe)},Re.useInsertionEffect=function(x,te){return ce.H.useInsertionEffect(x,te)},Re.useLayoutEffect=function(x,te){return ce.H.useLayoutEffect(x,te)},Re.useMemo=function(x,te){return ce.H.useMemo(x,te)},Re.useOptimistic=function(x,te){return ce.H.useOptimistic(x,te)},Re.useReducer=function(x,te,oe){return ce.H.useReducer(x,te,oe)},Re.useRef=function(x){return ce.H.useRef(x)},Re.useState=function(x){return ce.H.useState(x)},Re.useSyncExternalStore=function(x,te,oe){return ce.H.useSyncExternalStore(x,te,oe)},Re.useTransition=function(){return ce.H.useTransition()},Re.version="19.1.0",Re}var u_;function Fm(){return u_||(u_=1,Fd.exports=Ub()),Fd.exports}var G=Fm(),Gd={exports:{}},Sl={},Kd={exports:{}},Yd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function zb(){return c_||(c_=1,function(r){function e(Q,se){var de=Q.length;Q.push(se);e:for(;0<de;){var je=de-1>>>1,x=Q[je];if(0<o(x,se))Q[je]=se,Q[de]=x,de=je;else break e}}function n(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var se=Q[0],de=Q.pop();if(de!==se){Q[0]=de;e:for(var je=0,x=Q.length,te=x>>>1;je<te;){var oe=2*(je+1)-1,ie=Q[oe],me=oe+1,De=Q[me];if(0>o(ie,de))me<x&&0>o(De,ie)?(Q[je]=De,Q[me]=de,je=me):(Q[je]=ie,Q[oe]=de,je=oe);else if(me<x&&0>o(De,de))Q[je]=De,Q[me]=de,je=me;else break e}}return se}function o(Q,se){var de=Q.sortIndex-se.sortIndex;return de!==0?de:Q.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,b=null,S=3,N=!1,D=!1,H=!1,q=!1,Y=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function he(Q){for(var se=n(y);se!==null;){if(se.callback===null)a(y);else if(se.startTime<=Q)a(y),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(y)}}function ce(Q){if(H=!1,he(Q),!D)if(n(p)!==null)D=!0,be||(be=!0,O());else{var se=n(y);se!==null&&st(ce,se.startTime-Q)}}var be=!1,k=-1,w=5,I=-1;function M(){return q?!0:!(r.unstable_now()-I<w)}function P(){if(q=!1,be){var Q=r.unstable_now();I=Q;var se=!0;try{e:{D=!1,H&&(H=!1,ee(k),k=-1),N=!0;var de=S;try{t:{for(he(Q),b=n(p);b!==null&&!(b.expirationTime>Q&&M());){var je=b.callback;if(typeof je=="function"){b.callback=null,S=b.priorityLevel;var x=je(b.expirationTime<=Q);if(Q=r.unstable_now(),typeof x=="function"){b.callback=x,he(Q),se=!0;break t}b===n(p)&&a(p),he(Q)}else a(p);b=n(p)}if(b!==null)se=!0;else{var te=n(y);te!==null&&st(ce,te.startTime-Q),se=!1}}break e}finally{b=null,S=de,N=!1}se=void 0}}finally{se?O():be=!1}}}var O;if(typeof re=="function")O=function(){re(P)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Be=R.port2;R.port1.onmessage=P,O=function(){Be.postMessage(null)}}else O=function(){Y(P,0)};function st(Q,se){k=Y(function(){Q(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var de=S;S=se;try{return Q()}finally{S=de}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=S;S=Q;try{return se()}finally{S=de}},r.unstable_scheduleCallback=function(Q,se,de){var je=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?je+de:je):de=je,Q){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=de+x,Q={id:E++,callback:se,priorityLevel:Q,startTime:de,expirationTime:x,sortIndex:-1},de>je?(Q.sortIndex=de,e(y,Q),n(p)===null&&Q===n(y)&&(H?(ee(k),k=-1):H=!0,st(ce,de-je))):(Q.sortIndex=x,e(p,Q),D||N||(D=!0,be||(be=!0,O()))),Q},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Q){var se=S;return function(){var de=S;S=se;try{return Q.apply(this,arguments)}finally{S=de}}}}(Yd)),Yd}var h_;function Bb(){return h_||(h_=1,Kd.exports=zb()),Kd.exports}var Qd={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function jb(){if(f_)return Kt;f_=1;var r=Fm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Kt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Kt.flushSync=function(p){var y=f.T,E=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=y,a.p=E,a.d.f()}},Kt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},Kt.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Kt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,N=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:N}):E==="script"&&a.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:N,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Kt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},Kt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);a.d.L(p,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Kt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},Kt.requestFormReset=function(p){a.d.r(p)},Kt.unstable_batchedUpdates=function(p,y){return p(y)},Kt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kt.version="19.1.0",Kt}var d_;function Hb(){if(d_)return Qd.exports;d_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Qd.exports=jb(),Qd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function qb(){if(m_)return Sl;m_=1;var r=Bb(),e=Fm(),n=Hb();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===s){_=!0,s=h,l=d;break}if(T===l){_=!0,l=h,s=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===s){_=!0,s=d,l=h;break}if(T===l){_=!0,l=d,s=h;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),ee=Symbol.for("react.consumer"),re=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case q:return"Profiler";case H:return"StrictMode";case ce:return"Suspense";case be:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case re:return(t.displayName||"Context")+".Provider";case ee:return(t._context.displayName||"Context")+".Consumer";case he:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return i=t.displayName||null,i!==null?i:Be(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return Be(t(i))}catch{}}return null}var st=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},je=[],x=-1;function te(t){return{current:t}}function oe(t){0>x||(t.current=je[x],je[x]=null,x--)}function ie(t,i){x++,je[x]=t.current,t.current=i}var me=te(null),De=te(null),Ae=te(null),Ct=te(null);function We(t,i){switch(ie(Ae,i),ie(De,t),ie(me,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Vv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Vv(i),t=kv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(me),ie(me,t)}function Yn(){oe(me),oe(De),oe(Ae)}function tr(t){t.memoizedState!==null&&ie(Ct,t);var i=me.current,s=kv(i,t.type);i!==s&&(ie(De,t),ie(me,s))}function Ei(t){De.current===t&&(oe(me),oe(De)),Ct.current===t&&(oe(Ct),yl._currentValue=de)}var $r=Object.prototype.hasOwnProperty,Xr=r.unstable_scheduleCallback,Jr=r.unstable_cancelCallback,mo=r.unstable_shouldYield,su=r.unstable_requestPaint,En=r.unstable_now,Hh=r.unstable_getCurrentPriorityLevel,po=r.unstable_ImmediatePriority,Ya=r.unstable_UserBlockingPriority,Zr=r.unstable_NormalPriority,qh=r.unstable_LowPriority,Qa=r.unstable_IdlePriority,go=r.log,ou=r.unstable_setDisableYieldValue,ot=null,Ge=null;function ln(t){if(typeof go=="function"&&ou(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ot,t)}catch{}}var Ft=Math.clz32?Math.clz32:Wr,lu=Math.log,Fh=Math.LN2;function Wr(t){return t>>>=0,t===0?32:31-(lu(t)/Fh|0)|0}var ea=256,ta=4194304;function Vn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $a(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Vn(l):(_&=T,_!==0?h=Vn(_):s||(s=T&~t,s!==0&&(h=Vn(s))))):(T=l&~d,T!==0?h=Vn(T):_!==0?h=Vn(_):s||(s=l&~t,s!==0&&(h=Vn(s)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:h}function na(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function yo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vo(){var t=ea;return ea<<=1,(ea&4194048)===0&&(ea=256),t}function _o(){var t=ta;return ta<<=1,(ta&62914560)===0&&(ta=4194304),t}function Ti(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Ai(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Eo(t,i,s,l,h,d){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(s=_&~s;0<s;){var $=31-Ft(s),Z=1<<$;T[$]=0,C[$]=-1;var j=B[$];if(j!==null)for(B[$]=null,$=0;$<j.length;$++){var F=j[$];F!==null&&(F.lane&=-536870913)}s&=~Z}l!==0&&Qn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Qn(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Ft(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function To(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-Ft(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function nr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ir(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:e_(t.type))}function uu(t,i){var s=se.p;try{return se.p=t,i()}finally{se.p=s}}var tt=Math.random().toString(36).slice(2),Et="__reactFiber$"+tt,pt="__reactProps$"+tt,Tn="__reactContainer$"+tt,Ao="__reactEvents$"+tt,Gh="__reactListeners$"+tt,rr="__reactHandles$"+tt,cu="__reactResources$"+tt,ia="__reactMarker$"+tt;function ar(t){delete t[Et],delete t[pt],delete t[Ao],delete t[Gh],delete t[rr]}function Si(t){var i=t[Et];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Tn]||s[Et]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=zv(t);t!==null;){if(s=t[Et])return s;t=zv(t)}return i}t=s,s=t.parentNode}return null}function $n(t){if(t=t[Et]||t[Tn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Xn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Jt(t){var i=t[cu];return i||(i=t[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ht(t){t[ia]=!0}var So=new Set,Ja={};function kn(t,i){bi(t,i),bi(t+"Capture",i)}function bi(t,i){for(Ja[t]=i,t=0;t<i.length;t++)So.add(i[t])}var hu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fu={},ra={};function du(t){return $r.call(ra,t)?!0:$r.call(fu,t)?!1:hu.test(t)?ra[t]=!0:(fu[t]=!0,!1)}function sr(t,i,s){if(du(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function Jn(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function kt(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var aa,mu;function wi(t){if(aa===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);aa=i&&i[1]||"",mu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+aa+t+mu}var Za=!1;function Wa(t,i){if(!t||Za)return"";Za=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var j=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){j=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){j=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&j&&typeof F.stack=="string")return[F.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),B=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===B.length)for(l=C.length-1,h=B.length-1;1<=l&&0<=h&&C[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==B[h]){var $=`
`+C[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{Za=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?wi(s):""}function bo(t){switch(t.tag){case 26:case 27:case 5:return wi(t.type);case 16:return wi("Lazy");case 13:return wi("Suspense");case 19:return wi("SuspenseList");case 0:case 15:return Wa(t.type,!1);case 11:return Wa(t.type.render,!1);case 1:return Wa(t.type,!0);case 31:return wi("Activity");default:return""}}function es(t){try{var i="";do i+=bo(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Kh(t){var i=wo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ts(t){t._valueTracker||(t._valueTracker=Kh(t))}function Ro(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=wo(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function sa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Yh=/[\n"\\]/g;function gt(t){return t.replace(Yh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function un(t,i,s,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Zt(i)):t.value!==""+Zt(i)&&(t.value=""+Zt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?or(t,_,Zt(i)):s!=null?or(t,_,Zt(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Zt(T):t.removeAttribute("name")}function oa(t,i,s,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+Zt(s):"",i=i!=null?""+Zt(i):s,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function or(t,i,s){i==="number"&&sa(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ri(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Zt(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Qe(t,i,s){if(i!=null&&(i=""+Zt(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Zt(s):""}function la(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(st(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Zt(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function An(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var ua=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pu(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||ua.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Io(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&pu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&pu(t,d,i[d])}function Co(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$h=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ns(t){return $h.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ii=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ci=null,Di=null;function Do(t){var i=$n(t);if(i&&(t=i.stateNode)){var s=t[pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(un(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+gt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[pt]||null;if(!h)throw Error(a(90));un(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&Ro(l)}break e;case"textarea":Qe(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Ri(t,!!s.multiple,i,!1)}}}var Zn=!1;function gu(t,i,s){if(Zn)return t(i,s);Zn=!0;try{var l=t(i);return l}finally{if(Zn=!1,(Ci!==null||Di!==null)&&(uc(),Ci&&(i=Ci,t=Di,Di=Ci=null,Do(i),t)))for(i=0;i<t.length;i++)Do(t[i])}}function ca(t,i){var s=t.stateNode;if(s===null)return null;var l=s[pt]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bn=!1;if(Pn)try{var ha={};Object.defineProperty(ha,"passive",{get:function(){bn=!0}}),window.addEventListener("test",ha,ha),window.removeEventListener("test",ha,ha)}catch{bn=!1}var Wn=null,lr=null,Ni=null;function No(){if(Ni)return Ni;var t,i=lr,s=i.length,l,h="value"in Wn?Wn.value:Wn.textContent,d=h.length;for(t=0;t<s&&i[t]===h[t];t++);var _=s-t;for(l=1;l<=_&&i[s-l]===h[d-l];l++);return Ni=h.slice(t,1<l?1-l:void 0)}function ei(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ti(){return!0}function Oo(){return!1}function Dt(t){function i(s,l,h,d,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ti:Oo,this.isPropagationStopped=Oo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),i}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=Dt(qe),fa=E({},qe,{view:0,detail:0}),yu=Dt(fa),rs,as,ni,da=E({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ga,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ni&&(ni&&t.type==="mousemove"?(rs=t.screenX-ni.screenX,as=t.screenY-ni.screenY):as=rs=0,ni=t),rs)},movementY:function(t){return"movementY"in t?t.movementY:as}}),wn=Dt(da),vu=E({},da,{dataTransfer:0}),Xh=Dt(vu),ma=E({},fa,{relatedTarget:0}),ss=Dt(ma),Mo=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),os=Dt(Mo),_u=E({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ls=Dt(_u),Jh=E({},qe,{data:0}),xo=Dt(Jh),pa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Tu[t])?!!i[t]:!1}function ga(){return Vo}var Au=E({},fa,{key:function(t){if(t.key){var i=pa[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ei(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ga,charCode:function(t){return t.type==="keypress"?ei(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ei(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),us=Dt(Au),Su=E({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ko=Dt(Su),Oi=E({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ga}),bu=Dt(Oi),wu=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ru=Dt(wu),Iu=E({},da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cs=Dt(Iu),Wt=E({},qe,{newState:0,oldState:0}),Cu=Dt(Wt),Du=[9,13,27,32],ii=Pn&&"CompositionEvent"in window,c=null;Pn&&"documentMode"in document&&(c=document.documentMode);var g=Pn&&"TextEvent"in window&&!c,v=Pn&&(!ii||c&&8<c&&11>=c),A=" ",U=!1;function K(t,i){switch(t){case"keyup":return Du.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ke=!1;function Tt(t,i){switch(t){case"compositionend":return ae(i);case"keypress":return i.which!==32?null:(U=!0,A);case"textInput":return t=i.data,t===A&&U?null:t;default:return null}}function Pe(t,i){if(ke)return t==="compositionend"||!ii&&K(t,i)?(t=No(),Ni=lr=Wn=null,ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Nt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function At(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Nt[t.type]:i==="textarea"}function Mi(t,i,s,l){Ci?Di?Di.push(l):Di=[l]:Ci=l,i=pc(i,"onChange"),0<i.length&&(s=new is("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var Pt=null,ri=null;function Po(t){Dv(t,0)}function Nu(t){var i=Xn(t);if(Ro(i))return t}function Xp(t,i){if(t==="change")return i}var Jp=!1;if(Pn){var Zh;if(Pn){var Wh="oninput"in document;if(!Wh){var Zp=document.createElement("div");Zp.setAttribute("oninput","return;"),Wh=typeof Zp.oninput=="function"}Zh=Wh}else Zh=!1;Jp=Zh&&(!document.documentMode||9<document.documentMode)}function Wp(){Pt&&(Pt.detachEvent("onpropertychange",eg),ri=Pt=null)}function eg(t){if(t.propertyName==="value"&&Nu(ri)){var i=[];Mi(i,ri,t,Sn(t)),gu(Po,i)}}function fS(t,i,s){t==="focusin"?(Wp(),Pt=i,ri=s,Pt.attachEvent("onpropertychange",eg)):t==="focusout"&&Wp()}function dS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nu(ri)}function mS(t,i){if(t==="click")return Nu(i)}function pS(t,i){if(t==="input"||t==="change")return Nu(i)}function gS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var cn=typeof Object.is=="function"?Object.is:gS;function Lo(t,i){if(cn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!$r.call(i,h)||!cn(t[h],i[h]))return!1}return!0}function tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ng(t,i){var s=tg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=tg(s)}}function ig(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ig(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function rg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=sa(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=sa(t.document)}return i}function ef(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var yS=Pn&&"documentMode"in document&&11>=document.documentMode,hs=null,tf=null,Uo=null,nf=!1;function ag(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;nf||hs==null||hs!==sa(l)||(l=hs,"selectionStart"in l&&ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Uo&&Lo(Uo,l)||(Uo=l,l=pc(tf,"onSelect"),0<l.length&&(i=new is("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=hs)))}function ya(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var fs={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},rf={},sg={};Pn&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function va(t){if(rf[t])return rf[t];if(!fs[t])return t;var i=fs[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in sg)return rf[t]=i[s];return t}var og=va("animationend"),lg=va("animationiteration"),ug=va("animationstart"),vS=va("transitionrun"),_S=va("transitionstart"),ES=va("transitioncancel"),cg=va("transitionend"),hg=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function Ln(t,i){hg.set(t,i),kn(i,[t])}var fg=new WeakMap;function Rn(t,i){if(typeof t=="object"&&t!==null){var s=fg.get(t);return s!==void 0?s:(i={value:t,source:i,stack:es(i)},fg.set(t,i),i)}return{value:t,source:i,stack:es(i)}}var In=[],ds=0,sf=0;function Ou(){for(var t=ds,i=sf=ds=0;i<t;){var s=In[i];In[i++]=null;var l=In[i];In[i++]=null;var h=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&dg(s,h,d)}}function Mu(t,i,s,l){In[ds++]=t,In[ds++]=i,In[ds++]=s,In[ds++]=l,sf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function of(t,i,s,l){return Mu(t,i,s,l),xu(t)}function ms(t,i){return Mu(t,null,null,i),xu(t)}function dg(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Ft(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),d):null}function xu(t){if(50<ul)throw ul=0,dd=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ps={};function TS(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,i,s,l){return new TS(t,i,s,l)}function lf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xi(t,i){var s=t.alternate;return s===null?(s=hn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function mg(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Vu(t,i,s,l,h,d){var _=0;if(l=t,typeof t=="function")lf(t)&&(_=1);else if(typeof t=="string")_=Sb(t,s,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=hn(31,s,i,h),t.elementType=I,t.lanes=d,t;case D:return _a(s.children,h,d,i);case H:_=8,h|=24;break;case q:return t=hn(12,s,i,h|2),t.elementType=q,t.lanes=d,t;case ce:return t=hn(13,s,i,h),t.elementType=ce,t.lanes=d,t;case be:return t=hn(19,s,i,h),t.elementType=be,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:case re:_=10;break e;case ee:_=9;break e;case he:_=11;break e;case k:_=14;break e;case w:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=hn(_,s,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function _a(t,i,s,l){return t=hn(7,t,l,i),t.lanes=s,t}function uf(t,i,s){return t=hn(6,t,null,i),t.lanes=s,t}function cf(t,i,s){return i=hn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var gs=[],ys=0,ku=null,Pu=0,Cn=[],Dn=0,Ea=null,Vi=1,ki="";function Ta(t,i){gs[ys++]=Pu,gs[ys++]=ku,ku=t,Pu=i}function pg(t,i,s){Cn[Dn++]=Vi,Cn[Dn++]=ki,Cn[Dn++]=Ea,Ea=t;var l=Vi;t=ki;var h=32-Ft(l)-1;l&=~(1<<h),s+=1;var d=32-Ft(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Vi=1<<32-Ft(i)+h|s<<h|l,ki=d+t}else Vi=1<<d|s<<h|l,ki=t}function hf(t){t.return!==null&&(Ta(t,1),pg(t,1,0))}function ff(t){for(;t===ku;)ku=gs[--ys],gs[ys]=null,Pu=gs[--ys],gs[ys]=null;for(;t===Ea;)Ea=Cn[--Dn],Cn[Dn]=null,ki=Cn[--Dn],Cn[Dn]=null,Vi=Cn[--Dn],Cn[Dn]=null}var en=null,lt=null,He=!1,Aa=null,ai=!1,df=Error(a(519));function Sa(t){var i=Error(a(418,""));throw jo(Rn(i,t)),df}function gg(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[Et]=t,i[pt]=l,s){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(s=0;s<hl.length;s++)Me(hl[s],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),oa(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ts(i);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),la(i,l.value,l.defaultValue,l.children),ts(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||xv(i.textContent,s)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=gc),i=!0):i=!1,i||Sa(t)}function yg(t){for(en=t.return;en;)switch(en.tag){case 5:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:en=en.return}}function zo(t){if(t!==en)return!1;if(!He)return yg(t),He=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Dd(t.type,t.memoizedProps)),s=!s),s&&lt&&Sa(t),yg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){lt=zn(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}lt=null}}else i===27?(i=lt,br(t.type)?(t=xd,xd=null,lt=t):lt=i):lt=en?zn(t.stateNode.nextSibling):null;return!0}function Bo(){lt=en=null,He=!1}function vg(){var t=Aa;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),Aa=null),t}function jo(t){Aa===null?Aa=[t]:Aa.push(t)}var mf=te(null),ba=null,Pi=null;function ur(t,i,s){ie(mf,i._currentValue),i._currentValue=s}function Li(t){t._currentValue=mf.current,oe(mf)}function pf(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function gf(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),pf(d.return,s,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),pf(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ho(t,i,s,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=h.type;cn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ct.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(yl):t=[yl])}h=h.return}t!==null&&gf(i,t,s,l),i.flags|=262144}function Lu(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function wa(t){ba=t,Pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return _g(ba,t)}function Uu(t,i){return ba===null&&wa(t),_g(t,i)}function _g(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Pi===null){if(t===null)throw Error(a(308));Pi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Pi=Pi.next=i;return s}var AS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},SS=r.unstable_scheduleCallback,bS=r.unstable_NormalPriority,St={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yf(){return{controller:new AS,data:new Map,refCount:0}}function qo(t){t.refCount--,t.refCount===0&&SS(bS,function(){t.controller.abort()})}var Fo=null,vf=0,vs=0,_s=null;function wS(t,i){if(Fo===null){var s=Fo=[];vf=0,vs=Ed(),_s={status:"pending",value:void 0,then:function(l){s.push(l)}}}return vf++,i.then(Eg,Eg),i}function Eg(){if(--vf===0&&Fo!==null){_s!==null&&(_s.status="fulfilled");var t=Fo;Fo=null,vs=0,_s=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function RS(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Tg=Q.S;Q.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&wS(t,i),Tg!==null&&Tg(t,i)};var Ra=te(null);function _f(){var t=Ra.current;return t!==null?t:et.pooledCache}function zu(t,i){i===null?ie(Ra,Ra.current):ie(Ra,i.pool)}function Ag(){var t=_f();return t===null?null:{parent:St._currentValue,pool:t}}var Go=Error(a(460)),Sg=Error(a(474)),Bu=Error(a(542)),Ef={then:function(){}};function bg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ju(){}function wg(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(ju,ju),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ig(t),t;default:if(typeof i.status=="string")i.then(ju,ju);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ig(t),t}throw Ko=i,Go}}var Ko=null;function Rg(){if(Ko===null)throw Error(a(459));var t=Ko;return Ko=null,t}function Ig(t){if(t===Go||t===Bu)throw Error(a(483))}var cr=!1;function Tf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Af(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function hr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function fr(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=xu(t),dg(t,null,s),i}return Mu(t,l,i,s),xu(t)}function Yo(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,To(t,s)}}function Sf(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var bf=!1;function Qo(){if(bf){var t=_s;if(t!==null)throw t}}function $o(t,i,s,l){bf=!1;var h=t.updateQueue;cr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,B=C.next;C.next=null,_===null?d=B:_.next=B,_=C;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==_&&(T===null?$.firstBaseUpdate=B:T.next=B,$.lastBaseUpdate=C))}if(d!==null){var Z=h.baseState;_=0,$=B=C=null,T=d;do{var j=T.lane&-536870913,F=j!==T.lane;if(F?(Le&j)===j:(l&j)===j){j!==0&&j===vs&&(bf=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var _e=t,ge=T;j=i;var Je=s;switch(ge.tag){case 1:if(_e=ge.payload,typeof _e=="function"){Z=_e.call(Je,Z,j);break e}Z=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=ge.payload,j=typeof _e=="function"?_e.call(Je,Z,j):_e,j==null)break e;Z=E({},Z,j);break e;case 2:cr=!0}}j=T.callback,j!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[j]:F.push(j))}else F={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(B=$=F,C=Z):$=$.next=F,_|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);$===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=B,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Er|=_,t.lanes=_,t.memoizedState=Z}}function Cg(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Dg(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Cg(s[t],i)}var Es=te(null),Hu=te(0);function Ng(t,i){t=Fi,ie(Hu,t),ie(Es,i),Fi=t|i.baseLanes}function wf(){ie(Hu,Fi),ie(Es,Es.current)}function Rf(){Fi=Hu.current,oe(Es),oe(Hu)}var dr=0,Ie=null,$e=null,yt=null,qu=!1,Ts=!1,Ia=!1,Fu=0,Xo=0,As=null,IS=0;function ft(){throw Error(a(321))}function If(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!cn(t[s],i[s]))return!1;return!0}function Cf(t,i,s,l,h,d){return dr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?dy:my,Ia=!1,d=s(l,h),Ia=!1,Ts&&(d=Mg(i,s,l,h)),Og(t),d}function Og(t){Q.H=Xu;var i=$e!==null&&$e.next!==null;if(dr=0,yt=$e=Ie=null,qu=!1,Xo=0,As=null,i)throw Error(a(300));t===null||Ot||(t=t.dependencies,t!==null&&Lu(t)&&(Ot=!0))}function Mg(t,i,s,l){Ie=t;var h=0;do{if(Ts&&(As=null),Xo=0,Ts=!1,25<=h)throw Error(a(301));if(h+=1,yt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=VS,d=i(s,l)}while(Ts);return d}function CS(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?Jo(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Df(){var t=Fu!==0;return Fu=0,t}function Nf(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Of(t){if(qu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}qu=!1}dr=0,yt=$e=Ie=null,Ts=!1,Xo=Fu=0,As=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ie.memoizedState=yt=t:yt=yt.next=t,yt}function vt(){if($e===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=yt===null?Ie.memoizedState:yt.next;if(i!==null)yt=i,$e=t;else{if(t===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},yt===null?Ie.memoizedState=yt=t:yt=yt.next=t}return yt}function Mf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(t){var i=Xo;return Xo+=1,As===null&&(As=[]),t=wg(As,t,i),i=Ie,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?dy:my),t}function Gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Jo(t);if(t.$$typeof===re)return Gt(t)}throw Error(a(438,String(t)))}function xf(t){var i=null,s=Ie.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Mf(),Ie.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=M;return i.index++,s}function Ui(t,i){return typeof i=="function"?i(t):i}function Ku(t){var i=vt();return Vf(i,$e,t)}function Vf(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,C=null,B=i,$=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Le&Z)===Z:(dr&Z)===Z){var j=B.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===vs&&($=!0);else if((dr&j)===j){B=B.next,j===vs&&($=!0);continue}else Z={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=Z,_=d):C=C.next=Z,Ie.lanes|=j,Er|=j;Z=B.action,Ia&&s(d,Z),d=B.hasEagerState?B.eagerState:s(d,Z)}else j={lane:Z,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=j,_=d):C=C.next=j,Ie.lanes|=Z,Er|=Z;B=B.next}while(B!==null&&B!==i);if(C===null?_=d:C.next=T,!cn(d,t.memoizedState)&&(Ot=!0,$&&(s=_s,s!==null)))throw s;t.memoizedState=d,t.baseState=_,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function kf(t){var i=vt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);cn(d,i.memoizedState)||(Ot=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function xg(t,i,s){var l=Ie,h=vt(),d=He;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var _=!cn(($e||h).memoizedState,s);_&&(h.memoizedState=s,Ot=!0),h=h.queue;var T=Pg.bind(null,l,h,t);if(Zo(2048,8,T,[t]),h.getSnapshot!==i||_||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Ss(9,Yu(),kg.bind(null,l,h,s,i),null),et===null)throw Error(a(349));d||(dr&124)!==0||Vg(l,i,s)}return s}function Vg(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ie.updateQueue,i===null?(i=Mf(),Ie.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function kg(t,i,s,l){i.value=s,i.getSnapshot=l,Lg(i)&&Ug(t)}function Pg(t,i,s){return s(function(){Lg(i)&&Ug(t)})}function Lg(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!cn(t,s)}catch{return!0}}function Ug(t){var i=ms(t,2);i!==null&&gn(i,t,2)}function Pf(t){var i=tn();if(typeof t=="function"){var s=t;if(t=s(),Ia){ln(!0);try{s()}finally{ln(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},i}function zg(t,i,s,l){return t.baseState=s,Vf(t,$e,typeof l=="function"?l:Ui)}function DS(t,i,s,l,h){if($u(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,Bg(i,d)):(d.next=s.next,i.pending=s.next=d)}}function Bg(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Q.T,_={};Q.T=_;try{var T=s(h,l),C=Q.S;C!==null&&C(_,T),jg(t,i,T)}catch(B){Lf(t,i,B)}finally{Q.T=d}}else try{d=s(h,l),jg(t,i,d)}catch(B){Lf(t,i,B)}}function jg(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Hg(t,i,l)},function(l){return Lf(t,i,l)}):Hg(t,i,s)}function Hg(t,i,s){i.status="fulfilled",i.value=s,qg(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,Bg(t,s)))}function Lf(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,qg(i),i=i.next;while(i!==l)}t.action=null}function qg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Fg(t,i){return i}function Gg(t,i){if(He){var s=et.formState;if(s!==null){e:{var l=Ie;if(He){if(lt){t:{for(var h=lt,d=ai;h.nodeType!==8;){if(!d){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){lt=zn(h.nextSibling),l=h.data==="F!";break e}}Sa(l)}l=!1}l&&(i=s[0])}}return s=tn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fg,lastRenderedState:i},s.queue=l,s=cy.bind(null,Ie,l),l.dispatch=s,l=Pf(!1),d=Hf.bind(null,Ie,!1,l.queue),l=tn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=DS.bind(null,Ie,h,d,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function Kg(t){var i=vt();return Yg(i,$e,t)}function Yg(t,i,s){if(i=Vf(t,i,Fg)[0],t=Ku(Ui)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Jo(i)}catch(_){throw _===Go?Bu:_}else l=i;i=vt();var h=i.queue,d=h.dispatch;return s!==i.memoizedState&&(Ie.flags|=2048,Ss(9,Yu(),NS.bind(null,h,s),null)),[l,d,t]}function NS(t,i){t.action=i}function Qg(t){var i=vt(),s=$e;if(s!==null)return Yg(i,s,t);vt(),i=i.memoizedState,s=vt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function Ss(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=Mf(),Ie.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function Yu(){return{destroy:void 0,resource:void 0}}function $g(){return vt().memoizedState}function Qu(t,i,s,l){var h=tn();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=Ss(1|i,Yu(),s,l)}function Zo(t,i,s,l){var h=vt();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&If(l,$e.memoizedState.deps)?h.memoizedState=Ss(i,d,s,l):(Ie.flags|=t,h.memoizedState=Ss(1|i,d,s,l))}function Xg(t,i){Qu(8390656,8,t,i)}function Jg(t,i){Zo(2048,8,t,i)}function Zg(t,i){return Zo(4,2,t,i)}function Wg(t,i){return Zo(4,4,t,i)}function ey(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ty(t,i,s){s=s!=null?s.concat([t]):null,Zo(4,4,ey.bind(null,i,t),s)}function Uf(){}function ny(t,i){var s=vt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&If(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function iy(t,i){var s=vt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&If(i,l[1]))return l[0];if(l=t(),Ia){ln(!0);try{t()}finally{ln(!1)}}return s.memoizedState=[l,i],l}function zf(t,i,s){return s===void 0||(dr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=sv(),Ie.lanes|=t,Er|=t,s)}function ry(t,i,s,l){return cn(s,i)?s:Es.current!==null?(t=zf(t,s,l),cn(t,i)||(Ot=!0),t):(dr&42)===0?(Ot=!0,t.memoizedState=s):(t=sv(),Ie.lanes|=t,Er|=t,i)}function ay(t,i,s,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=Q.T,T={};Q.T=T,Hf(t,!1,i,s);try{var C=h(),B=Q.S;if(B!==null&&B(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=RS(C,l);Wo(t,i,$,pn(t))}else Wo(t,i,l,pn(t))}catch(Z){Wo(t,i,{then:function(){},status:"rejected",reason:Z},pn())}finally{se.p=d,Q.T=_}}function OS(){}function Bf(t,i,s,l){if(t.tag!==5)throw Error(a(476));var h=sy(t).queue;ay(t,h,i,de,s===null?OS:function(){return oy(t),s(l)})}function sy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:de},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function oy(t){var i=sy(t).next.queue;Wo(t,i,{},pn())}function jf(){return Gt(yl)}function ly(){return vt().memoizedState}function uy(){return vt().memoizedState}function MS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=pn();t=hr(s);var l=fr(i,t,s);l!==null&&(gn(l,i,s),Yo(l,i,s)),i={cache:yf()},t.payload=i;return}i=i.return}}function xS(t,i,s){var l=pn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},$u(t)?hy(i,s):(s=of(t,i,s,l),s!==null&&(gn(s,t,l),fy(s,i,l)))}function cy(t,i,s){var l=pn();Wo(t,i,s,l)}function Wo(t,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if($u(t))hy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,s);if(h.hasEagerState=!0,h.eagerState=T,cn(T,_))return Mu(t,i,h,0),et===null&&Ou(),!1}catch{}finally{}if(s=of(t,i,h,l),s!==null)return gn(s,t,l),fy(s,i,l),!0}return!1}function Hf(t,i,s,l){if(l={lane:2,revertLane:Ed(),action:l,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(i)throw Error(a(479))}else i=of(t,s,l,2),i!==null&&gn(i,t,2)}function $u(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function hy(t,i){Ts=qu=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function fy(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,To(t,s)}}var Xu={readContext:Gt,use:Gu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},dy={readContext:Gt,use:Gu,useCallback:function(t,i){return tn().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:Xg,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Qu(4194308,4,ey.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Qu(4194308,4,t,i)},useInsertionEffect:function(t,i){Qu(4,2,t,i)},useMemo:function(t,i){var s=tn();i=i===void 0?null:i;var l=t();if(Ia){ln(!0);try{t()}finally{ln(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=tn();if(s!==void 0){var h=s(i);if(Ia){ln(!0);try{s(i)}finally{ln(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=xS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=tn();return t={current:t},i.memoizedState=t},useState:function(t){t=Pf(t);var i=t.queue,s=cy.bind(null,Ie,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Uf,useDeferredValue:function(t,i){var s=tn();return zf(s,t,i)},useTransition:function(){var t=Pf(!1);return t=ay.bind(null,Ie,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Ie,h=tn();if(He){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),et===null)throw Error(a(349));(Le&124)!==0||Vg(l,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,Xg(Pg.bind(null,l,d,t),[t]),l.flags|=2048,Ss(9,Yu(),kg.bind(null,l,d,s,i),null),s},useId:function(){var t=tn(),i=et.identifierPrefix;if(He){var s=ki,l=Vi;s=(l&~(1<<32-Ft(l)-1)).toString(32)+s,i="«"+i+"R"+s,s=Fu++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=IS++,i="«"+i+"r"+s.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:jf,useFormState:Gg,useActionState:Gg,useOptimistic:function(t){var i=tn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Hf.bind(null,Ie,!0,s),s.dispatch=i,[t,i]},useMemoCache:xf,useCacheRefresh:function(){return tn().memoizedState=MS.bind(null,Ie)}},my={readContext:Gt,use:Gu,useCallback:ny,useContext:Gt,useEffect:Jg,useImperativeHandle:ty,useInsertionEffect:Zg,useLayoutEffect:Wg,useMemo:iy,useReducer:Ku,useRef:$g,useState:function(){return Ku(Ui)},useDebugValue:Uf,useDeferredValue:function(t,i){var s=vt();return ry(s,$e.memoizedState,t,i)},useTransition:function(){var t=Ku(Ui)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:Jo(t),i]},useSyncExternalStore:xg,useId:ly,useHostTransitionStatus:jf,useFormState:Kg,useActionState:Kg,useOptimistic:function(t,i){var s=vt();return zg(s,$e,t,i)},useMemoCache:xf,useCacheRefresh:uy},VS={readContext:Gt,use:Gu,useCallback:ny,useContext:Gt,useEffect:Jg,useImperativeHandle:ty,useInsertionEffect:Zg,useLayoutEffect:Wg,useMemo:iy,useReducer:kf,useRef:$g,useState:function(){return kf(Ui)},useDebugValue:Uf,useDeferredValue:function(t,i){var s=vt();return $e===null?zf(s,t,i):ry(s,$e.memoizedState,t,i)},useTransition:function(){var t=kf(Ui)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:Jo(t),i]},useSyncExternalStore:xg,useId:ly,useHostTransitionStatus:jf,useFormState:Qg,useActionState:Qg,useOptimistic:function(t,i){var s=vt();return $e!==null?zg(s,$e,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:xf,useCacheRefresh:uy},bs=null,el=0;function Ju(t){var i=el;return el+=1,bs===null&&(bs=[]),wg(bs,t,i)}function tl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Zu(t,i){throw i.$$typeof===b?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function py(t){var i=t._init;return i(t._payload)}function gy(t){function i(L,V){if(t){var z=L.deletions;z===null?(L.deletions=[V],L.flags|=16):z.push(V)}}function s(L,V){if(!t)return null;for(;V!==null;)i(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function h(L,V){return L=xi(L,V),L.index=0,L.sibling=null,L}function d(L,V,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<V?(L.flags|=67108866,V):z):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,V,z,X){return V===null||V.tag!==6?(V=uf(z,L.mode,X),V.return=L,V):(V=h(V,z),V.return=L,V)}function C(L,V,z,X){var ue=z.type;return ue===D?$(L,V,z.props.children,X,z.key):V!==null&&(V.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===w&&py(ue)===V.type)?(V=h(V,z.props),tl(V,z),V.return=L,V):(V=Vu(z.type,z.key,z.props,null,L.mode,X),tl(V,z),V.return=L,V)}function B(L,V,z,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=cf(z,L.mode,X),V.return=L,V):(V=h(V,z.children||[]),V.return=L,V)}function $(L,V,z,X,ue){return V===null||V.tag!==7?(V=_a(z,L.mode,X,ue),V.return=L,V):(V=h(V,z),V.return=L,V)}function Z(L,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=uf(""+V,L.mode,z),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return z=Vu(V.type,V.key,V.props,null,L.mode,z),tl(z,V),z.return=L,z;case N:return V=cf(V,L.mode,z),V.return=L,V;case w:var X=V._init;return V=X(V._payload),Z(L,V,z)}if(st(V)||O(V))return V=_a(V,L.mode,z,null),V.return=L,V;if(typeof V.then=="function")return Z(L,Ju(V),z);if(V.$$typeof===re)return Z(L,Uu(L,V),z);Zu(L,V)}return null}function j(L,V,z,X){var ue=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ue!==null?null:T(L,V,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return z.key===ue?C(L,V,z,X):null;case N:return z.key===ue?B(L,V,z,X):null;case w:return ue=z._init,z=ue(z._payload),j(L,V,z,X)}if(st(z)||O(z))return ue!==null?null:$(L,V,z,X,null);if(typeof z.then=="function")return j(L,V,Ju(z),X);if(z.$$typeof===re)return j(L,V,Uu(L,z),X);Zu(L,z)}return null}function F(L,V,z,X,ue){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(z)||null,T(V,L,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return L=L.get(X.key===null?z:X.key)||null,C(V,L,X,ue);case N:return L=L.get(X.key===null?z:X.key)||null,B(V,L,X,ue);case w:var Ne=X._init;return X=Ne(X._payload),F(L,V,z,X,ue)}if(st(X)||O(X))return L=L.get(z)||null,$(V,L,X,ue,null);if(typeof X.then=="function")return F(L,V,z,Ju(X),ue);if(X.$$typeof===re)return F(L,V,z,Uu(V,X),ue);Zu(V,X)}return null}function _e(L,V,z,X){for(var ue=null,Ne=null,fe=V,ve=V=0,xt=null;fe!==null&&ve<z.length;ve++){fe.index>ve?(xt=fe,fe=null):xt=fe.sibling;var ze=j(L,fe,z[ve],X);if(ze===null){fe===null&&(fe=xt);break}t&&fe&&ze.alternate===null&&i(L,fe),V=d(ze,V,ve),Ne===null?ue=ze:Ne.sibling=ze,Ne=ze,fe=xt}if(ve===z.length)return s(L,fe),He&&Ta(L,ve),ue;if(fe===null){for(;ve<z.length;ve++)fe=Z(L,z[ve],X),fe!==null&&(V=d(fe,V,ve),Ne===null?ue=fe:Ne.sibling=fe,Ne=fe);return He&&Ta(L,ve),ue}for(fe=l(fe);ve<z.length;ve++)xt=F(fe,L,ve,z[ve],X),xt!==null&&(t&&xt.alternate!==null&&fe.delete(xt.key===null?ve:xt.key),V=d(xt,V,ve),Ne===null?ue=xt:Ne.sibling=xt,Ne=xt);return t&&fe.forEach(function(Dr){return i(L,Dr)}),He&&Ta(L,ve),ue}function ge(L,V,z,X){if(z==null)throw Error(a(151));for(var ue=null,Ne=null,fe=V,ve=V=0,xt=null,ze=z.next();fe!==null&&!ze.done;ve++,ze=z.next()){fe.index>ve?(xt=fe,fe=null):xt=fe.sibling;var Dr=j(L,fe,ze.value,X);if(Dr===null){fe===null&&(fe=xt);break}t&&fe&&Dr.alternate===null&&i(L,fe),V=d(Dr,V,ve),Ne===null?ue=Dr:Ne.sibling=Dr,Ne=Dr,fe=xt}if(ze.done)return s(L,fe),He&&Ta(L,ve),ue;if(fe===null){for(;!ze.done;ve++,ze=z.next())ze=Z(L,ze.value,X),ze!==null&&(V=d(ze,V,ve),Ne===null?ue=ze:Ne.sibling=ze,Ne=ze);return He&&Ta(L,ve),ue}for(fe=l(fe);!ze.done;ve++,ze=z.next())ze=F(fe,L,ve,ze.value,X),ze!==null&&(t&&ze.alternate!==null&&fe.delete(ze.key===null?ve:ze.key),V=d(ze,V,ve),Ne===null?ue=ze:Ne.sibling=ze,Ne=ze);return t&&fe.forEach(function(kb){return i(L,kb)}),He&&Ta(L,ve),ue}function Je(L,V,z,X){if(typeof z=="object"&&z!==null&&z.type===D&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case S:e:{for(var ue=z.key;V!==null;){if(V.key===ue){if(ue=z.type,ue===D){if(V.tag===7){s(L,V.sibling),X=h(V,z.props.children),X.return=L,L=X;break e}}else if(V.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===w&&py(ue)===V.type){s(L,V.sibling),X=h(V,z.props),tl(X,z),X.return=L,L=X;break e}s(L,V);break}else i(L,V);V=V.sibling}z.type===D?(X=_a(z.props.children,L.mode,X,z.key),X.return=L,L=X):(X=Vu(z.type,z.key,z.props,null,L.mode,X),tl(X,z),X.return=L,L=X)}return _(L);case N:e:{for(ue=z.key;V!==null;){if(V.key===ue)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){s(L,V.sibling),X=h(V,z.children||[]),X.return=L,L=X;break e}else{s(L,V);break}else i(L,V);V=V.sibling}X=cf(z,L.mode,X),X.return=L,L=X}return _(L);case w:return ue=z._init,z=ue(z._payload),Je(L,V,z,X)}if(st(z))return _e(L,V,z,X);if(O(z)){if(ue=O(z),typeof ue!="function")throw Error(a(150));return z=ue.call(z),ge(L,V,z,X)}if(typeof z.then=="function")return Je(L,V,Ju(z),X);if(z.$$typeof===re)return Je(L,V,Uu(L,z),X);Zu(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(s(L,V.sibling),X=h(V,z),X.return=L,L=X):(s(L,V),X=uf(z,L.mode,X),X.return=L,L=X),_(L)):s(L,V)}return function(L,V,z,X){try{el=0;var ue=Je(L,V,z,X);return bs=null,ue}catch(fe){if(fe===Go||fe===Bu)throw fe;var Ne=hn(29,fe,null,L.mode);return Ne.lanes=X,Ne.return=L,Ne}finally{}}}var ws=gy(!0),yy=gy(!1),Nn=te(null),si=null;function mr(t){var i=t.alternate;ie(bt,bt.current&1),ie(Nn,t),si===null&&(i===null||Es.current!==null||i.memoizedState!==null)&&(si=t)}function vy(t){if(t.tag===22){if(ie(bt,bt.current),ie(Nn,t),si===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(si=t)}}else pr()}function pr(){ie(bt,bt.current),ie(Nn,Nn.current)}function zi(t){oe(Nn),si===t&&(si=null),oe(bt)}var bt=te(0);function Wu(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Md(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function qf(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:E({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ff={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=pn(),h=hr(l);h.payload=i,s!=null&&(h.callback=s),i=fr(t,h,l),i!==null&&(gn(i,t,l),Yo(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=pn(),h=hr(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=fr(t,h,l),i!==null&&(gn(i,t,l),Yo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=pn(),l=hr(s);l.tag=2,i!=null&&(l.callback=i),i=fr(t,l,s),i!==null&&(gn(i,t,s),Yo(i,t,s))}};function _y(t,i,s,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Lo(s,l)||!Lo(h,d):!0}function Ey(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&Ff.enqueueReplaceState(i,i.state,null)}function Ca(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=E({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ty(t){ec(t)}function Ay(t){console.error(t)}function Sy(t){ec(t)}function tc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function by(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(t,i,s){return s=hr(s),s.tag=3,s.payload={element:null},s.callback=function(){tc(t,i)},s}function wy(t){return t=hr(t),t.tag=3,t}function Ry(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){by(i,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){by(i,s,l),typeof h!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function kS(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Ho(i,s,h,!0),s=Nn.current,s!==null){switch(s.tag){case 13:return si===null?pd():s.alternate===null&&ut===0&&(ut=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Ef?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),yd(t,l,h)),!1;case 22:return s.flags|=65536,l===Ef?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),yd(t,l,h)),!1}throw Error(a(435,s.tag))}return yd(t,l,h),pd(),!1}if(He)return i=Nn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==df&&(t=Error(a(422),{cause:l}),jo(Rn(t,s)))):(l!==df&&(i=Error(a(423),{cause:l}),jo(Rn(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Rn(l,s),h=Gf(t.stateNode,l,h),Sf(t,h),ut!==4&&(ut=2)),!1;var d=Error(a(520),{cause:l});if(d=Rn(d,s),ll===null?ll=[d]:ll.push(d),ut!==4&&(ut=2),i===null)return!0;l=Rn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Gf(s.stateNode,l,t),Sf(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Tr===null||!Tr.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=wy(h),Ry(h,t,s,l),Sf(s,h),!1}s=s.return}while(s!==null);return!1}var Iy=Error(a(461)),Ot=!1;function Lt(t,i,s,l){i.child=t===null?yy(i,null,s,l):ws(i,t.child,s,l)}function Cy(t,i,s,l,h){s=s.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return wa(i),l=Cf(t,i,s,_,d,h),T=Df(),t!==null&&!Ot?(Nf(t,i,h),Bi(t,i,h)):(He&&T&&hf(i),i.flags|=1,Lt(t,i,l,h),i.child)}function Dy(t,i,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!lf(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,Ny(t,i,d,l,h)):(t=Vu(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Wf(t,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:Lo,s(_,l)&&t.ref===i.ref)return Bi(t,i,h)}return i.flags|=1,t=xi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Ny(t,i,s,l,h){if(t!==null){var d=t.memoizedProps;if(Lo(d,l)&&t.ref===i.ref)if(Ot=!1,i.pendingProps=l=d,Wf(t,h))(t.flags&131072)!==0&&(Ot=!0);else return i.lanes=t.lanes,Bi(t,i,h)}return Kf(t,i,s,l,h)}function Oy(t,i,s){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return My(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(i,d!==null?d.cachePool:null),d!==null?Ng(i,d):wf(),vy(i);else return i.lanes=i.childLanes=536870912,My(t,i,d!==null?d.baseLanes|s:s,s)}else d!==null?(zu(i,d.cachePool),Ng(i,d),pr(),i.memoizedState=null):(t!==null&&zu(i,null),wf(),pr());return Lt(t,i,h,s),i.child}function My(t,i,s,l){var h=_f();return h=h===null?null:{parent:St._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},t!==null&&zu(i,null),wf(),vy(i),t!==null&&Ho(t,i,l,!0),null}function nc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Kf(t,i,s,l,h){return wa(i),s=Cf(t,i,s,l,void 0,h),l=Df(),t!==null&&!Ot?(Nf(t,i,h),Bi(t,i,h)):(He&&l&&hf(i),i.flags|=1,Lt(t,i,s,h),i.child)}function xy(t,i,s,l,h,d){return wa(i),i.updateQueue=null,s=Mg(i,l,s,h),Og(t),l=Df(),t!==null&&!Ot?(Nf(t,i,d),Bi(t,i,d)):(He&&l&&hf(i),i.flags|=1,Lt(t,i,s,d),i.child)}function Vy(t,i,s,l,h){if(wa(i),i.stateNode===null){var d=ps,_=s.contextType;typeof _=="object"&&_!==null&&(d=Gt(_)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ff,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Tf(i),_=s.contextType,d.context=typeof _=="object"&&_!==null?Gt(_):ps,d.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(qf(i,s,_,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Ff.enqueueReplaceState(d,d.state,null),$o(i,l,d,h),Qo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,C=Ca(s,T);d.props=C;var B=d.context,$=s.contextType;_=ps,typeof $=="object"&&$!==null&&(_=Gt($));var Z=s.getDerivedStateFromProps;$=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==_)&&Ey(i,d,l,_),cr=!1;var j=i.memoizedState;d.state=j,$o(i,l,d,h),Qo(),B=i.memoizedState,T||j!==B||cr?(typeof Z=="function"&&(qf(i,s,Z,l),B=i.memoizedState),(C=cr||_y(i,s,C,l,j,B,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Af(t,i),_=i.memoizedProps,$=Ca(s,_),d.props=$,Z=i.pendingProps,j=d.context,B=s.contextType,C=ps,typeof B=="object"&&B!==null&&(C=Gt(B)),T=s.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||j!==C)&&Ey(i,d,l,C),cr=!1,j=i.memoizedState,d.state=j,$o(i,l,d,h),Qo();var F=i.memoizedState;_!==Z||j!==F||cr||t!==null&&t.dependencies!==null&&Lu(t.dependencies)?(typeof T=="function"&&(qf(i,s,T,l),F=i.memoizedState),($=cr||_y(i,s,$,l,j,F,C)||t!==null&&t.dependencies!==null&&Lu(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=C,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,nc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ws(i,t.child,null,h),i.child=ws(i,null,s,h)):Lt(t,i,s,h),i.memoizedState=d.state,t=i.child):t=Bi(t,i,h),t}function ky(t,i,s,l){return Bo(),i.flags|=256,Lt(t,i,s,l),i.child}var Yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(t){return{baseLanes:t,cachePool:Ag()}}function $f(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=On),t}function Py(t,i,s){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(h?mr(i):pr(),He){var T=lt,C;if(C=T){e:{for(C=T,T=ai;C.nodeType!==8;){if(!T){T=null;break e}if(C=zn(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ea!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},C=hn(18,null,null,0),C.stateNode=T,C.return=i,i.child=C,en=i,lt=null,C=!0):C=!1}C||Sa(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Md(T)?i.lanes=32:i.lanes=536870912,null;zi(i)}return T=l.children,l=l.fallback,h?(pr(),h=i.mode,T=ic({mode:"hidden",children:T},h),l=_a(l,h,s,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Qf(s),h.childLanes=$f(t,_,s),i.memoizedState=Yf,l):(mr(i),Xf(i,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(mr(i),i.flags&=-257,i=Jf(t,i,s)):i.memoizedState!==null?(pr(),i.child=t.child,i.flags|=128,i=null):(pr(),h=l.fallback,T=i.mode,l=ic({mode:"visible",children:l.children},T),h=_a(h,T,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ws(i,t.child,null,s),l=i.child,l.memoizedState=Qf(s),l.childLanes=$f(t,_,s),i.memoizedState=Yf,i=h);else if(mr(i),Md(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(a(419)),l.stack="",l.digest=_,jo({value:l,source:null,stack:null}),i=Jf(t,i,s)}else if(Ot||Ho(t,i,s,!1),_=(s&t.childLanes)!==0,Ot||_){if(_=et,_!==null&&(l=s&-s,l=(l&42)!==0?1:nr(l),l=(l&(_.suspendedLanes|s))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,ms(t,l),gn(_,t,l),Iy;T.data==="$?"||pd(),i=Jf(t,i,s)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,lt=zn(T.nextSibling),en=i,He=!0,Aa=null,ai=!1,t!==null&&(Cn[Dn++]=Vi,Cn[Dn++]=ki,Cn[Dn++]=Ea,Vi=t.id,ki=t.overflow,Ea=i),i=Xf(i,l.children),i.flags|=4096);return i}return h?(pr(),h=l.fallback,T=i.mode,C=t.child,B=C.sibling,l=xi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?h=xi(B,h):(h=_a(h,T,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Qf(s):(C=T.cachePool,C!==null?(B=St._currentValue,C=C.parent!==B?{parent:B,pool:B}:C):C=Ag(),T={baseLanes:T.baseLanes|s,cachePool:C}),h.memoizedState=T,h.childLanes=$f(t,_,s),i.memoizedState=Yf,l):(mr(i),s=t.child,t=s.sibling,s=xi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=s,i.memoizedState=null,s)}function Xf(t,i){return i=ic({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function ic(t,i){return t=hn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Jf(t,i,s){return ws(i,t.child,null,s),t=Xf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ly(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),pf(t.return,i,s)}function Zf(t,i,s,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function Uy(t,i,s){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Lt(t,i,l.children,s),l=bt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ly(t,s,i);else if(t.tag===19)Ly(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(bt,l),h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&Wu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),Zf(i,!1,h,s,d);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Wu(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Zf(i,!0,s,null,d);break;case"together":Zf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Bi(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Er|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(Ho(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=xi(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=xi(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Wf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Lu(t)))}function PS(t,i,s){switch(i.tag){case 3:We(i,i.stateNode.containerInfo),ur(i,St,t.memoizedState.cache),Bo();break;case 27:case 5:tr(i);break;case 4:We(i,i.stateNode.containerInfo);break;case 10:ur(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(mr(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Py(t,i,s):(mr(i),t=Bi(t,i,s),t!==null?t.sibling:null);mr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Ho(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return Uy(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(bt,bt.current),l)break;return null;case 22:case 23:return i.lanes=0,Oy(t,i,s);case 24:ur(i,St,t.memoizedState.cache)}return Bi(t,i,s)}function zy(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ot=!0;else{if(!Wf(t,s)&&(i.flags&128)===0)return Ot=!1,PS(t,i,s);Ot=(t.flags&131072)!==0}else Ot=!1,He&&(i.flags&1048576)!==0&&pg(i,Pu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")lf(l)?(t=Ca(l,t),i.tag=1,i=Vy(null,i,l,t,s)):(i.tag=0,i=Kf(null,i,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===he){i.tag=11,i=Cy(null,i,l,t,s);break e}else if(h===k){i.tag=14,i=Dy(null,i,l,t,s);break e}}throw i=Be(l)||l,Error(a(306,i,""))}}return i;case 0:return Kf(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=Ca(l,i.pendingProps),Vy(t,i,l,h,s);case 3:e:{if(We(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Af(t,i),$o(i,l,null,s);var _=i.memoizedState;if(l=_.cache,ur(i,St,l),l!==d.cache&&gf(i,[St],s,!0),Qo(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=ky(t,i,l,s);break e}else if(l!==h){h=Rn(Error(a(424)),i),jo(h),i=ky(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=zn(t.firstChild),en=i,He=!0,Aa=null,ai=!0,s=yy(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Bo(),l===h){i=Bi(t,i,s);break e}Lt(t,i,l,s)}i=i.child}return i;case 26:return nc(t,i),t===null?(s=qv(i.type,null,i.pendingProps,null))?i.memoizedState=s:He||(s=i.type,t=i.pendingProps,l=yc(Ae.current).createElement(s),l[Et]=i,l[pt]=t,zt(l,s,t),ht(l),i.stateNode=l):i.memoizedState=qv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return tr(i),t===null&&He&&(l=i.stateNode=Bv(i.type,i.pendingProps,Ae.current),en=i,ai=!0,h=lt,br(i.type)?(xd=h,lt=zn(l.firstChild)):lt=h),Lt(t,i,i.pendingProps.children,s),nc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&He&&((h=l=lt)&&(l=cb(l,i.type,i.pendingProps,ai),l!==null?(i.stateNode=l,en=i,lt=zn(l.firstChild),ai=!1,h=!0):h=!1),h||Sa(i)),tr(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Dd(h,d)?l=null:_!==null&&Dd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Cf(t,i,CS,null,null,s),yl._currentValue=h),nc(t,i),Lt(t,i,l,s),i.child;case 6:return t===null&&He&&((t=s=lt)&&(s=hb(s,i.pendingProps,ai),s!==null?(i.stateNode=s,en=i,lt=null,t=!0):t=!1),t||Sa(i)),null;case 13:return Py(t,i,s);case 4:return We(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ws(i,null,l,s):Lt(t,i,l,s),i.child;case 11:return Cy(t,i,i.type,i.pendingProps,s);case 7:return Lt(t,i,i.pendingProps,s),i.child;case 8:return Lt(t,i,i.pendingProps.children,s),i.child;case 12:return Lt(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,ur(i,i.type,l.value),Lt(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,wa(i),h=Gt(h),l=l(h),i.flags|=1,Lt(t,i,l,s),i.child;case 14:return Dy(t,i,i.type,i.pendingProps,s);case 15:return Ny(t,i,i.type,i.pendingProps,s);case 19:return Uy(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=ic(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=xi(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return Oy(t,i,s);case 24:return wa(i),l=Gt(St),t===null?(h=_f(),h===null&&(h=et,d=yf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:l,cache:h},Tf(i),ur(i,St,h)):((t.lanes&s)!==0&&(Af(t,i),$o(i,null,null,s),Qo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ur(i,St,l)):(l=d.cache,ur(i,St,l),l!==h.cache&&gf(i,[St],s,!0))),Lt(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function ji(t){t.flags|=4}function By(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Qv(i)){if(i=Nn.current,i!==null&&((Le&4194048)===Le?si!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==si))throw Ko=Ef,Sg;t.flags|=8192}}function rc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?_o():536870912,t.lanes|=i,Ds|=i)}function nl(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function LS(t,i,s){var l=i.pendingProps;switch(ff(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Li(St),Yn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(zo(i)?ji(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,vg())),rt(i),null;case 26:return s=i.memoizedState,t===null?(ji(i),s!==null?(rt(i),By(i,s)):(rt(i),i.flags&=-16777217)):s?s!==t.memoizedState?(ji(i),rt(i),By(i,s)):(rt(i),i.flags&=-16777217):(t.memoizedProps!==l&&ji(i),rt(i),i.flags&=-16777217),null;case 27:Ei(i),s=Ae.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ji(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return rt(i),null}t=me.current,zo(i)?gg(i):(t=Bv(h,l,s),i.stateNode=t,ji(i))}return rt(i),null;case 5:if(Ei(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ji(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return rt(i),null}if(t=me.current,zo(i))gg(i);else{switch(h=yc(Ae.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[Et]=i,t[pt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(zt(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ji(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ji(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Ae.current,zo(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||xv(t.nodeValue,s)),t||Sa(i)}else t=yc(t).createTextNode(l),t[Et]=i,i.stateNode=t}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=zo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Et]=i}else Bo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=vg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(zi(i),i):(zi(i),null)}if(zi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),rc(i,i.updateQueue),rt(i),null;case 4:return Yn(),t===null&&bd(i.stateNode.containerInfo),rt(i),null;case 10:return Li(i.type),rt(i),null;case 19:if(oe(bt),h=i.memoizedState,h===null)return rt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)nl(h,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Wu(t),d!==null){for(i.flags|=128,nl(h,!1),t=d.updateQueue,i.updateQueue=t,rc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)mg(s,t),s=s.sibling;return ie(bt,bt.current&1|2),i.child}t=t.sibling}h.tail!==null&&En()>oc&&(i.flags|=128,l=!0,nl(h,!1),i.lanes=4194304)}else{if(!l)if(t=Wu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,rc(i,t),nl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!He)return rt(i),null}else 2*En()-h.renderingStartTime>oc&&s!==536870912&&(i.flags|=128,l=!0,nl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=En(),i.sibling=null,t=bt.current,ie(bt,l?t&1|2:t&1),i):(rt(i),null);case 22:case 23:return zi(i),Rf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),s=i.updateQueue,s!==null&&rc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&oe(Ra),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Li(St),rt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function US(t,i){switch(ff(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Li(St),Yn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ei(i),null;case 13:if(zi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Bo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return oe(bt),null;case 4:return Yn(),null;case 10:return Li(i.type),null;case 22:case 23:return zi(i),Rf(),t!==null&&oe(Ra),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Li(St),null;case 25:return null;default:return null}}function jy(t,i){switch(ff(i),i.tag){case 3:Li(St),Yn();break;case 26:case 27:case 5:Ei(i);break;case 4:Yn();break;case 13:zi(i);break;case 19:oe(bt);break;case 10:Li(i.type);break;case 22:case 23:zi(i),Rf(),t!==null&&oe(Ra);break;case 24:Li(St)}}function il(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==h)}}catch(T){Ze(i,i.return,T)}}function gr(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var C=s,B=T;try{B()}catch($){Ze(h,C,$)}}}l=l.next}while(l!==d)}}catch($){Ze(i,i.return,$)}}function Hy(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Dg(i,s)}catch(l){Ze(t,t.return,l)}}}function qy(t,i,s){s.props=Ca(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Ze(t,i,l)}}function rl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){Ze(t,i,h)}}function oi(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ze(t,i,h)}else s.current=null}function Fy(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Ze(t,t.return,h)}}function ed(t,i,s){try{var l=t.stateNode;ab(l,t.type,s,i),l[pt]=i}catch(h){Ze(t,t.return,h)}}function Gy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&br(t.type)||t.tag===4}function td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&br(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nd(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=gc));else if(l!==4&&(l===27&&br(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(nd(t,i,s),t=t.sibling;t!==null;)nd(t,i,s),t=t.sibling}function ac(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&br(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(ac(t,i,s),t=t.sibling;t!==null;)ac(t,i,s),t=t.sibling}function Ky(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);zt(i,l,s),i[Et]=t,i[pt]=s}catch(d){Ze(t,t.return,d)}}var Hi=!1,dt=!1,id=!1,Yy=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function zS(t,i){if(t=t.containerInfo,Id=Sc,t=rg(t),ef(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,T=-1,C=-1,B=0,$=0,Z=t,j=null;t:for(;;){for(var F;Z!==s||h!==0&&Z.nodeType!==3||(T=_+h),Z!==d||l!==0&&Z.nodeType!==3||(C=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(F=Z.firstChild)!==null;)j=Z,Z=F;for(;;){if(Z===t)break t;if(j===s&&++B===h&&(T=_),j===d&&++$===l&&(C=_),(F=Z.nextSibling)!==null)break;Z=j,j=Z.parentNode}Z=F}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Cd={focusedElem:t,selectionRange:s},Sc=!1,Mt=i;Mt!==null;)if(i=Mt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Mt=t;else for(;Mt!==null;){switch(i=Mt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var _e=Ca(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(_e,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Ze(s,s.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Od(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Od(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Mt=t;break}Mt=i.return}}function Qy(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:yr(t,s),l&4&&il(5,s);break;case 1:if(yr(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(_){Ze(s,s.return,_)}else{var h=Ca(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(s,s.return,_)}}l&64&&Hy(s),l&512&&rl(s,s.return);break;case 3:if(yr(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Dg(t,i)}catch(_){Ze(s,s.return,_)}}break;case 27:i===null&&l&4&&Ky(s);case 26:case 5:yr(t,s),i===null&&l&4&&Fy(s),l&512&&rl(s,s.return);break;case 12:yr(t,s);break;case 13:yr(t,s),l&4&&Jy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=QS.bind(null,s),fb(t,s))));break;case 22:if(l=s.memoizedState!==null||Hi,!l){i=i!==null&&i.memoizedState!==null||dt,h=Hi;var d=dt;Hi=l,(dt=i)&&!d?vr(t,s,(s.subtreeFlags&8772)!==0):yr(t,s),Hi=h,dt=d}break;case 30:break;default:yr(t,s)}}function $y(t){var i=t.alternate;i!==null&&(t.alternate=null,$y(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ar(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var nt=null,nn=!1;function qi(t,i,s){for(s=s.child;s!==null;)Xy(t,i,s),s=s.sibling}function Xy(t,i,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ot,s)}catch{}switch(s.tag){case 26:dt||oi(s,i),qi(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:dt||oi(s,i);var l=nt,h=nn;br(s.type)&&(nt=s.stateNode,nn=!1),qi(t,i,s),dl(s.stateNode),nt=l,nn=h;break;case 5:dt||oi(s,i);case 6:if(l=nt,h=nn,nt=null,qi(t,i,s),nt=l,nn=h,nt!==null)if(nn)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(s.stateNode)}catch(d){Ze(s,i,d)}else try{nt.removeChild(s.stateNode)}catch(d){Ze(s,i,d)}break;case 18:nt!==null&&(nn?(t=nt,Uv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Tl(t)):Uv(nt,s.stateNode));break;case 4:l=nt,h=nn,nt=s.stateNode.containerInfo,nn=!0,qi(t,i,s),nt=l,nn=h;break;case 0:case 11:case 14:case 15:dt||gr(2,s,i),dt||gr(4,s,i),qi(t,i,s);break;case 1:dt||(oi(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&qy(s,i,l)),qi(t,i,s);break;case 21:qi(t,i,s);break;case 22:dt=(l=dt)||s.memoizedState!==null,qi(t,i,s),dt=l;break;default:qi(t,i,s)}}function Jy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Tl(t)}catch(s){Ze(i,i.return,s)}}function BS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Yy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Yy),i;default:throw Error(a(435,t.tag))}}function rd(t,i){var s=BS(t);i.forEach(function(l){var h=$S.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function fn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(br(T.type)){nt=T.stateNode,nn=!1;break e}break;case 5:nt=T.stateNode,nn=!1;break e;case 3:case 4:nt=T.stateNode.containerInfo,nn=!0;break e}T=T.return}if(nt===null)throw Error(a(160));Xy(d,_,h),nt=null,nn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Zy(i,t),i=i.sibling}var Un=null;function Zy(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(i,t),dn(t),l&4&&(gr(3,t,t.return),il(3,t),gr(5,t,t.return));break;case 1:fn(i,t),dn(t),l&512&&(dt||s===null||oi(s,s.return)),l&64&&Hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Un;if(fn(i,t),dn(t),l&512&&(dt||s===null||oi(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ia]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,l,s),d[Et]=t,ht(d),l=d;break e;case"link":var _=Kv("link","href",h).get(l+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),zt(d,l,s),h.head.appendChild(d);break;case"meta":if(_=Kv("meta","content",h).get(l+(s.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break t}}d=h.createElement(l),zt(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[Et]=t,ht(d),l=d}t.stateNode=l}else Yv(h,t.type,t.stateNode);else t.stateNode=Gv(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?Yv(h,t.type,t.stateNode):Gv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ed(t,t.memoizedProps,s.memoizedProps)}break;case 27:fn(i,t),dn(t),l&512&&(dt||s===null||oi(s,s.return)),s!==null&&l&4&&ed(t,t.memoizedProps,s.memoizedProps);break;case 5:if(fn(i,t),dn(t),l&512&&(dt||s===null||oi(s,s.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(F){Ze(t,t.return,F)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ed(t,h,s!==null?s.memoizedProps:h)),l&1024&&(id=!0);break;case 6:if(fn(i,t),dn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(F){Ze(t,t.return,F)}}break;case 3:if(Ec=null,h=Un,Un=vc(i.containerInfo),fn(i,t),Un=h,dn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Tl(i.containerInfo)}catch(F){Ze(t,t.return,F)}id&&(id=!1,Wy(t));break;case 4:l=Un,Un=vc(t.stateNode.containerInfo),fn(i,t),dn(t),Un=l;break;case 12:fn(i,t),dn(t);break;case 13:fn(i,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(cd=En()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rd(t,l)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,B=Hi,$=dt;if(Hi=B||h,dt=$||C,fn(i,t),dt=$,Hi=B,dn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||C||Hi||dt||Da(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){C=s=i;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var Z=C.memoizedProps.style,j=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(F){Ze(C,C.return,F)}}}else if(i.tag===6){if(s===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(F){Ze(C,C.return,F)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,rd(t,s))));break;case 19:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rd(t,l)));break;case 30:break;case 21:break;default:fn(i,t),dn(t)}}function dn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(Gy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=td(t);ac(t,d,h);break;case 5:var _=s.stateNode;s.flags&32&&(An(_,""),s.flags&=-33);var T=td(t);ac(t,T,_);break;case 3:case 4:var C=s.stateNode.containerInfo,B=td(t);nd(t,B,C);break;default:throw Error(a(161))}}catch($){Ze(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Wy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Wy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function yr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Qy(t,i.alternate,i),i=i.sibling}function Da(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:gr(4,i,i.return),Da(i);break;case 1:oi(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&qy(i,i.return,s),Da(i);break;case 27:dl(i.stateNode);case 26:case 5:oi(i,i.return),Da(i);break;case 22:i.memoizedState===null&&Da(i);break;case 30:Da(i);break;default:Da(i)}t=t.sibling}}function vr(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:vr(h,d,s),il(4,d);break;case 1:if(vr(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Ze(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Cg(C[h],T)}catch(B){Ze(l,l.return,B)}}s&&_&64&&Hy(d),rl(d,d.return);break;case 27:Ky(d);case 26:case 5:vr(h,d,s),s&&l===null&&_&4&&Fy(d),rl(d,d.return);break;case 12:vr(h,d,s);break;case 13:vr(h,d,s),s&&_&4&&Jy(h,d);break;case 22:d.memoizedState===null&&vr(h,d,s),rl(d,d.return);break;case 30:break;default:vr(h,d,s)}i=i.sibling}}function ad(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&qo(s))}function sd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&qo(t))}function li(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ev(t,i,s,l),i=i.sibling}function ev(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:li(t,i,s,l),h&2048&&il(9,i);break;case 1:li(t,i,s,l);break;case 3:li(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&qo(t)));break;case 12:if(h&2048){li(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ze(i,i.return,C)}}else li(t,i,s,l);break;case 13:li(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?li(t,i,s,l):al(t,i):d._visibility&2?li(t,i,s,l):(d._visibility|=2,Rs(t,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&ad(_,i);break;case 24:li(t,i,s,l),h&2048&&sd(i.alternate,i);break;default:li(t,i,s,l)}}function Rs(t,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,_=i,T=s,C=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Rs(d,_,T,C,h),il(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Rs(d,_,T,C,h):al(d,_):($._visibility|=2,Rs(d,_,T,C,h)),h&&B&2048&&ad(_.alternate,_);break;case 24:Rs(d,_,T,C,h),h&&B&2048&&sd(_.alternate,_);break;default:Rs(d,_,T,C,h)}i=i.sibling}}function al(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:al(s,l),h&2048&&ad(l.alternate,l);break;case 24:al(s,l),h&2048&&sd(l.alternate,l);break;default:al(s,l)}i=i.sibling}}var sl=8192;function Is(t){if(t.subtreeFlags&sl)for(t=t.child;t!==null;)tv(t),t=t.sibling}function tv(t){switch(t.tag){case 26:Is(t),t.flags&sl&&t.memoizedState!==null&&wb(Un,t.memoizedState,t.memoizedProps);break;case 5:Is(t);break;case 3:case 4:var i=Un;Un=vc(t.stateNode.containerInfo),Is(t),Un=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=sl,sl=16777216,Is(t),sl=i):Is(t));break;default:Is(t)}}function nv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ol(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Mt=l,rv(l,t)}nv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)iv(t),t=t.sibling}function iv(t){switch(t.tag){case 0:case 11:case 15:ol(t),t.flags&2048&&gr(9,t,t.return);break;case 3:ol(t);break;case 12:ol(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,sc(t)):ol(t);break;default:ol(t)}}function sc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Mt=l,rv(l,t)}nv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:gr(8,i,i.return),sc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,sc(i));break;default:sc(i)}t=t.sibling}}function rv(t,i){for(;Mt!==null;){var s=Mt;switch(s.tag){case 0:case 11:case 15:gr(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:qo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Mt=l;else e:for(s=t;Mt!==null;){l=Mt;var h=l.sibling,d=l.return;if($y(l),l===s){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}var jS={getCacheForType:function(t){var i=Gt(St),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},HS=typeof WeakMap=="function"?WeakMap:Map,Ke=0,et=null,Oe=null,Le=0,Ye=0,mn=null,_r=!1,Cs=!1,od=!1,Fi=0,ut=0,Er=0,Na=0,ld=0,On=0,Ds=0,ll=null,rn=null,ud=!1,cd=0,oc=1/0,lc=null,Tr=null,Ut=0,Ar=null,Ns=null,Os=0,hd=0,fd=null,av=null,ul=0,dd=null;function pn(){if((Ke&2)!==0&&Le!==0)return Le&-Le;if(Q.T!==null){var t=vs;return t!==0?t:Ed()}return ir()}function sv(){On===0&&(On=(Le&536870912)===0||He?vo():536870912);var t=Nn.current;return t!==null&&(t.flags|=32),On}function gn(t,i,s){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Ms(t,0),Sr(t,Le,On,!1)),Ai(t,s),((Ke&2)===0||t!==et)&&(t===et&&((Ke&2)===0&&(Na|=s),ut===4&&Sr(t,Le,On,!1)),ui(t))}function ov(t,i,s){if((Ke&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||na(t,i),h=l?GS(t,i):gd(t,i,!0),d=l;do{if(h===0){Cs&&!l&&Sr(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!qS(s)){h=gd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=ll;var C=T.current.memoizedState.isDehydrated;if(C&&(Ms(T,_).flags|=256),_=gd(T,_,!1),_!==2){if(od&&!C){T.errorRecoveryDisabledLanes|=d,Na|=d,h=4;break e}d=rn,rn=h,d!==null&&(rn===null?rn=d:rn.push.apply(rn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ms(t,0),Sr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Sr(l,i,On,!_r);break e;case 2:rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=cd+300-En(),10<h)){if(Sr(l,i,On,!_r),$a(l,0,!0)!==0)break e;l.timeoutHandle=Pv(lv.bind(null,l,s,rn,lc,ud,i,On,Na,Ds,_r,d,2,-0,0),h);break e}lv(l,s,rn,lc,ud,i,On,Na,Ds,_r,d,0,-0,0)}}break}while(!0);ui(t)}function lv(t,i,s,l,h,d,_,T,C,B,$,Z,j,F){if(t.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(gl={stylesheets:null,count:0,unsuspend:bb},tv(i),Z=Rb(),Z!==null)){t.cancelPendingCommit=Z(pv.bind(null,t,i,d,s,l,h,_,T,C,$,1,j,F)),Sr(t,d,_,!B);return}pv(t,i,d,s,l,h,_,T,C)}function qS(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!cn(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Sr(t,i,s,l){i&=~ld,i&=~Na,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Ft(h),_=1<<d;l[d]=-1,h&=~_}s!==0&&Qn(t,s,i)}function uc(){return(Ke&6)===0?(cl(0),!1):!0}function md(){if(Oe!==null){if(Ye===0)var t=Oe.return;else t=Oe,Pi=ba=null,Of(t),bs=null,el=0,t=Oe;for(;t!==null;)jy(t.alternate,t),t=t.return;Oe=null}}function Ms(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,ob(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),md(),et=t,Oe=s=xi(t.current,null),Le=i,Ye=0,mn=null,_r=!1,Cs=na(t,i),od=!1,Ds=On=ld=Na=Er=ut=0,rn=ll=null,ud=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Ft(l),d=1<<h;i|=t[h],l&=~d}return Fi=i,Ou(),s}function uv(t,i){Ie=null,Q.H=Xu,i===Go||i===Bu?(i=Rg(),Ye=3):i===Sg?(i=Rg(),Ye=4):Ye=i===Iy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mn=i,Oe===null&&(ut=1,tc(t,Rn(i,t.current)))}function cv(){var t=Q.H;return Q.H=Xu,t===null?Xu:t}function hv(){var t=Q.A;return Q.A=jS,t}function pd(){ut=4,_r||(Le&4194048)!==Le&&Nn.current!==null||(Cs=!0),(Er&134217727)===0&&(Na&134217727)===0||et===null||Sr(et,Le,On,!1)}function gd(t,i,s){var l=Ke;Ke|=2;var h=cv(),d=hv();(et!==t||Le!==i)&&(lc=null,Ms(t,i)),i=!1;var _=ut;e:do try{if(Ye!==0&&Oe!==null){var T=Oe,C=mn;switch(Ye){case 8:md(),_=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(i=!0);var B=Ye;if(Ye=0,mn=null,xs(t,T,C,B),s&&Cs){_=0;break e}break;default:B=Ye,Ye=0,mn=null,xs(t,T,C,B)}}FS(),_=ut;break}catch($){uv(t,$)}while(!0);return i&&t.shellSuspendCounter++,Pi=ba=null,Ke=l,Q.H=h,Q.A=d,Oe===null&&(et=null,Le=0,Ou()),_}function FS(){for(;Oe!==null;)fv(Oe)}function GS(t,i){var s=Ke;Ke|=2;var l=cv(),h=hv();et!==t||Le!==i?(lc=null,oc=En()+500,Ms(t,i)):Cs=na(t,i);e:do try{if(Ye!==0&&Oe!==null){i=Oe;var d=mn;t:switch(Ye){case 1:Ye=0,mn=null,xs(t,i,d,1);break;case 2:case 9:if(bg(d)){Ye=0,mn=null,dv(i);break}i=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),ui(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:bg(d)?(Ye=0,mn=null,dv(i)):(Ye=0,mn=null,xs(t,i,d,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var T=Oe;if(!_||Qv(_)){Ye=0,mn=null;var C=T.sibling;if(C!==null)Oe=C;else{var B=T.return;B!==null?(Oe=B,cc(B)):Oe=null}break t}}Ye=0,mn=null,xs(t,i,d,5);break;case 6:Ye=0,mn=null,xs(t,i,d,6);break;case 8:md(),ut=6;break e;default:throw Error(a(462))}}KS();break}catch($){uv(t,$)}while(!0);return Pi=ba=null,Q.H=l,Q.A=h,Ke=s,Oe!==null?0:(et=null,Le=0,Ou(),ut)}function KS(){for(;Oe!==null&&!mo();)fv(Oe)}function fv(t){var i=zy(t.alternate,t,Fi);t.memoizedProps=t.pendingProps,i===null?cc(t):Oe=i}function dv(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=xy(s,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=xy(s,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Of(i);default:jy(s,i),i=Oe=mg(i,Fi),i=zy(s,i,Fi)}t.memoizedProps=t.pendingProps,i===null?cc(t):Oe=i}function xs(t,i,s,l){Pi=ba=null,Of(i),bs=null,el=0;var h=i.return;try{if(kS(t,h,i,s,Le)){ut=1,tc(t,Rn(s,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;ut=1,tc(t,Rn(s,t.current)),Oe=null;return}i.flags&32768?(He||l===1?t=!0:Cs||(Le&536870912)!==0?t=!1:(_r=t=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),mv(i,t)):cc(i)}function cc(t){var i=t;do{if((i.flags&32768)!==0){mv(i,_r);return}t=i.return;var s=LS(i.alternate,i,Fi);if(s!==null){Oe=s;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);ut===0&&(ut=5)}function mv(t,i){do{var s=US(t.alternate,t);if(s!==null){s.flags&=32767,Oe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=s}while(t!==null);ut=6,Oe=null}function pv(t,i,s,l,h,d,_,T,C){t.cancelPendingCommit=null;do hc();while(Ut!==0);if((Ke&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=sf,Eo(t,s,d,_,T,C),t===et&&(Oe=et=null,Le=0),Ns=i,Ar=t,Os=s,hd=d,fd=h,av=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,XS(Zr,function(){return Ev(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=se.p,se.p=2,_=Ke,Ke|=4;try{zS(t,i,s)}finally{Ke=_,se.p=h,Q.T=l}}Ut=1,gv(),yv(),vv()}}function gv(){if(Ut===1){Ut=0;var t=Ar,i=Ns,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var l=se.p;se.p=2;var h=Ke;Ke|=4;try{Zy(i,t);var d=Cd,_=rg(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&ig(T.ownerDocument.documentElement,T)){if(C!==null&&ef(T)){var B=C.start,$=C.end;if($===void 0&&($=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min($,T.value.length);else{var Z=T.ownerDocument||document,j=Z&&Z.defaultView||window;if(j.getSelection){var F=j.getSelection(),_e=T.textContent.length,ge=Math.min(C.start,_e),Je=C.end===void 0?ge:Math.min(C.end,_e);!F.extend&&ge>Je&&(_=Je,Je=ge,ge=_);var L=ng(T,ge),V=ng(T,Je);if(L&&V&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==V.node||F.focusOffset!==V.offset)){var z=Z.createRange();z.setStart(L.node,L.offset),F.removeAllRanges(),ge>Je?(F.addRange(z),F.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),F.addRange(z))}}}}for(Z=[],F=T;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var X=Z[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Sc=!!Id,Cd=Id=null}finally{Ke=h,se.p=l,Q.T=s}}t.current=i,Ut=2}}function yv(){if(Ut===2){Ut=0;var t=Ar,i=Ns,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var l=se.p;se.p=2;var h=Ke;Ke|=4;try{Qy(t,i.alternate,i)}finally{Ke=h,se.p=l,Q.T=s}}Ut=3}}function vv(){if(Ut===4||Ut===3){Ut=0,su();var t=Ar,i=Ns,s=Os,l=av;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ut=5:(Ut=0,Ns=Ar=null,_v(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Tr=null),Xa(s),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ot,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=se.p,se.p=2,Q.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{Q.T=i,se.p=h}}(Os&3)!==0&&hc(),ui(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===dd?ul++:(ul=0,dd=t):ul=0,cl(0)}}function _v(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,qo(i)))}function hc(t){return gv(),yv(),vv(),Ev()}function Ev(){if(Ut!==5)return!1;var t=Ar,i=hd;hd=0;var s=Xa(Os),l=Q.T,h=se.p;try{se.p=32>s?32:s,Q.T=null,s=fd,fd=null;var d=Ar,_=Os;if(Ut=0,Ns=Ar=null,Os=0,(Ke&6)!==0)throw Error(a(331));var T=Ke;if(Ke|=4,iv(d.current),ev(d,d.current,_,s),Ke=T,cl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ot,d)}catch{}return!0}finally{se.p=h,Q.T=l,_v(t,i)}}function Tv(t,i,s){i=Rn(s,i),i=Gf(t.stateNode,i,2),t=fr(t,i,2),t!==null&&(Ai(t,2),ui(t))}function Ze(t,i,s){if(t.tag===3)Tv(t,t,s);else for(;i!==null;){if(i.tag===3){Tv(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Tr===null||!Tr.has(l))){t=Rn(s,t),s=wy(2),l=fr(i,s,2),l!==null&&(Ry(s,l,i,t),Ai(l,2),ui(l));break}}i=i.return}}function yd(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new HS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(od=!0,h.add(s),t=YS.bind(null,t,i,s),i.then(t,t))}function YS(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,et===t&&(Le&s)===s&&(ut===4||ut===3&&(Le&62914560)===Le&&300>En()-cd?(Ke&2)===0&&Ms(t,0):ld|=s,Ds===Le&&(Ds=0)),ui(t)}function Av(t,i){i===0&&(i=_o()),t=ms(t,i),t!==null&&(Ai(t,i),ui(t))}function QS(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Av(t,s)}function $S(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Av(t,s)}function XS(t,i){return Xr(t,i)}var fc=null,Vs=null,vd=!1,dc=!1,_d=!1,Oa=0;function ui(t){t!==Vs&&t.next===null&&(Vs===null?fc=Vs=t:Vs=Vs.next=t),dc=!0,vd||(vd=!0,ZS())}function cl(t,i){if(!_d&&dc){_d=!0;do for(var s=!1,l=fc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Ft(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Rv(l,d))}else d=Le,d=$a(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||na(l,d)||(s=!0,Rv(l,d));l=l.next}while(s);_d=!1}}function JS(){Sv()}function Sv(){dc=vd=!1;var t=0;Oa!==0&&(sb()&&(t=Oa),Oa=0);for(var i=En(),s=null,l=fc;l!==null;){var h=l.next,d=bv(l,i);d===0?(l.next=null,s===null?fc=h:s.next=h,h===null&&(Vs=s)):(s=l,(t!==0||(d&3)!==0)&&(dc=!0)),l=h}cl(t)}function bv(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Ft(d),T=1<<_,C=h[_];C===-1?((T&s)===0||(T&l)!==0)&&(h[_]=yo(T,i)):C<=i&&(t.expiredLanes|=T),d&=~T}if(i=et,s=Le,s=$a(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Jr(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||na(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&Jr(l),Xa(s)){case 2:case 8:s=Ya;break;case 32:s=Zr;break;case 268435456:s=Qa;break;default:s=Zr}return l=wv.bind(null,t),s=Xr(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&Jr(l),t.callbackPriority=2,t.callbackNode=null,2}function wv(t,i){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(hc()&&t.callbackNode!==s)return null;var l=Le;return l=$a(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ov(t,l,i),bv(t,En()),t.callbackNode!=null&&t.callbackNode===s?wv.bind(null,t):null)}function Rv(t,i){if(hc())return null;ov(t,i,!0)}function ZS(){lb(function(){(Ke&6)!==0?Xr(po,JS):Sv()})}function Ed(){return Oa===0&&(Oa=vo()),Oa}function Iv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ns(""+t)}function Cv(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function WS(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var d=Iv((h[pt]||null).action),_=l.submitter;_&&(i=(i=_[pt]||null)?Iv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new is("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Oa!==0){var C=_?Cv(h,_):new FormData(h);Bf(s,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?Cv(h,_):new FormData(h),Bf(s,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Td=0;Td<af.length;Td++){var Ad=af[Td],eb=Ad.toLowerCase(),tb=Ad[0].toUpperCase()+Ad.slice(1);Ln(eb,"on"+tb)}Ln(og,"onAnimationEnd"),Ln(lg,"onAnimationIteration"),Ln(ug,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(vS,"onTransitionRun"),Ln(_S,"onTransitionStart"),Ln(ES,"onTransitionCancel"),Ln(cg,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function Dv(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,B=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch($){ec($)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,B=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch($){ec($)}h.currentTarget=null,d=C}}}}function Me(t,i){var s=i[Ao];s===void 0&&(s=i[Ao]=new Set);var l=t+"__bubble";s.has(l)||(Nv(i,t,2,!1),s.add(l))}function Sd(t,i,s){var l=0;i&&(l|=4),Nv(s,t,l,i)}var mc="_reactListening"+Math.random().toString(36).slice(2);function bd(t){if(!t[mc]){t[mc]=!0,So.forEach(function(s){s!=="selectionchange"&&(nb.has(s)||Sd(s,!1,t),Sd(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[mc]||(i[mc]=!0,Sd("selectionchange",!1,i))}}function Nv(t,i,s,l){switch(e_(i)){case 2:var h=Db;break;case 8:h=Nb;break;default:h=Ud}s=h.bind(null,i,s,t),h=void 0,!bn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function wd(t,i,s,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Si(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue e}T=T.parentNode}}l=l.return}gu(function(){var B=d,$=Sn(s),Z=[];e:{var j=hg.get(t);if(j!==void 0){var F=is,_e=t;switch(t){case"keypress":if(ei(s)===0)break e;case"keydown":case"keyup":F=us;break;case"focusin":_e="focus",F=ss;break;case"focusout":_e="blur",F=ss;break;case"beforeblur":case"afterblur":F=ss;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=bu;break;case og:case lg:case ug:F=os;break;case cg:F=Ru;break;case"scroll":case"scrollend":F=yu;break;case"wheel":F=cs;break;case"copy":case"cut":case"paste":F=ls;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ko;break;case"toggle":case"beforetoggle":F=Cu}var ge=(i&4)!==0,Je=!ge&&(t==="scroll"||t==="scrollend"),L=ge?j!==null?j+"Capture":null:j;ge=[];for(var V=B,z;V!==null;){var X=V;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||L===null||(X=ca(V,L),X!=null&&ge.push(fl(V,X,z))),Je)break;V=V.return}0<ge.length&&(j=new F(j,_e,null,s,$),Z.push({event:j,listeners:ge}))}}if((i&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",j&&s!==Ii&&(_e=s.relatedTarget||s.fromElement)&&(Si(_e)||_e[Tn]))break e;if((F||j)&&(j=$.window===$?$:(j=$.ownerDocument)?j.defaultView||j.parentWindow:window,F?(_e=s.relatedTarget||s.toElement,F=B,_e=_e?Si(_e):null,_e!==null&&(Je=u(_e),ge=_e.tag,_e!==Je||ge!==5&&ge!==27&&ge!==6)&&(_e=null)):(F=null,_e=B),F!==_e)){if(ge=wn,X="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ge=ko,X="onPointerLeave",L="onPointerEnter",V="pointer"),Je=F==null?j:Xn(F),z=_e==null?j:Xn(_e),j=new ge(X,V+"leave",F,s,$),j.target=Je,j.relatedTarget=z,X=null,Si($)===B&&(ge=new ge(L,V+"enter",_e,s,$),ge.target=z,ge.relatedTarget=Je,X=ge),Je=X,F&&_e)t:{for(ge=F,L=_e,V=0,z=ge;z;z=ks(z))V++;for(z=0,X=L;X;X=ks(X))z++;for(;0<V-z;)ge=ks(ge),V--;for(;0<z-V;)L=ks(L),z--;for(;V--;){if(ge===L||L!==null&&ge===L.alternate)break t;ge=ks(ge),L=ks(L)}ge=null}else ge=null;F!==null&&Ov(Z,j,F,ge,!1),_e!==null&&Je!==null&&Ov(Z,Je,_e,ge,!0)}}e:{if(j=B?Xn(B):window,F=j.nodeName&&j.nodeName.toLowerCase(),F==="select"||F==="input"&&j.type==="file")var ue=Xp;else if(At(j))if(Jp)ue=pS;else{ue=dS;var Ne=fS}else F=j.nodeName,!F||F.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&Co(B.elementType)&&(ue=Xp):ue=mS;if(ue&&(ue=ue(t,B))){Mi(Z,ue,s,$);break e}Ne&&Ne(t,j,B),t==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&or(j,"number",j.value)}switch(Ne=B?Xn(B):window,t){case"focusin":(At(Ne)||Ne.contentEditable==="true")&&(hs=Ne,tf=B,Uo=null);break;case"focusout":Uo=tf=hs=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,ag(Z,s,$);break;case"selectionchange":if(yS)break;case"keydown":case"keyup":ag(Z,s,$)}var fe;if(ii)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else ke?K(t,s)&&(ve="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ve="onCompositionStart");ve&&(v&&s.locale!=="ko"&&(ke||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&ke&&(fe=No()):(Wn=$,lr="value"in Wn?Wn.value:Wn.textContent,ke=!0)),Ne=pc(B,ve),0<Ne.length&&(ve=new xo(ve,t,null,s,$),Z.push({event:ve,listeners:Ne}),fe?ve.data=fe:(fe=ae(s),fe!==null&&(ve.data=fe)))),(fe=g?Tt(t,s):Pe(t,s))&&(ve=pc(B,"onBeforeInput"),0<ve.length&&(Ne=new xo("onBeforeInput","beforeinput",null,s,$),Z.push({event:Ne,listeners:ve}),Ne.data=fe)),WS(Z,t,B,s,$)}Dv(Z,i)})}function fl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function pc(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ca(t,s),h!=null&&l.unshift(fl(t,h,d)),h=ca(t,i),h!=null&&l.push(fl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ov(t,i,s,l,h){for(var d=i._reactName,_=[];s!==null&&s!==l;){var T=s,C=T.alternate,B=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||B===null||(C=B,h?(B=ca(s,d),B!=null&&_.unshift(fl(s,B,C))):h||(B=ca(s,d),B!=null&&_.push(fl(s,B,C)))),s=s.return}_.length!==0&&t.push({event:i,listeners:_})}var ib=/\r\n?/g,rb=/\u0000|\uFFFD/g;function Mv(t){return(typeof t=="string"?t:""+t).replace(ib,`
`).replace(rb,"")}function xv(t,i){return i=Mv(i),Mv(t)===i}function gc(){}function Xe(t,i,s,l,h,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&An(t,""+l);break;case"className":Jn(t,"class",l);break;case"tabIndex":Jn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(t,s,l);break;case"style":Io(t,l,d);break;case"data":if(i!=="object"){Jn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ns(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&Xe(t,i,"name",h.name,h,null),Xe(t,i,"formEncType",h.formEncType,h,null),Xe(t,i,"formMethod",h.formMethod,h,null),Xe(t,i,"formTarget",h.formTarget,h,null)):(Xe(t,i,"encType",h.encType,h,null),Xe(t,i,"method",h.method,h,null),Xe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ns(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=gc);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=ns(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),sr(t,"popover",l);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":sr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Qh.get(s)||s,sr(t,s,l))}}function Rd(t,i,s,l,h,d){switch(s){case"style":Io(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=gc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ja.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=t[pt]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):sr(t,s,l)}}}function zt(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Xe(t,i,d,_,s,null)}}h&&Xe(t,i,"srcSet",s.srcSet,s,null),l&&Xe(t,i,"src",s.src,s,null);return;case"input":Me("invalid",t);var T=d=_=h=null,C=null,B=null;for(l in s)if(s.hasOwnProperty(l)){var $=s[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":C=$;break;case"defaultChecked":B=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,i));break;default:Xe(t,i,l,$,s,null)}}oa(t,d,T,C,B,_,h,!1),ts(t);return;case"select":Me("invalid",t),l=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Xe(t,i,h,T,s,null)}i=d,s=_,t.multiple=!!l,i!=null?Ri(t,!!l,i,!1):s!=null&&Ri(t,!!l,s,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Xe(t,i,_,T,s,null)}la(t,l,h,d),ts(t);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,i,C,l,s,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<hl.length;l++)Me(hl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(l=s[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Xe(t,i,B,l,s,null)}return;default:if(Co(i)){for($ in s)s.hasOwnProperty($)&&(l=s[$],l!==void 0&&Rd(t,i,$,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&Xe(t,i,T,l,s,null))}function ab(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,B=null,$=null;for(F in s){var Z=s[F];if(s.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(F)||Xe(t,i,F,null,l,Z)}}for(var j in l){var F=l[j];if(Z=s[j],l.hasOwnProperty(j)&&(F!=null||Z!=null))switch(j){case"type":d=F;break;case"name":h=F;break;case"checked":B=F;break;case"defaultChecked":$=F;break;case"value":_=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,i));break;default:F!==Z&&Xe(t,i,j,F,l,Z)}}un(t,_,T,C,B,$,d,h);return;case"select":F=_=T=j=null;for(d in s)if(C=s[d],s.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(d)||Xe(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=s[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":j=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&Xe(t,i,h,d,l,C)}i=T,s=_,l=F,j!=null?Ri(t,!!s,j,!1):!!l!=!!s&&(i!=null?Ri(t,!!s,i,!0):Ri(t,!!s,s?[]:"",!1));return;case"textarea":F=j=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xe(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=s[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":j=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&Xe(t,i,_,h,l,d)}Qe(t,j,F);return;case"option":for(var _e in s)if(j=s[_e],s.hasOwnProperty(_e)&&j!=null&&!l.hasOwnProperty(_e))switch(_e){case"selected":t.selected=!1;break;default:Xe(t,i,_e,null,l,j)}for(C in l)if(j=l[C],F=s[C],l.hasOwnProperty(C)&&j!==F&&(j!=null||F!=null))switch(C){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Xe(t,i,C,j,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in s)j=s[ge],s.hasOwnProperty(ge)&&j!=null&&!l.hasOwnProperty(ge)&&Xe(t,i,ge,null,l,j);for(B in l)if(j=l[B],F=s[B],l.hasOwnProperty(B)&&j!==F&&(j!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,i));break;default:Xe(t,i,B,j,l,F)}return;default:if(Co(i)){for(var Je in s)j=s[Je],s.hasOwnProperty(Je)&&j!==void 0&&!l.hasOwnProperty(Je)&&Rd(t,i,Je,void 0,l,j);for($ in l)j=l[$],F=s[$],!l.hasOwnProperty($)||j===F||j===void 0&&F===void 0||Rd(t,i,$,j,l,F);return}}for(var L in s)j=s[L],s.hasOwnProperty(L)&&j!=null&&!l.hasOwnProperty(L)&&Xe(t,i,L,null,l,j);for(Z in l)j=l[Z],F=s[Z],!l.hasOwnProperty(Z)||j===F||j==null&&F==null||Xe(t,i,Z,j,l,F)}var Id=null,Cd=null;function yc(t){return t.nodeType===9?t:t.ownerDocument}function Vv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Dd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Nd=null;function sb(){var t=window.event;return t&&t.type==="popstate"?t===Nd?!1:(Nd=t,!0):(Nd=null,!1)}var Pv=typeof setTimeout=="function"?setTimeout:void 0,ob=typeof clearTimeout=="function"?clearTimeout:void 0,Lv=typeof Promise=="function"?Promise:void 0,lb=typeof queueMicrotask=="function"?queueMicrotask:typeof Lv<"u"?function(t){return Lv.resolve(null).then(t).catch(ub)}:Pv;function ub(t){setTimeout(function(){throw t})}function br(t){return t==="head"}function Uv(t,i){var s=i,l=0,h=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var _=t.ownerDocument;if(s&1&&dl(_.documentElement),s&2&&dl(_.body),s&4)for(s=_.head,dl(s),_=s.firstChild;_;){var T=_.nextSibling,C=_.nodeName;_[ia]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=T}}if(h===0){t.removeChild(d),Tl(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);Tl(i)}function Od(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Od(s),ar(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function cb(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ia])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function hb(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=zn(t.nextSibling),t===null))return null;return t}function Md(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function fb(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var xd=null;function zv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function Bv(t,i,s){switch(i=yc(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function dl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ar(t)}var Mn=new Map,jv=new Set;function vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Gi=se.d;se.d={f:db,r:mb,D:pb,C:gb,L:yb,m:vb,X:Eb,S:_b,M:Tb};function db(){var t=Gi.f(),i=uc();return t||i}function mb(t){var i=$n(t);i!==null&&i.tag===5&&i.type==="form"?oy(i):Gi.r(t)}var Ps=typeof document>"u"?null:document;function Hv(t,i,s){var l=Ps;if(l&&typeof i=="string"&&i){var h=gt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),jv.has(h)||(jv.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),zt(i,"link",t),ht(i),l.head.appendChild(i)))}}function pb(t){Gi.D(t),Hv("dns-prefetch",t,null)}function gb(t,i){Gi.C(t,i),Hv("preconnect",t,i)}function yb(t,i,s){Gi.L(t,i,s);var l=Ps;if(l&&t&&i){var h='link[rel="preload"][as="'+gt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+gt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+gt(s.imageSizes)+'"]')):h+='[href="'+gt(t)+'"]';var d=h;switch(i){case"style":d=Ls(t);break;case"script":d=Us(t)}Mn.has(d)||(t=E({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Mn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(ml(d))||i==="script"&&l.querySelector(pl(d))||(i=l.createElement("link"),zt(i,"link",t),ht(i),l.head.appendChild(i)))}}function vb(t,i){Gi.m(t,i);var s=Ps;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+gt(l)+'"][href="'+gt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Us(t)}if(!Mn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Mn.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(pl(d)))return}l=s.createElement("link"),zt(l,"link",t),ht(l),s.head.appendChild(l)}}}function _b(t,i,s){Gi.S(t,i,s);var l=Ps;if(l&&t){var h=Jt(l).hoistableStyles,d=Ls(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(ml(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Mn.get(d))&&Vd(t,s);var C=_=l.createElement("link");ht(C),zt(C,"link",t),C._p=new Promise(function(B,$){C.onload=B,C.onerror=$}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,_c(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function Eb(t,i){Gi.X(t,i);var s=Ps;if(s&&t){var l=Jt(s).hoistableScripts,h=Us(t),d=l.get(h);d||(d=s.querySelector(pl(h)),d||(t=E({src:t,async:!0},i),(i=Mn.get(h))&&kd(t,i),d=s.createElement("script"),ht(d),zt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Tb(t,i){Gi.M(t,i);var s=Ps;if(s&&t){var l=Jt(s).hoistableScripts,h=Us(t),d=l.get(h);d||(d=s.querySelector(pl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Mn.get(h))&&kd(t,i),d=s.createElement("script"),ht(d),zt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function qv(t,i,s,l){var h=(h=Ae.current)?vc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Ls(s.href),s=Jt(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ls(s.href);var d=Jt(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(ml(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Mn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Mn.set(t,s),d||Ab(h,t,s,_.state))),i&&l===null)throw Error(a(528,""));return _}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Us(s),s=Jt(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ls(t){return'href="'+gt(t)+'"'}function ml(t){return'link[rel="stylesheet"]['+t+"]"}function Fv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function Ab(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),zt(i,"link",s),ht(i),t.head.appendChild(i))}function Us(t){return'[src="'+gt(t)+'"]'}function pl(t){return"script[async]"+t}function Gv(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+gt(s.href)+'"]');if(l)return i.instance=l,ht(l),l;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ht(l),zt(l,"style",h),_c(l,s.precedence,t),i.instance=l;case"stylesheet":h=Ls(s.href);var d=t.querySelector(ml(h));if(d)return i.state.loading|=4,i.instance=d,ht(d),d;l=Fv(s),(h=Mn.get(h))&&Vd(l,h),d=(t.ownerDocument||t).createElement("link"),ht(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),zt(d,"link",l),i.state.loading|=4,_c(d,s.precedence,t),i.instance=d;case"script":return d=Us(s.src),(h=t.querySelector(pl(d)))?(i.instance=h,ht(h),h):(l=s,(h=Mn.get(d))&&(l=E({},s),kd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ht(h),zt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,_c(l,s.precedence,t));return i.instance}function _c(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Vd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ec=null;function Kv(t,i,s){if(Ec===null){var l=new Map,h=Ec=new Map;h.set(s,l)}else h=Ec,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[ia]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function Yv(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function Sb(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Qv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var gl=null;function bb(){}function wb(t,i,s){if(gl===null)throw Error(a(475));var l=gl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ls(s.href),d=t.querySelector(ml(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Tc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ht(d);return}d=t.ownerDocument||t,s=Fv(s),(h=Mn.get(h))&&Vd(s,h),d=d.createElement("link"),ht(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),zt(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Tc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function Rb(){if(gl===null)throw Error(a(475));var t=gl;return t.stylesheets&&t.count===0&&Pd(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&Pd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Tc(){if(this.count--,this.count===0){if(this.stylesheets)Pd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ac=null;function Pd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ac=new Map,i.forEach(Ib,t),Ac=null,Tc.call(t))}function Ib(t,i){if(!(i.state.loading&4)){var s=Ac.get(t);if(s)var l=s.get(null);else{s=new Map,Ac.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,h),s.set(_,h),this.count++,l=Tc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var yl={$$typeof:re,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Cb(t,i,s,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function $v(t,i,s,l,h,d,_,T,C,B,$,Z){return t=new Cb(t,i,s,_,T,C,B,Z),i=1,d===!0&&(i|=24),d=hn(3,null,null,i),t.current=d,d.stateNode=t,i=yf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},Tf(d),t}function Xv(t){return t?(t=ps,t):ps}function Jv(t,i,s,l,h,d){h=Xv(h),l.context===null?l.context=h:l.pendingContext=h,l=hr(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=fr(t,l,i),s!==null&&(gn(s,t,i),Yo(s,t,i))}function Zv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Ld(t,i){Zv(t,i),(t=t.alternate)&&Zv(t,i)}function Wv(t){if(t.tag===13){var i=ms(t,67108864);i!==null&&gn(i,t,67108864),Ld(t,67108864)}}var Sc=!0;function Db(t,i,s,l){var h=Q.T;Q.T=null;var d=se.p;try{se.p=2,Ud(t,i,s,l)}finally{se.p=d,Q.T=h}}function Nb(t,i,s,l){var h=Q.T;Q.T=null;var d=se.p;try{se.p=8,Ud(t,i,s,l)}finally{se.p=d,Q.T=h}}function Ud(t,i,s,l){if(Sc){var h=zd(l);if(h===null)wd(t,i,l,bc,s),t_(t,l);else if(Mb(h,t,i,s,l))l.stopPropagation();else if(t_(t,l),i&4&&-1<Ob.indexOf(t)){for(;h!==null;){var d=$n(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Vn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-Ft(_);T.entanglements[1]|=C,_&=~C}ui(d),(Ke&6)===0&&(oc=En()+500,cl(0))}}break;case 13:T=ms(d,2),T!==null&&gn(T,d,2),uc(),Ld(d,2)}if(d=zd(l),d===null&&wd(t,i,l,bc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else wd(t,i,l,null,s)}}function zd(t){return t=Sn(t),Bd(t)}var bc=null;function Bd(t){if(bc=null,t=Si(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=f(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return bc=t,null}function e_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hh()){case po:return 2;case Ya:return 8;case Zr:case qh:return 32;case Qa:return 268435456;default:return 32}default:return 32}}var jd=!1,wr=null,Rr=null,Ir=null,vl=new Map,_l=new Map,Cr=[],Ob="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t_(t,i){switch(t){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(i.pointerId)}}function El(t,i,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=$n(i),i!==null&&Wv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Mb(t,i,s,l,h){switch(i){case"focusin":return wr=El(wr,t,i,s,l,h),!0;case"dragenter":return Rr=El(Rr,t,i,s,l,h),!0;case"mouseover":return Ir=El(Ir,t,i,s,l,h),!0;case"pointerover":var d=h.pointerId;return vl.set(d,El(vl.get(d)||null,t,i,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,_l.set(d,El(_l.get(d)||null,t,i,s,l,h)),!0}return!1}function n_(t){var i=Si(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){t.blockedOn=i,uu(t.priority,function(){if(s.tag===13){var l=pn();l=nr(l);var h=ms(s,l);h!==null&&gn(h,s,l),Ld(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=zd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Ii=l,s.target.dispatchEvent(l),Ii=null}else return i=$n(s),i!==null&&Wv(i),t.blockedOn=s,!1;i.shift()}return!0}function i_(t,i,s){wc(t)&&s.delete(i)}function xb(){jd=!1,wr!==null&&wc(wr)&&(wr=null),Rr!==null&&wc(Rr)&&(Rr=null),Ir!==null&&wc(Ir)&&(Ir=null),vl.forEach(i_),_l.forEach(i_)}function Rc(t,i){t.blockedOn===i&&(t.blockedOn=null,jd||(jd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xb)))}var Ic=null;function r_(t){Ic!==t&&(Ic=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ic===t&&(Ic=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Bd(l||s)===null)continue;break}var d=$n(s);d!==null&&(t.splice(i,3),i-=3,Bf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Tl(t){function i(C){return Rc(C,t)}wr!==null&&Rc(wr,t),Rr!==null&&Rc(Rr,t),Ir!==null&&Rc(Ir,t),vl.forEach(i),_l.forEach(i);for(var s=0;s<Cr.length;s++){var l=Cr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Cr.length&&(s=Cr[0],s.blockedOn===null);)n_(s),s.blockedOn===null&&Cr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],_=h[pt]||null;if(typeof d=="function")_||r_(s);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[pt]||null)T=_.formAction;else if(Bd(h)!==null)continue}else T=_.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),r_(s)}}}function Hd(t){this._internalRoot=t}Cc.prototype.render=Hd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=pn();Jv(s,l,t,i,null,null)},Cc.prototype.unmount=Hd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Jv(t.current,2,null,t,null,null),uc(),i[Tn]=null}};function Cc(t){this._internalRoot=t}Cc.prototype.unstable_scheduleHydration=function(t){if(t){var i=ir();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Cr.length&&i!==0&&i<Cr[s].priority;s++);Cr.splice(s,0,t),s===0&&n_(t)}};var a_=e.version;if(a_!=="19.1.0")throw Error(a(527,a_,"19.1.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var Vb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{ot=Dc.inject(Vb),Ge=Dc}catch{}}return Sl.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",h=Ty,d=Ay,_=Sy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=$v(t,1,!1,null,null,s,l,h,d,_,T,null),t[Tn]=i.current,bd(t),new Hd(i)},Sl.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=Ty,_=Ay,T=Sy,C=null,B=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks),s.formState!==void 0&&(B=s.formState)),i=$v(t,1,!0,i,s??null,l,h,d,_,T,C,B),i.context=Xv(null),s=i.current,l=pn(),l=nr(l),h=hr(l),h.callback=null,fr(s,h,l),s=l,i.current.lanes=s,Ai(i,s),ui(i),t[Tn]=i.current,bd(t),new Cc(i)},Sl.version="19.1.0",Sl}var p_;function Fb(){if(p_)return Gd.exports;p_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gd.exports=qb(),Gd.exports}var Gb=Fb(),bl={},g_;function Kb(){if(g_)return bl;g_=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.parse=f,bl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,N){const D=new u,H=S.length;if(H<2)return D;const q=(N==null?void 0:N.decode)||E;let Y=0;do{const ee=S.indexOf("=",Y);if(ee===-1)break;const re=S.indexOf(";",Y),he=re===-1?H:re;if(ee>he){Y=S.lastIndexOf(";",ee-1)+1;continue}const ce=m(S,Y,ee),be=p(S,ee,ce),k=S.slice(ce,be);if(D[k]===void 0){let w=m(S,ee+1,he),I=p(S,he,w);const M=q(S.slice(w,I));D[k]=M}Y=he+1}while(Y<H);return D}function m(S,N,D){do{const H=S.charCodeAt(N);if(H!==32&&H!==9)return N}while(++N<D);return D}function p(S,N,D){for(;N>D;){const H=S.charCodeAt(--N);if(H!==32&&H!==9)return N+1}return D}function y(S,N,D){const H=(D==null?void 0:D.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const q=H(N);if(!e.test(q))throw new TypeError(`argument val is invalid: ${N}`);let Y=S+"="+q;if(!D)return Y;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);Y+="; Max-Age="+D.maxAge}if(D.domain){if(!n.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);Y+="; Domain="+D.domain}if(D.path){if(!a.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);Y+="; Path="+D.path}if(D.expires){if(!b(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);Y+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(Y+="; HttpOnly"),D.secure&&(Y+="; Secure"),D.partitioned&&(Y+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return Y}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return o.call(S)==="[object Date]"}return bl}Kb();var y_="popstate";function Yb(r={}){function e(a,o){let{pathname:u,search:f,hash:m}=a.location;return fm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Ul(o)}return $b(e,n,null,r)}function it(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function qn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Qb(){return Math.random().toString(36).substring(2,10)}function v_(r,e){return{usr:r.state,key:r.key,idx:e}}function fm(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?io(e):e,state:n,key:e&&e.key||a||Qb()}}function Ul({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function io(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function $b(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let q=E(),Y=q==null?null:q-y;y=q,p&&p({action:m,location:H.location,delta:Y})}function S(q,Y){m="PUSH";let ee=fm(H.location,q,Y);y=E()+1;let re=v_(ee,y),he=H.createHref(ee);try{f.pushState(re,"",he)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(he)}u&&p&&p({action:m,location:H.location,delta:1})}function N(q,Y){m="REPLACE";let ee=fm(H.location,q,Y);y=E();let re=v_(ee,y),he=H.createHref(ee);f.replaceState(re,"",he),u&&p&&p({action:m,location:H.location,delta:0})}function D(q){return Xb(q)}let H={get action(){return m},get location(){return r(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(y_,b),p=q,()=>{o.removeEventListener(y_,b),p=null}},createHref(q){return e(o,q)},createURL:D,encodeLocation(q){let Y=D(q);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:S,replace:N,go(q){return f.go(q)}};return H}function Xb(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),it(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Ul(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function i0(r,e,n="/"){return Jb(r,e,n,!1)}function Jb(r,e,n,a){let o=typeof e=="string"?io(e):e,u=Xi(o.pathname||"/",n);if(u==null)return null;let f=r0(r);Zb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=uw(u);m=ow(f[p],y,a)}return m}function r0(r,e=[],n=[],a=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(it(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let y=$i([a,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),r0(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:aw(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of a0(u.path))o(u,f,p)}),e}function a0(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=a0(a.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Zb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:sw(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Wb=/^:[\w-]+$/,ew=3,tw=2,nw=1,iw=10,rw=-2,__=r=>r==="*";function aw(r,e){let n=r.split("/"),a=n.length;return n.some(__)&&(a+=rw),e&&(a+=tw),n.filter(o=>!__(o)).reduce((o,u)=>o+(Wb.test(u)?ew:u===""?nw:iw),a)}function sw(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function ow(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",f=[];for(let m=0;m<a.length;++m){let p=a[m],y=m===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=Qc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),S=p.route;if(!b&&y&&n&&!a[a.length-1].route.index&&(b=Qc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:$i([u,b.pathname]),pathnameBase:dw($i([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=$i([u,b.pathnameBase]))}return f}function Qc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=lw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((y,{paramName:E,isOptional:b},S)=>{if(E==="*"){let D=m[S]||"";f=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const N=m[S];return b&&!N?y[E]=void 0:y[E]=(N||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function lw(r,e=!1,n=!0){qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function uw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Xi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function cw(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?io(r):r;return{pathname:n?n.startsWith("/")?n:hw(n,e):e,search:mw(a),hash:pw(o)}}function hw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function $d(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gm(r){let e=fw(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Km(r,e,n,a=!1){let o;typeof r=="string"?o=io(r):(o={...r},it(!o.pathname||!o.pathname.includes("?"),$d("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),$d("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),$d("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!a&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?e[b]:"/"}let p=cw(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var $i=r=>r.join("/").replace(/\/\/+/g,"/"),dw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),mw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,pw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function gw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var s0=["POST","PUT","PATCH","DELETE"];new Set(s0);var yw=["GET",...s0];new Set(yw);var ro=G.createContext(null);ro.displayName="DataRouter";var gh=G.createContext(null);gh.displayName="DataRouterState";var o0=G.createContext({isTransitioning:!1});o0.displayName="ViewTransition";var vw=G.createContext(new Map);vw.displayName="Fetchers";var _w=G.createContext(null);_w.displayName="Await";var Gn=G.createContext(null);Gn.displayName="Navigation";var $l=G.createContext(null);$l.displayName="Location";var _i=G.createContext({outlet:null,matches:[],isDataRoute:!1});_i.displayName="Route";var Ym=G.createContext(null);Ym.displayName="RouteError";function Ew(r,{relative:e}={}){it(ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=G.useContext(Gn),{hash:o,pathname:u,search:f}=Xl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:$i([n,u])),a.createHref({pathname:m,search:f,hash:o})}function ao(){return G.useContext($l)!=null}function Kr(){return it(ao(),"useLocation() may be used only in the context of a <Router> component."),G.useContext($l).location}var l0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u0(r){G.useContext(Gn).static||G.useLayoutEffect(r)}function c0(){let{isDataRoute:r}=G.useContext(_i);return r?xw():Tw()}function Tw(){it(ao(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(ro),{basename:e,navigator:n}=G.useContext(Gn),{matches:a}=G.useContext(_i),{pathname:o}=Kr(),u=JSON.stringify(Gm(a)),f=G.useRef(!1);return u0(()=>{f.current=!0}),G.useCallback((p,y={})=>{if(qn(f.current,l0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=Km(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:$i([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}G.createContext(null);function Xl(r,{relative:e}={}){let{matches:n}=G.useContext(_i),{pathname:a}=Kr(),o=JSON.stringify(Gm(n));return G.useMemo(()=>Km(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function Aw(r,e){return h0(r,e)}function h0(r,e,n,a){var Y;it(ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=G.useContext(Gn),{matches:u}=G.useContext(_i),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",E=f&&f.route;{let ee=E&&E.path||"";f0(p,!E||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let b=Kr(),S;if(e){let ee=typeof e=="string"?io(e):e;it(y==="/"||((Y=ee.pathname)==null?void 0:Y.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),S=ee}else S=b;let N=S.pathname||"/",D=N;if(y!=="/"){let ee=y.replace(/^\//,"").split("/");D="/"+N.replace(/^\//,"").split("/").slice(ee.length).join("/")}let H=i0(r,{pathname:D});qn(E||H!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),qn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=Iw(H&&H.map(ee=>Object.assign({},ee,{params:Object.assign({},m,ee.params),pathname:$i([y,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?y:$i([y,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),u,n,a);return e&&q?G.createElement($l.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},q):q}function Sw(){let r=Mw(),e=gw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,f)}var bw=G.createElement(Sw,null),ww=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?G.createElement(_i.Provider,{value:this.props.routeContext},G.createElement(Ym.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Rw({routeContext:r,match:e,children:n}){let a=G.useContext(ro);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(_i.Provider,{value:r},n)}function Iw(r,e=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:b}=n,S=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let b,S=!1,N=null,D=null;n&&(b=u&&y.route.id?u[y.route.id]:void 0,N=y.route.errorElement||bw,f&&(m<0&&E===0?(f0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,D=null):m===E&&(S=!0,D=y.route.hydrateFallbackElement||null)));let H=e.concat(o.slice(0,E+1)),q=()=>{let Y;return b?Y=N:S?Y=D:y.route.Component?Y=G.createElement(y.route.Component,null):y.route.element?Y=y.route.element:Y=p,G.createElement(Rw,{match:y,routeContext:{outlet:p,matches:H,isDataRoute:n!=null},children:Y})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?G.createElement(ww,{location:n.location,revalidation:n.revalidation,component:N,error:b,children:q(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):q()},null)}function Qm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cw(r){let e=G.useContext(ro);return it(e,Qm(r)),e}function Dw(r){let e=G.useContext(gh);return it(e,Qm(r)),e}function Nw(r){let e=G.useContext(_i);return it(e,Qm(r)),e}function $m(r){let e=Nw(r),n=e.matches[e.matches.length-1];return it(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Ow(){return $m("useRouteId")}function Mw(){var a;let r=G.useContext(Ym),e=Dw("useRouteError"),n=$m("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[n]}function xw(){let{router:r}=Cw("useNavigate"),e=$m("useNavigate"),n=G.useRef(!1);return u0(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{qn(n.current,l0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var E_={};function f0(r,e,n){!e&&!E_[r]&&(E_[r]=!0,qn(!1,n))}G.memo(Vw);function Vw({routes:r,future:e,state:n}){return h0(r,void 0,n,e)}function d0({to:r,replace:e,state:n,relative:a}){it(ao(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(Gn);qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(_i),{pathname:f}=Kr(),m=c0(),p=Km(r,Gm(u),f,a==="path"),y=JSON.stringify(p);return G.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:a})},[m,y,a,e,n]),null}function dm(r){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kw({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){it(!ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=io(n));let{pathname:p="/",search:y="",hash:E="",state:b=null,key:S="default"}=n,N=G.useMemo(()=>{let D=Xi(p,f);return D==null?null:{location:{pathname:D,search:y,hash:E,state:b,key:S},navigationType:a}},[f,p,y,E,b,S,a]);return qn(N!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:G.createElement(Gn.Provider,{value:m},G.createElement($l.Provider,{children:e,value:N}))}function Pw({children:r,location:e}){return Aw(mm(r),e)}function mm(r,e=[]){let n=[];return G.Children.forEach(r,(a,o)=>{if(!G.isValidElement(a))return;let u=[...e,o];if(a.type===G.Fragment){n.push.apply(n,mm(a.props.children,u));return}it(a.type===dm,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=mm(a.props.children,u)),n.push(f)}),n}var Lc="get",Uc="application/x-www-form-urlencoded";function yh(r){return r!=null&&typeof r.tagName=="string"}function Lw(r){return yh(r)&&r.tagName.toLowerCase()==="button"}function Uw(r){return yh(r)&&r.tagName.toLowerCase()==="form"}function zw(r){return yh(r)&&r.tagName.toLowerCase()==="input"}function Bw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function jw(r,e){return r.button===0&&(!e||e==="_self")&&!Bw(r)}var Nc=null;function Hw(){if(Nc===null)try{new FormData(document.createElement("form"),0),Nc=!1}catch{Nc=!0}return Nc}var qw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xd(r){return r!=null&&!qw.has(r)?(qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uc}"`),null):r}function Fw(r,e){let n,a,o,u,f;if(Uw(r)){let m=r.getAttribute("action");a=m?Xi(m,e):null,n=r.getAttribute("method")||Lc,o=Xd(r.getAttribute("enctype"))||Uc,u=new FormData(r)}else if(Lw(r)||zw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?Xi(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Lc,o=Xd(r.getAttribute("formenctype"))||Xd(m.getAttribute("enctype"))||Uc,u=new FormData(m,r),!Hw()){let{name:y,type:E,value:b}=r;if(E==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,b)}}else{if(yh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lc,a=null,o=Uc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Xm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Gw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Kw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Yw(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Gw(u,n);return f.links?f.links():[]}return[]}));return Jw(a.flat(1).filter(Kw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function T_(r,e,n,a,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var b;let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Qw(r,e,{includeHydrateFallback:n}={}){return $w(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function $w(r){return[...new Set(r)]}function Xw(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function Jw(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(Xw(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Zw=new Set([100,101,204,205]);function Ww(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&Xi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function m0(){let r=G.useContext(ro);return Xm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function e1(){let r=G.useContext(gh);return Xm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Jm=G.createContext(void 0);Jm.displayName="FrameworkContext";function p0(){let r=G.useContext(Jm);return Xm(r,"You must render this element inside a <HydratedRouter> element"),r}function t1(r,e){let n=G.useContext(Jm),[a,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,S=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let H=Y=>{Y.forEach(ee=>{f(ee.isIntersecting)})},q=new IntersectionObserver(H,{threshold:.5});return S.current&&q.observe(S.current),()=>{q.disconnect()}}},[r]),G.useEffect(()=>{if(a){let H=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(H)}}},[a]);let N=()=>{o(!0)},D=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:wl(m,N),onBlur:wl(p,D),onMouseEnter:wl(y,N),onMouseLeave:wl(E,D),onTouchStart:wl(b,N)}]:[!1,S,{}]}function wl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function n1({page:r,...e}){let{router:n}=m0(),a=G.useMemo(()=>i0(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?G.createElement(r1,{page:r,matches:a,...e}):null}function i1(r){let{manifest:e,routeModules:n}=p0(),[a,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return Yw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),a}function r1({page:r,matches:e,...n}){let a=Kr(),{manifest:o,routeModules:u}=p0(),{basename:f}=m0(),{loaderData:m,matches:p}=e1(),y=G.useMemo(()=>T_(r,e,p,o,a,"data"),[r,e,p,o,a]),E=G.useMemo(()=>T_(r,e,p,o,a,"assets"),[r,e,p,o,a]),b=G.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let D=new Set,H=!1;if(e.forEach(Y=>{var re;let ee=o.routes[Y.route.id];!ee||!ee.hasLoader||(!y.some(he=>he.route.id===Y.route.id)&&Y.route.id in m&&((re=u[Y.route.id])!=null&&re.shouldRevalidate)||ee.hasClientLoader?H=!0:D.add(Y.route.id))}),D.size===0)return[];let q=Ww(r,f);return H&&D.size>0&&q.searchParams.set("_routes",e.filter(Y=>D.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[q.pathname+q.search]},[f,m,a,o,y,e,r,u]),S=G.useMemo(()=>Qw(E,o),[E,o]),N=i1(E);return G.createElement(G.Fragment,null,b.map(D=>G.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),S.map(D=>G.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),N.map(({key:D,link:H})=>G.createElement("link",{key:D,...H})))}function a1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var g0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{g0&&(window.__reactRouterVersion="7.6.2")}catch{}function s1({basename:r,children:e,window:n}){let a=G.useRef();a.current==null&&(a.current=Yb({window:n,v5Compat:!0}));let o=a.current,[u,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>f(p))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(kw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var y0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,v0=G.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:b,...S},N){let{basename:D}=G.useContext(Gn),H=typeof y=="string"&&y0.test(y),q,Y=!1;if(typeof y=="string"&&H&&(q=y,g0))try{let I=new URL(window.location.href),M=y.startsWith("//")?new URL(I.protocol+y):new URL(y),P=Xi(M.pathname,D);M.origin===I.origin&&P!=null?y=P+M.search+M.hash:Y=!0}catch{qn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=Ew(y,{relative:o}),[re,he,ce]=t1(a,S),be=c1(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b});function k(I){e&&e(I),I.defaultPrevented||be(I)}let w=G.createElement("a",{...S,...ce,href:q||ee,onClick:Y||u?e:k,ref:a1(N,he),target:p,"data-discover":!H&&n==="render"?"true":void 0});return re&&!H?G.createElement(G.Fragment,null,w,G.createElement(n1,{page:ee})):w});v0.displayName="Link";var o1=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let b=Xl(f,{relative:y.relative}),S=Kr(),N=G.useContext(gh),{navigator:D,basename:H}=G.useContext(Gn),q=N!=null&&p1(b)&&m===!0,Y=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,ee=S.pathname,re=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),re=re?re.toLowerCase():null,Y=Y.toLowerCase()),re&&H&&(re=Xi(re,H)||re);const he=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ce=ee===Y||!o&&ee.startsWith(Y)&&ee.charAt(he)==="/",be=re!=null&&(re===Y||!o&&re.startsWith(Y)&&re.charAt(Y.length)==="/"),k={isActive:ce,isPending:be,isTransitioning:q},w=ce?e:void 0,I;typeof a=="function"?I=a(k):I=[a,ce?"active":null,be?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(k):u;return G.createElement(v0,{...y,"aria-current":w,className:I,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(k):p)});o1.displayName="NavLink";var l1=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=Lc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:b,...S},N)=>{let D=d1(),H=m1(m,{relative:y}),q=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&y0.test(m),ee=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let he=re.nativeEvent.submitter,ce=(he==null?void 0:he.getAttribute("formmethod"))||f;D(he||re.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:b})};return G.createElement("form",{ref:N,method:q,action:H,onSubmit:a?p:ee,...S,"data-discover":!Y&&r==="render"?"true":void 0})});l1.displayName="Form";function u1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _0(r){let e=G.useContext(ro);return it(e,u1(r)),e}function c1(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=c0(),p=Kr(),y=Xl(r,{relative:u});return G.useCallback(E=>{if(jw(E,e)){E.preventDefault();let b=n!==void 0?n:Ul(p)===Ul(y);m(r,{replace:b,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,a,e,r,o,u,f])}var h1=0,f1=()=>`__${String(++h1)}__`;function d1(){let{router:r}=_0("useSubmit"),{basename:e}=G.useContext(Gn),n=Ow();return G.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=Fw(a,e);if(o.navigate===!1){let E=o.fetcherKey||f1();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function m1(r,{relative:e}={}){let{basename:n}=G.useContext(Gn),a=G.useContext(_i);it(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Xl(r||".",{relative:e})},f=Kr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:$i([n,u.pathname])),Ul(u)}function p1(r,e={}){let n=G.useContext(o0);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=_0("useViewTransitionState"),o=Xl(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Xi(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=Xi(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Qc(o.pathname,f)!=null||Qc(o.pathname,u)!=null}[...Zw];const g1=()=>{};var A_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},y1=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},T0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|y>>6,N=y&63;p||(N=64,f||(S=64)),a.push(n[E],n[b],n[S],n[N])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(E0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):y1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new v1;const S=u<<2|m>>4;if(a.push(S),y!==64){const N=m<<4&240|y>>2;if(a.push(N),b!==64){const D=y<<6&192|b;a.push(D)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class v1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _1=function(r){const e=E0(r);return T0.encodeByteArray(e,!0)},$c=function(r){return _1(r).replace(/\./g,"")},A0=function(r){try{return T0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=()=>E1().__FIREBASE_DEFAULTS__,A1=()=>{if(typeof process>"u"||typeof A_>"u")return;const r=A_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},S1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&A0(r[1]);return e&&JSON.parse(e)},vh=()=>{try{return g1()||T1()||A1()||S1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},S0=r=>{var e,n;return(n=(e=vh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},b1=r=>{const e=S0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},b0=()=>{var r;return(r=vh())===null||r===void 0?void 0:r.config},w0=r=>{var e;return(e=vh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(r){return r.endsWith(".cloudworkstations.dev")}async function R0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[$c(JSON.stringify(n)),$c(JSON.stringify(f)),""].join(".")}const Ol={};function I1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ol))Ol[e]?r.emulator.push(e):r.prod.push(e);return r}function C1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let S_=!1;function I0(r,e){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||Ol[r]===e||Ol[r]||S_)return;Ol[r]=e;function n(S){return`__firebase__banner__${S}`}const a="__firebase__banner",u=I1().prod.length>0;function f(){const S=document.getElementById(a);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,N){S.setAttribute("width","24"),S.setAttribute("id",N),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{S_=!0,f()},S}function E(S,N){S.setAttribute("id",N),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=C1(a),N=n("text"),D=document.getElementById(N)||document.createElement("span"),H=n("learnmore"),q=document.getElementById(H)||document.createElement("a"),Y=n("preprendIcon"),ee=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const re=S.element;m(re),E(q,H);const he=y();p(ee,Y),re.append(ee,D,q,he),document.body.appendChild(re)}u?(D.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function N1(){var r;const e=(r=vh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function O1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function C0(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function M1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function x1(){const r=Xt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function V1(){return!N1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D0(){try{return typeof indexedDB=="object"}catch{return!1}}function N0(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}function k1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="FirebaseError";class Kn extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=P1,Object.setPrototypeOf(this,Kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qa.prototype.create)}}class qa{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?L1(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Kn(o,m,a)}}function L1(r,e){return r.replace(U1,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const U1=/\{\$([^}]+)}/g;function z1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function zr(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],f=e[o];if(b_(u)&&b_(f)){if(!zr(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function b_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function B1(r,e){const n=new j1(r,e);return n.subscribe.bind(n)}class j1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");H1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Jd),o.error===void 0&&(o.error=Jd),o.complete===void 0&&(o.complete=Jd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Jd(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=1e3,F1=2,G1=4*60*60*1e3,K1=.5;function w_(r,e=q1,n=F1){const a=e*Math.pow(n,r),o=Math.round(K1*a*(Math.random()-.5)*2);return Math.min(G1,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(r){return r&&r._delegate?r._delegate:r}class Fn{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new w1;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($1(e))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ma){return this.instances.has(e)}getOptions(e=Ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Q1(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ma){return this.component?this.component.multipleInstances?e:Ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q1(r){return r===Ma?void 0:r}function $1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Y1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xe||(xe={}));const J1={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},Z1=xe.INFO,W1={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},eR=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=W1[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _h{constructor(e){this.name=e,this._logLevel=Z1,this._logHandler=eR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const tR=(r,e)=>e.some(n=>r instanceof n);let R_,I_;function nR(){return R_||(R_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iR(){return I_||(I_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O0=new WeakMap,pm=new WeakMap,M0=new WeakMap,Zd=new WeakMap,Zm=new WeakMap;function rR(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(kr(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&O0.set(n,r)}).catch(()=>{}),Zm.set(e,r),e}function aR(r){if(pm.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});pm.set(r,e)}let gm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return pm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||M0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function sR(r){gm=r(gm)}function oR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(Wd(this),e,...n);return M0.set(a,e.sort?e.sort():[e]),kr(a)}:iR().includes(r)?function(...e){return r.apply(Wd(this),e),kr(O0.get(this))}:function(...e){return kr(r.apply(Wd(this),e))}}function lR(r){return typeof r=="function"?oR(r):(r instanceof IDBTransaction&&aR(r),tR(r,nR())?new Proxy(r,gm):r)}function kr(r){if(r instanceof IDBRequest)return rR(r);if(Zd.has(r))return Zd.get(r);const e=lR(r);return e!==r&&(Zd.set(r,e),Zm.set(e,r)),e}const Wd=r=>Zm.get(r);function x0(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=kr(f);return a&&f.addEventListener("upgradeneeded",p=>{a(kr(f.result),p.oldVersion,p.newVersion,kr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const uR=["get","getKey","getAll","getAllKeys","count"],cR=["put","add","delete","clear"],em=new Map;function C_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(em.get(e))return em.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=cR.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||uR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return em.set(e,u),u}sR(r=>({...r,get:(e,n,a)=>C_(e,n)||r.get(e,n,a),has:(e,n)=>!!C_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fR(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function fR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ym="@firebase/app",D_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new _h("@firebase/app"),dR="@firebase/app-compat",mR="@firebase/analytics-compat",pR="@firebase/analytics",gR="@firebase/app-check-compat",yR="@firebase/app-check",vR="@firebase/auth",_R="@firebase/auth-compat",ER="@firebase/database",TR="@firebase/data-connect",AR="@firebase/database-compat",SR="@firebase/functions",bR="@firebase/functions-compat",wR="@firebase/installations",RR="@firebase/installations-compat",IR="@firebase/messaging",CR="@firebase/messaging-compat",DR="@firebase/performance",NR="@firebase/performance-compat",OR="@firebase/remote-config",MR="@firebase/remote-config-compat",xR="@firebase/storage",VR="@firebase/storage-compat",kR="@firebase/firestore",PR="@firebase/ai",LR="@firebase/firestore-compat",UR="firebase",zR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="[DEFAULT]",BR={[ym]:"fire-core",[dR]:"fire-core-compat",[pR]:"fire-analytics",[mR]:"fire-analytics-compat",[yR]:"fire-app-check",[gR]:"fire-app-check-compat",[vR]:"fire-auth",[_R]:"fire-auth-compat",[ER]:"fire-rtdb",[TR]:"fire-data-connect",[AR]:"fire-rtdb-compat",[SR]:"fire-fn",[bR]:"fire-fn-compat",[wR]:"fire-iid",[RR]:"fire-iid-compat",[IR]:"fire-fcm",[CR]:"fire-fcm-compat",[DR]:"fire-perf",[NR]:"fire-perf-compat",[OR]:"fire-rc",[MR]:"fire-rc-compat",[xR]:"fire-gcs",[VR]:"fire-gcs-compat",[kR]:"fire-fst",[LR]:"fire-fst-compat",[PR]:"fire-vertex","fire-js":"fire-js",[UR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Map,jR=new Map,_m=new Map;function N_(r,e){try{r.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function pi(r){const e=r.name;if(_m.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;_m.set(e,r);for(const n of Xc.values())N_(n,r);for(const n of jR.values())N_(n,r);return!0}function Fa(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Bn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new qa("app","Firebase",HR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=zR;function V0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:vm,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw Pr.create("bad-app-name",{appName:String(o)});if(n||(n=b0()),!n)throw Pr.create("no-options");const u=Xc.get(o);if(u){if(zr(n,u.options)&&zr(a,u.config))return u;throw Pr.create("duplicate-app",{appName:o})}const f=new X1(o);for(const p of _m.values())f.addComponent(p);const m=new qR(n,a,f);return Xc.set(o,m),m}function Wm(r=vm){const e=Xc.get(r);if(!e&&r===vm&&b0())return V0();if(!e)throw Pr.create("no-app",{appName:r});return e}function xn(r,e,n){var a;let o=(a=BR[r])!==null&&a!==void 0?a:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(m.join(" "));return}pi(new Fn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="firebase-heartbeat-database",GR=1,zl="firebase-heartbeat-store";let tm=null;function k0(){return tm||(tm=x0(FR,GR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(zl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Pr.create("idb-open",{originalErrorMessage:r.message})})),tm}async function KR(r){try{const n=(await k0()).transaction(zl),a=await n.objectStore(zl).get(P0(r));return await n.done,a}catch(e){if(e instanceof Kn)Ji.warn(e.message);else{const n=Pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ji.warn(n.message)}}}async function O_(r,e){try{const a=(await k0()).transaction(zl,"readwrite");await a.objectStore(zl).put(e,P0(r)),await a.done}catch(n){if(n instanceof Kn)Ji.warn(n.message);else{const a=Pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ji.warn(a.message)}}}function P0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=1024,QR=30;class $R{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=M_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>QR){const f=ZR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ji.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=M_(),{heartbeatsToSend:a,unsentEntries:o}=XR(this._heartbeatsCache.heartbeats),u=$c(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ji.warn(n),""}}}function M_(){return new Date().toISOString().substring(0,10)}function XR(r,e=YR){const n=[];let a=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),x_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),x_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class JR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D0()?N0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return O_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return O_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function x_(r){return $c(JSON.stringify({version:2,heartbeats:r})).length}function ZR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(r){pi(new Fn("platform-logger",e=>new hR(e),"PRIVATE")),pi(new Fn("heartbeat",e=>new $R(e),"PRIVATE")),xn(ym,D_,r),xn(ym,D_,"esm2017"),xn("fire-js","")}WR("");function ep(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n}function L0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eI=L0,U0=new qa("auth","Firebase",L0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new _h("@firebase/auth");function tI(r,...e){Jc.logLevel<=xe.WARN&&Jc.warn(`Auth (${oo}): ${r}`,...e)}function zc(r,...e){Jc.logLevel<=xe.ERROR&&Jc.error(`Auth (${oo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(r,...e){throw np(r,...e)}function Hn(r,...e){return np(r,...e)}function tp(r,e,n){const a=Object.assign(Object.assign({},eI()),{[e]:n});return new qa("auth","Firebase",a).create(e,{appName:r.name})}function Pa(r){return tp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nI(r,e,n){const a=n;if(!(e instanceof a))throw a.name!==e.constructor.name&&gi(r,"argument-error"),tp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function np(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return U0.create(r,...e)}function Te(r,e,...n){if(!r)throw np(e,...n)}function Yi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw zc(e),new Error(e)}function Zi(r,e){r||Yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function iI(){return V_()==="http:"||V_()==="https:"}function V_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iI()||C0()||"connection"in navigator)?navigator.onLine:!0}function aI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zi(n>e,"Short delay should be less than long delay!"),this.isMobile=D1()||M1()}get(){return rI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(r,e){Zi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lI=new Zl(3e4,6e4);function rp(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function lo(r,e,n,a,o={}){return B0(r,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const m=Jl(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return O1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&so(r.emulatorConfig.host)&&(y.credentials="include"),z0.fetch()(await j0(r,r.config.apiHost,n,m),y)})}async function B0(r,e,n){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},sI),e);try{const o=new cI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Oc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Oc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Oc(r,"user-disabled",f);const E=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw tp(r,E,y);gi(r,E)}}catch(o){if(o instanceof Kn)throw o;gi(r,"network-request-failed",{message:String(o)})}}async function uI(r,e,n,a,o={}){const u=await lo(r,e,n,a,o);return"mfaPendingCredential"in u&&gi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function j0(r,e,n,a){const o=`${e}${n}?${a}`,u=r,f=u.config.emulator?ip(r.config,o):`${r.config.apiScheme}://${o}`;return oI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class cI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Hn(this.auth,"network-request-failed")),lI.get())})}}function Oc(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Hn(r,e,a);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(r,e){return lo(r,"POST","/v1/accounts:delete",e)}async function Zc(r,e){return lo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fI(r,e=!1){const n=Ht(r),a=await n.getIdToken(e),o=ap(a);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:Ml(nm(o.auth_time)),issuedAtTime:Ml(nm(o.iat)),expirationTime:Ml(nm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function nm(r){return Number(r)*1e3}function ap(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const o=A0(n);return o?JSON.parse(o):(zc("Failed to decode base64 JWT payload"),null)}catch(o){return zc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function k_(r){const e=ap(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Kn&&dI(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function dI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(r){var e;const n=r.auth,a=await r.getIdToken(),o=await Bl(r,Zc(n,{idToken:a}));Te(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?H0(u.providerUserInfo):[],m=gI(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Tm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,b)}async function pI(r){const e=Ht(r);await Wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gI(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function H0(r){return r.map(e=>{var{providerId:n}=e,a=ep(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(r,e){const n=await B0(r,{},async()=>{const a=Jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await j0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return r.emulatorConfig&&so(r.emulatorConfig.host)&&(p.credentials="include"),z0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vI(r,e){return lo(r,"POST","/v2/accounts:revokeToken",rp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):k_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=k_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await yI(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new qs;return a&&(Te(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(Te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qs,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class jn{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,u=ep(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Tm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Bl(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fI(this,e)}reload(){return pI(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Wc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(Pa(this.auth));const e=await this.getIdToken();return await Bl(this,hI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,u,f,m,p,y,E;const b=(a=n.displayName)!==null&&a!==void 0?a:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,N=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,D=(f=n.photoURL)!==null&&f!==void 0?f:void 0,H=(m=n.tenantId)!==null&&m!==void 0?m:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ee=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:re,emailVerified:he,isAnonymous:ce,providerData:be,stsTokenManager:k}=n;Te(re&&k,e,"internal-error");const w=qs.fromJSON(this.name,k);Te(typeof re=="string",e,"internal-error"),Nr(b,e.name),Nr(S,e.name),Te(typeof he=="boolean",e,"internal-error"),Te(typeof ce=="boolean",e,"internal-error"),Nr(N,e.name),Nr(D,e.name),Nr(H,e.name),Nr(q,e.name),Nr(Y,e.name),Nr(ee,e.name);const I=new jn({uid:re,auth:e,email:S,emailVerified:he,displayName:b,isAnonymous:ce,photoURL:D,phoneNumber:N,tenantId:H,stsTokenManager:w,createdAt:Y,lastLoginAt:ee});return be&&Array.isArray(be)&&(I.providerData=be.map(M=>Object.assign({},M))),q&&(I._redirectEventId=q),I}static async _fromIdTokenResponse(e,n,a=!1){const o=new qs;o.updateFromServerResponse(n);const u=new jn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Wc(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?H0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new qs;m.updateFromIdToken(a);const p=new jn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=new Map;function Qi(r){Zi(r instanceof Function,"Expected a class definition");let e=P_.get(r);return e?(Zi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,P_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}q0.type="NONE";const L_=q0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(r,e,n){return`firebase:${r}:${e}:${n}`}class Fs{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Bc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Bc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Zc(this.auth,{idToken:e}).catch(()=>{});return n?jn._fromGetAccountInfoResponse(this.auth,n,e):null}return jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Fs(Qi(L_),e,a);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Qi(L_);const f=Bc(a,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let b;if(typeof E=="string"){const S=await Zc(e,{idToken:E}).catch(()=>{});if(!S)break;b=await jn._fromGetAccountInfoResponse(e,S,E)}else b=jn._fromJSON(e,E);y!==u&&(m=b),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Fs(u,e,a):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Fs(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Y0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(F0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($0(e))return"Blackberry";if(X0(e))return"Webos";if(G0(e))return"Safari";if((e.includes("chrome/")||K0(e))&&!e.includes("edge/"))return"Chrome";if(Q0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function F0(r=Xt()){return/firefox\//i.test(r)}function G0(r=Xt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function K0(r=Xt()){return/crios\//i.test(r)}function Y0(r=Xt()){return/iemobile/i.test(r)}function Q0(r=Xt()){return/android/i.test(r)}function $0(r=Xt()){return/blackberry/i.test(r)}function X0(r=Xt()){return/webos/i.test(r)}function sp(r=Xt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function _I(r=Xt()){var e;return sp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function EI(){return x1()&&document.documentMode===10}function J0(r=Xt()){return sp(r)||Q0(r)||X0(r)||$0(r)||/windows phone/i.test(r)||Y0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(r,e=[]){let n;switch(r){case"Browser":n=U_(Xt());break;case"Worker":n=`${U_(Xt())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(r,e={}){return lo(r,"GET","/v2/passwordPolicy",rp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=6;class bI{constructor(e){var n,a,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:SI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z_(this),this.idTokenSubscription=new z_(this),this.beforeStateQueue=new TI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=U0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qi(n)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await Fs.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Zc(this,{idToken:e}),a=await jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Bn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(Pa(this));const n=e?Ht(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(Pa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(Pa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AI(this),n=new bI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qa("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await vI(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qi(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Fs.create(this,[Qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Z0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&tI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Eh(r){return Ht(r)}class z_{constructor(e){this.auth=e,this.observer=null,this.addObserver=B1(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let op={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RI(r){op=r}function II(r){return op.loadJS(r)}function CI(){return op.gapiScript}function DI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(r,e){const n=Fa(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(zr(u,e??{}))return o;gi(o,"already-initialized")}return n.initialize({options:e})}function OI(r,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Qi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function MI(r,e,n){const a=Eh(r);Te(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=W0(e),{host:f,port:m}=xI(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Te(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Te(zr(y,a.config.emulator)&&zr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,so(f)?(R0(`${u}//${f}${p}`),I0("Auth",!0)):VI()}function W0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function xI(r){const e=W0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:B_(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:B_(f)}}}function B_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function VI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,n){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gs(r,e){return uI(r,"POST","/v1/accounts:signInWithIdp",rp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="http://localhost";class La extends eT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new La(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,u=ep(n,["providerId","signInMethod"]);if(!a||!o)return null;const f=new La(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Gs(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Gs(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Gs(e,n)}buildRequest(){const e={requestUri:kI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends lp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Wl{constructor(){super("facebook.com")}static credential(e){return La._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.FACEBOOK_SIGN_IN_METHOD="facebook.com";Or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return La._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Ki.credential(n,a)}catch{return null}}}Ki.GOOGLE_SIGN_IN_METHOD="google.com";Ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Wl{constructor(){super("github.com")}static credential(e){return La._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.GITHUB_SIGN_IN_METHOD="github.com";Mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Wl{constructor(){super("twitter.com")}static credential(e,n){return La._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return xr.credential(n,a)}catch{return null}}}xr.TWITTER_SIGN_IN_METHOD="twitter.com";xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await jn._fromIdTokenResponse(e,a,o),f=j_(a);return new $s({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=j_(a);return new $s({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function j_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends Kn{constructor(e,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new eh(e,n,a,o)}}function tT(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(r,u,e,a):u})}async function PI(r,e,n=!1){const a=await Bl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return $s._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(r,e,n=!1){const{auth:a}=r;if(Bn(a.app))return Promise.reject(Pa(a));const o="reauthenticate";try{const u=await Bl(r,tT(a,o,e,r),n);Te(u.idToken,a,"internal-error");const f=ap(u.idToken);Te(f,a,"internal-error");const{sub:m}=f;return Te(r.uid===m,a,"user-mismatch"),$s._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&gi(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(r,e,n=!1){if(Bn(r.app))return Promise.reject(Pa(r));const a="signIn",o=await tT(r,a,e),u=await $s._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}function zI(r,e,n,a){return Ht(r).onIdTokenChanged(e,n,a)}function BI(r,e,n){return Ht(r).beforeAuthStateChanged(e,n)}function jI(r,e,n,a){return Ht(r).onAuthStateChanged(e,n,a)}function im(r){return Ht(r).signOut()}const th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=1e3,qI=10;class iT extends nT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=J0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);EI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,qI):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},HI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iT.type="LOCAL";const FI=iT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT extends nT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rT.type="SESSION";const aT=rT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Th(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await GI(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Th.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=up("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return window}function YI(r){hi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(){return typeof hi().WorkerGlobalScope<"u"&&typeof hi().importScripts=="function"}async function QI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $I(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function XI(){return sT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="firebaseLocalStorageDb",JI=1,nh="firebaseLocalStorage",lT="fbase_key";class eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ah(r,e){return r.transaction([nh],e?"readwrite":"readonly").objectStore(nh)}function ZI(){const r=indexedDB.deleteDatabase(oT);return new eu(r).toPromise()}function Am(){const r=indexedDB.open(oT,JI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(nh,{keyPath:lT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(nh)?e(a):(a.close(),await ZI(),e(await Am()))})})}async function H_(r,e,n){const a=Ah(r,!0).put({[lT]:e,value:n});return new eu(a).toPromise()}async function WI(r,e){const n=Ah(r,!1).get(e),a=await new eu(n).toPromise();return a===void 0?null:a.value}function q_(r,e){const n=Ah(r,!0).delete(e);return new eu(n).toPromise()}const eC=800,tC=3;class uT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>tC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Th._getInstance(XI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await QI(),!this.activeServiceWorker)return;this.sender=new KI(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$I()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Am();return await H_(e,th,"1"),await q_(e,th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>H_(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>WI(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>q_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ah(o,!1).getAll();return new eu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uT.type="LOCAL";const nC=uT;new Zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(r,e){return e?Qi(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp extends eT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Gs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Gs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iC(r){return UI(r.auth,new cp(r),r.bypassAuthState)}function rC(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),LI(n,new cp(r),r.bypassAuthState)}async function aC(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),PI(n,new cp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iC;case"linkViaPopup":case"linkViaRedirect":return aC;case"reauthViaPopup":case"reauthViaRedirect":return rC;default:gi(this.auth,"internal-error")}}resolve(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=new Zl(2e3,1e4);async function oC(r,e,n){if(Bn(r.app))return Promise.reject(Hn(r,"operation-not-supported-in-this-environment"));const a=Eh(r);nI(r,e,lp);const o=cT(a,n);return new xa(a,"signInViaPopup",e,o).executeNotNull()}class xa extends hT{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const e=up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sC.get())};e()}}xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="pendingRedirect",jc=new Map;class uC extends hT{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const a=await cC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cC(r,e){const n=dC(e),a=fC(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function hC(r,e){jc.set(r._key(),e)}function fC(r){return Qi(r._redirectPersistence)}function dC(r){return Bc(lC,r.config.apiKey,r.name)}async function mC(r,e,n=!1){if(Bn(r.app))return Promise.reject(Pa(r));const a=Eh(r),o=cT(a,e),f=await new uC(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=10*60*1e3;class gC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!fT(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pC&&this.cachedEventUids.clear(),this.cachedEventUids.has(F_(e))}saveEventToCache(e){this.cachedEventUids.add(F_(e)),this.lastProcessedEventTime=Date.now()}}function F_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function fT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(r,e={}){return lo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EC=/^https?/;async function TC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await vC(r);for(const n of e)try{if(AC(n))return}catch{}gi(r,"unauthorized-domain")}function AC(r){const e=Em(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!EC.test(n))return!1;if(_C.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=new Zl(3e4,6e4);function G_(){const r=hi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function bC(r){return new Promise((e,n)=>{var a,o,u;function f(){G_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G_(),n(Hn(r,"network-request-failed"))},timeout:SC.get()})}if(!((o=(a=hi().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=hi().gapi)===null||u===void 0)&&u.load)f();else{const m=DI("iframefcb");return hi()[m]=()=>{gapi.load?f():n(Hn(r,"network-request-failed"))},II(`${CI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Hc=null,e})}let Hc=null;function wC(r){return Hc=Hc||bC(r),Hc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=new Zl(5e3,15e3),IC="__/auth/iframe",CC="emulator/auth/iframe",DC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OC(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?ip(e,CC):`https://${r.config.authDomain}/${IC}`,a={apiKey:e.apiKey,appName:r.name,v:oo},o=NC.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${Jl(a).slice(1)}`}async function MC(r){const e=await wC(r),n=hi().gapi;return Te(n,r,"internal-error"),e.open({where:document.body,url:OC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DC,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=Hn(r,"network-request-failed"),m=hi().setTimeout(()=>{u(f)},RC.get());function p(){hi().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VC=500,kC=600,PC="_blank",LC="http://localhost";class K_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UC(r,e,n,a=VC,o=kC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=Object.assign(Object.assign({},xC),{width:a.toString(),height:o.toString(),top:u,left:f}),y=Xt().toLowerCase();n&&(m=K0(y)?PC:n),F0(y)&&(e=e||LC,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[N,D])=>`${S}${N}=${D},`,"");if(_I(y)&&m!=="_self")return zC(e||"",m),new K_(null);const b=window.open(e||"",m,E);Te(b,r,"popup-blocked");try{b.focus()}catch{}return new K_(b)}function zC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="__/auth/handler",jC="emulator/auth/handler",HC=encodeURIComponent("fac");async function Y_(r,e,n,a,o,u){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:oo,eventId:o};if(e instanceof lp){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",z1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof Wl){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${HC}=${encodeURIComponent(p)}`:"";return`${qC(r)}?${Jl(m).slice(1)}${y}`}function qC({config:r}){return r.emulator?ip(r,jC):`https://${r.authDomain}/${BC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="webStorageSupport";class FC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aT,this._completeRedirectFn=mC,this._overrideRedirectResult=hC}async _openPopup(e,n,a,o){var u;Zi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Y_(e,n,a,Em(),o);return UC(e,f,up())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await Y_(e,n,a,Em(),o);return YI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Zi(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await MC(e),a=new gC(e);return n.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rm,{type:rm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[rm];f!==void 0&&n(!!f),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return J0()||G0()||sp()}}const GC=FC;var Q_="@firebase/auth",$_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QC(r){pi(new Fn("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Z0(r)},y=new wI(a,o,u,p);return OI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),pi(new Fn("auth-internal",e=>{const n=Eh(e.getProvider("auth").getImmediate());return(a=>new KC(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xn(Q_,$_,YC(r)),xn(Q_,$_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=5*60,XC=w0("authIdTokenMaxAge")||$C;let X_=null;const JC=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>XC)return;const o=n==null?void 0:n.token;X_!==o&&(X_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ZC(r=Wm()){const e=Fa(r,"auth");if(e.isInitialized())return e.getImmediate();const n=NI(r,{popupRedirectResolver:GC,persistence:[nC,FI,aT]}),a=w0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=JC(u.toString());BI(n,f,()=>f(n.currentUser)),zI(n,m=>f(m))}}const o=S0("auth");return o&&MI(n,`http://${o}`),n}function WC(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}RI({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=Hn("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",WC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QC("Browser");var J_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lr,dT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,w){function I(){}I.prototype=w.prototype,k.D=w.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(M,P,O){for(var R=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)R[Be-2]=arguments[Be];return w.prototype[P].apply(M,R)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,w,I){I||(I=0);var M=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)M[P]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(P=0;16>P;++P)M[P]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=k.g[0],I=k.g[1],P=k.g[2];var O=k.g[3],R=w+(O^I&(P^O))+M[0]+3614090360&4294967295;w=I+(R<<7&4294967295|R>>>25),R=O+(P^w&(I^P))+M[1]+3905402710&4294967295,O=w+(R<<12&4294967295|R>>>20),R=P+(I^O&(w^I))+M[2]+606105819&4294967295,P=O+(R<<17&4294967295|R>>>15),R=I+(w^P&(O^w))+M[3]+3250441966&4294967295,I=P+(R<<22&4294967295|R>>>10),R=w+(O^I&(P^O))+M[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=O+(P^w&(I^P))+M[5]+1200080426&4294967295,O=w+(R<<12&4294967295|R>>>20),R=P+(I^O&(w^I))+M[6]+2821735955&4294967295,P=O+(R<<17&4294967295|R>>>15),R=I+(w^P&(O^w))+M[7]+4249261313&4294967295,I=P+(R<<22&4294967295|R>>>10),R=w+(O^I&(P^O))+M[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=O+(P^w&(I^P))+M[9]+2336552879&4294967295,O=w+(R<<12&4294967295|R>>>20),R=P+(I^O&(w^I))+M[10]+4294925233&4294967295,P=O+(R<<17&4294967295|R>>>15),R=I+(w^P&(O^w))+M[11]+2304563134&4294967295,I=P+(R<<22&4294967295|R>>>10),R=w+(O^I&(P^O))+M[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=O+(P^w&(I^P))+M[13]+4254626195&4294967295,O=w+(R<<12&4294967295|R>>>20),R=P+(I^O&(w^I))+M[14]+2792965006&4294967295,P=O+(R<<17&4294967295|R>>>15),R=I+(w^P&(O^w))+M[15]+1236535329&4294967295,I=P+(R<<22&4294967295|R>>>10),R=w+(P^O&(I^P))+M[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=O+(I^P&(w^I))+M[6]+3225465664&4294967295,O=w+(R<<9&4294967295|R>>>23),R=P+(w^I&(O^w))+M[11]+643717713&4294967295,P=O+(R<<14&4294967295|R>>>18),R=I+(O^w&(P^O))+M[0]+3921069994&4294967295,I=P+(R<<20&4294967295|R>>>12),R=w+(P^O&(I^P))+M[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=O+(I^P&(w^I))+M[10]+38016083&4294967295,O=w+(R<<9&4294967295|R>>>23),R=P+(w^I&(O^w))+M[15]+3634488961&4294967295,P=O+(R<<14&4294967295|R>>>18),R=I+(O^w&(P^O))+M[4]+3889429448&4294967295,I=P+(R<<20&4294967295|R>>>12),R=w+(P^O&(I^P))+M[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=O+(I^P&(w^I))+M[14]+3275163606&4294967295,O=w+(R<<9&4294967295|R>>>23),R=P+(w^I&(O^w))+M[3]+4107603335&4294967295,P=O+(R<<14&4294967295|R>>>18),R=I+(O^w&(P^O))+M[8]+1163531501&4294967295,I=P+(R<<20&4294967295|R>>>12),R=w+(P^O&(I^P))+M[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=O+(I^P&(w^I))+M[2]+4243563512&4294967295,O=w+(R<<9&4294967295|R>>>23),R=P+(w^I&(O^w))+M[7]+1735328473&4294967295,P=O+(R<<14&4294967295|R>>>18),R=I+(O^w&(P^O))+M[12]+2368359562&4294967295,I=P+(R<<20&4294967295|R>>>12),R=w+(I^P^O)+M[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=O+(w^I^P)+M[8]+2272392833&4294967295,O=w+(R<<11&4294967295|R>>>21),R=P+(O^w^I)+M[11]+1839030562&4294967295,P=O+(R<<16&4294967295|R>>>16),R=I+(P^O^w)+M[14]+4259657740&4294967295,I=P+(R<<23&4294967295|R>>>9),R=w+(I^P^O)+M[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=O+(w^I^P)+M[4]+1272893353&4294967295,O=w+(R<<11&4294967295|R>>>21),R=P+(O^w^I)+M[7]+4139469664&4294967295,P=O+(R<<16&4294967295|R>>>16),R=I+(P^O^w)+M[10]+3200236656&4294967295,I=P+(R<<23&4294967295|R>>>9),R=w+(I^P^O)+M[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=O+(w^I^P)+M[0]+3936430074&4294967295,O=w+(R<<11&4294967295|R>>>21),R=P+(O^w^I)+M[3]+3572445317&4294967295,P=O+(R<<16&4294967295|R>>>16),R=I+(P^O^w)+M[6]+76029189&4294967295,I=P+(R<<23&4294967295|R>>>9),R=w+(I^P^O)+M[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=O+(w^I^P)+M[12]+3873151461&4294967295,O=w+(R<<11&4294967295|R>>>21),R=P+(O^w^I)+M[15]+530742520&4294967295,P=O+(R<<16&4294967295|R>>>16),R=I+(P^O^w)+M[2]+3299628645&4294967295,I=P+(R<<23&4294967295|R>>>9),R=w+(P^(I|~O))+M[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=O+(I^(w|~P))+M[7]+1126891415&4294967295,O=w+(R<<10&4294967295|R>>>22),R=P+(w^(O|~I))+M[14]+2878612391&4294967295,P=O+(R<<15&4294967295|R>>>17),R=I+(O^(P|~w))+M[5]+4237533241&4294967295,I=P+(R<<21&4294967295|R>>>11),R=w+(P^(I|~O))+M[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=O+(I^(w|~P))+M[3]+2399980690&4294967295,O=w+(R<<10&4294967295|R>>>22),R=P+(w^(O|~I))+M[10]+4293915773&4294967295,P=O+(R<<15&4294967295|R>>>17),R=I+(O^(P|~w))+M[1]+2240044497&4294967295,I=P+(R<<21&4294967295|R>>>11),R=w+(P^(I|~O))+M[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=O+(I^(w|~P))+M[15]+4264355552&4294967295,O=w+(R<<10&4294967295|R>>>22),R=P+(w^(O|~I))+M[6]+2734768916&4294967295,P=O+(R<<15&4294967295|R>>>17),R=I+(O^(P|~w))+M[13]+1309151649&4294967295,I=P+(R<<21&4294967295|R>>>11),R=w+(P^(I|~O))+M[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=O+(I^(w|~P))+M[11]+3174756917&4294967295,O=w+(R<<10&4294967295|R>>>22),R=P+(w^(O|~I))+M[2]+718787259&4294967295,P=O+(R<<15&4294967295|R>>>17),R=I+(O^(P|~w))+M[9]+3951481745&4294967295,k.g[0]=k.g[0]+w&4294967295,k.g[1]=k.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+O&4294967295}a.prototype.u=function(k,w){w===void 0&&(w=k.length);for(var I=w-this.blockSize,M=this.B,P=this.h,O=0;O<w;){if(P==0)for(;O<=I;)o(this,k,O),O+=this.blockSize;if(typeof k=="string"){for(;O<w;)if(M[P++]=k.charCodeAt(O++),P==this.blockSize){o(this,M),P=0;break}}else for(;O<w;)if(M[P++]=k[O++],P==this.blockSize){o(this,M),P=0;break}}this.h=P,this.o+=w},a.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var w=1;w<k.length-8;++w)k[w]=0;var I=8*this.o;for(w=k.length-8;w<k.length;++w)k[w]=I&255,I/=256;for(this.u(k),k=Array(16),w=I=0;4>w;++w)for(var M=0;32>M;M+=8)k[I++]=this.g[w]>>>M&255;return k};function u(k,w){var I=m;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=w(k)}function f(k,w){this.h=w;for(var I=[],M=!0,P=k.length-1;0<=P;P--){var O=k[P]|0;M&&O==w||(I[P]=O,M=!1)}this.g=I}var m={};function p(k){return-128<=k&&128>k?u(k,function(w){return new f([w|0],0>w?-1:0)}):new f([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return b;if(0>k)return q(y(-k));for(var w=[],I=1,M=0;k>=I;M++)w[M]=k/I|0,I*=4294967296;return new f(w,0)}function E(k,w){if(k.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(k.charAt(0)=="-")return q(E(k.substring(1),w));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(w,8)),M=b,P=0;P<k.length;P+=8){var O=Math.min(8,k.length-P),R=parseInt(k.substring(P,P+O),w);8>O?(O=y(Math.pow(w,O)),M=M.j(O).add(y(R))):(M=M.j(I),M=M.add(y(R)))}return M}var b=p(0),S=p(1),N=p(16777216);r=f.prototype,r.m=function(){if(H(this))return-q(this).m();for(var k=0,w=1,I=0;I<this.g.length;I++){var M=this.i(I);k+=(0<=M?M:4294967296+M)*w,w*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(D(this))return"0";if(H(this))return"-"+q(this).toString(k);for(var w=y(Math.pow(k,6)),I=this,M="";;){var P=he(I,w).g;I=Y(I,P.j(w));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=P,D(I))return O+M;for(;6>O.length;)O="0"+O;M=O+M}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function D(k){if(k.h!=0)return!1;for(var w=0;w<k.g.length;w++)if(k.g[w]!=0)return!1;return!0}function H(k){return k.h==-1}r.l=function(k){return k=Y(this,k),H(k)?-1:D(k)?0:1};function q(k){for(var w=k.g.length,I=[],M=0;M<w;M++)I[M]=~k.g[M];return new f(I,~k.h).add(S)}r.abs=function(){return H(this)?q(this):this},r.add=function(k){for(var w=Math.max(this.g.length,k.g.length),I=[],M=0,P=0;P<=w;P++){var O=M+(this.i(P)&65535)+(k.i(P)&65535),R=(O>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);M=R>>>16,O&=65535,R&=65535,I[P]=R<<16|O}return new f(I,I[I.length-1]&-2147483648?-1:0)};function Y(k,w){return k.add(q(w))}r.j=function(k){if(D(this)||D(k))return b;if(H(this))return H(k)?q(this).j(q(k)):q(q(this).j(k));if(H(k))return q(this.j(q(k)));if(0>this.l(N)&&0>k.l(N))return y(this.m()*k.m());for(var w=this.g.length+k.g.length,I=[],M=0;M<2*w;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<k.g.length;P++){var O=this.i(M)>>>16,R=this.i(M)&65535,Be=k.i(P)>>>16,st=k.i(P)&65535;I[2*M+2*P]+=R*st,ee(I,2*M+2*P),I[2*M+2*P+1]+=O*st,ee(I,2*M+2*P+1),I[2*M+2*P+1]+=R*Be,ee(I,2*M+2*P+1),I[2*M+2*P+2]+=O*Be,ee(I,2*M+2*P+2)}for(M=0;M<w;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=w;M<2*w;M++)I[M]=0;return new f(I,0)};function ee(k,w){for(;(k[w]&65535)!=k[w];)k[w+1]+=k[w]>>>16,k[w]&=65535,w++}function re(k,w){this.g=k,this.h=w}function he(k,w){if(D(w))throw Error("division by zero");if(D(k))return new re(b,b);if(H(k))return w=he(q(k),w),new re(q(w.g),q(w.h));if(H(w))return w=he(k,q(w)),new re(q(w.g),w.h);if(30<k.g.length){if(H(k)||H(w))throw Error("slowDivide_ only works with positive integers.");for(var I=S,M=w;0>=M.l(k);)I=ce(I),M=ce(M);var P=be(I,1),O=be(M,1);for(M=be(M,2),I=be(I,2);!D(M);){var R=O.add(M);0>=R.l(k)&&(P=P.add(I),O=R),M=be(M,1),I=be(I,1)}return w=Y(k,P.j(w)),new re(P,w)}for(P=b;0<=k.l(w);){for(I=Math.max(1,Math.floor(k.m()/w.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),O=y(I),R=O.j(w);H(R)||0<R.l(k);)I-=M,O=y(I),R=O.j(w);D(O)&&(O=S),P=P.add(O),k=Y(k,R)}return new re(P,k)}r.A=function(k){return he(this,k).h},r.and=function(k){for(var w=Math.max(this.g.length,k.g.length),I=[],M=0;M<w;M++)I[M]=this.i(M)&k.i(M);return new f(I,this.h&k.h)},r.or=function(k){for(var w=Math.max(this.g.length,k.g.length),I=[],M=0;M<w;M++)I[M]=this.i(M)|k.i(M);return new f(I,this.h|k.h)},r.xor=function(k){for(var w=Math.max(this.g.length,k.g.length),I=[],M=0;M<w;M++)I[M]=this.i(M)^k.i(M);return new f(I,this.h^k.h)};function ce(k){for(var w=k.g.length+1,I=[],M=0;M<w;M++)I[M]=k.i(M)<<1|k.i(M-1)>>>31;return new f(I,k.h)}function be(k,w){var I=w>>5;w%=32;for(var M=k.g.length-I,P=[],O=0;O<M;O++)P[O]=0<w?k.i(O+I)>>>w|k.i(O+I+1)<<32-w:k.i(O+I);return new f(P,k.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,dT=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Lr=f}).apply(typeof J_<"u"?J_:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mT,Cl,pT,qc,Sm,gT,yT,vT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function o(c,g){if(g)e:{var v=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in v))break e;v=v[U]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,A=!1,U={next:function(){if(!A&&v<c.length){var K=v++;return{value:g(K,c[K]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,v){return c.call.apply(c.bind,arguments)}function b(c,g,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function S(c,g,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,S.apply(null,arguments)}function N(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function D(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,U,K){for(var ae=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)ae[ke-2]=arguments[ke];return g.prototype[U].apply(A,ae)}}function H(c){const g=c.length;if(0<g){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function q(c,g){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const U=c.length||0,K=A.length||0;c.length=U+K;for(let ae=0;ae<K;ae++)c[U+ae]=A[ae]}else c.push(A)}}class Y{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ee(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var ce=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function be(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function k(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function w(c){const g={};for(const v in c)g[v]=c[v];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,g){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)c[v]=A[v];for(let K=0;K<I.length;K++)v=I[K],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function P(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function O(c){m.setTimeout(()=>{throw c},0)}function R(){var c=je;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Be{constructor(){this.h=this.g=null}add(g,v){const A=st.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var st=new Y(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let se,de=!1,je=new Be,x=()=>{const c=m.Promise.resolve(void 0);se=()=>{c.then(te)}};var te=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(v){O(v)}var g=st;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}de=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c}();function De(c,g){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ce){e:{try{he(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}D(De,ie);var Ae={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),We=0;function Yn(c,g,v,A,U){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=U,this.key=++We,this.da=this.fa=!1}function tr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ei(c){this.src=c,this.g={},this.h=0}Ei.prototype.add=function(c,g,v,A,U){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ae=Xr(c,g,A,U);return-1<ae?(g=c[ae],v||(g.fa=!1)):(g=new Yn(g,this.src,K,!!A,U),g.fa=v,c.push(g)),g};function $r(c,g){var v=g.type;if(v in c.g){var A=c.g[v],U=Array.prototype.indexOf.call(A,g,void 0),K;(K=0<=U)&&Array.prototype.splice.call(A,U,1),K&&(tr(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Xr(c,g,v,A){for(var U=0;U<c.length;++U){var K=c[U];if(!K.da&&K.listener==g&&K.capture==!!v&&K.ha==A)return U}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),mo={};function su(c,g,v,A,U){if(Array.isArray(g)){for(var K=0;K<g.length;K++)su(c,g[K],v,A,U);return null}return v=ou(v),c&&c[Ct]?c.K(g,v,y(A)?!!A.capture:!1,U):En(c,g,v,!1,A,U)}function En(c,g,v,A,U,K){if(!g)throw Error("Invalid event type");var ae=y(U)?!!U.capture:!!U,ke=Qa(c);if(ke||(c[Jr]=ke=new Ei(c)),v=ke.add(g,v,A,ae,K),v.proxy)return v;if(A=Hh(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)me||(U=ae),U===void 0&&(U=!1),c.addEventListener(g.toString(),A,U);else if(c.attachEvent)c.attachEvent(Zr(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Hh(){function c(v){return g.call(c.src,c.listener,v)}const g=qh;return c}function po(c,g,v,A,U){if(Array.isArray(g))for(var K=0;K<g.length;K++)po(c,g[K],v,A,U);else A=y(A)?!!A.capture:!!A,v=ou(v),c&&c[Ct]?(c=c.i,g=String(g).toString(),g in c.g&&(K=c.g[g],v=Xr(K,v,A,U),-1<v&&(tr(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete c.g[g],c.h--)))):c&&(c=Qa(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Xr(g,v,A,U)),(v=-1<c?g[c]:null)&&Ya(v))}function Ya(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ct])$r(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(Zr(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=Qa(g))?($r(v,c),v.h==0&&(v.src=null,g[Jr]=null)):tr(c)}}}function Zr(c){return c in mo?mo[c]:mo[c]="on"+c}function qh(c,g){if(c.da)c=!0;else{g=new De(g,this);var v=c.listener,A=c.ha||c.src;c.fa&&Ya(c),c=v.call(A,g)}return c}function Qa(c){return c=c[Jr],c instanceof Ei?c:null}var go="__closure_events_fn_"+(1e9*Math.random()>>>0);function ou(c){return typeof c=="function"?c:(c[go]||(c[go]=function(g){return c.handleEvent(g)}),c[go])}function ot(){oe.call(this),this.i=new Ei(this),this.M=this,this.F=null}D(ot,oe),ot.prototype[Ct]=!0,ot.prototype.removeEventListener=function(c,g,v,A){po(this,c,g,v,A)};function Ge(c,g){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new ie(g,c);else if(g instanceof ie)g.target=g.target||c;else{var U=g;g=new ie(A,c),M(g,U)}if(U=!0,v)for(var K=v.length-1;0<=K;K--){var ae=g.g=v[K];U=ln(ae,A,!0,g)&&U}if(ae=g.g=c,U=ln(ae,A,!0,g)&&U,U=ln(ae,A,!1,g)&&U,v)for(K=0;K<v.length;K++)ae=g.g=v[K],U=ln(ae,A,!1,g)&&U}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],A=0;A<v.length;A++)tr(v[A]);delete c.g[g],c.h--}}this.F=null},ot.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},ot.prototype.L=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function ln(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,K=0;K<g.length;++K){var ae=g[K];if(ae&&!ae.da&&ae.capture==v){var ke=ae.listener,Tt=ae.ha||ae.src;ae.fa&&$r(c.i,ae),U=ke.call(Tt,A)!==!1&&U}}return U&&!A.defaultPrevented}function Ft(c,g,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function lu(c){c.g=Ft(()=>{c.g=null,c.i&&(c.i=!1,lu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Fh extends oe{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:lu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(c){oe.call(this),this.h=c,this.g={}}D(Wr,oe);var ea=[];function ta(c){be(c.g,function(g,v){this.g.hasOwnProperty(v)&&Ya(g)},c),c.g={}}Wr.prototype.N=function(){Wr.aa.N.call(this),ta(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=m.JSON.stringify,$a=m.JSON.parse,na=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function yo(){}yo.prototype.h=null;function vo(c){return c.h||(c.h=c.i())}function _o(){}var Ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ai(){ie.call(this,"d")}D(Ai,ie);function Eo(){ie.call(this,"c")}D(Eo,ie);var Qn={},To=null;function nr(){return To=To||new ot}Qn.La="serverreachability";function Xa(c){ie.call(this,Qn.La,c)}D(Xa,ie);function ir(c){const g=nr();Ge(g,new Xa(g))}Qn.STAT_EVENT="statevent";function uu(c,g){ie.call(this,Qn.STAT_EVENT,c),this.stat=g}D(uu,ie);function tt(c){const g=nr();Ge(g,new uu(g,c))}Qn.Ma="timingevent";function Et(c,g){ie.call(this,Qn.Ma,c),this.size=g}D(Et,ie);function pt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Tn(){this.g=!0}Tn.prototype.xa=function(){this.g=!1};function Ao(c,g,v,A,U,K){c.info(function(){if(c.g)if(K)for(var ae="",ke=K.split("&"),Tt=0;Tt<ke.length;Tt++){var Pe=ke[Tt].split("=");if(1<Pe.length){var Nt=Pe[0];Pe=Pe[1];var At=Nt.split("_");ae=2<=At.length&&At[1]=="type"?ae+(Nt+"="+Pe+"&"):ae+(Nt+"=redacted&")}}else ae=null;else ae=K;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+g+`
`+v+`
`+ae})}function Gh(c,g,v,A,U,K,ae){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+g+`
`+v+`
`+K+" "+ae})}function rr(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ia(c,v)+(A?" "+A:"")})}function cu(c,g){c.info(function(){return"TIMEOUT: "+g})}Tn.prototype.info=function(){};function ia(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var K=U[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ae=1;ae<U.length;ae++)U[ae]=""}}}}return Vn(v)}catch{return g}}var ar={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function Xn(){}D(Xn,yo),Xn.prototype.g=function(){return new XMLHttpRequest},Xn.prototype.i=function(){return{}},$n=new Xn;function Jt(c,g,v,A){this.j=c,this.i=g,this.l=v,this.R=A||1,this.U=new Wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}var So={},Ja={};function kn(c,g,v){c.L=1,c.v=la(un(g)),c.m=v,c.P=!0,bi(c,null)}function bi(c,g){c.F=Date.now(),ra(c),c.A=un(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Do(v.i,"t",A),c.C=0,v=c.j.J,c.h=new ht,c.g=Ru(c.j,v?g:null,!c.m),0<c.O&&(c.M=new Fh(S(c.Y,c,c.g),c.O)),g=c.U,v=c.g,A=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(ea[0]=U.toString()),U=ea);for(var K=0;K<U.length;K++){var ae=su(v,U[K],A||g.handleEvent,!1,g.h||g);if(!ae)break;g.g[ae.key]=ae}g=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),ir(),Ao(c.i,c.u,c.A,c.l,c.R,c.m)}Jt.prototype.ca=function(c){c=c.target;const g=this.M;g&&wn(c)==3?g.j():this.Y(c)},Jt.prototype.Y=function(c){try{if(c==this.g)e:{const At=wn(this.g);var g=this.g.Ba();const Mi=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||vu(this.g)))){this.J||At!=4||g==7||(g==8||0>=Mi?ir(3):ir(2)),sr(this);var v=this.g.Z();this.X=v;t:if(hu(this)){var A=vu(this.g);c="";var U=A.length,K=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kt(this),Jn(this);var ae="";break t}this.h.i=new m.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(K&&g==U-1)});A.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,Gh(this.i,this.u,this.A,this.l,this.R,At,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,Tt=this.g;if((ke=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(ke)){var Pe=ke;break t}}Pe=null}if(v=Pe)rr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,aa(this,v);else{this.o=!1,this.s=3,tt(12),kt(this),Jn(this);break e}}if(this.P){v=!0;let Pt;for(;!this.J&&this.C<ae.length;)if(Pt=fu(this,ae),Pt==Ja){At==4&&(this.s=4,tt(14),v=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==So){this.s=4,tt(15),rr(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else rr(this.i,this.l,Pt,null),aa(this,Pt);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||ae.length!=0||this.h.h||(this.s=1,tt(16),v=!1),this.o=this.o&&v,!v)rr(this.i,this.l,ae,"[Invalid Chunked Response]"),kt(this),Jn(this);else if(0<ae.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),ga(Nt),Nt.M=!0,tt(11))}}else rr(this.i,this.l,ae,null),aa(this,ae);At==4&&kt(this),this.o&&!this.J&&(At==4?Su(this.j,this):(this.o=!1,ra(this)))}else Xh(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),kt(this),Jn(this)}}}catch{}finally{}};function hu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function fu(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?Ja:(v=Number(g.substring(v,A)),isNaN(v)?So:(A+=1,A+v>g.length?Ja:(g=g.slice(A,A+v),c.C=A+v,g)))}Jt.prototype.cancel=function(){this.J=!0,kt(this)};function ra(c){c.S=Date.now()+c.I,du(c,c.I)}function du(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pt(S(c.ba,c),g)}function sr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Jt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(cu(this.i,this.A),this.L!=2&&(ir(),tt(17)),kt(this),this.s=2,Jn(this)):du(this,this.S-c)};function Jn(c){c.j.G==0||c.J||Su(c.j,c)}function kt(c){sr(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,ta(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function aa(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||bo(v.h,c))){if(!c.K&&bo(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)us(v),os(v);else break e;Vo(v),tt(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=pt(S(v.Za,v),6e3));if(1>=Wa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Oi(v,11)}else if((c.K||v.g==c)&&us(v),!ee(g))for(U=v.Da.g.parse(g),g=0;g<U.length;g++){let Pe=U[g];if(v.T=Pe[0],Pe=Pe[1],v.G==2)if(Pe[0]=="c"){v.K=Pe[1],v.ia=Pe[2];const Nt=Pe[3];Nt!=null&&(v.la=Nt,v.j.info("VER="+v.la));const At=Pe[4];At!=null&&(v.Aa=At,v.j.info("SVER="+v.Aa));const Mi=Pe[5];Mi!=null&&typeof Mi=="number"&&0<Mi&&(A=1.5*Mi,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Pt=c.g;if(Pt){const ri=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ri){var K=A.h;K.g||ri.indexOf("spdy")==-1&&ri.indexOf("quic")==-1&&ri.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(es(K,K.h),K.h=null))}if(A.D){const Po=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;Po&&(A.ya=Po,Qe(A.I,A.D,Po))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var ae=c;if(A.qa=wu(A,A.J?A.ia:null,A.W),ae.K){Zt(A.h,ae);var ke=ae,Tt=A.L;Tt&&(ke.I=Tt),ke.B&&(sr(ke),ra(ke)),A.g=ae}else Tu(A);0<v.i.length&&ls(v)}else Pe[0]!="stop"&&Pe[0]!="close"||Oi(v,7);else v.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Oi(v,7):Mo(v):Pe[0]!="noop"&&v.l&&v.l.ta(Pe),v.v=0)}}ir(4)}catch{}}var mu=class{constructor(c,g){this.g=c,this.map=g}};function wi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Za(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Wa(c){return c.h?1:c.g?c.g.size:0}function bo(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function es(c,g){c.g?c.g.add(g):c.h=g}function Zt(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}wi.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function wo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return H(c.i)}function Kh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],v=c.length,A=0;A<v;A++)g.push(c[A]);return g}g=[],v=0;for(A in c)g[v++]=c[A];return g}function ts(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const A in c)g[v++]=A;return g}}}function Ro(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=ts(c),A=Kh(c),U=A.length,K=0;K<U;K++)g.call(void 0,A[K],v&&v[K],c)}var sa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yh(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),U=null;if(0<=A){var K=c[v].substring(0,A);U=c[v].substring(A+1)}else K=c[v];g(K,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function gt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof gt){this.h=c.h,oa(this,c.j),this.o=c.o,this.g=c.g,or(this,c.s),this.l=c.l;var g=c.i,v=new Ii;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Ri(this,v),this.m=c.m}else c&&(g=String(c).match(sa))?(this.h=!1,oa(this,g[1]||"",!0),this.o=An(g[2]||""),this.g=An(g[3]||"",!0),or(this,g[4]),this.l=An(g[5]||"",!0),Ri(this,g[6]||"",!0),this.m=An(g[7]||"")):(this.h=!1,this.i=new Ii(null,this.h))}gt.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ua(g,Io,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ua(g,Io,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ua(v,v.charAt(0)=="/"?Qh:Co,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ua(v,ns)),c.join("")};function un(c){return new gt(c)}function oa(c,g,v){c.j=v?An(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function or(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ri(c,g,v){g instanceof Ii?(c.i=g,gu(c.i,c.h)):(v||(g=ua(g,$h)),c.i=new Ii(g,c.h))}function Qe(c,g,v){c.i.set(g,v)}function la(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function An(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ua(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,pu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Io=/[#\/\?@]/g,Co=/[#\?:]/g,Qh=/[#\?]/g,$h=/[#\?@]/g,ns=/#/g;function Ii(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&Yh(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Ii.prototype,r.add=function(c,g){Sn(this),this.i=null,c=Zn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Ci(c,g){Sn(c),g=Zn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Di(c,g){return Sn(c),g=Zn(c,g),c.g.has(g)}r.forEach=function(c,g){Sn(this),this.g.forEach(function(v,A){v.forEach(function(U){c.call(g,U,A,this)},this)},this)},r.na=function(){Sn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let A=0;A<g.length;A++){const U=c[A];for(let K=0;K<U.length;K++)v.push(g[A])}return v},r.V=function(c){Sn(this);let g=[];if(typeof c=="string")Di(this,c)&&(g=g.concat(this.g.get(Zn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},r.set=function(c,g){return Sn(this),this.i=null,c=Zn(this,c),Di(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Do(c,g,v){Ci(c,g),0<v.length&&(c.i=null,c.g.set(Zn(c,g),H(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var A=g[v];const K=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var U=K;ae[A]!==""&&(U+="="+encodeURIComponent(String(ae[A]))),c.push(U)}}return this.i=c.join("&")};function Zn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function gu(c,g){g&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(v,A){var U=A.toLowerCase();A!=U&&(Ci(this,A),Do(this,U,v))},c)),c.j=g}function ca(c,g){const v=new Tn;if(m.Image){const A=new Image;A.onload=N(bn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=N(bn,v,"TestLoadImage: error",!1,g,A),A.onabort=N(bn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=N(bn,v,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Pn(c,g){const v=new Tn,A=new AbortController,U=setTimeout(()=>{A.abort(),bn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(U),K.ok?bn(v,"TestPingServer: ok",!0,g):bn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),bn(v,"TestPingServer: error",!1,g)})}function bn(c,g,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function ha(){this.g=new na}function Wn(c,g,v){const A=v||"";try{Ro(c,function(U,K){let ae=U;y(U)&&(ae=Vn(U)),g.push(A+K+"="+encodeURIComponent(ae))})}catch(U){throw g.push(A+"type="+encodeURIComponent("_badmap")),U}}function lr(c){this.l=c.Ub||null,this.j=c.eb||!1}D(lr,yo),lr.prototype.g=function(){return new Ni(this.l,this.j)},lr.prototype.i=function(c){return function(){return c}}({});function Ni(c,g){ot.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Ni,ot),r=Ni.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,ti(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;No(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function No(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ei(this):ti(this),this.readyState==3&&No(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ei(this))},r.Qa=function(c){this.g&&(this.response=c,ei(this))},r.ga=function(){this.g&&ei(this)};function ei(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ti(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Oo(c){let g="";return be(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function Dt(c,g,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Oo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Qe(c,g,v))}function qe(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(qe,ot);var is=/^https?$/i,fa=["POST","PUT"];r=qe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?vo(this.o):vo($n),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(K){yu(this,K);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())v.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(fa,g,void 0))||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of v)this.g.setRequestHeader(K,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{da(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){yu(this,K)}};function yu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,rs(c),ni(c)}function rs(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),ni(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ni(this,!0)),qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?as(this):this.bb())},r.bb=function(){as(this)};function as(c){if(c.h&&typeof f<"u"&&(!c.v[1]||wn(c)!=4||c.Z()!=2)){if(c.u&&wn(c)==4)Ft(c.Ea,0,c);else if(Ge(c,"readystatechange"),wn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var A;if(A=ae===0){var U=String(c.D).match(sa)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),A=!is.test(U?U.toLowerCase():"")}v=A}if(v)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var K=2<wn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",rs(c)}}finally{ni(c)}}}}function ni(c,g){if(c.g){da(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ge(c,"ready");try{v.onreadystatechange=A}catch{}}}function da(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function wn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),$a(g)}};function vu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xh(c){const g={};c=(c.g&&2<=wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ee(c[A]))continue;var v=P(c[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=g[U]||[];g[U]=K,K.push(v)}k(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ma(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function ss(c){this.Aa=0,this.i=[],this.j=new Tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ma("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ma("baseRetryDelayMs",5e3,c),this.cb=ma("retryDelaySeedMs",1e4,c),this.Wa=ma("forwardChannelMaxRetries",2,c),this.wa=ma("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wi(c&&c.concurrentRequestLimit),this.Da=new ha,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ss.prototype,r.la=8,r.G=1,r.connect=function(c,g,v,A){tt(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=wu(this,null,this.W),ls(this)};function Mo(c){if(_u(c),c.G==3){var g=c.U++,v=un(c.I);if(Qe(v,"SID",c.K),Qe(v,"RID",g),Qe(v,"TYPE","terminate"),pa(c,v),g=new Jt(c,c.j,g),g.L=2,g.v=la(un(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=Ru(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ra(g)}bu(c)}function os(c){c.g&&(ga(c),c.g.cancel(),c.g=null)}function _u(c){os(c),c.u&&(m.clearTimeout(c.u),c.u=null),us(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ls(c){if(!Za(c.h)&&!c.s){c.s=!0;var g=c.Ga;se||x(),de||(se(),de=!0),je.add(g,c),c.B=0}}function Jh(c,g){return Wa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pt(S(c.Ga,c,g),ko(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new Jt(this,this.j,c);let K=this.o;if(this.S&&(K?(K=w(K),M(K,this.S)):K=this.S),this.m!==null||this.O||(U.H=K,K=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Eu(this,U,g),v=un(this.I),Qe(v,"RID",c),Qe(v,"CVER",22),this.D&&Qe(v,"X-HTTP-Session-Id",this.D),pa(this,v),K&&(this.O?g="headers="+encodeURIComponent(String(Oo(K)))+"&"+g:this.m&&Dt(v,this.m,K)),es(this.h,U),this.Ua&&Qe(v,"TYPE","init"),this.P?(Qe(v,"$req",g),Qe(v,"SID","null"),U.T=!0,kn(U,v,null)):kn(U,v,g),this.G=2}}else this.G==3&&(c?xo(this,c):this.i.length==0||Za(this.h)||xo(this))};function xo(c,g){var v;g?v=g.l:v=c.U++;const A=un(c.I);Qe(A,"SID",c.K),Qe(A,"RID",v),Qe(A,"AID",c.T),pa(c,A),c.m&&c.o&&Dt(A,c.m,c.o),v=new Jt(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Eu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),es(c.h,v),kn(v,A,g)}function pa(c,g){c.H&&be(c.H,function(v,A){Qe(g,A,v)}),c.l&&Ro({},function(v,A){Qe(g,A,v)})}function Eu(c,g,v){v=Math.min(c.i.length,v);var A=c.l?S(c.l.Na,c.l,c):null;e:{var U=c.i;let K=-1;for(;;){const ae=["count="+v];K==-1?0<v?(K=U[0].g,ae.push("ofs="+K)):K=0:ae.push("ofs="+K);let ke=!0;for(let Tt=0;Tt<v;Tt++){let Pe=U[Tt].g;const Nt=U[Tt].map;if(Pe-=K,0>Pe)K=Math.max(0,U[Tt].g-100),ke=!1;else try{Wn(Nt,ae,"req"+Pe+"_")}catch{A&&A(Nt)}}if(ke){A=ae.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,A}function Tu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;se||x(),de||(se(),de=!0),je.add(g,c),c.v=0}}function Vo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pt(S(c.Fa,c),ko(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Au(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pt(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),os(this),Au(this))};function ga(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Au(c){c.g=new Jt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=un(c.qa);Qe(g,"RID","rpc"),Qe(g,"SID",c.K),Qe(g,"AID",c.T),Qe(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(g,"TO",c.ja),Qe(g,"TYPE","xmlhttp"),pa(c,g),c.m&&c.o&&Dt(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=la(un(g)),v.m=null,v.P=!0,bi(v,c)}r.Za=function(){this.C!=null&&(this.C=null,os(this),Vo(this),tt(19))};function us(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Su(c,g){var v=null;if(c.g==g){us(c),ga(c),c.g=null;var A=2}else if(bo(c.h,g))v=g.D,Zt(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;A=nr(),Ge(A,new Et(A,v)),ls(c)}else Tu(c);else if(U=g.s,U==3||U==0&&0<g.X||!(A==1&&Jh(c,g)||A==2&&Vo(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),U){case 1:Oi(c,5);break;case 4:Oi(c,10);break;case 3:Oi(c,6);break;default:Oi(c,2)}}}function ko(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Oi(c,g){if(c.j.info("Error code "+g),g==2){var v=S(c.fb,c),A=c.Xa;const U=!A;A=new gt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||oa(A,"https"),la(A),U?ca(A.toString(),v):Pn(A.toString(),v)}else tt(2);c.G=0,c.l&&c.l.sa(g),bu(c),_u(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function bu(c){if(c.G=0,c.ka=[],c.l){const g=wo(c.h);(g.length!=0||c.i.length!=0)&&(q(c.ka,g),q(c.ka,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.ra()}}function wu(c,g,v){var A=v instanceof gt?un(v):new gt(v);if(A.g!="")g&&(A.g=g+"."+A.g),or(A,A.s);else{var U=m.location;A=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var K=new gt(null);A&&oa(K,A),g&&(K.g=g),U&&or(K,U),v&&(K.l=v),A=K}return v=c.D,g=c.ya,v&&g&&Qe(A,v,g),Qe(A,"VER",c.la),pa(c,A),A}function Ru(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new qe(new lr({eb:v})):new qe(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}r=Iu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function cs(){}cs.prototype.g=function(c,g){return new Wt(c,g)};function Wt(c,g){ot.call(this),this.g=new ss(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!ee(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ee(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ii(this)}D(Wt,ot),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){Mo(this.g)},Wt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Vn(c),c=v);g.i.push(new mu(g.Ya++,c)),g.G==3&&ls(g)},Wt.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,Wt.aa.N.call(this)};function Cu(c){Ai.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}D(Cu,Ai);function Du(){Eo.call(this),this.status=1}D(Du,Eo);function ii(c){this.g=c}D(ii,Iu),ii.prototype.ua=function(){Ge(this.g,"a")},ii.prototype.ta=function(c){Ge(this.g,new Cu(c))},ii.prototype.sa=function(c){Ge(this.g,new Du)},ii.prototype.ra=function(){Ge(this.g,"b")},cs.prototype.createWebChannel=cs.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,vT=function(){return new cs},yT=function(){return nr()},gT=Qn,Sm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,qc=ar,Si.COMPLETE="complete",pT=Si,_o.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Cl=_o,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,mT=qe}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});const Z_="@firebase/firestore",W_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new _h("@firebase/firestore");function zs(){return Ua.logLevel}function le(r,...e){if(Ua.logLevel<=xe.DEBUG){const n=e.map(hp);Ua.debug(`Firestore (${uo}): ${r}`,...n)}}function Wi(r,...e){if(Ua.logLevel<=xe.ERROR){const n=e.map(hp);Ua.error(`Firestore (${uo}): ${r}`,...n)}}function Xs(r,...e){if(Ua.logLevel<=xe.WARN){const n=e.map(hp);Ua.warn(`Firestore (${uo}): ${r}`,...n)}}function hp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,_T(r,a,n)}function _T(r,e,n){let a=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Wi(a),new Error(a)}function Fe(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||_T(e,o,a)}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class t2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class n2{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ur,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ur)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Fe(typeof a.accessToken=="string",31837,{l:a}),new ET(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Qt(e)}}class i2{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class r2{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new i2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const a=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new eE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new eE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=s2(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Ce(r,e){return r<e?-1:r>e?1:0}function bm(r,e){let n=0;for(;n<r.length&&n<e.length;){const a=r.codePointAt(n),o=e.codePointAt(n);if(a!==o){if(a<128&&o<128)return Ce(a,o);{const u=TT(),f=o2(u.encode(tE(r,n)),u.encode(tE(e,n)));return f!==0?f:Ce(a,o)}}n+=a>65535?2:1}return Ce(r.length,e.length)}function tE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function o2(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ce(r[n],e[n]);return Ce(r.length,e.length)}function Js(r,e,n){return r.length===e.length&&r.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=-62135596800,iE=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*iE);return new Rt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nE)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iE}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-nE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Rt(0,0))}static max(){return new Se(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="__name__";class ci{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Ee(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=ci.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ce(e.length,n.length)}static compareSegments(e,n){const a=ci.isNumericId(e),o=ci.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?ci.extractNumericId(e).compare(ci.extractNumericId(n)):bm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Lr.fromString(e.substring(4,e.length-2))}}class ct extends ci{construct(e,n,a){return new ct(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new pe(ne.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const l2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends ci{construct(e,n,a){return new jt(e,n,a)}static isValidIdentifier(e){return l2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rE}static keyField(){return new jt([rE])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new pe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new pe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ct.fromString(e))}static fromName(e){return new ye(ct.fromString(e).popFirst(5))}static empty(){return new ye(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=-1;function u2(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(a===1e9?new Rt(n+1,0):new Rt(n,a));return new Br(o,ye.empty(),e)}function c2(r){return new Br(r.readTime,r.key,jl)}class Br{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Br(Se.min(),ye.empty(),jl)}static max(){return new Br(Se.max(),ye.empty(),jl)}}function h2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Ce(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==f2)throw r;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,a)=>{n(e)})}static reject(e){return new W((n,a)=>{a(e)})}static waitFor(e){return new W((n,a)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>a(p))}),f=!0,u===o&&n()})}static or(e){let n=W.resolve(!1);for(const a of e)n=n.next(o=>o?W.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new W((a,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++m,m===u&&a(f)},E=>o(E))}})}static doWhile(e,n){return new W((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function m2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ho(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>n.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Sh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=-1;function bh(r){return r==null}function ih(r){return r===0&&1/r==-1/0}function p2(r){return typeof r=="number"&&Number.isInteger(r)&&!ih(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="";function g2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=aE(e)),e=y2(r.get(n),e);return aE(e)}function y2(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case ST:n+="";break;default:n+=u}}return n}function aE(r){return r+ST+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Yr(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function bT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xc(this.root,e,this.comparator,!0)}}class xc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??Bt.RED,this.left=o??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new Bt(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new oE(this.data.getIterator())}getIteratorFrom(e){return new oE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class oE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new yn([])}unionWith(e){let n=new It(jt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Js(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new wT("Invalid base64 string: "+u):u}}(e);return new qt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const v2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=v2.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:mt(r.seconds),nanos:mt(r.nanos)}}function mt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Hr(r){return typeof r=="string"?qt.fromBase64String(r):qt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="server_timestamp",IT="__type__",CT="__previous_value__",DT="__local_write_time__";function dp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[IT])===null||n===void 0?void 0:n.stringValue)===RT}function wh(r){const e=r.mapValue.fields[CT];return dp(e)?wh(e):e}function Hl(r){const e=jr(r.mapValue.fields[DT].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n,a,o,u,f,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const rh="(default)";class ql{constructor(e,n){this.projectId=e,this.database=n||rh}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===rh}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="__type__",E2="__max__",Vc={mapValue:{}},OT="__vector__",ah="value";function qr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?dp(r)?4:A2(r)?9007199254740991:T2(r)?10:11:Ee(28295,{value:r})}function yi(r,e){if(r===e)return!0;const n=qr(r);if(n!==qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Hl(r).isEqual(Hl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=jr(o.timestampValue),m=jr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Hr(o.bytesValue).isEqual(Hr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return mt(o.geoPointValue.latitude)===mt(u.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mt(o.integerValue)===mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=mt(o.doubleValue),m=mt(u.doubleValue);return f===m?ih(f)===ih(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Js(r.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(sE(f)!==sE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!yi(f[p],m[p])))return!1;return!0}(r,e);default:return Ee(52216,{left:r})}}function Fl(r,e){return(r.values||[]).find(n=>yi(n,e))!==void 0}function Zs(r,e){if(r===e)return 0;const n=qr(r),a=qr(e);if(n!==a)return Ce(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=mt(u.integerValue||u.doubleValue),p=mt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return lE(r.timestampValue,e.timestampValue);case 4:return lE(Hl(r),Hl(e));case 5:return bm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Hr(u),p=Hr(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ce(m[y],p[y]);if(E!==0)return E}return Ce(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ce(mt(u.latitude),mt(f.latitude));return m!==0?m:Ce(mt(u.longitude),mt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return uE(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,E;const b=u.fields||{},S=f.fields||{},N=(m=b[ah])===null||m===void 0?void 0:m.arrayValue,D=(p=S[ah])===null||p===void 0?void 0:p.arrayValue,H=Ce(((y=N==null?void 0:N.values)===null||y===void 0?void 0:y.length)||0,((E=D==null?void 0:D.values)===null||E===void 0?void 0:E.length)||0);return H!==0?H:uE(N,D)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Vc.mapValue&&f===Vc.mapValue)return 0;if(u===Vc.mapValue)return 1;if(f===Vc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const S=bm(p[b],E[b]);if(S!==0)return S;const N=Zs(m[p[b]],y[E[b]]);if(N!==0)return N}return Ce(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Ee(23264,{Pe:n})}}function lE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ce(r,e);const n=jr(r),a=jr(e),o=Ce(n.seconds,a.seconds);return o!==0?o:Ce(n.nanos,a.nanos)}function uE(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=Zs(n[o],a[o]);if(u)return u}return Ce(n.length,a.length)}function Ws(r){return wm(r)}function wm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=jr(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Hr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=wm(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${wm(n.fields[f])}`;return o+"}"}(r.mapValue):Ee(61005,{value:r})}function Fc(r){switch(qr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(r);return e?16+Fc(e):16;case 5:return 2*r.stringValue.length;case 6:return Hr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Fc(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return Yr(a.fields,(u,f)=>{o+=u.length+Fc(f)}),o}(r.mapValue);default:throw Ee(13486,{value:r})}}function Rm(r){return!!r&&"integerValue"in r}function mp(r){return!!r&&"arrayValue"in r}function cE(r){return!!r&&"nullValue"in r}function hE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Gc(r){return!!r&&"mapValue"in r}function T2(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[NT])===null||n===void 0?void 0:n.stringValue)===OT}function xl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Yr(r.mapValue.fields,(n,a)=>e.mapValue.fields[n]=xl(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function A2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===E2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Gc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(n)}setAll(e){let n=jt.emptyPath(),a={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=xl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());Gc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Gc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Yr(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new sn(xl(this.value))}}function MT(r){const e=[];return Yr(r.fields,(n,a)=>{const o=new jt([n]);if(Gc(a)){const u=MT(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,a,o,u,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new $t(e,0,Se.min(),Se.min(),Se.min(),sn.empty(),0)}static newFoundDocument(e,n,a,o){return new $t(e,1,n,Se.min(),a,o,0)}static newNoDocument(e,n){return new $t(e,2,n,Se.min(),Se.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,Se.min(),Se.min(),sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){this.position=e,this.inclusive=n}}function fE(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?a=ye.comparator(ye.fromName(f.referenceValue),n.key):a=Zs(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function dE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!yi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n="asc"){this.field=e,this.dir=n}}function S2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{}class wt extends xT{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new w2(e,n,a):n==="array-contains"?new C2(e,a):n==="in"?new D2(e,a):n==="not-in"?new N2(e,a):n==="array-contains-any"?new O2(e,a):new wt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new R2(e,a):new I2(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zs(n,this.value)):n!==null&&qr(this.value)===qr(n)&&this.matchesComparison(Zs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends xT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new vi(e,n)}matches(e){return VT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function VT(r){return r.op==="and"}function kT(r){return b2(r)&&VT(r)}function b2(r){for(const e of r.filters)if(e instanceof vi)return!1;return!0}function Im(r){if(r instanceof wt)return r.field.canonicalString()+r.op.toString()+Ws(r.value);if(kT(r))return r.filters.map(e=>Im(e)).join(",");{const e=r.filters.map(n=>Im(n)).join(",");return`${r.op}(${e})`}}function PT(r,e){return r instanceof wt?function(a,o){return o instanceof wt&&a.op===o.op&&a.field.isEqual(o.field)&&yi(a.value,o.value)}(r,e):r instanceof vi?function(a,o){return o instanceof vi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,m)=>u&&PT(f,o.filters[m]),!0):!1}(r,e):void Ee(19439)}function LT(r){return r instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ws(n.value)}`}(r):r instanceof vi?function(n){return n.op.toString()+" {"+n.getFilters().map(LT).join(" ,")+"}"}(r):"Filter"}class w2 extends wt{constructor(e,n,a){super(e,n,a),this.key=ye.fromName(a.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class R2 extends wt{constructor(e,n){super(e,"in",n),this.keys=UT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class I2 extends wt{constructor(e,n){super(e,"not-in",n),this.keys=UT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function UT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>ye.fromName(a.referenceValue))}class C2 extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mp(n)&&Fl(n.arrayValue,this.value)}}class D2 extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fl(this.value.arrayValue,n)}}class N2 extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fl(this.value.arrayValue,n)}}class O2 extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Fl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n=null,a=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function mE(r,e=null,n=[],a=[],o=null,u=null,f=null){return new M2(r,e,n,a,o,u,f)}function pp(r){const e=we(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Im(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>Ws(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>Ws(a)).join(",")),e.Ie=n}return e.Ie}function gp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!S2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!PT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!dE(r.startAt,e.startAt)&&dE(r.endAt,e.endAt)}function Cm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n=null,a=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function x2(r,e,n,a,o,u,f,m){return new Rh(r,e,n,a,o,u,f,m)}function yp(r){return new Rh(r)}function pE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function V2(r){return r.collectionGroup!==null}function Vl(r){const e=we(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new It(jt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new oh(u,a))}),n.has(jt.keyField().canonicalString())||e.Ee.push(new oh(jt.keyField(),a))}return e.Ee}function fi(r){const e=we(r);return e.de||(e.de=k2(e,Vl(r))),e.de}function k2(r,e){if(r.limitType==="F")return mE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new oh(o.field,u)});const n=r.endAt?new sh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new sh(r.startAt.position,r.startAt.inclusive):null;return mE(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Dm(r,e,n){return new Rh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ih(r,e){return gp(fi(r),fi(e))&&r.limitType===e.limitType}function zT(r){return`${pp(fi(r))}|lt:${r.limitType}`}function Bs(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>LT(o)).join(", ")}]`),bh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>Ws(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>Ws(o)).join(",")),`Target(${a})`}(fi(r))}; limitType=${r.limitType})`}function Ch(r,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):ye.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,o){for(const u of Vl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(f,m,p){const y=fE(f,m,p);return f.inclusive?y<=0:y<0}(a.startAt,Vl(a),o)||a.endAt&&!function(f,m,p){const y=fE(f,m,p);return f.inclusive?y>=0:y>0}(a.endAt,Vl(a),o))}(r,e)}function P2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function BT(r){return(e,n)=>{let a=!1;for(const o of Vl(r)){const u=L2(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function L2(r,e,n){const a=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Zs(p,y):Ee(42886)}(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ee(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Yr(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return bT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=new at(ye.comparator);function er(){return U2}const jT=new at(ye.comparator);function Dl(...r){let e=jT;for(const n of r)e=e.insert(n.key,n);return e}function HT(r){let e=jT;return r.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function Va(){return kl()}function qT(){return kl()}function kl(){return new Ga(r=>r.toString(),(r,e)=>r.isEqual(e))}const z2=new at(ye.comparator),B2=new It(ye.comparator);function Ve(...r){let e=B2;for(const n of r)e=e.add(n);return e}const j2=new It(Ce);function H2(){return j2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function FT(r){return{integerValue:""+r}}function q2(r,e){return p2(e)?FT(e):vp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(){this._=void 0}}function F2(r,e,n){return r instanceof Gl?function(o,u){const f={fields:{[IT]:{stringValue:RT},[DT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&dp(u)&&(u=wh(u)),u&&(f.fields[CT]=u),{mapValue:f}}(n,e):r instanceof Kl?KT(r,e):r instanceof Yl?YT(r,e):function(o,u){const f=GT(o,u),m=gE(f)+gE(o.Re);return Rm(f)&&Rm(o.Re)?FT(m):vp(o.serializer,m)}(r,e)}function G2(r,e,n){return r instanceof Kl?KT(r,e):r instanceof Yl?YT(r,e):n}function GT(r,e){return r instanceof lh?function(a){return Rm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class Gl extends Dh{}class Kl extends Dh{constructor(e){super(),this.elements=e}}function KT(r,e){const n=QT(e);for(const a of r.elements)n.some(o=>yi(o,a))||n.push(a);return{arrayValue:{values:n}}}class Yl extends Dh{constructor(e){super(),this.elements=e}}function YT(r,e){let n=QT(e);for(const a of r.elements)n=n.filter(o=>!yi(o,a));return{arrayValue:{values:n}}}class lh extends Dh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function gE(r){return mt(r.integerValue||r.doubleValue)}function QT(r){return mp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n){this.field=e,this.transform=n}}function Y2(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof Kl&&o instanceof Kl||a instanceof Yl&&o instanceof Yl?Js(a.elements,o.elements,yi):a instanceof lh&&o instanceof lh?yi(a.Re,o.Re):a instanceof Gl&&o instanceof Gl}(r.transform,e.transform)}class Q2{constructor(e,n){this.version=e,this.transformResults=n}}class di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Nh{}function $T(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new JT(r.key,di.none()):new tu(r.key,r.data,di.none());{const n=r.data,a=sn.empty();let o=new It(jt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new Qr(r.key,a,new yn(o.toArray()),di.none())}}function $2(r,e,n){r instanceof tu?function(o,u,f){const m=o.value.clone(),p=vE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Qr?function(o,u,f){if(!Kc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=vE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(XT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Pl(r,e,n,a){return r instanceof tu?function(u,f,m,p){if(!Kc(u.precondition,f))return m;const y=u.value.clone(),E=_E(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,a):r instanceof Qr?function(u,f,m,p){if(!Kc(u.precondition,f))return m;const y=_E(u.fieldTransforms,p,f),E=f.data;return E.setAll(XT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,n,a):function(u,f,m){return Kc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function X2(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=GT(a.transform,o||null);u!=null&&(n===null&&(n=sn.empty()),n.set(a.field,u))}return n||null}function yE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Js(a,o,(u,f)=>Y2(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class tu extends Nh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qr extends Nh{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function XT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}}),e}function vE(r,e,n){const a=new Map;Fe(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);a.set(u.field,G2(f,m,n[o]))}return a}function _E(r,e,n){const a=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);a.set(o.field,F2(u,f,e))}return a}class JT extends Nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J2 extends Nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&$2(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Pl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Pl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=qT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=$T(f,m);p!==null&&a.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Js(this.mutations,e.mutations,(n,a)=>yE(n,a))&&Js(this.baseMutations,e.baseMutations,(n,a)=>yE(n,a))}}class _p{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Fe(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let o=function(){return z2}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new _p(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Ue;function tD(r){switch(r){case ne.OK:return Ee(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function ZT(r){if(r===void 0)return Wi("GRPC error has no .code"),ne.UNKNOWN;switch(r){case _t.OK:return ne.OK;case _t.CANCELLED:return ne.CANCELLED;case _t.UNKNOWN:return ne.UNKNOWN;case _t.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case _t.INTERNAL:return ne.INTERNAL;case _t.UNAVAILABLE:return ne.UNAVAILABLE;case _t.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case _t.NOT_FOUND:return ne.NOT_FOUND;case _t.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case _t.ABORTED:return ne.ABORTED;case _t.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case _t.DATA_LOSS:return ne.DATA_LOSS;default:return Ee(39323,{code:r})}}(Ue=_t||(_t={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new Lr([4294967295,4294967295],0);function EE(r){const e=TT().encode(r),n=new dT;return n.update(e),new Uint8Array(n.digest())}function TE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Lr([n,a],0),new Lr([o,u],0)]}class Ep{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Nl(`Invalid padding: ${n}`);if(a<0)throw new Nl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Lr.fromNumber(this.pe)}we(e,n,a){let o=e.add(n.multiply(Lr.fromNumber(a)));return o.compare(nD)===1&&(o=new Lr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=EE(e),[a,o]=TE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(a,o,u);if(!this.be(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Ep(u,o,n);return a.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=EE(e),[a,o]=TE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(a,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Oh(Se.min(),o,new at(Ce),er(),Ve())}}class nu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new nu(a,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n,a,o){this.De=e,this.removedTargetIds=n,this.key=a,this.ve=o}}class WT{constructor(e,n){this.targetId=e,this.Ce=n}}class eA{constructor(e,n,a=qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class AE{constructor(){this.Fe=0,this.Me=SE(),this.xe=qt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ve(),n=Ve(),a=Ve();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Ee(38017,{changeType:u})}}),new nu(this.xe,this.Oe,e,n,a)}Qe(){this.Ne=!1,this.Me=SE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Fe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class iD{constructor(e){this.ze=e,this.je=new Map,this.He=er(),this.Je=kc(),this.Ye=kc(),this.Ze=new at(Ce)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const a=this.rt(n);switch(e.state){case 0:this.it(n)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(n);break;case 3:this.it(n)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),a.ke(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((a,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,a=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Cm(u))if(a===0){const f=new ye(u.path);this.tt(n,f,$t.newNoDocument(f,Se.min()))}else Fe(a===1,20013,{expectedCount:a});else{const f=this.ut(n);if(f!==a){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Hr(a).toUint8Array()}catch(p){if(p instanceof wT)return Xs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Ep(f,o,u)}catch(p){return Xs(p instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,a){return n.Ce.count===a-this.Tt(e,n.targetId)?0:2}Tt(e,n){const a=this.ze.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Cm(m.target)){const p=new ye(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,$t.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let a=Ve();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Oh(e,n,this.Ze,this.He,a);return this.He=er(),this.Je=kc(),this.Ye=kc(),this.Ze=new at(Ce),o}et(e,n){if(!this.it(e))return;const a=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,a),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,a){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),a&&(this.He=this.He.insert(n,a))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new AE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new It(Ce),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new It(Ce),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new AE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function kc(){return new at(ye.comparator)}function SE(){return new at(ye.comparator)}const rD={asc:"ASCENDING",desc:"DESCENDING"},aD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sD={and:"AND",or:"OR"};class oD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Nm(r,e){return r.useProto3Json||bh(e)?e:{value:e}}function uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function lD(r,e){return uh(r,e.toTimestamp())}function mi(r){return Fe(!!r,49232),Se.fromTimestamp(function(n){const a=jr(n);return new Rt(a.seconds,a.nanos)}(r))}function Tp(r,e){return Om(r,e).canonicalString()}function Om(r,e){const n=function(o){return new ct(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function nA(r){const e=ct.fromString(r);return Fe(oA(e),10190,{key:e.toString()}),e}function Mm(r,e){return Tp(r.databaseId,e.path)}function am(r,e){const n=nA(e);if(n.get(1)!==r.databaseId.projectId)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(rA(n))}function iA(r,e){return Tp(r.databaseId,e)}function uD(r){const e=nA(r);return e.length===4?ct.emptyPath():rA(e)}function xm(r){return new ct(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function rA(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function bE(r,e,n){return{name:Mm(r,e),fields:n.value.mapValue.fields}}function cD(r,e){let n;if("targetChange"in e){e.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),qt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),qt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?ne.UNKNOWN:ZT(y.code);return new pe(E,y.message||"")}(f);n=new eA(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=am(r,a.document.name),u=mi(a.document.updateTime),f=a.document.createTime?mi(a.document.createTime):Se.min(),m=new sn({mapValue:{fields:a.document.fields}}),p=$t.newFoundDocument(o,u,f,m),y=a.targetIds||[],E=a.removedTargetIds||[];n=new Yc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=am(r,a.document),u=a.readTime?mi(a.readTime):Se.min(),f=$t.newNoDocument(o,u),m=a.removedTargetIds||[];n=new Yc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=am(r,a.document),u=a.removedTargetIds||[];n=new Yc([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new eD(o,u),m=a.targetId;n=new WT(m,f)}}return n}function hD(r,e){let n;if(e instanceof tu)n={update:bE(r,e.key,e.value)};else if(e instanceof JT)n={delete:Mm(r,e.key)};else if(e instanceof Qr)n={update:bE(r,e.key,e.data),updateMask:ED(e.fieldMask)};else{if(!(e instanceof J2))return Ee(16599,{ft:e.type});n={verify:Mm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,f){const m=f.transform;if(m instanceof Gl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Kl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Yl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof lh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Ee(20930,{transform:f.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:lD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(r,e.precondition)),n}function fD(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?mi(o.updateTime):mi(u);return f.isEqual(Se.min())&&(f=mi(u)),new Q2(f,o.transformResults||[])}(n,e))):[]}function dD(r,e){return{documents:[iA(r,e.path)]}}function mD(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=iA(r,o);const u=function(y){if(y.length!==0)return sA(vi.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(S){return{field:js(S.field),direction:yD(S.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Nm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:n,parent:o}}function pD(r){let e=uD(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Fe(a===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(b){const S=aA(b);return S instanceof vi&&kT(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(S=>function(D){return new oh(Hs(D.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(b){let S;return S=typeof b=="object"?b.value:b,bh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(b){const S=!!b.before,N=b.values||[];return new sh(N,S)}(n.startAt));let y=null;return n.endAt&&(y=function(b){const S=!b.before,N=b.values||[];return new sh(N,S)}(n.endAt)),x2(e,o,f,u,m,"F",p,y)}function gD(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aA(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Hs(n.unaryFilter.field);return wt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Hs(n.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Hs(n.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Hs(n.unaryFilter.field);return wt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(r):r.fieldFilter!==void 0?function(n){return wt.create(Hs(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return vi.create(n.compositeFilter.filters.map(a=>aA(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(n.compositeFilter.op))}(r):Ee(30097,{filter:r})}function yD(r){return rD[r]}function vD(r){return aD[r]}function _D(r){return sD[r]}function js(r){return{fieldPath:r.canonicalString()}}function Hs(r){return jt.fromServerFormat(r.fieldPath)}function sA(r){return r instanceof wt?function(n){if(n.op==="=="){if(hE(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NAN"}};if(cE(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hE(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NOT_NAN"}};if(cE(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:js(n.field),op:vD(n.op),value:n.value}}}(r):r instanceof vi?function(n){const a=n.getFilters().map(o=>sA(o));return a.length===1?a[0]:{compositeFilter:{op:_D(n.op),filters:a}}}(r):Ee(54877,{filter:r})}function ED(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function oA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,a,o,u=Se.min(),f=Se.min(),m=qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.wt=e}}function AD(r){const e=pD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Dm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.Cn=new bD}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Br.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Br.min())}updateCollectionGroup(e,n,a){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class bD{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new It(ct.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new It(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lA=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(lA,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new eo(0)}static lr(){return new eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="LruGarbageCollector",wD=1048576;function IE([r,e],[n,a]){const o=Ce(r,n);return o===0?Ce(e,a):o}class RD{constructor(e){this.Er=e,this.buffer=new It(IE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();IE(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ID{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){le(RE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ho(n)?le(RE,"Ignoring IndexedDB error during garbage collection: ",n):await co(n)}await this.mr(3e5)})}}class CD{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Sh.le);const a=new RD(n);return this.gr.forEachTarget(e,o=>a.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>a.Rr(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.gr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(wE)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let a,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(a=b,m=Date.now(),this.removeTargets(e,a,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(b=>(y=Date.now(),zs()<=xe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function DD(r,e){return new CD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.changes=new Ga(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?W.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&Pl(a.mutation,o,yn.empty(),Rt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Ve()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Ve()){const o=Va();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let f=Dl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const a=Va();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Ve()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,a,o){let u=er();const f=kl(),m=function(){return kl()}();return n.forEach((p,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Qr)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Pl(E.mutation,y,E.mutation.getFieldMask(),Rt.now())):f.set(y.key,yn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var b;return m.set(y,new OD(E,(b=f.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const a=kl();let o=new at((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=a.get(p)||yn.empty();E=m.applyToLocalView(y,E),a.set(p,E);const b=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,b=qT();E.forEach(S=>{if(!u.has(S)){const N=$T(n.get(S),a.get(S));N!==null&&b.set(S,N),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,b))}return W.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):V2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):W.resolve(Va());let m=jl,p=u;return f.next(y=>W.forEach(y,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Ve())).next(E=>({batchId:m,changes:HT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(a=>{let o=Dl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=Dl();return this.indexManager.getCollectionParents(e,u).next(m=>W.forEach(m,p=>{const y=function(b,S){return new Rh(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next(E=>{E.forEach((b,S)=>{f=f.insert(b,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,$t.newInvalidDocument(E)))});let m=Dl();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&Pl(E.mutation,y,yn.empty(),Rt.now()),Ch(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return W.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:mi(o.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:AD(o.bundledQuery),readTime:mi(o.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.overlays=new at(ye.comparator),this.Qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Va();return W.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.St(e,n,u)}),W.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Qr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(a)),W.resolve()}getOverlaysForCollection(e,n,a){const o=Va(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new at((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let E=u.get(y.largestBatchId);E===null&&(E=Va(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Va(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return W.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(a.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new W2(n,a));let u=this.Qr.get(n);u===void 0&&(u=Ve(),this.Qr.set(n,u)),this.Qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(){this.$r=new It(Vt.Ur),this.Kr=new It(Vt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const a=new Vt(e,n);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.zr(new Vt(e,n))}jr(e,n){e.forEach(a=>this.removeReference(a,n))}Hr(e){const n=new ye(new ct([])),a=new Vt(n,e),o=new Vt(n,e+1),u=[];return this.Kr.forEachInRange([a,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ye(new ct([])),a=new Vt(n,e),o=new Vt(n,e+1);let u=Ve();return this.Kr.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Vt(e,0),a=this.$r.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Vt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ye.comparator(e.key,n.key)||Ce(e.Zr,n.Zr)}static Wr(e,n){return Ce(e.Zr,n.Zr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new It(Vt.Ur)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Z2(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new Vt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ti(a),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?fp:this.nr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Vt(n,0),o=new Vt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([a,o],f=>{const m=this.ei(f.Zr);u.push(m)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new It(Ce);return n.forEach(o=>{const u=new Vt(o,0),f=new Vt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{a=a.add(m.Zr)})}),W.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;ye.isDocumentKey(u)||(u=u.child(""));const f=new Vt(new ye(u),0);let m=new It(Ce);return this.Xr.forEachWhile(p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Zr)),!0)},f),W.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(a=>{const o=this.ei(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Fe(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return W.forEach(n.mutations,o=>{const u=new Vt(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,n){const a=new Vt(n,0),o=this.Xr.firstAfterOrEqual(a);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.ii=e,this.docs=function(){return new at(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return W.resolve(a?a.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let a=er();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():$t.newInvalidDocument(o))}),W.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=er();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||h2(c2(E),a)<=0||(o.has(E.key)||Ch(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Ee(9500)}si(e,n){return W.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new UD(this)}getSize(e){return W.resolve(this.size)}}class UD extends ND{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(a)}),W.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.persistence=e,this.oi=new Ga(n=>pp(n),gp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this._i=0,this.ai=new Ap,this.targetCount=0,this.ui=eo.cr()}forEachTarget(e,n){return this.oi.forEach((a,o)=>n(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this._i&&(this._i=n),W.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new eo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Tr(n),W.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const a=this.oi.get(n)||null;return W.resolve(a)}addMatchingKeys(e,n,a){return this.ai.Gr(n,a),W.resolve()}removeMatchingKeys(e,n,a){this.ai.jr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const a=this.ai.Yr(n);return W.resolve(a)}containsKey(e,n){return W.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n){this.ci={},this.overlays={},this.li=new Sh(0),this.hi=!1,this.hi=!0,this.Pi=new kD,this.referenceDelegate=e(this),this.Ti=new zD(this),this.indexManager=new SD,this.remoteDocumentCache=function(o){return new LD(o)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new TD(n),this.Ei=new xD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ci[e.toKey()];return a||(a=new PD(n,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,a){le("MemoryPersistence","Starting transaction:",e);const o=new BD(this.li.next());return this.referenceDelegate.di(),a(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return W.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,n)))}}class BD extends d2{constructor(e){super(),this.currentSequenceNumber=e}}class Sp{constructor(e){this.persistence=e,this.Vi=new Ap,this.mi=null}static fi(e){return new Sp(e)}get gi(){if(this.mi)return this.mi;throw Ee(60996)}addReference(e,n,a){return this.Vi.addReference(a,n),this.gi.delete(a.toString()),W.resolve()}removeReference(e,n,a){return this.Vi.removeReference(a,n),this.gi.add(a.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.gi,a=>{const o=ye.fromPath(a);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(a=>{a?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return W.or([()=>W.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class ch{constructor(e,n){this.persistence=e,this.yi=new Ga(a=>g2(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=DD(this,n)}static fi(e,n){return new ch(e,n)}di(){}Ai(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}br(e){let n=0;return this.yr(e,a=>{n++}).next(()=>n)}yr(e,n){return W.forEach(this.yi,(a,o)=>this.Dr(e,a,o).next(u=>u?W.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,f=>this.Dr(e,f,n).next(m=>{m||(a++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.yi.set(a,e.currentSequenceNumber),W.resolve()}removeReference(e,n,a){return this.yi.set(a,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),W.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fc(e.data.value)),n}Dr(e,n,a){return W.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return W.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.ds=a,this.As=o}static Rs(e,n){let a=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new bp(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return V1()?8:m2(Xt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ws(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(e,n,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new jD;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,f,m.size)})}).next(()=>u.result)}Ds(e,n,a,o){return a.documentReadCount<this.gs?(zs()<=xe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Bs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),W.resolve()):(zs()<=xe.DEBUG&&le("QueryEngine","Query:",Bs(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ps*o?(zs()<=xe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Bs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fi(n))):W.resolve())}ws(e,n){if(pE(n))return W.resolve(null);let a=fi(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Dm(n,null,"F"),a=fi(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const f=Ve(...u);return this.ys.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,a).next(p=>{const y=this.vs(n,m);return this.Cs(n,y,f,p.readTime)?this.ws(e,Dm(n,null,"F")):this.Fs(e,y,n,p)}))})))}bs(e,n,a,o){return pE(n)||o.isEqual(Se.min())?W.resolve(null):this.ys.getDocuments(e,a).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,a,o)?W.resolve(null):(zs()<=xe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Bs(n)),this.Fs(e,f,n,u2(o,jl)).next(m=>m))})}vs(e,n){let a=new It(BT(e));return n.forEach((o,u)=>{Ch(e,u)&&(a=a.add(u))}),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,a){return zs()<=xe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Bs(n)),this.ys.getDocumentsMatchingQuery(e,n,Br.min(),a)}Fs(e,n,a,o){return this.ys.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="LocalStore",qD=3e8;class FD{constructor(e,n,a,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new at(Ce),this.Os=new Ga(u=>pp(u),gp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function GD(r,e,n,a){return new FD(r,e,n,a)}async function cA(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],m=[];let p=Ve();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(a,p).next(y=>({ks:y,removedBatchIds:f,addedBatchIds:m}))})})}function KD(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const b=y.batch,S=b.keys();let N=W.resolve();return S.forEach(D=>{N=N.next(()=>E.getEntry(p,D)).next(H=>{const q=y.docVersions.get(D);Fe(q!==null,48541),H.version.compareTo(q)<0&&(b.applyToRemoteDocument(H,y),H.isValidDocument()&&(H.setReadTime(y.commitVersion),E.addEntry(H)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=Ve();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function hA(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function YD(r,e){const n=we(r),a=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((E,b)=>{const S=o.get(b);if(!S)return;m.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,b).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,b)));let N=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?N=N.withResumeToken(qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,a)),o=o.insert(b,N),function(H,q,Y){return H.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=qD?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(S,N,E)&&m.push(n.Ti.updateTargetData(u,N))});let p=er(),y=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(QD(u,f,e.documentUpdates).next(E=>{p=E.qs,y=E.Qs})),!a.isEqual(Se.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(b=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(E)}return W.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.xs=o,u))}function QD(r,e,n){let a=Ve(),o=Ve();return n.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let f=er();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):le(wp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function $D(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=fp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function XD(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Ti.getTargetData(a,e).next(u=>u?(o=u,W.resolve(o)):n.Ti.allocateTargetId(a).next(f=>(o=new Vr(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Ti.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.xs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(a.targetId,a),n.Os.set(e,a.targetId)),a})}async function Vm(r,e,n){const a=we(r),o=a.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!ho(f))throw f;le(wp,`Failed to update sequence numbers for target ${e}: ${f}`)}a.xs=a.xs.remove(e),a.Os.delete(o.target)}function CE(r,e,n){const a=we(r);let o=Se.min(),u=Ve();return a.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const b=we(p),S=b.Os.get(E);return S!==void 0?W.resolve(b.xs.get(S)):b.Ti.getTargetData(y,E)}(a,f,fi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>a.Ms.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Ve())).next(m=>(JD(a,P2(e),m),{documents:m,$s:u})))}function JD(r,e,n){let a=r.Ns.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.Ns.set(e,a)}class DE{constructor(){this.activeTargetIds=H2()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZD{constructor(){this.xo=new DE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,a){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new DE,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="ConnectivityMonitor";class OE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){le(NE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){le(NE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc=null;function km(){return Pc===null?Pc=function(){return 268435456+Math.round(2147483648*Math.random())}():Pc++,"0x"+Pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="RestConnection",eN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tN{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${a}/databases/${o}`,this.Go=this.databaseId.database===rh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}zo(e,n,a,o,u){const f=km(),m=this.jo(e,n.toUriEncodedString());le(sm,`Sending RPC '${e}' ${f}:`,m,a);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:y}=new URL(m),E=so(y);return this.Jo(e,m,p,a,E).then(b=>(le(sm,`Received RPC '${e}' ${f}: `,b),b),b=>{throw Xs(sm,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",a),b})}Yo(e,n,a,o,u,f){return this.zo(e,n,a,o,u)}Ho(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const a=eN[e];return`${this.Ko}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class iN extends tN{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const f=km();return new Promise((m,p)=>{const y=new mT;y.setWithCredentials(!0),y.listenOnce(pT.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case qc.NO_ERROR:const b=y.getResponseJson();le(Yt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case qc.TIMEOUT:le(Yt,`RPC '${e}' ${f} timed out`),p(new pe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const S=y.getStatus();if(le(Yt,`RPC '${e}' ${f} failed with status:`,S,"response text:",y.getResponseText()),S>0){let N=y.getResponseJson();Array.isArray(N)&&(N=N[0]);const D=N==null?void 0:N.error;if(D&&D.status&&D.message){const H=function(Y){const ee=Y.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(ee)>=0?ee:ne.UNKNOWN}(D.status);p(new pe(H,D.message))}else p(new pe(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new pe(ne.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{h_:e,streamId:f,P_:y.getLastErrorCode(),T_:y.getLastError()})}}finally{le(Yt,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);le(Yt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,a,15)})}I_(e,n,a){const o=km(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=vT(),m=yT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const E=u.join("");le(Yt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=f.createWebChannel(E,p);this.E_(b);let S=!1,N=!1;const D=new nN({Zo:q=>{N?le(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(S||(le(Yt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),le(Yt,`RPC '${e}' stream ${o} sending:`,q),b.send(q))},Xo:()=>b.close()}),H=(q,Y,ee)=>{q.listen(Y,re=>{try{ee(re)}catch(he){setTimeout(()=>{throw he},0)}})};return H(b,Cl.EventType.OPEN,()=>{N||(le(Yt,`RPC '${e}' stream ${o} transport opened.`),D.__())}),H(b,Cl.EventType.CLOSE,()=>{N||(N=!0,le(Yt,`RPC '${e}' stream ${o} transport closed`),D.u_(),this.d_(b))}),H(b,Cl.EventType.ERROR,q=>{N||(N=!0,Xs(Yt,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),D.u_(new pe(ne.UNAVAILABLE,"The operation could not be completed")))}),H(b,Cl.EventType.MESSAGE,q=>{var Y;if(!N){const ee=q.data[0];Fe(!!ee,16349);const re=ee,he=(re==null?void 0:re.error)||((Y=re[0])===null||Y===void 0?void 0:Y.error);if(he){le(Yt,`RPC '${e}' stream ${o} received error:`,he);const ce=he.status;let be=function(I){const M=_t[I];if(M!==void 0)return ZT(M)}(ce),k=he.message;be===void 0&&(be=ne.INTERNAL,k="Unknown error status: "+ce+" with message "+he.message),N=!0,D.u_(new pe(be,k)),b.close()}else le(Yt,`RPC '${e}' stream ${o} received:`,ee),D.c_(ee)}}),H(m,gT.STAT_EVENT,q=>{q.stat===Sm.PROXY?le(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===Sm.NOPROXY&&le(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.a_()},0),D}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(r){return new oD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,n,a=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=a,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),a=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-a);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="PersistentStream";class dA{constructor(e,n,a,o,u,f,m,p){this.xi=e,this.S_=a,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new fA(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Wi(n.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.v_===n&&this.z_(a,o)},a=>{e(()=>{const o=new pe(ne.UNKNOWN,"Fetching auth token failed: "+a.message);return this.j_(o)})})}z_(e,n){const a=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{a(()=>this.j_(o))}),this.stream.onMessage(o=>{a(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return le(ME,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(le(ME,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rN extends dA{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=cD(this.serializer,e),a=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?mi(f.readTime):Se.min()}(e);return this.listener.Y_(n,a)}Z_(e){const n={};n.database=xm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Cm(p)?{documents:dD(u,p)}:{query:mD(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=tA(u,f.resumeToken);const y=Nm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=uh(u,f.snapshotVersion.toTimestamp());const y=Nm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const a=gD(this.serializer,e);a&&(n.labels=a),this.Q_(n)}X_(e){const n={};n.database=xm(this.serializer),n.removeTarget=e,this.Q_(n)}}class aN extends dA{constructor(e,n,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=fD(e.writeResults,e.commitTime),a=mi(e.commitTime);return this.listener.ra(a,n)}ia(){const e={};e.database=xm(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>hD(this.serializer,a))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{}class oN extends sN{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,a,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(e,Om(n,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(ne.UNKNOWN,u.toString())})}Yo(e,n,a,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(e,Om(n,a),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pe(ne.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class lN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Wi(n),this.ua=!1):le("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="RemoteStore";class uN{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{a.enqueueAndForget(async()=>{Ka(this)&&(le(za,"Restarting streams for network reachability change."),await async function(p){const y=we(p);y.da.add(4),await iu(y),y.Va.set("Unknown"),y.da.delete(4),await xh(y)}(this))})}),this.Va=new lN(a,o)}}async function xh(r){if(Ka(r))for(const e of r.Aa)await e(!0)}async function iu(r){for(const e of r.Aa)await e(!1)}function mA(r,e){const n=we(r);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Dp(n)?Cp(n):fo(n).N_()&&Ip(n,e))}function Rp(r,e){const n=we(r),a=fo(n);n.Ea.delete(e),a.N_()&&pA(n,e),n.Ea.size===0&&(a.N_()?a.k_():Ka(n)&&n.Va.set("Unknown"))}function Ip(r,e){if(r.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fo(r).Z_(e)}function pA(r,e){r.ma.Ke(e),fo(r).X_(e)}function Cp(r){r.ma=new iD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Ea.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),fo(r).start(),r.Va.ca()}function Dp(r){return Ka(r)&&!fo(r).O_()&&r.Ea.size>0}function Ka(r){return we(r).da.size===0}function gA(r){r.ma=void 0}async function cN(r){r.Va.set("Online")}async function hN(r){r.Ea.forEach((e,n)=>{Ip(r,e)})}async function fN(r,e){gA(r),Dp(r)?(r.Va.Pa(e),Cp(r)):r.Va.set("Unknown")}async function dN(r,e,n){if(r.Va.set("Online"),e instanceof eA&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ea.delete(m),o.ma.removeTarget(m))}(r,e)}catch(a){le(za,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await hh(r,a)}else if(e instanceof Yc?r.ma.Xe(e):e instanceof WT?r.ma.ot(e):r.ma.nt(e),!n.isEqual(Se.min()))try{const a=await hA(r.localStore);n.compareTo(a)>=0&&await function(u,f){const m=u.ma.It(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ea.get(y);E&&u.Ea.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.Ea.get(p);if(!E)return;u.Ea.set(p,E.withResumeToken(qt.EMPTY_BYTE_STRING,E.snapshotVersion)),pA(u,p);const b=new Vr(E.target,p,y,E.sequenceNumber);Ip(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(a){le(za,"Failed to raise snapshot:",a),await hh(r,a)}}async function hh(r,e,n){if(!ho(e))throw e;r.da.add(1),await iu(r),r.Va.set("Offline"),n||(n=()=>hA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{le(za,"Retrying IndexedDB access"),await n(),r.da.delete(1),await xh(r)})}function yA(r,e){return e().catch(n=>hh(r,n,e))}async function Vh(r){const e=we(r),n=Fr(e);let a=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:fp;for(;mN(e);)try{const o=await $D(e.localStore,a);if(o===null){e.Ia.length===0&&n.k_();break}a=o.batchId,pN(e,o)}catch(o){await hh(e,o)}vA(e)&&_A(e)}function mN(r){return Ka(r)&&r.Ia.length<10}function pN(r,e){r.Ia.push(e);const n=Fr(r);n.N_()&&n.ea&&n.ta(e.mutations)}function vA(r){return Ka(r)&&!Fr(r).O_()&&r.Ia.length>0}function _A(r){Fr(r).start()}async function gN(r){Fr(r).ia()}async function yN(r){const e=Fr(r);for(const n of r.Ia)e.ta(n.mutations)}async function vN(r,e,n){const a=r.Ia.shift(),o=_p.from(a,e,n);await yA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Vh(r)}async function _N(r,e){e&&Fr(r).ea&&await async function(a,o){if(function(f){return tD(f)&&f!==ne.ABORTED}(o.code)){const u=a.Ia.shift();Fr(a).L_(),await yA(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Vh(a)}}(r,e),vA(r)&&_A(r)}async function xE(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),le(za,"RemoteStore received new credentials");const a=Ka(n);n.da.add(3),await iu(n),a&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await xh(n)}async function EN(r,e){const n=we(r);e?(n.da.delete(2),await xh(n)):e||(n.da.add(2),await iu(n),n.Va.set("Unknown"))}function fo(r){return r.fa||(r.fa=function(n,a,o){const u=we(n);return u.oa(),new rN(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:cN.bind(null,r),n_:hN.bind(null,r),i_:fN.bind(null,r),Y_:dN.bind(null,r)}),r.Aa.push(async e=>{e?(r.fa.L_(),Dp(r)?Cp(r):r.Va.set("Unknown")):(await r.fa.stop(),gA(r))})),r.fa}function Fr(r){return r.ga||(r.ga=function(n,a,o){const u=we(n);return u.oa(),new aN(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:gN.bind(null,r),i_:_N.bind(null,r),na:yN.bind(null,r),ra:vN.bind(null,r)}),r.Aa.push(async e=>{e?(r.ga.L_(),await Vh(r)):(await r.ga.stop(),r.Ia.length>0&&(le(za,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,m=new Np(e,n,f,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Op(r,e){if(Wi("AsyncQueue",`${e}: ${r}`),ho(r))return new pe(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{static emptySet(e){return new Ks(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ye.comparator(n.key,a.key):(n,a)=>ye.comparator(n.key,a.key),this.keyedMap=Dl(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ks)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Ks;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.pa=new at(ye.comparator)}track(e){const n=e.doc.key,a=this.pa.get(n);a?e.type!==0&&a.type===3?this.pa=this.pa.insert(n,e):e.type===3&&a.type!==1?this.pa=this.pa.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.pa=this.pa.remove(n):e.type===1&&a.type===2?this.pa=this.pa.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ee(63341,{Vt:e,ya:a}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,a)=>{e.push(a)}),e}}class to{constructor(e,n,a,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new to(e,n,Ks.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class AN{constructor(){this.queries=kE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=we(n),u=o.queries;o.queries=kE(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(a)})})(this,new pe(ne.ABORTED,"Firestore shutting down"))}}function kE(){return new Ga(r=>zT(r),Ih)}async function SN(r,e){const n=we(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(a=2):(u=new TN,a=e.va()?0:1);try{switch(a){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Op(f,`Initialization of query '${Bs(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&Mp(n)}async function bN(r,e){const n=we(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function wN(r,e){const n=we(r);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Ma(o)&&(a=!0);f.ba=o}}a&&Mp(n)}function RN(r,e,n){const a=we(r),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);a.queries.delete(e)}function Mp(r){r.Ca.forEach(e=>{e.next()})}var Pm,PE;(PE=Pm||(Pm={})).xa="default",PE.Cache="cache";class IN{constructor(e,n,a){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=a||{}}Ma(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new to(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const a=n!=="Offline";return(!this.options.Qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=to.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.key=e}}class TA{constructor(e){this.key=e}}class CN{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ve(),this.mutatedKeys=Ve(),this.Za=BT(e),this.Xa=new Ks(this.Za)}get eu(){return this.Ha}tu(e,n){const a=n?n.nu:new VE,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const S=o.get(E),N=Ch(this.query,b)?b:null,D=!!S&&this.mutatedKeys.has(S.key),H=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let q=!1;S&&N?S.data.isEqual(N.data)?D!==H&&(a.track({type:3,doc:N}),q=!0):this.ru(S,N)||(a.track({type:2,doc:N}),q=!0,(p&&this.Za(N,p)>0||y&&this.Za(N,y)<0)&&(m=!0)):!S&&N?(a.track({type:0,doc:N}),q=!0):S&&!N&&(a.track({type:1,doc:S}),q=!0,(p||y)&&(m=!0)),q&&(N?(f=f.add(N),u=H?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{Xa:f,nu:a,Cs:m,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const f=e.nu.wa();f.sort((E,b)=>function(N,D){const H=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:q})}};return H(N)-H(D)}(E.type,b.type)||this.Za(E.doc,b.doc)),this.iu(a),o=o!=null&&o;const m=n&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,y=p!==this.Ja;return this.Ja=p,f.length!==0||y?{snapshot:new to(this.query,e.Xa,u,f,e.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new VE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ve(),this.Xa.forEach(a=>{this._u(a.key)&&(this.Ya=this.Ya.add(a.key))});const n=[];return e.forEach(a=>{this.Ya.has(a)||n.push(new TA(a))}),this.Ya.forEach(a=>{e.has(a)||n.push(new EA(a))}),n}au(e){this.Ha=e.$s,this.Ya=Ve();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return to.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const xp="SyncEngine";class DN{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class NN{constructor(e){this.key=e,this.cu=!1}}class ON{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new Ga(m=>zT(m),Ih),this.Pu=new Map,this.Tu=new Set,this.Iu=new at(ye.comparator),this.Eu=new Map,this.du=new Ap,this.Au={},this.Ru=new Map,this.Vu=eo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function MN(r,e,n=!0){const a=IA(r);let o;const u=a.hu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await AA(a,e,n,!0),o}async function xN(r,e){const n=IA(r);await AA(n,e,!0,!1)}async function AA(r,e,n,a){const o=await XD(r.localStore,fi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await VN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&mA(r.remoteStore,o),m}async function VN(r,e,n,a,o){r.fu=(b,S,N)=>async function(H,q,Y,ee){let re=q.view.tu(Y);re.Cs&&(re=await CE(H.localStore,q.query,!1).then(({documents:k})=>q.view.tu(k,re)));const he=ee&&ee.targetChanges.get(q.targetId),ce=ee&&ee.targetMismatches.get(q.targetId)!=null,be=q.view.applyChanges(re,H.isPrimaryClient,he,ce);return UE(H,q.targetId,be.ou),be.snapshot}(r,b,S,N);const u=await CE(r.localStore,e,!0),f=new CN(e,u.$s),m=f.tu(u.documents),p=nu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);UE(r,n,y.ou);const E=new DN(e,n,f);return r.hu.set(e,E),r.Pu.has(n)?r.Pu.get(n).push(e):r.Pu.set(n,[e]),y.snapshot}async function kN(r,e,n){const a=we(r),o=a.hu.get(e),u=a.Pu.get(o.targetId);if(u.length>1)return a.Pu.set(o.targetId,u.filter(f=>!Ih(f,e))),void a.hu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Vm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Rp(a.remoteStore,o.targetId),Lm(a,o.targetId)}).catch(co)):(Lm(a,o.targetId),await Vm(a.localStore,o.targetId,!0))}async function PN(r,e){const n=we(r),a=n.hu.get(e),o=n.Pu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Rp(n.remoteStore,a.targetId))}async function LN(r,e,n){const a=FN(r);try{const o=await function(f,m){const p=we(f),y=Rt.now(),E=m.reduce((N,D)=>N.add(D.key),Ve());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let D=er(),H=Ve();return p.Bs.getEntries(N,E).next(q=>{D=q,D.forEach((Y,ee)=>{ee.isValidDocument()||(H=H.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,D)).next(q=>{b=q;const Y=[];for(const ee of m){const re=X2(ee,b.get(ee.key).overlayedDocument);re!=null&&Y.push(new Qr(ee.key,re,MT(re.value.mapValue),di.exists(!0)))}return p.mutationQueue.addMutationBatch(N,y,Y,m)}).next(q=>{S=q;const Y=q.applyToLocalDocumentSet(b,H);return p.documentOverlayCache.saveOverlays(N,q.batchId,Y)})}).then(()=>({batchId:S.batchId,changes:HT(b)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Au[f.currentUser.toKey()];y||(y=new at(Ce)),y=y.insert(m,p),f.Au[f.currentUser.toKey()]=y}(a,o.batchId,n),await ru(a,o.changes),await Vh(a.remoteStore)}catch(o){const u=Op(o,"Failed to persist write");n.reject(u)}}async function SA(r,e){const n=we(r);try{const a=await YD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?Fe(f.cu,14607):o.removedDocuments.size>0&&(Fe(f.cu,42227),f.cu=!1))}),await ru(n,a,e)}catch(a){await co(a)}}function LE(r,e,n){const a=we(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.hu.forEach((u,f)=>{const m=f.view.Fa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=we(f);p.onlineState=m;let y=!1;p.queries.forEach((E,b)=>{for(const S of b.Sa)S.Fa(m)&&(y=!0)}),y&&Mp(p)}(a.eventManager,e),o.length&&a.lu.Y_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function UN(r,e,n){const a=we(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Eu.get(e),u=o&&o.key;if(u){let f=new at(ye.comparator);f=f.insert(u,$t.newNoDocument(u,Se.min()));const m=Ve().add(u),p=new Oh(Se.min(),new Map,new at(Ce),f,m);await SA(a,p),a.Iu=a.Iu.remove(u),a.Eu.delete(e),Vp(a)}else await Vm(a.localStore,e,!1).then(()=>Lm(a,e,n)).catch(co)}async function zN(r,e){const n=we(r),a=e.batch.batchId;try{const o=await KD(n.localStore,e);wA(n,a,null),bA(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await ru(n,o)}catch(o){await co(o)}}async function BN(r,e,n){const a=we(r);try{const o=await function(f,m){const p=we(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(b=>(Fe(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(y,b))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(a.localStore,e);wA(a,e,n),bA(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await ru(a,o)}catch(o){await co(o)}}function bA(r,e){(r.Ru.get(e)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(e)}function wA(r,e,n){const a=we(r);let o=a.Au[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Au[a.currentUser.toKey()]=o}}function Lm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Pu.get(e))r.hu.delete(a),n&&r.lu.gu(a,n);r.Pu.delete(e),r.isPrimaryClient&&r.du.Hr(e).forEach(a=>{r.du.containsKey(a)||RA(r,a)})}function RA(r,e){r.Tu.delete(e.path.canonicalString());const n=r.Iu.get(e);n!==null&&(Rp(r.remoteStore,n),r.Iu=r.Iu.remove(e),r.Eu.delete(n),Vp(r))}function UE(r,e,n){for(const a of n)a instanceof EA?(r.du.addReference(a.key,e),jN(r,a)):a instanceof TA?(le(xp,"Document no longer in limbo: "+a.key),r.du.removeReference(a.key,e),r.du.containsKey(a.key)||RA(r,a.key)):Ee(19791,{pu:a})}function jN(r,e){const n=e.key,a=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(a)||(le(xp,"New document in limbo: "+n),r.Tu.add(a),Vp(r))}function Vp(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const e=r.Tu.values().next().value;r.Tu.delete(e);const n=new ye(ct.fromString(e)),a=r.Vu.next();r.Eu.set(a,new NN(n)),r.Iu=r.Iu.insert(n,a),mA(r.remoteStore,new Vr(fi(yp(n.path)),a,"TargetPurposeLimboResolution",Sh.le))}}async function ru(r,e,n){const a=we(r),o=[],u=[],f=[];a.hu.isEmpty()||(a.hu.forEach((m,p)=>{f.push(a.fu(p,e,n).then(y=>{var E;if((y||n)&&a.isPrimaryClient){const b=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){o.push(y);const b=bp.Rs(p.targetId,y);u.push(b)}}))}),await Promise.all(f),a.lu.Y_(o),await async function(p,y){const E=we(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>W.forEach(y,S=>W.forEach(S.ds,N=>E.persistence.referenceDelegate.addReference(b,S.targetId,N)).next(()=>W.forEach(S.As,N=>E.persistence.referenceDelegate.removeReference(b,S.targetId,N)))))}catch(b){if(!ho(b))throw b;le(wp,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const N=E.xs.get(S),D=N.snapshotVersion,H=N.withLastLimboFreeSnapshotVersion(D);E.xs=E.xs.insert(S,H)}}}(a.localStore,u))}async function HN(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){le(xp,"User change. New user:",e.toKey());const a=await cA(n.localStore,e);n.currentUser=e,function(u,f){u.Ru.forEach(m=>{m.forEach(p=>{p.reject(new pe(ne.CANCELLED,f))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ru(n,a.ks)}}function qN(r,e){const n=we(r),a=n.Eu.get(e);if(a&&a.cu)return Ve().add(a.key);{let o=Ve();const u=n.Pu.get(e);if(!u)return o;for(const f of u){const m=n.hu.get(f);o=o.unionWith(m.view.eu)}return o}}function IA(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=SA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UN.bind(null,e),e.lu.Y_=wN.bind(null,e.eventManager),e.lu.gu=RN.bind(null,e.eventManager),e}function FN(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BN.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return GD(this.persistence,new HD,e.initialUser,this.serializer)}Su(e){return new uA(Sp.fi,this.serializer)}bu(e){return new ZD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class GN extends fh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Fe(this.persistence.referenceDelegate instanceof ch,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new ID(a,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new uA(a=>ch.fi(a,n),this.serializer)}}class Um{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>LE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=HN.bind(null,this.syncEngine),await EN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AN}()}createDatastore(e){const n=Mh(e.databaseInfo.databaseId),a=function(u){return new iN(u)}(e.databaseInfo);return function(u,f,m,p){return new oN(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,f,m){return new uN(a,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>LE(this.syncEngine,n,0),function(){return OE.C()?new OE:new WD}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,E){const b=new ON(o,u,f,m,p,y);return E&&(b.mu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=we(o);le(za,"RemoteStore shutting down."),u.da.add(5),await iu(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Um.provider={build:()=>new Um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="FirestoreClient";class YN{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=Qt.UNAUTHENTICATED,this.clientId=AT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{le(Gr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(le(Gr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Op(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function lm(r,e){r.asyncQueue.verifyOperationInProgress(),le(Gr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await cA(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function zE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await QN(r);le(Gr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(a=>xE(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>xE(e.remoteStore,o)),r._onlineComponents=e}async function QN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(Gr,"Using user provided OfflineComponentProvider");try{await lm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Xs("Error using user provided cache. Falling back to memory cache: "+n),await lm(r,new fh)}}else le(Gr,"Using default OfflineComponentProvider"),await lm(r,new GN(void 0));return r._offlineComponents}async function CA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(Gr,"Using user provided OnlineComponentProvider"),await zE(r,r._uninitializedComponentsProvider._online)):(le(Gr,"Using default OnlineComponentProvider"),await zE(r,new Um))),r._onlineComponents}function $N(r){return CA(r).then(e=>e.syncEngine)}async function XN(r){const e=await CA(r),n=e.eventManager;return n.onListen=MN.bind(null,e.syncEngine),n.onUnlisten=kN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PN.bind(null,e.syncEngine),n}function JN(r,e,n={}){const a=new Ur;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new KN({next:S=>{E.xu(),f.enqueueAndForget(()=>bN(u,b));const N=S.docs.has(m);!N&&S.fromCache?y.reject(new pe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&p&&p.source==="server"?y.reject(new pe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new IN(yp(m.path),E,{includeMetadataChanges:!0,Qa:!0});return SN(u,b)}(await XN(r),r.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(r,e,n){if(!n)throw new pe(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function WN(r,e,n,a){if(e===!0&&a===!0)throw new pe(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function jE(r){if(!ye.isDocumentKey(r))throw new pe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function kp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function Ba(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kp(r);throw new pe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="firestore.googleapis.com",HE=!0;class qE{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NA,this.ssl=HE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:HE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wD)throw new pe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DA((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pp{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new e2;switch(a.type){case"firstParty":return new r2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new pe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=BE.get(n);a&&(le("ComponentProvider","Removing Datastore"),BE.delete(n),a.terminate())}(this),Promise.resolve()}}function eO(r,e,n,a={}){var o;r=Ba(r,Pp);const u=so(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u&&(R0(`https://${p}`),I0("Firestore",!0)),f.host!==NA&&f.host!==p&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:a});if(!zr(y,m)&&(r._setSettings(y),a.mockUserToken)){let E,b;if(typeof a.mockUserToken=="string")E=a.mockUserToken,b=Qt.MOCK_USER;else{E=R1(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new pe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Qt(S)}r._authCredentials=new t2(new ET(E,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Lp(this.firestore,e,this._query)}}class vn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class Ql extends Lp{constructor(e,n,a){super(e,n,yp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new ye(e))}withConverter(e){return new Ql(this.firestore,e,this._path)}}function Ys(r,e,...n){if(r=Ht(r),arguments.length===1&&(e=AT.newId()),ZN("doc","path",e),r instanceof Pp){const a=ct.fromString(e,...n);return jE(a),new vn(r,null,new ye(a))}{if(!(r instanceof vn||r instanceof Ql))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ct.fromString(e,...n));return jE(a),new vn(r.firestore,r instanceof Ql?r.converter:null,new ye(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="AsyncQueue";class GE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new fA(this,"async_queue_retry"),this.rc=()=>{const a=om();a&&le(FE,"Visibility state changed to "+a.visibilityState),this.x_.b_()},this.sc=e;const n=om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Ur;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ho(e))throw e;le(FE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(a=>{throw this.Xu=a,this.ec=!1,Wi("INTERNAL UNHANDLED ERROR: ",KE(a)),a}).then(a=>(this.ec=!1,a))));return this.sc=n,n}enqueueAfterDelay(e,n,a){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=Np.createAndSchedule(this,e,n,a,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Ee(47125,{cc:KE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function KE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class kh extends Pp{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new GE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new GE(e),this._firestoreClient=void 0,await e}}}function tO(r,e){const n=typeof r=="object"?r:Wm(),a=typeof r=="string"?r:rh,o=Fa(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=b1("firestore");u&&eO(o,...u)}return o}function OA(r){if(r._terminated)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||nO(r),r._firestoreClient}function nO(r){var e,n,a;const o=r._freezeSettings(),u=function(m,p,y,E){return new _2(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,DA(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new YN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this._byteString=e}static fromBase64String(e){try{return new no(qt.fromBase64String(e))}catch(n){throw new pe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new no(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=/^__.*__$/;class rO{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms):new tu(e,this.data,n,this.fieldTransforms)}}class MA{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ic:r})}}class Bp{constructor(e,n,a,o,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Bp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:a,Rc:!1});return o.Vc(e),o}mc(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:a,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return dh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(xA(this.Ic)&&iO.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class aO{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Mh(e)}bc(e,n,a,o=!1){return new Bp({Ic:e,methodName:n,wc:a,path:jt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function VA(r){const e=r._freezeSettings(),n=Mh(r._databaseId);return new aO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function sO(r,e,n,a,o,u={}){const f=r.bc(u.merge||u.mergeFields?2:0,e,n,o);Hp("Data must be an object, but it was:",f,a);const m=kA(a,f);let p,y;if(u.merge)p=new yn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const S=zm(e,b,n);if(!f.contains(S))throw new pe(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);LA(E,S)||E.push(S)}p=new yn(E),y=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,y=f.fieldTransforms;return new rO(new sn(m),p,y)}class Uh extends Lh{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uh}}class jp extends Lh{_toFieldTransform(e){return new K2(e.path,new Gl)}isEqual(e){return e instanceof jp}}function oO(r,e,n,a){const o=r.bc(1,e,n);Hp("Data must be an object, but it was:",o,a);const u=[],f=sn.empty();Yr(a,(p,y)=>{const E=qp(e,p,n);y=Ht(y);const b=o.mc(E);if(y instanceof Uh)u.push(E);else{const S=zh(y,b);S!=null&&(u.push(E),f.set(E,S))}});const m=new yn(u);return new MA(f,m,o.fieldTransforms)}function lO(r,e,n,a,o,u){const f=r.bc(1,e,n),m=[zm(e,a,n)],p=[o];if(u.length%2!=0)throw new pe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(zm(e,u[S])),p.push(u[S+1]);const y=[],E=sn.empty();for(let S=m.length-1;S>=0;--S)if(!LA(y,m[S])){const N=m[S];let D=p[S];D=Ht(D);const H=f.mc(N);if(D instanceof Uh)y.push(N);else{const q=zh(D,H);q!=null&&(y.push(N),E.set(N,q))}}const b=new yn(y);return new MA(E,b,f.fieldTransforms)}function zh(r,e){if(PA(r=Ht(r)))return Hp("Unsupported field value:",e,r),kA(r,e);if(r instanceof Lh)return function(a,o){if(!xA(o.Ic))throw o.gc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(a,o){const u=[];let f=0;for(const m of a){let p=zh(m,o.fc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(a,o){if((a=Ht(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return q2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Rt.fromDate(a);return{timestampValue:uh(o.serializer,u)}}if(a instanceof Rt){const u=new Rt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:uh(o.serializer,u)}}if(a instanceof Up)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof no)return{bytesValue:tA(o.serializer,a._byteString)};if(a instanceof vn){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Tp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof zp)return function(f,m){return{mapValue:{fields:{[NT]:{stringValue:OT},[ah]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.gc("VectorValues must only contain numeric values.");return vp(m.serializer,y)})}}}}}}(a,o);throw o.gc(`Unsupported field value: ${kp(a)}`)}(r,e)}function kA(r,e){const n={};return bT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yr(r,(a,o)=>{const u=zh(o,e.Ac(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function PA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof Up||r instanceof no||r instanceof vn||r instanceof Lh||r instanceof zp)}function Hp(r,e,n){if(!PA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=kp(n);throw a==="an object"?e.gc(r+" a custom object"):e.gc(r+" "+a)}}function zm(r,e,n){if((e=Ht(e))instanceof Ph)return e._internalPath;if(typeof e=="string")return qp(r,e);throw dh("Field path arguments must be of type string or ",r,!1,void 0,n)}const uO=new RegExp("[~\\*/\\[\\]]");function qp(r,e,n){if(e.search(uO)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Ph(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function dh(r,e,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${a}`),f&&(p+=` in document ${o}`),p+=")"),new pe(ne.INVALID_ARGUMENT,m+r+p)}function LA(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cO extends UA{data(){return super.data()}}function zA(r,e){return typeof e=="string"?qp(r,e):e instanceof Ph?e._internalPath:e._delegate._internalPath}class hO{convertValue(e,n="none"){switch(qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Yr(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[ah].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>mt(f.doubleValue));return new zp(u)}convertGeoPoint(e){return new Up(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=wh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const n=jr(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=ct.fromString(e);Fe(oA(a),9688,{name:e});const o=new ql(a.get(1),a.get(3)),u=new ye(a.popFirst(5));return o.isEqual(n)||Wi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(r,e,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class BA extends UA{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(zA("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class mO extends BA{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(r){r=Ba(r,vn);const e=Ba(r.firestore,kh);return JN(OA(e),r._key).then(n=>gO(e,r,n))}class pO extends hO{constructor(e){super(),this.firestore=e}convertBytes(e){return new no(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function YE(r,e,n){r=Ba(r,vn);const a=Ba(r.firestore,kh),o=fO(r.converter,e,n);return jA(a,[sO(VA(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,di.none())])}function jm(r,e,n,...a){r=Ba(r,vn);const o=Ba(r.firestore,kh),u=VA(o);let f;return f=typeof(e=Ht(e))=="string"||e instanceof Ph?lO(u,"updateDoc",r._key,e,n,a):oO(u,"updateDoc",r._key,e),jA(o,[f.toMutation(r._key,di.exists(!0))])}function jA(r,e){return function(a,o){const u=new Ur;return a.asyncQueue.enqueueAndForget(async()=>LN(await $N(a),o,u)),u.promise}(OA(r),e)}function gO(r,e,n){const a=n.docs.get(e._key),o=new pO(r);return new BA(r,o,e._key,a,new dO(n.hasPendingWrites,n.fromCache),e.converter)}function Rl(){return new jp("serverTimestamp")}(function(e,n=!0){(function(o){uo=o})(oo),pi(new Fn("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new kh(new n2(a.getProvider("auth-internal")),new a2(f,a.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),xn(Z_,W_,e),xn(Z_,W_,"esm2017")})();var yO="firebase",vO="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn(yO,vO,"app");const HA="@firebase/installations",Fp="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=1e4,FA=`w:${Fp}`,GA="FIS_v2",_O="https://firebaseinstallations.googleapis.com/v1",EO=60*60*1e3,TO="installations",AO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ja=new qa(TO,AO,SO);function KA(r){return r instanceof Kn&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA({projectId:r}){return`${_O}/projects/${r}/installations`}function QA(r){return{token:r.token,requestStatus:2,expiresIn:wO(r.expiresIn),creationTime:Date.now()}}async function $A(r,e){const a=(await e.json()).error;return ja.create("request-failed",{requestName:r,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function XA({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function bO(r,{refreshToken:e}){const n=XA(r);return n.append("Authorization",RO(e)),n}async function JA(r){const e=await r();return e.status>=500&&e.status<600?r():e}function wO(r){return Number(r.replace("s","000"))}function RO(r){return`${GA} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IO({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const a=YA(r),o=XA(r),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:n,authVersion:GA,appId:r.appId,sdkVersion:FA},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await JA(()=>fetch(a,m));if(p.ok){const y=await p.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:QA(y.authToken)}}else throw await $A("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=/^[cdef][\w-]{21}$/,Hm="";function NO(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=OO(r);return DO.test(n)?n:Hm}catch{return Hm}}function OO(r){return CO(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=new Map;function eS(r,e){const n=Bh(r);tS(n,e),MO(n,e)}function tS(r,e){const n=WA.get(r);if(n)for(const a of n)a(e)}function MO(r,e){const n=xO();n&&n.postMessage({key:r,fid:e}),VO()}let ka=null;function xO(){return!ka&&"BroadcastChannel"in self&&(ka=new BroadcastChannel("[Firebase] FID Change"),ka.onmessage=r=>{tS(r.data.key,r.data.fid)}),ka}function VO(){WA.size===0&&ka&&(ka.close(),ka=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="firebase-installations-database",PO=1,Ha="firebase-installations-store";let um=null;function Gp(){return um||(um=x0(kO,PO,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Ha)}}})),um}async function mh(r,e){const n=Bh(r),o=(await Gp()).transaction(Ha,"readwrite"),u=o.objectStore(Ha),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&eS(r,e.fid),e}async function nS(r){const e=Bh(r),a=(await Gp()).transaction(Ha,"readwrite");await a.objectStore(Ha).delete(e),await a.done}async function jh(r,e){const n=Bh(r),o=(await Gp()).transaction(Ha,"readwrite"),u=o.objectStore(Ha),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&eS(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kp(r){let e;const n=await jh(r.appConfig,a=>{const o=LO(a),u=UO(r,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Hm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function LO(r){const e=r||{fid:NO(),registrationStatus:0};return iS(e)}function UO(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ja.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=zO(r,n);return{installationEntry:n,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:BO(r)}:{installationEntry:e}}async function zO(r,e){try{const n=await IO(r,e);return mh(r.appConfig,n)}catch(n){throw KA(n)&&n.customData.serverCode===409?await nS(r.appConfig):await mh(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function BO(r){let e=await QE(r.appConfig);for(;e.registrationStatus===1;)await ZA(100),e=await QE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:a}=await Kp(r);return a||n}return e}function QE(r){return jh(r,e=>{if(!e)throw ja.create("installation-not-found");return iS(e)})}function iS(r){return jO(r)?{fid:r.fid,registrationStatus:0}:r}function jO(r){return r.registrationStatus===1&&r.registrationTime+qA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO({appConfig:r,heartbeatServiceProvider:e},n){const a=qO(r,n),o=bO(r,n),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:FA,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await JA(()=>fetch(a,m));if(p.ok){const y=await p.json();return QA(y)}else throw await $A("Generate Auth Token",p)}function qO(r,{fid:e}){return`${YA(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yp(r,e=!1){let n;const a=await jh(r.appConfig,u=>{if(!rS(u))throw ja.create("not-registered");const f=u.authToken;if(!e&&KO(f))return u;if(f.requestStatus===1)return n=FO(r,e),u;{if(!navigator.onLine)throw ja.create("app-offline");const m=QO(u);return n=GO(r,m),m}});return n?await n:a.authToken}async function FO(r,e){let n=await $E(r.appConfig);for(;n.authToken.requestStatus===1;)await ZA(100),n=await $E(r.appConfig);const a=n.authToken;return a.requestStatus===0?Yp(r,e):a}function $E(r){return jh(r,e=>{if(!rS(e))throw ja.create("not-registered");const n=e.authToken;return $O(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function GO(r,e){try{const n=await HO(r,e),a=Object.assign(Object.assign({},e),{authToken:n});return await mh(r.appConfig,a),n}catch(n){if(KA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await nS(r.appConfig);else{const a=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await mh(r.appConfig,a)}throw n}}function rS(r){return r!==void 0&&r.registrationStatus===2}function KO(r){return r.requestStatus===2&&!YO(r)}function YO(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+EO}function QO(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function $O(r){return r.requestStatus===1&&r.requestTime+qA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XO(r){const e=r,{installationEntry:n,registrationPromise:a}=await Kp(e);return a?a.catch(console.error):Yp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(r,e=!1){const n=r;return await ZO(n),(await Yp(n,e)).token}async function ZO(r){const{registrationPromise:e}=await Kp(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(r){if(!r||!r.options)throw cm("App Configuration");if(!r.name)throw cm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw cm(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function cm(r){return ja.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="installations",eM="installations-internal",tM=r=>{const e=r.getProvider("app").getImmediate(),n=WO(e),a=Fa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},nM=r=>{const e=r.getProvider("app").getImmediate(),n=Fa(e,aS).getImmediate();return{getId:()=>XO(n),getToken:o=>JO(n,o)}};function iM(){pi(new Fn(aS,tM,"PUBLIC")),pi(new Fn(eM,nM,"PRIVATE"))}iM();xn(HA,Fp);xn(HA,Fp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="analytics",rM="firebase_id",aM="origin",sM=60*1e3,oM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on=new _h("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_n=new qa("analytics","Analytics",lM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(r){if(!r.startsWith(Qp)){const e=_n.create("invalid-gtag-resource",{gtagURL:r});return on.warn(e.message),""}return r}function sS(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function cM(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function hM(r,e){const n=cM("firebase-js-sdk-policy",{createScriptURL:uM}),a=document.createElement("script"),o=`${Qp}?l=${r}&id=${e}`;a.src=n?n==null?void 0:n.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function fM(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function dM(r,e,n,a,o,u){const f=a[o];try{if(f)await e[f];else{const p=(await sS(n)).find(y=>y.measurementId===o);p&&await e[p.appId]}}catch(m){on.error(m)}r("config",o,u)}async function mM(r,e,n,a,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await sS(n);for(const p of f){const y=m.find(b=>b.measurementId===p),E=y&&e[y.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",a,o||{})}catch(u){on.error(u)}}function pM(r,e,n,a){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await mM(r,e,n,m,p)}else if(u==="config"){const[m,p]=f;await dM(r,e,n,a,m,p)}else if(u==="consent"){const[m,p]=f;r("consent",m,p)}else if(u==="get"){const[m,p,y]=f;r("get",m,p,y)}else if(u==="set"){const[m]=f;r("set",m)}else r(u,...f)}catch(m){on.error(m)}}return o}function gM(r,e,n,a,o){let u=function(...f){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=pM(u,r,e,n),{gtagCore:u,wrappedGtag:window[o]}}function yM(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Qp)&&n.src.includes(r))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=30,_M=1e3;class EM{constructor(e={},n=_M){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const oS=new EM;function TM(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function AM(r){var e;const{appId:n,apiKey:a}=r,o={method:"GET",headers:TM(a)},u=oM.replace("{app-id}",n),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let m="";try{const p=await f.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw _n.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function SM(r,e=oS,n){const{appId:a,apiKey:o,measurementId:u}=r.options;if(!a)throw _n.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:a};throw _n.create("no-api-key")}const f=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new RM;return setTimeout(async()=>{m.abort()},sM),lS({appId:a,apiKey:o,measurementId:u},f,m,e)}async function lS(r,{throttleEndTimeMillis:e,backoffCount:n},a,o=oS){var u;const{appId:f,measurementId:m}=r;try{await bM(a,e)}catch(p){if(m)return on.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:m};throw p}try{const p=await AM(r);return o.deleteThrottleMetadata(f),p}catch(p){const y=p;if(!wM(y)){if(o.deleteThrottleMetadata(f),m)return on.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:f,measurementId:m};throw p}const E=Number((u=y==null?void 0:y.customData)===null||u===void 0?void 0:u.httpStatus)===503?w_(n,o.intervalMillis,vM):w_(n,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return o.setThrottleMetadata(f,b),on.debug(`Calling attemptFetch again in ${E} millis`),lS(r,b,a,o)}}function bM(r,e){return new Promise((n,a)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),a(_n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function wM(r){if(!(r instanceof Kn)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class RM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function IM(r,e,n,a,o){if(o&&o.global){r("event",n,a);return}else{const u=await e,f=Object.assign(Object.assign({},a),{send_to:u});r("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(){if(D0())try{await N0()}catch(r){return on.warn(_n.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return on.warn(_n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function DM(r,e,n,a,o,u,f){var m;const p=SM(r);p.then(N=>{n[N.measurementId]=N.appId,r.options.measurementId&&N.measurementId!==r.options.measurementId&&on.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>on.error(N)),e.push(p);const y=CM().then(N=>{if(N)return a.getId()}),[E,b]=await Promise.all([p,y]);yM(u)||hM(u,E.measurementId),o("js",new Date);const S=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return S[aM]="firebase",S.update=!0,b!=null&&(S[rM]=b),o("config",E.measurementId,S),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.app=e}_delete(){return delete Ll[this.app.options.appId],Promise.resolve()}}let Ll={},XE=[];const JE={};let hm="dataLayer",OM="gtag",ZE,uS,WE=!1;function MM(){const r=[];if(C0()&&r.push("This is a browser extension environment."),k1()||r.push("Cookies are not available."),r.length>0){const e=r.map((a,o)=>`(${o+1}) ${a}`).join(" "),n=_n.create("invalid-analytics-context",{errorInfo:e});on.warn(n.message)}}function xM(r,e,n){MM();const a=r.options.appId;if(!a)throw _n.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)on.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _n.create("no-api-key");if(Ll[a]!=null)throw _n.create("already-exists",{id:a});if(!WE){fM(hm);const{wrappedGtag:u,gtagCore:f}=gM(Ll,XE,JE,hm,OM);uS=u,ZE=f,WE=!0}return Ll[a]=DM(r,XE,JE,e,ZE,hm,n),new NM(r)}function VM(r=Wm()){r=Ht(r);const e=Fa(r,ph);return e.isInitialized()?e.getImmediate():kM(r)}function kM(r,e={}){const n=Fa(r,ph);if(n.isInitialized()){const o=n.getImmediate();if(zr(e,n.getOptions()))return o;throw _n.create("already-initialized")}return n.initialize({options:e})}function PM(r,e,n,a){r=Ht(r),IM(uS,Ll[r.app.options.appId],e,n,a).catch(o=>on.error(o))}const e0="@firebase/analytics",t0="0.10.16";function LM(){pi(new Fn(ph,(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return xM(a,o,n)},"PUBLIC")),pi(new Fn("analytics-internal",r,"PRIVATE")),xn(e0,t0),xn(e0,t0,"esm2017");function r(e){try{const n=e.getProvider(ph).getImmediate();return{logEvent:(a,o,u)=>PM(n,a,o,u)}}catch(n){throw _n.create("interop-component-reg-failed",{reason:n})}}}LM();const UM={apiKey:"AIzaSyDC_YL8wau3PKK1r2ZYYHc32TtnoXe5giQ",authDomain:"stanford-lastchances.firebaseapp.com",projectId:"stanford-lastchances",storageBucket:"stanford-lastchances.firebasestorage.app",messagingSenderId:"792276801448",appId:"1:792276801448:web:84a43cc96308673321ef9d",measurementId:"G-HLD1E4T34S"},$p=V0(UM),Il=ZC($p),Qs=tO($p);VM($p);const cS=new Ki;cS.setCustomParameters({hd:"stanford.edu"});const hS=G.createContext(null),au=()=>{const r=G.useContext(hS);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},n0="/files/default-profile.png",zM=({children:r})=>{const[e,n]=G.useState(null),[a,o]=G.useState(null),[u,f]=G.useState(!0),m=N=>!N||!Array.isArray(N)?[]:N.map(D=>typeof D=="string"?{name:D,email:D.toLowerCase().replace(/\s+/g,".")+"@stanford.edu"}:D&&typeof D=="object"&&D.name&&D.email?{name:D.name,email:D.email}:{name:"Unknown",email:"unknown@stanford.edu"}),p=async()=>{if(!(e!=null&&e.uid)){console.warn("refreshUserData called without user");return}try{const N=Ys(Qs,"users",e.uid),D=await Bm(N);if(D.exists()){const H=D.data(),q={uid:H.uid,email:H.email,displayName:H.displayName,photoURL:H.photoURL,verifiedName:H.verifiedName||"",crushes:H.crushes||[],submitted:H.submitted||!1,matches:m(H.matches),createdAt:H.createdAt,updatedAt:H.updatedAt,lastLogin:H.lastLogin};o(q)}else console.error("User document does not exist after creation"),o(null)}catch(N){console.error("Error refreshing user data:",N),o(null)}},y=async N=>{var H;if(!N.uid)return null;const D=Ys(Qs,"users",N.uid);try{const q=await Bm(D);if(q.exists()){const Y=q.data(),ee={uid:Y.uid,email:Y.email,displayName:N.displayName||Y.displayName,photoURL:N.photoURL||Y.photoURL||n0,verifiedName:Y.verifiedName||"",crushes:Y.crushes||[],submitted:Y.submitted||!1,matches:m(Y.matches),createdAt:Y.createdAt,updatedAt:Rl(),lastLogin:Rl()};return await YE(D,ee,{merge:!0}),console.log("User document updated:",N.email),o(ee),ee}else{const Y={uid:N.uid,email:N.email||"",displayName:N.displayName||((H=N.email)==null?void 0:H.split("@")[0])||"",photoURL:N.photoURL||n0,verifiedName:"",crushes:[],submitted:!1,matches:[],createdAt:Rl(),updatedAt:Rl(),lastLogin:Rl()};return await YE(D,Y),console.log("New user document created:",N.email),o(Y),Y}}catch(q){return console.error("Error creating/updating user document:",q),null}};G.useEffect(()=>jI(Il,async D=>{var H;console.log("Auth state changed:",D==null?void 0:D.email),D?(H=D.email)!=null&&H.endsWith("@stanford.edu")?(n(D),await y(D),f(!1)):(console.log("Invalid email domain:",D.email),await im(Il),n(null),o(null),f(!1),alert("Only @stanford.edu email addresses are allowed. Please sign in with your Stanford account.")):(n(null),o(null),f(!1))}),[]);const S={user:e,userData:a,loading:u,signInWithGoogle:async()=>{var N;try{console.log("Attempting Google sign-in...");const D=await oC(Il,cS);if(console.log("Sign-in successful:",D.user.email),!((N=D.user.email)!=null&&N.endsWith("@stanford.edu")))throw await im(Il),new Error("Only @stanford.edu email addresses are allowed")}catch(D){console.error("Login error:",D),D.code==="auth/configuration-not-found"?alert("Authentication is not properly configured. Please contact the administrator."):D.code==="auth/popup-closed-by-user"?console.log("Sign-in popup was closed by user"):D.code==="auth/cancelled-popup-request"?console.log("Another sign-in popup is already open"):alert("Login failed. Please make sure you're using a @stanford.edu email address.")}},logout:async()=>{try{await im(Il),o(null),console.log("User signed out successfully")}catch(N){console.error("Logout error:",N)}},refreshUserData:p};return J.jsx(hS.Provider,{value:S,children:r})},BM=()=>{const{signInWithGoogle:r}=au();return J.jsx("div",{className:"login-container",children:J.jsxs("div",{className:"login-card",children:[J.jsx("h1",{children:"Stanford Last Chances"}),J.jsx("h2",{children:"GSB Class of 2025"}),J.jsxs("p",{children:["Inspired by Dartmouth's famous ",J.jsx("i",{children:"Last Chances"})," tradition for graduating seniors",J.jsx("br",{}),J.jsx("br",{}),"Share your crushes anonymously and see if there's a mutual connection 👀",J.jsx("br",{}),J.jsx("br",{}),"The site will remain active until our Stanford accounts expire in October 2025"]}),J.jsx("div",{className:"login-content",children:J.jsxs("button",{className:"google-signin-btn",onClick:r,children:[J.jsxs("svg",{className:"google-icon",viewBox:"0 0 24 24",children:[J.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),J.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),J.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),J.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with your @stanford.edu"]})})]})})},qm=["Nicolas Abad","Khaled Abdulkarim","Kate Kabat (Adams)","Max Adams","Krupa Adusumilli","Sabrina Afroz","Megha Agarwal","Will Agathis","Qurrat Ahmad","Naza Aibar","SimoneTess Aisiks","Tireni Ajilore","Maha Al Fahim","Khalid Alajlan","Jude Alawa","Aziz Aldawood","Bea Alessio","Faisal Alhindi","Noor Alsharif","Mubarak Alliyu","João Pedro Almeida","Mia Amin","Ricardo Anaya","Travis Anderson","Andrew Raffi Ansell","Mark Garo Ansell","Sonja Anton","Zahra Asghar","Ruby Au","Yalcin Aydin","Mohammed Azhari","Mo Babeker","Kathryn Bacher","Michael Bakan","Niranjan Balachandar","Alvaro Baleato Varela","Pranay Balijepalli","Alan Balson","Philip Balson","Erica Barry","Erin Barrett","Itai Barsade","Juan Bautista Baistrocchi","Savannah Baum","Ryan Bayne","Chris Beckmann","Pedro Benoit","Helen Berhanu","Anya Bharadwaj","Mallika Bhandari","Lauren Bilbo","Becca Blais","Caroline Blanck","Jake Blank","Mira Bodek (Mibo)","Piali Bopanna","Virginia Brodie","Caden Broussard","Sarah Brown","Carolyn Bruckmann","Cyrus Buckman","Sabrina B Namato","Sabrina Bukenya","Courtney Burton","Holly Burwick","Jesse Cai","Keith Calix","Daniela Camargo Carrillo","Maria Cano","Georgia Carroll","Tom Carroll","Zooey Wilkinson","Amir Chain Nemtala","Avis Chan","Charlotte Chang","Richa Chaturvedi","Devika Chatwani","Zoë Chazen","Anli Chen","Caroline Chen","Caro Chen","Grace Chen","Jinny Chen","Kimberly Chen","Sophia Chen","Xixi Chen","Catherine Cheng","Mariami Chikovani","Yody Chiu","Henry Choi","Wonjun Choi","Olivia Christensen","Stephen Chu","Will Clark","Eugenio Claro","Josh Cohen","Chloë Conacher","Camila Cordara","Colter Corish","Mateus Costa","Rakiya Cunningham","Bryan Danielson","Owen Davies","Joshua Davis","Ryan Davis","Ian De Luna","Nico deLuna","Batu Demir","Lydia Deneen","devikac","Gabriela Diaz","Catherine Didier","Marcos Diehl","Trey Dodson","Amir Donath","Omer Doron","Meera Doshi","Hob Du","Noelle Durkin","Zach Dyce","Iain Edmundson","Fatma Elshenawy","Nico Enriquez","Tyler Erb","Lauren Esrig","Esteban Estevez Juttner","Noelle Eveland","Valerie Fanelle","Hamza Farrukh","Andreas Fatschel","Jessica Feng","Paty Fernandez de Castro","Eliana Field-Marsham","Sofia Figueroa","Stephen Flynn","Eugénie Fontugne","Paige Frank","Daniel Freedland","Leif Frey","Mengdi (Mandy) Gao","Santiago García Vargas","Anirudh Garg","Max Garrett","Ishwar Gawande","Ben Gedeon","Uma Girkar","Dhanush Girish","David Goehring","Pablo Golac","Cayo Gonzalez","Ana Gonzalez Galindo","Carmen Gordon","Tom Gorman","Carlton Gossett","Chris Gramling","Olivia Greenberg","Sam Greenberg","Esther Gross","Katie Gudeman","Julia Guillemot","Sean Guo","Juliette Hackett","Isa Haegg","Hans Halvorsen","Richard Hamrick","Farrukh Hamza","Michelle Han","Conor Harrity","Tess Hartigan","Madi Harvey","Rachel Hersh","Sonia Hernandez","Jon Hoey","Vinicius Hojo","Kristen Hong","Royi Horowitz","Irving Hsu","Zhi Huang","Madison Hughes","Lizzie Hunpatin","Winston Huynh","Toshi Imamura","Henry Iseman","Muhammad Awais Islam","Joao Jablonski","Stephen Jacobs","Akshita Jain","Katharine Jessiman-Ketcham","Sandhya Jetty","Karen Jiang","Chloe Jin","Kripanshi Jindal","Imren Johar","Joel Johnson","Barclay Jones","Jake Jordaan","Akshatha Kamath","Esther Kamgaing","Vikram Kanodia","Chad Kanoff","Amee Kapadia","Ayesha Karnik","Allison Kaslow","Tamara Kawash","Chris Kay","Larken Kemp","Farha Khan","Sakshi Khanna","Cyrus Kharche","Laura Vanessa Kiehl","Hokuto Kikuchi","Brendan Kim","Rachel Kim","Ethan Klein","Kelsey Klein","Annie Klosowicz","Bruno Koba","Peter Koch","Ankita Kodavoor","Steven Koh","Mackenzie Kosseim","Aakash Kotak","Tomi Kovanen","Tushar Krishnan","Tomo Kumahira","Catherine Lacy","Ana Laginha","Norma Langdon","Krystal Lau","Gahong (Grace) Lee","Katrina Lee","Mark Lee","Mia Lee","Paul Lee","Conor Leen","Mikos Legrand","Tyler Lehman","Caroline Levy","Quinn Lewis","Nicki Liang","Lyn Li","Yue Li","Zhenyan (Jane) Li","Lexie Lin","Alice Liu","Michael Liu","Andrew Lobel","Alex Lubkin","Henry Lu","Jessica Lu","Maisie Lynton","Lucy Ma","Mark Ma","Andrea Madero","Matt Mahowald","Ndirangu (Bryan) Maina","Zac Maslia","Fernando Mata","Anthony Mattar El Raachini","Keita Matsumoto","Lauren Maymar","Alexander McCarthy","Elizabeth McNally","Ian McRae","Holley McShan","Cam McWatt","Arnav Mehta","Adam Merrill","Eric Meyers","Salome Mikadze-Struk","Jordan Miller","Mckenna Miller","Hiroaki Minoo","Madison Minsk","Bryce Mitchell","Suhani Mohan","Mehek Mohan","Munim Moiz","Mason Montgomery","Cariana Morales","Gherardo Morona","Yoshimi Muneta","Hannah Murdoch","Matt Murphy","Harshi Murthy","Carson Muscat","Gabriela Tafur Nader","Marin Nagase Tominaga","Karn Nahata","Joe Nail","Sasha Nanda","Ahmad Nasir","Chase Navellier","Elliot Nell","Kyle Nelson","Ludwig Neumann","Shelly Ngo","Floriane Ngako Kameni","Danielle Nguyen","Kha-ai Nguyen","Michelle Nguyen","Dru Nkansah","Joan Nolla Suárez","Arinze Nwagbata","Gabby Nyman","Matías Oberpaur","Jerry O'Connor","Gloria Odoemelam","Ewoma Ogbaudu","John Onderdonk","Bobby O'Reilly","Sidney Owen","Michael Paretzky","Chanwoo Park","James Park","Joon Park","Terry Park","Sravan Patchala","Kayan Patel","Neal Patel","Shivam Patel","Ken Pattarasittiwate","Andrew Paulmeno","Juan Pablo","Kelli Pedersen","Kiera Peltz","Olivia Peniston","Anirudh Pennathur","Nathan Petrie","Stephanie Pham","Doug Phipps","Alan Pimstein","Jackson Polatnick","Meagan Prins-McKinney","Christina Puccinelli","Vibha Puri","Riley Quinn","Claire Rafson","Liam Rahman","Vasundhara Rakesh","Alex Rakestraw","James Ramsay","Angeline Rao","Pragati Rastogi","Advait Reddy","Glenn Reddy","Rachael Rhee","Anya Ring","Joseph Robillard","Aria Rodli","Javi Rodriguez","Abu Rogers","Katharina Rohr","Maria Rojas","Matt Rojas","Micaela Romero Valdez","Olivia Rosen","Aislin Roth","Anna Rowe","Jonathan Rozenberg","Eduardo Rubini","Rob Rush","Priscilla Russo","Shailee Samar","Payaum Sanatkar","Sonia Sarda","Philipp Schellhaas","Stefano Schiappacasse","Sophie Schick","Paul Sédille","Priyanka Seegobin","Sean Sellers","Joon Seo","Ishir Seth","Jay Shah","Mirai Shah","Shreya Shah","Evelyn Shao","Akanksha Sharma","Arushi Sharma","Annabel Shaw","Dina Sheira","Michelle Shen","Daniel Sheppard","Chris Shim","Amit Shimshi","Ila Shon","Jack Shumway","Saman Siddiqui","Billy Silk","Ramon Silva","Jackson Simon","Rohan Sinha","Patrick Skehan","Mykhailo Skrobach","Meredith Slifkin","MinJae Song","Shikhar Sood","Preetam Soundararajan","Marc-Aurele Stark","Adam Starr","Mara Steiu","Eli Stern","Jack Stone","Jack Strauss","Amanda Studebaker","Sushant Sudheendranath","Julia Sun","Kailash Sundaram","Leah Surratt","Max Susman","Gabriela Tafur","Lydia Tahraoui","Sarah Tang","Eliza Teach","Nofel Teldjoune","Emily Tench","Nattanon (Pat) Thitisarnsiri","Seyon Thomas","Claire Thompson","Nicholas Tobin","Sydney Tomlinson","Gustavo Tori","Henry Townley","Devan Trammel","Jamie Tym","Shievani Upadhyay","Christian Antonio Urrutia","Isabel Vallina Garcia","Katie Van Dyk","Mahek Vara","Dhananjay (DJ) Varma","Agustin Villarreal","Jessica Villarreal","Sea Wachakorn","Callie Walker","Tyler Walker","Alex Wang","Ricky Wang","Jake Waskowitz","Colin Weidmann","Melanie Weinsten","Henry Welsh","Chris West","Cort White","Sadiki Wiltshire","Joseph Wise","Walter Woo","Andre Xiong","Fang (Frank) Xu","Yingkai (Kevin) Xu","Haoxiang (Mike) Yang","Talha Yousaf","Theresa Yu","Michael Yuan","Dario Zarrabian","Elena Zhang","Henry Zhang","Jade Zhang","Ruoyao Zhang","Max Zhou","Will Zhou","Bastiaan Zwanenburg"],jM=()=>{const{user:r,userData:e,logout:n,refreshUserData:a}=au(),[o,u]=G.useState(!1),[f,m]=G.useState(""),[p,y]=G.useState([]),[E,b]=G.useState(!0),[S,N]=G.useState(!1),[D,H]=G.useState(!1),[q,Y]=G.useState(null),ee=G.useCallback(async()=>{if(r)try{const O=Ys(Qs,"users",r.uid),R=await Bm(O);if(R.exists()){const Be=R.data();Be.crushes&&Array.isArray(Be.crushes)&&y(Be.crushes)}}catch(O){console.error("Error loading user selections:",O),Y("Failed to load your previous selections.")}},[r]);G.useEffect(()=>{let O=!0;return(async()=>{try{Y(null),O&&r&&await ee()}catch(Be){console.error("Error loading data:",Be),O&&Y("Failed to load your data. Please refresh the page.")}finally{O&&b(!1)}})(),()=>{O=!1}},[r,ee]);const re=G.useMemo(()=>{const O=[...p];e!=null&&e.verifiedName&&O.push(e.verifiedName);const R=qm.filter(Be=>!O.includes(Be));return f?R.filter(Be=>Be.toLowerCase().includes(f.toLowerCase())):R},[p,f,e==null?void 0:e.verifiedName]),he=G.useCallback(()=>{u(!0)},[]),ce=G.useCallback(()=>o?"/files/default-profile.png":(e==null?void 0:e.photoURL)||"/files/default-profile.png",[o,e==null?void 0:e.photoURL]),be=G.useCallback(O=>{e!=null&&e.submitted||y(R=>R.includes(O)?R.filter(Be=>Be!==O):R.length<10?[...R,O]:R)},[e==null?void 0:e.submitted]),k=G.useCallback(async()=>{if(!(!r||e!=null&&e.submitted||S)){N(!0),Y(null);try{const O=Ys(Qs,"users",r.uid);await jm(O,{crushes:p,updatedAt:new Date}),await a(),alert("Draft saved successfully!")}catch(O){console.error("Error saving draft:",O),Y("Failed to save draft. Please try again.")}finally{N(!1)}}},[r,e==null?void 0:e.submitted,S,p,a]),w=G.useCallback(async()=>{if(!(!r||e!=null&&e.submitted||D||!window.confirm(`Submit your list with ${p.length} names? You cannot make changes after submission.`))){H(!0),Y(null);try{const R=Ys(Qs,"users",r.uid);await jm(R,{crushes:p,submitted:!0,updatedAt:new Date}),await a(),alert("List submitted! Check back for matches.")}catch(R){console.error("Error submitting list:",R),Y("Failed to submit list. Please try again.")}finally{H(!1)}}},[r,e==null?void 0:e.submitted,D,p,a]),I=G.useCallback(O=>{e!=null&&e.submitted||y(R=>R.filter(Be=>Be!==O))},[e==null?void 0:e.submitted]);if(E)return J.jsx("div",{className:"loading",children:"Loading..."});if(q)return J.jsxs("div",{className:"loading",children:[J.jsx("p",{style:{color:"red"},children:q}),J.jsx("button",{onClick:()=>window.location.reload(),children:"Refresh Page"})]});const M=(e==null?void 0:e.submitted)||!1,P=(e==null?void 0:e.matches)&&e.matches.length>0;return J.jsx("div",{className:"dashboard-container",children:J.jsxs("div",{className:"dashboard-card",children:[J.jsxs("div",{className:"dashboard-header",children:[J.jsx("h1",{children:"Stanford Last Chances"}),J.jsxs("div",{className:"user-info",children:[J.jsxs("div",{className:"user-details",children:[J.jsx("img",{src:ce(),alt:"Profile",className:"profile-pic",onError:he,onLoad:()=>u(!1)}),J.jsxs("div",{children:[J.jsx("div",{className:"user-name",children:(e==null?void 0:e.verifiedName)||(e==null?void 0:e.displayName)||(r==null?void 0:r.displayName)}),J.jsx("div",{className:"user-email",children:r==null?void 0:r.email})]})]}),J.jsx("button",{className:"logout-btn",onClick:n,children:"Logout"})]})]}),J.jsxs("div",{className:"dashboard-content",children:[M&&P&&J.jsxs("div",{className:"matches-section",children:[J.jsxs("h2",{children:["🎉 You have ",e.matches.length," match",e.matches.length>1?"es":"","!"]}),J.jsx("div",{className:"matches-list",children:e.matches.map((O,R)=>J.jsxs("div",{className:"match-item",children:[J.jsx("div",{className:"match-name",children:O.name}),J.jsx("div",{className:"match-email",children:O.email})]},R))})]}),J.jsx("div",{className:"header-section",children:M?J.jsxs("div",{className:"submitted-notice",children:["Your list has been submitted and can no longer be edited.",!P&&J.jsx("div",{className:"no-matches",children:"No matches yet - check back later!"})]}):J.jsx("div",{className:"instructions",children:J.jsxs("ol",{children:[J.jsx("li",{children:"Select up to 10 classmates you'd like to connect with. Your selections are kept private and only visible to you unless there's a mutual match."}),J.jsxs("li",{children:["Save your progress with ",J.jsx("em",{children:"Save Draft"}),". Submit your preferences with ",J.jsx("em",{children:"Submit List"}),". Once you've submitted your preferences, any matches will appear here in real time."]}),J.jsx("li",{children:"You can only submit a set of names once. After that, no more changes."})]})})}),J.jsxs("div",{className:"selection-counter",children:[p.length," / 10 selected",M&&J.jsx("span",{className:"submitted-badge",children:"SUBMITTED"})]}),p.length>0&&J.jsxs("div",{className:"selected-names",children:[J.jsxs("h3",{children:["Your Selections (",p.length,")"]}),J.jsx("div",{className:"name-chips",children:p.map(O=>J.jsxs("div",{className:`name-chip selected ${M?"readonly":""}`,children:[J.jsx("span",{children:O}),!M&&J.jsx("button",{onClick:()=>I(O),className:"remove-btn","aria-label":`Remove ${O}`,children:"×"})]},O))})]}),!M&&J.jsx("div",{className:"search-section",children:J.jsx("input",{type:"text",placeholder:"Search names...",value:f,onChange:O=>m(O.target.value),className:"search-input"})}),!M&&J.jsxs("div",{className:"available-names",children:[J.jsxs("h3",{children:["Available Classmates",f&&` (${re.length} found)`]}),J.jsxs("div",{className:"names-simple-list",children:[re.map(O=>{const R=p.length>=10;return J.jsxs("div",{onClick:()=>!R&&be(O),className:`name-list-item ${R?"disabled":""}`,children:[J.jsx("span",{className:"name-text",children:O}),J.jsx("span",{className:"add-btn",children:"+"})]},O)}),re.length===0&&J.jsx("div",{className:"no-results",children:f?"No names found matching your search.":"All classmates have been selected!"})]})]}),J.jsx("div",{className:"action-section",children:M?J.jsx("div",{className:"submitted-message"}):J.jsxs("div",{className:"action-buttons",children:[J.jsx("button",{onClick:k,disabled:S||D,className:"save-draft-btn",children:S?"Saving...":"Save Draft"}),J.jsx("button",{onClick:w,disabled:S||D||p.length===0,className:"submit-btn",children:D?"Submitting...":"Submit List"})]})})]})]})})},HM=()=>{const{user:r,refreshUserData:e,logout:n}=au(),[a,o]=G.useState(""),[u,f]=G.useState(!1),[m,p]=G.useState(null),y=G.useMemo(()=>a?qm.filter(b=>b.toLowerCase().includes(a.toLowerCase())):qm,[a]),E=G.useCallback(async b=>{if(!(!r||u)){f(!0),p(null);try{const S=Ys(Qs,"users",r.uid);await jm(S,{verifiedName:b,updatedAt:new Date}),await e()}catch(S){console.error("Error saving verified name:",S),p("Failed to save your selection. Please try again.")}finally{f(!1)}}},[r,u,e]);return J.jsx("div",{className:"verification-container",children:J.jsxs("div",{className:"verification-card",children:[J.jsxs("div",{className:"verification-header",children:[J.jsx("h1",{children:"Stanford Last Chances"}),J.jsxs("div",{className:"user-info",children:[J.jsx("span",{children:r==null?void 0:r.email}),J.jsx("button",{className:"logout-btn",onClick:n,children:"Logout"})]})]}),J.jsxs("div",{className:"verification-content",children:[J.jsx("h2",{children:"To ensure accuracy of matches, which Class of 2025 student are you?"}),J.jsxs("p",{children:["Please select ",J.jsx("b",{children:"your name"})," from the list below, not your crush's name."]}),J.jsx("div",{className:"search-section",children:J.jsx("input",{type:"text",placeholder:"Search for your name...",value:a,onChange:b=>o(b.target.value),className:"search-input"})}),J.jsx("br",{}),J.jsxs("div",{className:"names-list",children:[J.jsxs("h3",{children:["GSB MBA Class of 2025",a&&` (${y.length} found)`]}),J.jsxs("div",{className:"names-verification-list",children:[y.map(b=>J.jsxs("div",{onClick:()=>!u&&E(b),className:`name-verification-item ${u?"disabled":""}`,children:[J.jsx("span",{className:"name-text",children:b}),J.jsx("span",{className:"select-btn",children:"Select"})]},b)),y.length===0&&J.jsx("div",{className:"no-results",children:a?"No names found matching your search.":"No names available."})]})]}),u&&J.jsx("div",{className:"saving-indicator",children:"Saving your selection..."}),m&&J.jsx("div",{className:"error-message",style:{color:"red",textAlign:"center",marginTop:"15px"},children:m})]})]})})},qM=({children:r})=>{const{user:e,userData:n,loading:a}=au();return a?J.jsx("div",{className:"loading",children:"Loading..."}):e?n?!n.verifiedName||n.verifiedName.trim()===""?J.jsx(HM,{}):J.jsx(J.Fragment,{children:r}):J.jsx("div",{className:"loading",children:"Setting up your account..."}):J.jsx(d0,{to:"/login"})},FM=({children:r})=>{const{user:e,loading:n}=au();return n?J.jsx("div",{className:"loading",children:"Loading..."}):e?J.jsx(d0,{to:"/"}):J.jsx(J.Fragment,{children:r})};function GM(){return J.jsx(zM,{children:J.jsx(s1,{children:J.jsx("div",{className:"App",children:J.jsxs(Pw,{children:[J.jsx(dm,{path:"/login",element:J.jsx(FM,{children:J.jsx(BM,{})})}),J.jsx(dm,{path:"/",element:J.jsx(qM,{children:J.jsx(jM,{})})})]})})})})}Gb.createRoot(document.getElementById("root")).render(J.jsx(G.StrictMode,{children:J.jsx(GM,{})}));
